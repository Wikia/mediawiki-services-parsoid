/* A map of tests which we know Parsoid currently fails.
 *
 * New patches which fix previously-broken tests should also patch this
 * file to document which tests are now expected to succeed.
 *
 * This helps clean up 'npm test' output, documents known bugs, and helps
 * Jenkins make sense of the parserTest output.
 *
 * NOTE that the selser blacklist depends on tests/selser.changes.json
 * If the selser change list is modified, this blacklist should be refreshed.
 *
 * This blacklist can be automagically updated by running
 *    parserTests.js --rewrite-blacklist
 * You might want to do this after you fix some bug that makes more tests
 * pass.  It is still your responsibility to carefully review the blacklist
 * diff to ensure there are no unexpected new failures (lines added).
 */

/*
 * This should map test titles to an array of test types (wt2html, wt2wt,
 * html2html, html2wt, selser) which are known to fail.
 * For easier maintenance, we group each test type together, and use a
 * helper function to create the array if needed then append the test type.
 */
var testBlackList = {};
var add = function(testtype, title, raw) {
	if (typeof(testBlackList[title]) !== 'object') {
		testBlackList[title] = {
			modes: [],
			raw: raw
		};
	}
	testBlackList[title].modes.push(testtype);
};

// ### DO NOT REMOVE THIS LINE ### (start of automatically-generated section)

// Blacklist for wt2html
add("wt2html", "Paragraphs with newline spacing with non-empty white-space lines in between", "<hr data-parsoid='{\"dsr\":[0,4,4,0]}'/>\n<p data-parsoid='{\"dsr\":[5,6,0,0]}'>a</p>\n \n<p data-parsoid='{\"dsr\":[9,10,0,0]}'>b</p>\n<hr data-parsoid='{\"dsr\":[11,15,4,0]}'/>\n<p data-parsoid='{\"dsr\":[16,17,0,0]}'>a</p>\n \n <p data-parsoid='{\"dsr\":[21,23,0,0]}'><br data-parsoid='{\"dsr\":[21,21,0,0]}'/>\nb</p>\n<hr data-parsoid='{\"lineContent\":true,\"dsr\":[24,28,4,0]}'/>");
add("wt2html", "Paragraphs with newline spacing with non-empty mixed comment and white-space lines in between", "<hr data-parsoid='{\"dsr\":[0,4,4,0]}'/>\n<p data-parsoid='{\"dsr\":[5,20,0,0]}'>a\n <!--foo-->\nb</p>\n<hr data-parsoid='{\"dsr\":[21,25,4,0]}'/>\n<p data-parsoid='{\"dsr\":[26,107,0,0]}'>a\n <!--foo--><!--More than 1 comment doesn't disable stripping of this line!-->\nb</p>\n<hr data-parsoid='{\"dsr\":[108,112,4,0]}'/>\n<p data-parsoid='{\"dsr\":[113,114,0,0]}'>a</p>\n \n<!--foo-->\n <!--bar-->\n<p data-parsoid='{\"dsr\":[140,141,0,0]}'>b</p>\n<hr data-parsoid='{\"dsr\":[142,146,4,0]}'/>\n<p data-parsoid='{\"dsr\":[147,148,0,0]}'>a</p>\n \n <!--foo-->\n <!--bar-->\n <p data-parsoid='{\"dsr\":[176,178,0,0]}'><br data-parsoid='{\"dsr\":[176,176,0,0]}'/>\nb</p>\n<hr data-parsoid='{\"lineContent\":true,\"dsr\":[179,183,4,0]}'/>");
add("wt2html", "Extra newlines between heading and content are swallowed", "<h1 data-parsoid='{\"dsr\":[0,3,1,1]}'>b</h1>\n\n<p data-parsoid='{\"dsr\":[5,5,0,0]}'><br data-parsoid='{\"dsr\":[5,5,0,0]}'/></p>\n\n<p data-parsoid='{\"dsr\":[7,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./A\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./A\"},\"sa\":{\"href\":\"a\"},\"dsr\":[7,12,2,2]}'>a</a></p>");
add("wt2html", "Isolated close tags should be treated as literal text (bug 52760)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'></p>\n\n<p data-parsoid='{\"dsr\":[6,18,0,0]}'>&lt;s.foo>s</p>");
add("wt2html", "Bare pipe character (bug 52363)", "|");
add("wt2html", "Bare pipe character from a template (bug 52363)", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"pipe\",\"href\":\"./Template:Pipe\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[0,8,null,null]}'>|</span>");
add("wt2html", "Comment on its own line post-expand", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'>a\n<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"blank\",\"href\":\"./Template:Blank\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[2,11,null,null],\"pi\":[[]]}'></span><!---->\nb</p>");
add("wt2html", "Comment on its own line post-expand with non-significant whitespace", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>a\n <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"blank\",\"href\":\"./Template:Blank\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[3,12,null,null],\"pi\":[[]]}'></span> <!----> \nb</p>");
add("wt2html", "Bug 52763: Preformatted in <blockquote>", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,74,12,13]}'>\n<p data-parsoid='{\"dsr\":[13,18,0,0]}'> Blah</p>\n<table data-parsoid='{\"dsr\":[19,60,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[22,58,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[22,57,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[22,57,1,0]}'>\n<pre data-parsoid='{\"dsr\":[24,57,1,0]}'>indented cell (no pre-wrapping!)</pre></td></tr>\n</tbody></table>\n</blockquote>");
add("wt2html", "Templates: Indent-Pre: 1a. Templates that break a line should suppress <pre>", " <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[1,10,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'></span>");
add("wt2html", "Templates: Indent-Pre: 1b. Templates that break a line should suppress <pre>", " <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\nfoo\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[1,14,null,null]}'>\n</span><p about=\"#mwt1\" data-parsoid='{\"dsr\":[null,14,0,0]}'>foo</p>");
add("wt2html", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content", "<pre about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\" \"}},\"i\":0}},\"a\"]}' data-parsoid='{\"dsr\":[0,11,1,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>a</pre>\n\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n \"}},\"i\":0}},\"a\"]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[13,25,null,null]}'>\n</span><pre about=\"#mwt2\" data-parsoid='{\"dsr\":[null,25,1,0]}'>a</pre>\n\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n b\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[27,39,null,null]}'>\n</span><pre about=\"#mwt3\" data-parsoid='{\"dsr\":[null,39,1,0]}'>b</pre>\n\n<p about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\\n \"}},\"i\":0}},\"b\"]}' data-parsoid='{\"dsr\":[41,54,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>a</p><span about=\"#mwt4\" data-parsoid=\"{}\">\n</span><pre about=\"#mwt4\" data-parsoid='{\"dsr\":[null,54,1,0]}'>b</pre>\n\n<p about=\"#mwt5\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\\n\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[56,67,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>a</p><span about=\"#mwt5\" data-parsoid=\"{}\">\n</span><pre data-parsoid='{\"dsr\":[67,69,1,0]}'>b</pre>");
add("wt2html", "Templates: Don't strip whitespace from positional-param values", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a \"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,11,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>a </p>\n\n<p about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"{{echo|b}} \"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[13,33,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>b </p>\n\n<pre about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\" c \\n\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[35,48,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>c </pre><span about=\"#mwt4\" data-parsoid=\"{}\">\n</span>\n\n<pre about=\"#mwt5\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\" {{echo|d}}\\n\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[50,71,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>d</pre><span about=\"#mwt5\" data-parsoid=\"{}\">\n</span>\n\n<span about=\"#mwt7\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n e\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[73,85,null,null]}'>\n</span><pre about=\"#mwt7\" data-parsoid='{\"dsr\":[null,85,1,0]}'>e</pre>\n\n<span about=\"#mwt8\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n* f\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[87,100,null,null]}'>\n</span><p about=\"#mwt8\" data-parsoid='{\"dsr\":[null,100,0,0]}'>* f</p>\n\n<span about=\"#mwt9\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n \"}},\"i\":0}},\"g\"]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[102,114,null,null]}'>\n</span><pre about=\"#mwt9\" data-parsoid='{\"dsr\":[null,114,1,0]}'>g</pre>");
add("wt2html", "Templates: Handle empty comment-and-ws-only lines correctly", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo\\n&lt;!--should be ignored-->\\n &lt;!--should be ignored as well-->\\nbar\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,75,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>foo\n<!--should be ignored-->\n <!--should be ignored as well-->\nbar</p>");
add("wt2html", "2a. Indent-Pre and tables", " <table data-parsoid='{\"dsr\":[1,31,2,2]}'>\n <tbody data-parsoid='{\"dsr\":[5,29,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[5,27,2,0]}'>\n <th data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[9,12,1,0]}'>h1</th><th data-parsoid='{\"stx_v\":\"row\",\"autoInsertedEnd\":true,\"dsr\":[12,16,2,0]}'>h2</th>\n <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[18,22,1,0]}'>foo</td><td data-parsoid='{\"stx_v\":\"row\",\"autoInsertedEnd\":true,\"dsr\":[22,27,2,0]}'>bar</td></tr>\n </tbody></table>");
add("wt2html", "2b. Indent-Pre and tables", "  <table data-parsoid='{\"dsr\":[2,16,2,2]}'>\n <tbody data-parsoid='{\"dsr\":[6,14,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[6,13,2,0]}'>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[9,13,1,0]}'>foo</td></tr>\n</tbody></table>");
add("wt2html", "2c. Indent-Pre and tables (bug 42252)", "<table data-parsoid='{\"dsr\":[0,23,2,2]}'>\n <caption data-parsoid='{\"dsr\":[4,10,2,null]}'> foo</caption>\n <tbody data-parsoid='{\"dsr\":[12,21,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[12,20,0,0]}'><th data-parsoid='{\"startTagSrc\":\"!  \",\"attrSepSrc\":\"|\",\"autoInsertedEnd\":true,\"dsr\":[12,20,4,0]}'> bar</th></tr>\n</tbody></table>");
add("wt2html", "2f. Indent-pre started by table-line syntax", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n | b\n | c");
add("wt2html", "4. Indent-Pre and extension tags", "<pre data-parsoid='{\"dsr\":[0,39,1,0]}'>a <span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:foobar.jpg\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[3,39,9,10]}'>&lt;gallery>\nFile:foobar.jpg\n&lt;/gallery></span></pre>");
add("wt2html", "Leading pipes outside of tables", "| foo");
add("wt2html", "Leading pipes outside of tables 2", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n| foo\n<p data-parsoid='{\"dsr\":[8,9,0,0]}'>b</p>");
add("wt2html", "Leading pipes outside of tables 3", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n| class=\"foo bar\" | baz\n<p data-parsoid='{\"dsr\":[26,27,0,0]}'>b</p>");
add("wt2html", "4. Multiple spaces at start-of-line", "    <p data-parsoid='{\"stx\":\"html\",\"dsr\":[4,16,3,4]}'> foo </p>\n<pre data-parsoid='{\"dsr\":[17,24,1,0]}'>   foo</pre>\n\t<table data-parsoid='{\"dsr\":[26,36,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[29,34,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[29,33,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[29,33,1,0]}'>foo</td></tr>\n</tbody></table>");
add("wt2html", "6. Pre-blocks should extend across lines with leading WS even when there is no wrappable content", "<pre data-parsoid='{\"dsr\":[0,26,1,0]}'>a\n\n <!-- continue -->\nb</pre>\n\n<pre data-parsoid='{\"dsr\":[28,30,1,0]}'>c</pre>\n \n<p data-parsoid='{\"dsr\":[33,34,0,0]}'>d</p>");
add("wt2html", "Definition Lists: Nesting: Multi-level (Parsoid only)", "<dl data-parsoid='{\"dsr\":[0,29,0,0]}'><dt data-parsoid='{\"dsr\":[0,4,1,0]}'>t1<span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\" \",\"isDisplayHack\":true,\"dsr\":[3,4,null,0]}'> </span></dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[4,7,1,0]}'>d1</dd>\n<dt data-parsoid='{\"dsr\":[8,29,1,0]}'><dl data-parsoid='{\"dsr\":[9,29,0,0]}'><dt data-parsoid='{\"dsr\":[9,13,1,0]}'>t2<span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\" \",\"isDisplayHack\":true,\"dsr\":[12,13,null,0]}'> </span></dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[13,17,1,0]}'>:d2</dd>\n<dt data-parsoid='{\"dsr\":[18,29,2,0]}'><dl data-parsoid='{\"dsr\":[20,29,0,0]}'><dt data-parsoid='{\"dsr\":[20,24,1,0]}'>t3<span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\" \",\"isDisplayHack\":true,\"dsr\":[23,24,null,0]}'> </span></dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[24,29,1,0]}'>::d3</dd></dl></dt></dl></dt></dl>");
add("wt2html", "Definition Lists: Nesting: Test 2 (Parsoid only)", "<dl data-parsoid='{\"dsr\":[0,8,0,0]}'><dt data-parsoid='{\"dsr\":[0,3,1,0]}'>t1</dt>\n<dd data-parsoid='{\"dsr\":[4,8,1,0]}'><dl data-parsoid='{\"dsr\":[5,8,0,0]}'><dd data-parsoid='{\"dsr\":[5,8,1,0]}'>d2</dd></dl></dd></dl>");
add("wt2html", "Definition Lists: Nesting: Test 3 (Parsoid only)", "<dl data-parsoid='{\"dsr\":[0,11,0,0]}'><dd data-parsoid='{\"dsr\":[0,11,1,0]}'><dl data-parsoid='{\"dsr\":[1,11,0,0]}'><dt data-parsoid='{\"dsr\":[1,4,1,0]}'>t1</dt>\n<dd data-parsoid='{\"dsr\":[5,11,2,0]}'><dl data-parsoid='{\"dsr\":[7,11,0,0]}'><dd data-parsoid='{\"dsr\":[7,11,1,0]}'><dl data-parsoid='{\"dsr\":[8,11,0,0]}'><dd data-parsoid='{\"dsr\":[8,11,1,0]}'>d2</dd></dl></dd></dl></dd></dl></dd></dl>");
add("wt2html", "External link containing double-single-quotes in text embedded in italics (bug 4598 sanity check)", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'><i data-parsoid='{\"dsr\":[0,60,2,2]}'>Some <a rel=\"mw:ExtLink\" href=\"http://example.com/\" data-parsoid='{\"targetOff\":28,\"contentOffsets\":[28,56],\"dsr\":[7,57,21,1]}'>pretty <i data-parsoid='{\"dsr\":[35,46,2,2]}'>italics</i> and stuff</a>!</i></p>");
add("wt2html", "Template-generated table cell attributes and cell content (3)", "<table data-parsoid='{\"dsr\":[0,35,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,33,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,32,0,0]}'><td align=\"center\" style=\"color: red\" typeof=\"mw:Transclusion\" about=\"#mwt1\" data-mw='{\"parts\":[\"|align=center \",{\"template\":{\"target\":{\"wt\":\"table_cells\",\"href\":\"./Template:Table_cells\"},\"params\":{},\"i\":0}},\"\"]}' data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,32,1,0],\"pi\":[[]]}'> Foo<span data-parsoid=\"{}\"> || Bar || Baz</span></td></tr>\n</tbody></table>");
add("wt2html", "Broken image links with HTML captions (bug 39700)", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Nonexistent|&lt;script>&lt;/script>]]\",\"optList\":[{\"ck\":\"caption\",\"ak\":\"&lt;script>&lt;/script>\"}],\"dsr\":[0,38,null,null]}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Nonexistent|100px|&lt;script>&lt;/script>]]\",\"optList\":[{\"ck\":\"width\",\"ak\":\"100px\"},{\"ck\":\"caption\",\"ak\":\"&lt;script>&lt;/script>\"}],\"dsr\":[39,83,null,null]}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Nonexistent|&amp;lt;]]\",\"optList\":[{\"ck\":\"caption\",\"ak\":\"&amp;lt;\"}],\"dsr\":[84,109,null,null]}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Nonexistent|a&lt;i>b&lt;/i>c]]\",\"optList\":[{\"ck\":\"caption\",\"ak\":\"a&lt;i>b&lt;/i>c\"}],\"dsr\":[110,141,null,null]}'/>");
add("wt2html", "Self-link to numeric title", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'><a rel=\"mw:WikiLink\" href=\"./0\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./0\"},\"sa\":{\"href\":\"0\"},\"dsr\":[0,5,2,2]}'>0</a></p>");
add("wt2html", "<nowiki> inside a link", "<p data-parsoid='{\"dsr\":[0,96,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main&lt;nowiki> Page&lt;/nowiki>\"},\"dsr\":[0,30,2,2]}'>Main Page</a> <a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[31,96,12,2]}'>the main page <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[57,94,8,9]}'>[it's not very good]</span></a></p>");
add("wt2html", "Inline interwiki link with empty title (bug 2372)", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://www.usemod.com/cgi-bin/mb.pl?\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"http://www.usemod.com/cgi-bin/mb.pl?\"},\"sa\":{\"href\":\"MeatBall:\"},\"isIW\":true,\"dsr\":[0,13,2,2]}'>MeatBall:</a></p>");
add("wt2html", "Interlanguage link", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'>Blah blah blah\n<link rel=\"mw:PageProp/Language\" href=\"//zh.wikipedia.org/wiki/Chinese\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//zh.wikipedia.org/wiki/Chinese\"},\"sa\":{\"href\":\"zh:Chinese\"},\"dsr\":[15,29,null,null]}'/></p>");
add("wt2html", "Double interlanguage link", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'>Blah blah blah\n<link rel=\"mw:PageProp/Language\" href=\"//es.wikipedia.org/wiki/Spanish\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//es.wikipedia.org/wiki/Spanish\"},\"sa\":{\"href\":\"es:Spanish\"},\"dsr\":[15,29,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//zh.wikipedia.org/wiki/Chinese\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//zh.wikipedia.org/wiki/Chinese\"},\"sa\":{\"href\":\"zh:Chinese\"},\"dsr\":[30,44,null,null]}'/></p>");
add("wt2html", "Interlanguage link, with prefix links", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'>Blah blah blah\n<link rel=\"mw:PageProp/Language\" href=\"//zh.wikipedia.org/wiki/Chinese\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//zh.wikipedia.org/wiki/Chinese\"},\"sa\":{\"href\":\"zh:Chinese\"},\"dsr\":[15,29,null,null]}'/></p>");
add("wt2html", "Double interlanguage link, with prefix links (bug 8897)", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'>Blah blah blah\n<link rel=\"mw:PageProp/Language\" href=\"//es.wikipedia.org/wiki/Spanish\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//es.wikipedia.org/wiki/Spanish\"},\"sa\":{\"href\":\"es:Spanish\"},\"dsr\":[15,29,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//zh.wikipedia.org/wiki/Chinese\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//zh.wikipedia.org/wiki/Chinese\"},\"sa\":{\"href\":\"zh:Chinese\"},\"dsr\":[30,44,null,null]}'/></p>");
add("wt2html", "Handling html with a div self-closing tag", "<div title=\"\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[0,13,13,0]}'></div>\n<div title=\"\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[14,26,12,0]}'></div>\n<div data-parsoid='{\"stx\":\"html\",\"a\":{\"title/\":null},\"sa\":{\"title/\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[27,93,13,0]}'>\n<div title=\"bar\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[41,58,17,0]}'></div>\n<div title=\"bar\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[59,75,16,0]}'></div>\n<div title=\"bar/\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[76,93,17,0]}'></div></div>");
add("wt2html", "2. Lists with start-of-line-transparent tokens before bullets: Template close", "<ul about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"*foo \",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"bar\\n\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"src\":\"*foo {{echo|bar\\n}}\"}'><li data-parsoid='{\"dsr\":[0,null,1,0]}'>foo bar</li></ul><span about=\"#mwt1\" data-parsoid=\"{}\">\n</span><p data-parsoid='{\"dsr\":[18,22,0,0]}'>*baz</p>");
add("wt2html", "List interrupted by empty line or heading", "<ul data-parsoid='{\"dsr\":[0,5,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> foo</li></ul>\n\n<ul data-parsoid='{\"dsr\":[7,13,0,0]}'><li data-parsoid='{\"dsr\":[7,13,1,0]}'><ul data-parsoid='{\"dsr\":[8,13,0,0]}'><li data-parsoid='{\"dsr\":[8,13,1,0]}'> bar</li></ul></li></ul>\n<h2 data-parsoid='{\"dsr\":[14,29,2,2]}'> A heading </h2>\n<ul data-parsoid='{\"dsr\":[30,49,0,0]}'><li data-parsoid='{\"dsr\":[30,49,1,0]}'> Another list item</li></ul>");
add("wt2html", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack)", "<ul data-parsoid='{\"dsr\":[0,114,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> foo</li>\n<li data-parsoid='{\"stx\":\"html\",\"dsr\":[6,19,6,null],\"liHackSrc\":\"* \"}'>li-hack</li>\n<li about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;li>templated li-hack\"}},\"i\":0}}]}' data-parsoid='{\"stx\":\"html\",\"dsr\":[20,52,2,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"liHackSrc\":\"* \"}'>templated li-hack</li>\n<li data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[53,66,1,0]}'> <!--foo--> </li><li data-parsoid='{\"stx\":\"html\",\"dsr\":[66,114,4,null]}'> unsupported li-hack with preceding comments</li></ul>\n\n<ul data-parsoid='{\"stx\":\"html\",\"dsr\":[116,154,4,5]}'>\n<li data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[121,125,4,0]}'></li><li data-parsoid='{\"stx\":\"html\",\"dsr\":[125,148,4,5]}'>not a li-hack\n</li>\n</ul>");
add("wt2html", "Unclosed formatting tags that straddle lists are closed and reopened\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "<ol data-parsoid='{\"dsr\":[0,16,0,0]}'><li data-parsoid='{\"dsr\":[0,7,1,0]}'> <s data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[2,7,3,0]}'> a</s></li>\n<li data-parsoid='{\"dsr\":[8,16,1,0]}'><s data-parsoid='{\"stx\":\"html\",\"autoInsertedStart\":true,\"dsr\":[9,16,0,4]}'> b </s></li></ol>");
add("wt2html", "Magic Word: {{CURRENTMONTH1}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"CURRENTMONTH1\",\"href\":\"./Template:CURRENTMONTH1\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:CURRENTMONTH1</span></p>");
add("wt2html", "Magic Words LOCAL (UTC)", "<ul data-parsoid='{\"dsr\":[0,252,0,0]}'><li data-parsoid='{\"dsr\":[0,16,1,0]}'> <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTH\",\"function\":\"localmonth\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[2,16,null,null]}'>01</span></li>\n<li data-parsoid='{\"dsr\":[17,34,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt2\" id=\"mwt2\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTH1\",\"href\":\"./Template:LOCALMONTH1\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[19,34,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:LOCALMONTH1</span></li>\n<li data-parsoid='{\"dsr\":[35,55,1,0]}'> <span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTHNAME\",\"function\":\"localmonthname\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[37,55,null,null]}'>January</span></li>\n<li data-parsoid='{\"dsr\":[56,79,1,0]}'> <span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTHNAMEGEN\",\"function\":\"localmonthnamegen\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[58,79,null,null]}'>January</span></li>\n<li data-parsoid='{\"dsr\":[80,102,1,0]}'> <span about=\"#mwt5\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTHABBREV\",\"function\":\"localmonthabbrev\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[82,102,null,null]}'>Jan</span></li>\n<li data-parsoid='{\"dsr\":[103,117,1,0]}'> <span about=\"#mwt6\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDAY\",\"function\":\"localday\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[105,117,null,null]}'>1</span></li>\n<li data-parsoid='{\"dsr\":[118,133,1,0]}'> <span about=\"#mwt7\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDAY2\",\"function\":\"localday2\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[120,133,null,null]}'>01</span></li>\n<li data-parsoid='{\"dsr\":[134,152,1,0]}'> <span about=\"#mwt8\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDAYNAME\",\"function\":\"localdayname\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[136,152,null,null]}'>Thursday</span></li>\n<li data-parsoid='{\"dsr\":[153,168,1,0]}'> <span about=\"#mwt9\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALYEAR\",\"function\":\"localyear\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[155,168,null,null]}'>1970</span></li>\n<li data-parsoid='{\"dsr\":[169,184,1,0]}'> <span about=\"#mwt10\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALTIME\",\"function\":\"localtime\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[171,184,null,null]}'>00:02</span></li>\n<li data-parsoid='{\"dsr\":[185,200,1,0]}'> <span about=\"#mwt11\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALHOUR\",\"function\":\"localhour\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[187,200,null,null]}'>00</span></li>\n<li data-parsoid='{\"dsr\":[201,216,1,0]}'> <span about=\"#mwt12\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALWEEK\",\"function\":\"localweek\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[203,216,null,null]}'>1</span></li>\n<li data-parsoid='{\"dsr\":[217,231,1,0]}'> <span about=\"#mwt13\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDOW\",\"function\":\"localdow\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[219,231,null,null]}'>4</span></li>\n<li data-parsoid='{\"dsr\":[232,252,1,0]}'> <span about=\"#mwt14\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALTIMESTAMP\",\"function\":\"localtimestamp\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[234,252,null,null]}'>19700101000203</span></li></ul>");
add("wt2html", "Magic Word: {{FULLPAGENAMEE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"FULLPAGENAMEE\",\"function\":\"fullpagenamee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,0,0],\"pi\":[[]]}'>User:Ævar Arnfjörð Bjarmason</p>");
add("wt2html", "Magic Word: {{TALKSPACE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACE\",\"function\":\"talkspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Talk</p>");
add("wt2html", "Magic Word: {{TALKSPACE}}, same namespace", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACE\",\"function\":\"talkspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Talk</p>");
add("wt2html", "Magic Word: {{TALKSPACEE}}", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACEE\",\"href\":\"./Template:TALKSPACEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKSPACEE</span></p>");
add("wt2html", "Magic Word: {{SUBJECTSPACE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}'>Main</p>");
add("wt2html", "Magic Word: {{SUBJECTSPACE}}, same namespace", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}'>Main</p>");
add("wt2html", "Magic Word: {{SUBJECTSPACE}}, main namespace", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}'>Main</p>");
add("wt2html", "Magic Word: {{SUBJECTSPACEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACEE\",\"href\":\"./Template:SUBJECTSPACEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTSPACEE</span></p>");
add("wt2html", "Magic Word: {{NAMESPACE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACE\",\"function\":\"namespace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Main</p>");
add("wt2html", "Magic Word: {{NAMESPACEE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACEE\",\"function\":\"namespacee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}'>Main</p>");
add("wt2html", "Magic Word: {{NAMESPACENUMBER}}", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACENUMBER\",\"function\":\"namespacenumber\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,19,null,null],\"pi\":[[]]}'></span></p>");
add("wt2html", "Magic Word: {{SUBPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,15,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAME\",\"href\":\"../Template:SUBPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,15,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAME</span></p>");
add("wt2html", "Magic Word: {{SUBPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAMEE\",\"href\":\"../Template:SUBPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{ROOTPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAME\",\"href\":\"../../Template:ROOTPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAME</span></p>");
add("wt2html", "Magic Word: {{ROOTPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAMEE\",\"href\":\"../../Template:ROOTPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{BASEPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAME\",\"href\":\"../Template:BASEPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAME</span></p>");
add("wt2html", "Magic Word: {{BASEPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAMEE\",\"href\":\"../Template:BASEPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{TALKPAGENAME}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAME\",\"function\":\"talkpagename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}'>User:Ævar Arnfjörð Bjarmason</p>");
add("wt2html", "Magic Word: {{TALKPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAMEE\",\"href\":\"./Template:TALKPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{SUBJECTPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAME\",\"href\":\"./Template:SUBJECTPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,19,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAME</span></p>");
add("wt2html", "Magic Word: {{SUBJECTPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAMEE\",\"href\":\"./Template:SUBJECTPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,20,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{NUMBEROFFILES}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NUMBEROFFILES\",\"function\":\"numberoffiles\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,0,0],\"pi\":[[]]}'>2</p>");
add("wt2html", "Magic Word: {{PAGENAME}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAME\",\"function\":\"pagename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,12,0,0],\"pi\":[[]]}'>User:Ævar Arnfjörð Bjarmason</p>");
add("wt2html", "Magic Word: {{PAGENAMEE}}", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAMEE\",\"function\":\"pagenamee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}'></span>");
add("wt2html", "Magic Word: {{PAGENAMEE}} with metacharacters (bug 26781)", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAMEE\",\"function\":\"pagenamee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}'></span>");
add("wt2html", "Magic Word: {{REVISIONID}}", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"REVISIONID\",\"href\":\"./Template:REVISIONID\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:REVISIONID</span></p>");
add("wt2html", "Magic Word: {{STYLEPATH}}", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"STYLEPATH\",\"href\":\"./Template:STYLEPATH\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:STYLEPATH</span></p>");
add("wt2html", "Case-sensitive magic words, when cased differently, should just be template transclusions", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"CurrentMonth\",\"href\":\"./Template:CurrentMonth\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:CurrentMonth</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt2\" id=\"mwt2\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"currentday\",\"href\":\"./Template:Currentday\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[17,31,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:Currentday</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt3\" id=\"mwt3\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"cURreNTweEK\",\"href\":\"./Template:CURreNTweEK\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[32,47,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:CURreNTweEK</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt4\" id=\"mwt4\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"currentHour\",\"href\":\"./Template:CurrentHour\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[48,63,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:CurrentHour</span></p>");
add("wt2html", "Namespace 1 {{ns:1}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:1\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}'>1</p>");
add("wt2html", "Namespace 1 {{ns:01}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:01\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,9,0,0],\"pi\":[[]]}'>01</p>");
add("wt2html", "Namespace 0 {{ns:0}} (bug 4783)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:0\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}'>0</p>");
add("wt2html", "Namespace 0 {{ns:00}} (bug 4783)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:00\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,9,0,0],\"pi\":[[]]}'>00</p>");
add("wt2html", "Namespace -1 {{ns:-1}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:-1\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,9,0,0],\"pi\":[[]]}'>-1</p>");
add("wt2html", "Namespace (lang=de) Benutzer Diskussion {{ns:3}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:3\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}'>3</p>");
add("wt2html", "Urlencode", "<p data-parsoid='{\"dsr\":[0,115,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[0,24,null,null]}'>hi%20world%3F!</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{\"1\":{\"wt\":\"WIKI\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[25,54,null,null]}'>hi%20world%3F!</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{\"1\":{\"wt\":\"PATH\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[55,84,null,null]}'>hi%20world%3F!</span>\n<span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{\"1\":{\"wt\":\"QUERY\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[85,115,null,null]}'>hi%20world%3F!</span></p>");
add("wt2html", "Nonexistent template", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"thistemplatedoesnotexist\",\"href\":\"./Template:Thistemplatedoesnotexist\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,28,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:Thistemplatedoesnotexist</span></p>");
add("wt2html", "Template with invalid target containing tags", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'>{{a<b data-parsoid='{\"stx\":\"html\",\"dsr\":[3,11,3,4]}'>b</b>|<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[12,24,null,null]}'>foo</span>|<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[25,35,null,null]}'>a</span>=<span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[36,46,null,null]}'>b</span>|a =b}}</p>");
add("wt2html", "Template with invalid target containing unclosed tag", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>{{a<b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[3,49,3,0]}'>|<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[7,19,null,null]}'>foo</span>|<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[20,30,null,null]}'>a</span>=<span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[31,41,null,null]}'>b</span>|a =b}}</b></p>");
add("wt2html", "Template with invalid target containing wikilink", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>{{<a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[2,15,2,2]}'>Main Page</a>}}</p>");
add("wt2html", "Template redirect", "<link rel=\"mw:PageProp/redirect\" href=\"./Template:Templatesimple\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"templateredirect\",\"href\":\"./Template:Templateredirect\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"a\":{\"href\":\"./Template:Templatesimple\"},\"sa\":{\"href\":\"Template:templatesimple\"},\"dsr\":[0,20,null,null],\"pi\":[[]]}'/>");
add("wt2html", "Template with thumb image (with link in description)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"paramtest\",\"href\":\"./Template:Paramtest\"},\"params\":{\"param\":{\"wt\":\"[[Image:noimage.png|thumb|[[no link|link]] [[no link|caption]]]]\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,88,0,0],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\\n  \",\" \",\"\",\"\"]}]]}'>This is a test template with parameter </p>");
add("wt2html", "Template with complex arguments", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Template:Complextemplate\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"complextemplate\",\"href\":\"./Template:Complextemplate\"},\"params\":{\"1\":{\"wt\":\"[[Template:complextemplate|link]]\"},\"param\":{\"wt\":\"{{ templateasargtest  |\\n templ = simple }}\"}},\"i\":0}}]}' data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Template:Complextemplate\"},\"sa\":{\"href\":\"Template:complextemplate\"},\"dsr\":[0,106,null,null],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\\n  \",\" \",\"\",\"\"]},{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>link</a><span about=\"#mwt1\" data-parsoid=\"{}\"> This is a test template with parameter (test)</span></p>");
add("wt2html", "BUG 553: link with two variables in a piped link", "<table data-parsoid='{\"dsr\":[0,26,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,24,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,23,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,23,1,0]}'>[[<span about=\"#mwt5\" typeof=\"mw:Param\" data-parsoid='{\"dsr\":[6,13,null,null],\"src\":\"{{{1}}}\"}'>{{{1}}}</span>|<span about=\"#mwt2\" typeof=\"mw:Param\" data-parsoid='{\"dsr\":[14,21,null,null],\"src\":\"{{{2}}}\"}'>{{{2}}}</span>]]</td></tr>\n</tbody></table>");
add("wt2html", "Template infinite loop", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"loop1\",\"href\":\"./Template:Loop1\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,9,null,null],\"pi\":[[]]}'></span>");
add("wt2html", "BUG 529: Template with table, not included at beginning of line", "foo <table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"table\",\"href\":\"./Template:Table\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[4,13,null,null],\"pi\":[[]]}'>\n<tbody data-parsoid=\"{}\"><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true}'><td data-parsoid='{\"autoInsertedEnd\":true}'> 1 </td><td data-parsoid='{\"stx_v\":\"row\",\"autoInsertedEnd\":true}'> 2</td></tr>\n<tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true}'>\n<td data-parsoid='{\"autoInsertedEnd\":true}'> 3 </td><td data-parsoid='{\"stx_v\":\"row\",\"autoInsertedEnd\":true}'> 4</td></tr>\n</tbody></table>");
add("wt2html", "Template with targets containing wikilinks", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>{{<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"foo\"},\"dsr\":[2,9,2,2]}'>foo</a>}}</p>\n\n<p data-parsoid='{\"dsr\":[13,33,0,0]}'>{{<a data-mw='{\"attribs\":[[{\"txt\":\"href\"},{\"html\":\"&lt;span about=\\\"#mwt3\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;foo&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[17,29,null,null]}\\\">foo&lt;/span>\"}]]}' typeof=\"mw:ExpandedAttrs\" about=\"#mwt4\" rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"{{echo|foo}}\"},\"dsr\":[15,31,null,null]}'>foo</a>}}</p>\n\n<p data-parsoid='{\"dsr\":[35,55,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt5\" id=\"mwt5\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"{{echo|[[foo}}]]\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[35,55,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:[[foo]]</span></p>");
add("wt2html", "msgnw keyword", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"msgnw:MSGNW test\",\"href\":\"./Msgnw:MSGNW_test\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,20,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Msgnw:MSGNW_test</span></p>");
add("wt2html", "int keyword", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"int:youhavenewmessages\",\"function\":\"int\"},\"params\":{\"1\":{\"wt\":\"lots of money\"},\"2\":{\"wt\":\"not!\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,45,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"2\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Parser function implementation for pf_int missing in Parsoid.</p>");
add("wt2html", "<onlyinclude> being included", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Includes2\",\"href\":\"./Template:Includes2\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"\"}'/></p>");
add("wt2html", "<onlyinclude> and <includeonly> being included", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Includes3\",\"href\":\"./Template:Includes3\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"\"}'/></p>");
add("wt2html", "<includeonly> and <noinclude> on a page", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>Foo<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[3,14,null,null]}'/>zar<meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[17,29,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>bar&lt;/includeonly>\",\"dsr\":[29,59,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[59,59,null,null]}'/></p>");
add("wt2html", "Un-closed <noinclude>", "<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[0,11,null,null]}'/>");
add("wt2html", "<onlyinclude> on a page", "<p data-parsoid='{\"dsr\":[0,33,0,0]}'><meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[0,13,null,null]}'/>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[16,30,null,null]}'/>bar</p>");
add("wt2html", "Un-closed <onlyinclude>", "<meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[0,13,null,null]}'/>");
add("wt2html", "Self-closed noinclude, includeonly, onlyinclude tags", "<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude />\",\"dsr\":[0,13,null,null]}'/>\n<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly />\",\"dsr\":[14,29,null,null]}'/>\n<meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude />\",\"dsr\":[30,45,null,null]}'/>");
add("wt2html", "Unbalanced includeonly and noinclude tags", "<table data-parsoid='{\"dsr\":[0,107,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,105,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,104,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,17,1,0]}'>a&lt;/noinclude></td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[18,44,1,0]}'>b&lt;/noinclude>&lt;/noinclude></td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[45,73,1,0]}'>c&lt;/noinclude>&lt;/includeonly></td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[74,104,1,0]}'>d&lt;/includeonly>&lt;/includeonly></td></tr>\n</tbody></table>");
add("wt2html", "Bug 6563: Section extraction for section shown by <includeonly>", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>\\n==Includeonly section==\\n&lt;/includeonly>\",\"dsr\":[0,52,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[52,52,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[53,68,2,2]}'>Section T-2</h2>");
add("wt2html", "Bug 6563: Edit link generation for section suppressed by <includeonly>", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>\\n==Includeonly section==\\n&lt;/includeonly>\",\"dsr\":[0,52,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[52,52,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[53,66,2,2]}'>Section 1</h2>");
add("wt2html", "Bug 6563: Section extraction for section suppressed by <includeonly>", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>\\n==Includeonly section==\\n&lt;/includeonly>\",\"dsr\":[0,52,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[52,52,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[53,66,2,2]}'>Section 1</h2>");
add("wt2html", "Un-closed <includeonly>", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>\",\"dsr\":[0,13,null,null]}'/>");
add("wt2html", "2. includeonly in html attr value", "<p data-parsoid='{\"dsr\":[0,155,0,0]}'><span id=\"v1\" about=\"#mwt1\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"id\"},{\"html\":\"&lt;meta typeof=\\\"mw:Includes/NoInclude\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[10,21,null,null]}\\\">v1&lt;meta typeof=\\\"mw:Includes/NoInclude/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;/noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[23,35,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;includeonly>v2&lt;/includeonly>&amp;quot;,&amp;quot;dsr&amp;quot;:[35,64,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;dsr&amp;quot;:[64,64,null,null]}\\\">\"}]]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"id\":\"v1\"},\"sa\":{\"id\":\"&lt;noinclude>v1&lt;/noinclude>&lt;includeonly>v2&lt;/includeonly>\"},\"dsr\":[0,76,66,7]}'>bar</span>\n<span id='\"v1\"' about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"id\"},{\"html\":\"&lt;meta typeof=\\\"mw:Includes/NoInclude\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[86,97,null,null]}\\\">\\\"v1\\\"&lt;meta typeof=\\\"mw:Includes/NoInclude/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;/noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[101,113,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;includeonly>\\\\&amp;quot;v2\\\\&amp;quot;&lt;/includeonly>&amp;quot;,&amp;quot;dsr&amp;quot;:[113,144,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;dsr&amp;quot;:[144,144,null,null]}\\\">\"}]]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"id\":\"\\\"v1\\\"\"},\"sa\":{\"id\":\"&lt;noinclude>\\\"v1\\\"&lt;/noinclude>&lt;includeonly>\\\"v2\\\"&lt;/includeonly>\"},\"dsr\":[77,155,68,7]}'>bar</span></p>");
add("wt2html", "4. includeonly in table attributes", "<table data-parsoid='{\"dsr\":[0,77,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,75,0,0]}'><tr about=\"#mwt1\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"a\",\"html\":\"&lt;meta typeof=\\\"mw:Includes/NoInclude\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[6,17,null,null]}\\\">\\n|-\\n|a\\n&lt;meta typeof=\\\"mw:Includes/NoInclude/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;/noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[24,36,null,null]}\\\">\"},{\"html\":\"\"}]]}' data-parsoid='{\"startTagSrc\":\"|-\",\"a\":{\"&lt;noinclude>\\n|-\\n|a\\n&lt;/noinclude>\":null},\"sa\":{\"&lt;noinclude>\\n|-\\n|a\\n&lt;/noinclude>\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[3,36,33,0]}'></tr>\n<tr about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"\",\"html\":\"&lt;meta typeof=\\\"mw:Includes/IncludeOnly\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;includeonly>\\\\n|-\\\\n|b\\\\n&lt;/includeonly>&amp;quot;,&amp;quot;dsr&amp;quot;:[40,74,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;dsr&amp;quot;:[74,74,null,null]}\\\">\"},{\"html\":\"\"}]]}' data-parsoid='{\"startTagSrc\":\"|-\",\"a\":{\"&lt;includeonly>\\n|-\\n|b\\n&lt;/includeonly>\":null},\"sa\":{\"&lt;includeonly>\\n|-\\n|b\\n&lt;/includeonly>\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[37,74,37,0]}'></tr>\n</tbody></table>");
add("wt2html", "Templates: HTML Tag: 2. Generation of HTML attr. value", "<div style=\"'color:red;'\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"style\"},{\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;&#39;color:red;&#39;&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[11,32,null,null]}\\\">&#39;color:red;&#39;&lt;/span>\"}]]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"&#39;color:red;&#39;\"},\"sa\":{\"style\":\"{{echo|&#39;color:red;&#39;}}\"},\"dsr\":[0,42,33,6]}'>foo</div>");
add("wt2html", "Templates: HTML Tag: 3. Generation of HTML attr key and value", "<div style=\"'color:red;'\" about=\"#mwt3\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"style\",\"html\":\"&lt;span about=\\\"#mwt2\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;style&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[5,19,null,null]}\\\">style&lt;/span>\"},{\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;&#39;color:red;&#39;&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[20,41,null,null]}\\\">&#39;color:red;&#39;&lt;/span>\"}]]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"&#39;color:red;&#39;\"},\"sa\":{\"style\":\"{{echo|&#39;color:red;&#39;}}\"},\"dsr\":[0,51,42,6]}'>foo</div>");
add("wt2html", "Templates: Wiki Tables: 1a. Fostering of entire template content", "<p about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"{|\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\"}},\"i\":0}},\"\\n|}\"]}' data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,16,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>a</p><table about=\"#mwt2\" data-parsoid='{\"dsr\":[0,16,2,2]}'>\n\n</table>");
add("wt2html", "Templates: Wiki Tables: 1b. Fostering of entire template content", "<div about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"{|\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;div>\"}},\"i\":0}},\"\\nfoo\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;/div>\"}},\"i\":1}},\"\\n|}\"]}' data-parsoid='{\"stx\":\"html\",\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,40,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>\n<p data-parsoid='{\"dsr\":[18,21,0,0]}'>foo</p>\n</div><table about=\"#mwt3\" data-parsoid='{\"dsr\":[0,40,2,2]}'>\n\n</table>");
add("wt2html", "Templates: Wiki Tables: 2. Fostering of partial template content", "<p about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"{|\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\\n&lt;div>b&lt;/div>\"}},\"i\":0}},\"\\n|}\"]}' data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,29,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>a</p><div about=\"#mwt2\" data-parsoid='{\"stx\":\"html\",\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,0]}'>b</div><table about=\"#mwt2\" data-parsoid='{\"dsr\":[0,29,2,2]}'>\n\n\n</table>");
add("wt2html", "Templates: Wiki Tables: 4. Templated tags, no content", "<table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"tbl-start\",\"href\":\"./Template:Tbl-start\"},\"params\":{},\"i\":0}},\"\\n\",{\"template\":{\"target\":{\"wt\":\"tbl-end\",\"href\":\"./Template:Tbl-end\"},\"params\":{},\"i\":1}}]}' data-parsoid='{\"dsr\":[0,25,null,null],\"pi\":[[],[]]}'>\n</table>");
add("wt2html", "Templates: Lists: Multi-line list-items via templates", "<ul data-parsoid='{\"dsr\":[0,71,0,0]}'><li data-parsoid='{\"dsr\":[0,35,1,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a {{nonexistent|\\nunused}}\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[1,35,null,null]}'>a </span><span typeof=\"mw:Placeholder\" about=\"#mwt1\" id=\"mwt2\" data-parsoid=\"{}\">Warning: Page/template fetching disabled, and no cache for Template:Nonexistent</span><meta typeof=\"mw:Transclusion/End\" about=\"#mwt1\" data-parsoid=\"{}\"/></li>\n<li data-parsoid='{\"dsr\":[36,71,1,0]}'><span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b {{nonexistent|\\nunused}}\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[37,71,null,null]}'>b </span><span typeof=\"mw:Placeholder\" about=\"#mwt3\" id=\"mwt4\" data-parsoid=\"{}\">Warning: Page/template fetching disabled, and no cache for Template:Nonexistent</span><meta typeof=\"mw:Transclusion/End\" about=\"#mwt3\" data-parsoid=\"{}\"/></li></ul>");
add("wt2html", "Templates: Ugly nesting: 1. Quotes opened/closed across templates (echo)", "<p data-parsoid='{\"dsr\":[0,40,0,0]}'><i about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&#39;&#39;a\"}},\"i\":0}},{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b&#39;&#39;c&#39;&#39;d\"}},\"i\":1}},{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&#39;&#39;e\"}},\"i\":2}}]}' data-parsoid='{\"dsr\":[0,40,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>ab</i><span about=\"#mwt1\" data-parsoid=\"{}\">c</span><i about=\"#mwt1\" data-parsoid=\"{}\">d</i><span about=\"#mwt1\" data-parsoid=\"{}\">e</span></p>");
add("wt2html", "Templates: Ugly nesting: 4. Divs opened/closed across templates", "a<div about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"&lt;div>b\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"c&lt;/div>d\"}},\"i\":0}}]}' data-parsoid='{\"stx\":\"html\",\"dsr\":[1,24,5,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>bc</div><span about=\"#mwt1\" data-parsoid=\"{}\">d</span>e");
add("wt2html", "Templates: Ugly templates: 1. Navbox template parses badly leading to table misnesting\n(Parsoid-centric)", "<table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"{|\\n|\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo&lt;/table>\"}},\"i\":0}},\"\\n|bar\\n|}\"]}' data-parsoid='{\"stx\":\"html\",\"dsr\":[0,32,2,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"src\":\"{|\\n|{{echo|foo&lt;/table>}}\\n|bar\\n|}\"}'>\n<tbody data-parsoid='{\"dsr\":[3,24,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,24,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,24,1,0]}'>foo</td></tr></tbody></table><span about=\"#mwt1\" data-parsoid=\"{}\">\n|bar</span><span about=\"#mwt1\" data-parsoid=\"{}\">\n</span>");
add("wt2html", "Templates: Ugly templates: 4. newline-only template parameter inconsistency", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[0,10,null,null]}'>\n</span>");
add("wt2html", "pre-save transform: subst:", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:test\",\"href\":\"./Template:Test\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}'>This is a test template</p>");
add("wt2html", "pre-save transform: normal template", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"test\",\"href\":\"./Template:Test\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}'>This is a test template</p>");
add("wt2html", "pre-save transform: nonexistent template", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"thistemplatedoesnotexist\",\"href\":\"./Template:Thistemplatedoesnotexist\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,28,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:Thistemplatedoesnotexist</span></p>");
add("wt2html", "pre-save transform: subst magic variables", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:SITENAME\",\"function\":\"sitename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[]]}'>MediaWiki</p>");
add("wt2html", "pre-save transform: subst: templates with parameters", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:paramtest\",\"href\":\"./Template:Paramtest\"},\"params\":{\"param\":{\"wt\":\"\\\"something else\\\"\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,42,0,0],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>This is a test template with parameter \"something else\"</p>");
add("wt2html", "pre-save transform: nowiki in subst (bug 1188)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Transclusion mw:Nowiki\" about=\"#mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:nowikitest\",\"href\":\"./Template:Nowikitest\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,20,null,null],\"pi\":[[]]}'>'''not wiki'''</span></p>");
add("wt2html", "pre-save transform: comment in subst (bug 1936)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:commenttest\",\"href\":\"./Template:Commenttest\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,21,0,0],\"pi\":[[]]}'>This template has <!-- a comment --> in it.</p>");
add("wt2html", "pre-save transform: unclosed tag", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;nowiki>\",\"dsr\":[0,8,null,0]}'>&lt;nowiki></span><b data-parsoid='{\"dsr\":[8,22,3,3]}'>not wiki</b></p>");
add("wt2html", "pre-save transform: mixed tag case", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,31,8,9]}'>'''not wiki'''</span></p>");
add("wt2html", "pre-save transform: unclosed comment in <nowiki>", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>wiki<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[4,37,8,9]}'>nowiki&lt;!--nowiki</span>wiki</p>");
add("wt2html", "pre-save transform: <noinclude> in subst (bug 3298)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Includes\",\"href\":\"./Template:Includes\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[]]}'>Foobar</p>");
add("wt2html", "pre-save transform: <onlyinclude> in subst (bug 3298)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Includes2\",\"href\":\"./Template:Includes2\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,19,0,0],\"pi\":[[]]}'>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"2}}\"}'/></p>");
add("wt2html", "bug 22297: safesubst: works during PST", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:SafeSubstTest\",\"href\":\"./Template:SafeSubstTest\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[0,23,null,null]}'>Foo</span><span about=\"#mwt1\" data-parsoid=\"{}\">bar</span><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"safesubst:SubstTest\",\"href\":\"./Template:SubstTest\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[23,46,null,null]}'>Foo</span><span about=\"#mwt2\" data-parsoid=\"{}\">bar</span></p>");
add("wt2html", "subst: does not work during normal parse", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SubstTest\",\"href\":\"./Template:SubstTest\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Foobar</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\")", "<p data-parsoid='{\"dsr\":[0,183,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article_(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_(context)\"},\"sa\":{\"href\":\"Article (context)\"},\"dsr\":[0,22,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article\"},\"sa\":{\"href\":\"Bar:Article\"},\"dsr\":[23,39,2,2]}'>Bar:Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article\"},\"sa\":{\"href\":\":Bar:Article\"},\"dsr\":[40,57,2,2]}'>Bar:Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)\"},\"sa\":{\"href\":\"Bar:Article (context)\"},\"dsr\":[58,84,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)\"},\"sa\":{\"href\":\":Bar:Article (context)\"},\"dsr\":[85,112,2,2]}'>Article</a>\n[[|Article]]\n[[|Article (context)]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_(Y)_Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_(Y)_Z\"},\"sa\":{\"href\":\"Bar:X (Y) Z\"},\"dsr\":[149,165,2,2]}'>X Z</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_(Y)_Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_(Y)_Z\"},\"sa\":{\"href\":\":Bar:X (Y) Z\"},\"dsr\":[166,183,2,2]}'>X Z</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with interwiki prefix", "<p data-parsoid='{\"dsr\":[0,101,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Interwiki:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Article\"},\"sa\":{\"href\":\"interwiki:Article\"},\"dsr\":[0,22,2,2]}'>interwiki:Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Interwiki:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Article\"},\"sa\":{\"href\":\":interwiki:Article\"},\"dsr\":[23,46,2,2]}'>interwiki:Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Interwiki:Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Bar:Article\"},\"sa\":{\"href\":\"interwiki:Bar:Article\"},\"dsr\":[47,73,2,2]}'>interwiki:Bar:Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Interwiki:Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Bar:Article\"},\"sa\":{\"href\":\":interwiki:Bar:Article\"},\"dsr\":[74,101,2,2]}'>interwiki:Bar:Article</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with parens in title", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with comma in title", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'>[[|Otherplace]]\n<a rel=\"mw:WikiLink\" href=\"./Otherplace,_Elsewhere\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Otherplace,_Elsewhere\"},\"sa\":{\"href\":\"Otherplace, Elsewhere\"},\"dsr\":[16,42,2,2]}'>Otherplace</a>\n<a rel=\"mw:WikiLink\" href=\"./Otherplace,_Elsewhere,_Anywhere\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Otherplace,_Elsewhere,_Anywhere\"},\"sa\":{\"href\":\"Otherplace, Elsewhere, Anywhere\"},\"dsr\":[43,79,2,2]}'>Otherplace Anywhere</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with parens and comma", "<p data-parsoid='{\"dsr\":[0,50,0,0]}'>[[|Otherplace]]\n<a rel=\"mw:WikiLink\" href=\"./Otherplace_(place),_Elsewhere\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Otherplace_(place),_Elsewhere\"},\"sa\":{\"href\":\"Otherplace (place), Elsewhere\"},\"dsr\":[16,50,2,2]}'>Otherplace</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with comma and parens", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>[[|Yes, you.]]\n<a rel=\"mw:WikiLink\" href=\"./Me,_Myself,_and_I_(1937_song)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Me,_Myself,_and_I_(1937_song)\"},\"sa\":{\"href\":\"Me, Myself, and I (1937 song)\"},\"dsr\":[15,49,2,2]}'>Me and I (1937 song)</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace and parens", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace and comma", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace, comma and parens", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace, parens and comma", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and no space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,127,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article（context）\"},\"sa\":{\"href\":\"Article（context）\"},\"dsr\":[0,21,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article（context）\"},\"sa\":{\"href\":\"Bar:Article（context）\"},\"dsr\":[22,47,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article（context）\"},\"sa\":{\"href\":\":Bar:Article（context）\"},\"dsr\":[48,74,2,2]}'>Article</a>\n[[|Article（context）]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X（Y）Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X（Y）Z\"},\"sa\":{\"href\":\"Bar:X（Y）Z\"},\"dsr\":[97,111,2,2]}'>XZ</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X（Y）Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X（Y）Z\"},\"sa\":{\"href\":\":Bar:X（Y）Z\"},\"dsr\":[112,127,2,2]}'>XZ</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article_（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_（context）\"},\"sa\":{\"href\":\"Article （context）\"},\"dsr\":[0,22,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_（context）\"},\"sa\":{\"href\":\"Bar:Article （context）\"},\"dsr\":[23,49,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_（context）\"},\"sa\":{\"href\":\":Bar:Article （context）\"},\"dsr\":[50,77,2,2]}'>Article</a>\n[[|Article （context）]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_（Y）_Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_（Y）_Z\"},\"sa\":{\"href\":\"Bar:X （Y） Z\"},\"dsr\":[101,117,2,2]}'>X Z</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_（Y）_Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_（Y）_Z\"},\"sa\":{\"href\":\":Bar:X （Y） Z\"},\"dsr\":[118,135,2,2]}'>X Z</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with parens and no space (Korean style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,127,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article(context)\"},\"sa\":{\"href\":\"Article(context)\"},\"dsr\":[0,21,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article(context)\"},\"sa\":{\"href\":\"Bar:Article(context)\"},\"dsr\":[22,47,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article(context)\"},\"sa\":{\"href\":\":Bar:Article(context)\"},\"dsr\":[48,74,2,2]}'>Article</a>\n[[|Article(context)]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X(Y)Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X(Y)Z\"},\"sa\":{\"href\":\"Bar:X(Y)Z\"},\"dsr\":[97,111,2,2]}'>XZ</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X(Y)Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X(Y)Z\"},\"sa\":{\"href\":\":Bar:X(Y)Z\"},\"dsr\":[112,127,2,2]}'>XZ</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with commas (bug 21660)", "<p data-parsoid='{\"dsr\":[0,206,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article_(context),_context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_(context),_context\"},\"sa\":{\"href\":\"Article (context), context\"},\"dsr\":[0,31,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Article_(context)，context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_(context)，context\"},\"sa\":{\"href\":\"Article (context)，context\"},\"dsr\":[32,62,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context),_context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context),_context\"},\"sa\":{\"href\":\"Bar:Article (context), context\"},\"dsr\":[63,98,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)，context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)，context\"},\"sa\":{\"href\":\"Bar:Article (context)，context\"},\"dsr\":[99,133,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context),_context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context),_context\"},\"sa\":{\"href\":\":Bar:Article (context), context\"},\"dsr\":[134,170,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)，context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)，context\"},\"sa\":{\"href\":\":Bar:Article (context)，context\"},\"dsr\":[171,206,2,2]}'>Article</a></p>");
add("wt2html", "pre-save transform: trim trailing empty lines", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>Empty lines are trimmed</p>\n\n<p data-parsoid='{\"dsr\":[25,25,0,0]}'><br data-parsoid='{\"dsr\":[25,25,0,0]}'/></p>\n\n");
add("wt2html", "pre-save transform: Signature expansion", "<ul data-parsoid='{\"dsr\":[0,100,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> ~~~</li>\n<li data-parsoid='{\"dsr\":[6,34,1,0]}'> <meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[8,19,null,null]}'/>~~~<meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[22,34,null,null]}'/></li>\n<li data-parsoid='{\"dsr\":[35,67,1,0]}'> <meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>~~~&lt;/includeonly>\",\"dsr\":[37,67,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[67,67,null,null]}'/></li>\n<li data-parsoid='{\"dsr\":[68,100,1,0]}'> <meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[70,83,null,null]}'/>~~~<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[86,100,null,null]}'/></li></ul>");
add("wt2html", "pre-save transform: Signature expansion in nowiki tags (bug 93)", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>Shall not expand:</p>\n\n<p data-parsoid='{\"dsr\":[19,40,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[19,40,8,9]}'>~~~~</span></p>\n\n<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;nowiki>~~~~&lt;/nowiki>&lt;/includeonly>\",\"dsr\":[42,90,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[90,90,null,null]}'/>\n\n<p data-parsoid='{\"dsr\":[92,136,0,0]}'><meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[92,103,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[103,124,8,9]}'>~~~~</span><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[124,136,null,null]}'/></p>\n\n<p data-parsoid='{\"dsr\":[138,186,0,0]}'><meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[138,151,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[151,172,8,9]}'>~~~~</span><meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[172,186,null,null]}'/></p>\n\n<p data-parsoid='{\"dsr\":[188,227,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Foo\",\"href\":\"./Template:Foo\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[188,201,null,null]}'>FOO</span> shall be converted to FOO</p>\n\n<p data-parsoid='{\"dsr\":[229,346,0,0]}'>As well as inside noinclude/onlyinclude\n<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[269,280,null,null]}'/><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Foo\",\"href\":\"./Template:Foo\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[280,293,null,null]}'>FOO</span><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[293,305,null,null]}'/>\n<meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[306,319,null,null]}'/><span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Foo\",\"href\":\"./Template:Foo\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[319,332,null,null]}'>FOO</span><meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[332,346,null,null]}'/></p>\n\n<p data-parsoid='{\"dsr\":[348,415,0,0]}'>But not inside includeonly\n<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>{{subst:Foo}}&lt;/includeonly>\",\"dsr\":[375,415,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[415,415,null,null]}'/></p>");
add("wt2html", "message transform: magic variables", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SITENAME\",\"function\":\"sitename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,12,0,0],\"pi\":[[]]}'>MediaWiki</p>");
add("wt2html", "message transform: should not transform wiki markup", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'><i data-parsoid='{\"dsr\":[0,8,2,2]}'>test</i></p>");
add("wt2html", "message transform: <noinclude> in transcluded template (bug 4926)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Includes\",\"href\":\"./Template:Includes\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,12,0,0],\"pi\":[[]]}'>Foobar</p>");
add("wt2html", "message transform: <onlyinclude> in transcluded template (bug 4926)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Includes2\",\"href\":\"./Template:Includes2\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"\"}'/></p>");
add("wt2html", "{{#special:}} page name, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:Recentchanges\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,26,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#special missing in Parsoid.</p>");
add("wt2html", "{{#special:}} page name with subpage, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:Recentchanges/param\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,32,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#special missing in Parsoid.</p>");
add("wt2html", "{{#special:}} page name, unknown", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:foobar nonexistent\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,31,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#special missing in Parsoid.</p>");
add("wt2html", "{{#speciale:}} page name, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#speciale:Recentchanges\",\"function\":\"#speciale\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,27,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#speciale missing in Parsoid.</p>");
add("wt2html", "{{#speciale:}} page name with subpage, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#speciale:Recentchanges/param\",\"function\":\"#speciale\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,33,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#speciale missing in Parsoid.</p>");
add("wt2html", "{{#speciale:}} page name, unknown", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#speciale:foobar nonexistent\",\"function\":\"#speciale\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,32,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#speciale missing in Parsoid.</p>");
add("wt2html", "Image with link parameter, wgExternalLinkTarget", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"}],\"dsr\":[0,45,null,null]}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with link parameter, wgNoFollowLinks set to false", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"}],\"dsr\":[0,45,null,null]}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with link parameter, wgNoFollowDomainExceptions", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"}],\"dsr\":[0,45,null,null]}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with link parameter, wgExternalLinkTarget, unnamed parameter", "<p data-parsoid='{\"dsr\":[0,51,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-mw='{\"caption\":\"Title\"}' data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"},{\"ck\":\"caption\",\"ak\":\"Title\"}],\"dsr\":[0,51,null,null]}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "SVG thumbnails with invalid language code", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"caption\"},{\"ck\":\"lang\",\"ak\":\"lang=invalid.language.code\"}],\"dsr\":[0,60,2,2]}'><a href=\"./File:Foobar.svg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.svg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.svg\" src=\"//example.com/images/thumb/f/ff/Foobar.svg/220px-Foobar.svg\" lang=\"invalid.language.code\" height=\"165\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.svg\",\"lang\":\"invalid.language.code\",\"height\":\"165\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.svg\",\"lang\":\"lang=invalid.language.code\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,58,null,null]}'>caption</figcaption></figure>");
add("wt2html", "Redirected image", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[Image:Barfoo.jpg]]\",\"optList\":[],\"dsr\":[0,20,null,null]}'/>");
add("wt2html", "Missing image with uploads disabled", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[Image:Foobaz.jpg]]\",\"optList\":[],\"dsr\":[0,20,null,null]}'/>");
add("wt2html", "BUG 561: {{/Subpage}}", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"/Subpage\",\"href\":\"./Template:/Subpage\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,12,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:/Subpage</span></p>");
add("wt2html", "Simple category", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,35,null,null]}'/>");
add("wt2html", "PAGESINCATEGORY invalid title fatal (r33546 fix)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGESINCATEGORY:&lt;bogus>\",\"function\":\"pagesincategory\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,27,0,0],\"pi\":[[]]}'>Parser function implementation for pf_pagesincategory missing in Parsoid.</p>");
add("wt2html", "Category with different sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide#Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,39,null,null]}'/>");
add("wt2html", "Category with identical sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide#MediaWiki%20User's%20Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,58,null,null]}'/>");
add("wt2html", "Category with empty sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,36,null,null]}'/>");
add("wt2html", "Category with empty sort key and parentheses", "<link rel=\"mw:PageProp/Category\" href=\"./Category:Foo_(bar)#Foo\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Foo_(bar)\"},\"sa\":{\"href\":\"Category:Foo (bar)\"},\"dsr\":[0,23,null,null]}'/>");
add("wt2html", "Category with link tail", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>123<link rel=\"mw:PageProp/Category\" href=\"./Category:Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:Foo\"},\"dsr\":[3,19,null,null]}'/>456</p>");
add("wt2html", "Category with template", "<link data-mw='{\"attribs\":[[{\"txt\":\"href\"},{\"html\":\"Category:&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Foo&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[11,23,null,null]}\\\">Foo&lt;/span>\"}]]}' typeof=\"mw:ExpandedAttrs\" about=\"#mwt2\" rel=\"mw:PageProp/Category\" href=\"./Category:Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:{{echo|Foo}}\"},\"dsr\":[0,25,null,null]}'/>");
add("wt2html", "Category with template in sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:Foo#Bar\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"mw:sortKey\"},{\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Bar&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[15,27,null,null]}\\\">Bar&lt;/span>\"}]]}' data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:Foo\"},\"dsr\":[0,29,null,null]}'/>");
add("wt2html", "Category with template in sort key and title", "<link data-mw='{\"attribs\":[[{\"txt\":\"href\"},{\"html\":\"Category:&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Foo&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[11,23,null,null]}\\\">Foo&lt;/span>\"}],[{\"txt\":\"mw:sortKey\"},{\"html\":\"&lt;span about=\\\"#mwt2\\\" typeof=\\\"mw:Transclusion\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Bar&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[24,36,null,null]}\\\">Bar&lt;/span>\"}]]}' typeof=\"mw:ExpandedAttrs\" about=\"#mwt4\" rel=\"mw:PageProp/Category\" href=\"./Category:Foo#Bar\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:{{echo|Foo}}\"},\"dsr\":[0,38,null,null]}'/>");
add("wt2html", "Category / paragraph interactions", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'>Foo <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[4,20,null,null]}'/> Bar</p>\n\n<p data-parsoid='{\"dsr\":[26,50,0,0]}'>Foo <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[30,46,null,null]}'/>\nBar</p>\n\n<p data-parsoid='{\"dsr\":[52,76,0,0]}'>Foo\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[56,72,null,null]}'/>\nBar</p>\n\n<p data-parsoid='{\"dsr\":[78,81,0,0]}'>Foo</p>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[82,98,null,null]}'/><pre data-parsoid='{\"dsr\":[98,102,1,0]}'>Bar</pre>\n\n<p data-parsoid='{\"dsr\":[104,163,0,0]}'>Foo\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[108,124,null,null]}'/>\n <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[126,142,null,null]}'/>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[143,159,null,null]}'/>\nBar</p>\n\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[165,181,null,null]}'/>\n <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[183,199,null,null]}'/>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[200,216,null,null]}'/>\n\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[218,234,null,null]}'/>\n <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"[[Category:Baz]]\"}},\"i\":0}}]}' data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[236,261,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'/>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[262,278,null,null]}'/>");
add("wt2html", "Inter-language links", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'><link rel=\"mw:PageProp/Language\" href=\"//es.wikipedia.org/wiki/Alimento\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//es.wikipedia.org/wiki/Alimento\"},\"sa\":{\"href\":\"es:Alimento\"},\"dsr\":[0,15,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//fr.wikipedia.org/wiki/Nourriture\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//fr.wikipedia.org/wiki/Nourriture\"},\"sa\":{\"href\":\"fr:Nourriture\"},\"dsr\":[16,33,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//zh.wikipedia.org/wiki/食品\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//zh.wikipedia.org/wiki/食品\"},\"sa\":{\"href\":\"zh:&amp;#39135;&amp;#21697;\"},\"dsr\":[34,57,null,null]}'/></p>");
add("wt2html", "Duplicate interlanguage links (bug 24502)", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><link rel=\"mw:PageProp/Language\" href=\"//es.wikipedia.org/wiki/1\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//es.wikipedia.org/wiki/1\"},\"sa\":{\"href\":\"es:1\"},\"dsr\":[0,8,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//es.wikipedia.org/wiki/2\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//es.wikipedia.org/wiki/2\"},\"sa\":{\"href\":\"es:2\"},\"dsr\":[9,17,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//fr.wikipedia.org/wiki/1\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//fr.wikipedia.org/wiki/1\"},\"sa\":{\"href\":\"fr:1\"},\"dsr\":[18,26,null,null]}'/>\n<link rel=\"mw:PageProp/Language\" href=\"//fr.wikipedia.org/wiki/2\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//fr.wikipedia.org/wiki/2\"},\"sa\":{\"href\":\"fr:2\"},\"dsr\":[27,35,null,null]}'/></p>");
add("wt2html", "Basic section headings", "<h2 data-parsoid='{\"dsr\":[0,16,2,2]}'> Headline 1 </h2>\n<p data-parsoid='{\"dsr\":[17,26,0,0]}'>Some text</p>\n\n<h2 data-parsoid='{\"dsr\":[28,42,2,2]}'>Headline 2</h2>\n<p data-parsoid='{\"dsr\":[43,47,0,0]}'>More</p>\n<h3 data-parsoid='{\"dsr\":[48,70,3,3]}'>Smaller headline</h3>\n<p data-parsoid='{\"dsr\":[71,80,0,0]}'>Blah blah</p>");
add("wt2html", "Section headings with TOC", "<h2 data-parsoid='{\"dsr\":[0,16,2,2]}'> Headline 1 </h2>\n<h3 data-parsoid='{\"dsr\":[17,38,3,3]}'> Subheadline 1 </h3>\n<h5 data-parsoid='{\"dsr\":[39,67,5,5]}'> Skipping a level </h5>\n<h6 data-parsoid='{\"dsr\":[68,98,6,6]}'> Skipping a level </h6>\n\n<h2 data-parsoid='{\"dsr\":[100,116,2,2]}'> Headline 2 </h2>\n<p data-parsoid='{\"dsr\":[117,126,0,0]}'>Some text</p>\n<h3 data-parsoid='{\"dsr\":[127,149,3,3]}'>Another headline</h3>");
add("wt2html", "Handling of sections up to level 6 and beyond", "<h1 data-parsoid='{\"dsr\":[0,18,1,1]}'> Level 1 Heading</h1>\n<h2 data-parsoid='{\"dsr\":[19,39,2,2]}'> Level 2 Heading</h2>\n<h3 data-parsoid='{\"dsr\":[40,62,3,3]}'> Level 3 Heading</h3>\n<h4 data-parsoid='{\"dsr\":[63,87,4,4]}'> Level 4 Heading</h4>\n<h5 data-parsoid='{\"dsr\":[88,114,5,5]}'> Level 5 Heading</h5>\n<h6 data-parsoid='{\"dsr\":[115,143,6,6]}'> Level 6 Heading</h6>\n<h6 data-parsoid='{\"dsr\":[144,174,6,6]}'>= Level 7 Heading=</h6>\n<h6 data-parsoid='{\"dsr\":[175,207,6,6]}'>== Level 8 Heading==</h6>\n<h6 data-parsoid='{\"dsr\":[208,242,6,6]}'>=== Level 9 Heading===</h6>\n<h6 data-parsoid='{\"dsr\":[243,280,6,6]}'>==== Level 10 Heading====</h6>");
add("wt2html", "TOC regression (bug 9764)", "<h2 data-parsoid='{\"dsr\":[0,13,2,2]}'> title 1 </h2>\n<h3 data-parsoid='{\"dsr\":[14,31,3,3]}'> title 1.1 </h3>\n<h4 data-parsoid='{\"dsr\":[32,53,4,4]}'> title 1.1.1 </h4>\n<h3 data-parsoid='{\"dsr\":[54,71,3,3]}'> title 1.2 </h3>\n<h2 data-parsoid='{\"dsr\":[72,85,2,2]}'> title 2 </h2>\n<h3 data-parsoid='{\"dsr\":[86,103,3,3]}'> title 2.1 </h3>");
add("wt2html", "TOC with wgMaxTocLevel=3 (bug 6204)", "<h2 data-parsoid='{\"dsr\":[0,13,2,2]}'> title 1 </h2>\n<h3 data-parsoid='{\"dsr\":[14,31,3,3]}'> title 1.1 </h3>\n<h4 data-parsoid='{\"dsr\":[32,53,4,4]}'> title 1.1.1 </h4>\n<h3 data-parsoid='{\"dsr\":[54,71,3,3]}'> title 1.2 </h3>\n<h2 data-parsoid='{\"dsr\":[72,85,2,2]}'> title 2 </h2>\n<h3 data-parsoid='{\"dsr\":[86,103,3,3]}'> title 2.1 </h3>");
add("wt2html", "Resolving duplicate section names", "<h2 data-parsoid='{\"dsr\":[0,13,2,2]}'> Foo bar </h2>\n<h2 data-parsoid='{\"dsr\":[14,27,2,2]}'> Foo bar </h2>");
add("wt2html", "Resolving duplicate section names with differing case (bug 10721)", "<h2 data-parsoid='{\"dsr\":[0,13,2,2]}'> Foo bar </h2>\n<h2 data-parsoid='{\"dsr\":[14,27,2,2]}'> Foo Bar </h2>");
add("wt2html", "Template with sections, __NOTOC__", "<meta property=\"mw:PageProp/notoc\" data-parsoid='{\"src\":\"__NOTOC__\",\"magicSrc\":\"__NOTOC__\",\"dsr\":[0,9,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[10,23,2,2]}'>Section 0</h2>\n<h3 about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"sections\",\"href\":\"./Template:Sections\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[24,36,null,null],\"pi\":[[]]}'>Section 1</h3><span about=\"#mwt1\" data-parsoid=\"{}\">\n</span><h2 about=\"#mwt1\" data-parsoid=\"{}\">Section 2</h2>\n<h2 data-parsoid='{\"dsr\":[37,50,2,2]}'>Section 4</h2>");
add("wt2html", "__NOEDITSECTION__ keyword", "<meta property=\"mw:PageProp/noeditsection\" data-parsoid='{\"src\":\"__NOEDITSECTION__\",\"magicSrc\":\"__NOEDITSECTION__\",\"dsr\":[0,17,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[18,31,2,2]}'>Section 1</h2>\n<h2 data-parsoid='{\"dsr\":[32,45,2,2]}'>Section 2</h2>");
add("wt2html", "TOC regression (bug 12077)", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,21,2,2]}'> title 1 </h2>\n<h3 data-parsoid='{\"dsr\":[22,39,3,3]}'> title 1.1 </h3>\n<h2 data-parsoid='{\"dsr\":[40,53,2,2]}'> title 2 </h2>");
add("wt2html", "BUG 1219 URL next to image (good)", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a> <span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[19,39,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)", "<p data-parsoid='{\"dsr\":[0,100,0,0]}'>=== \nThe line above must have a trailing space!\n=== <!--\n--> <!-- -->\nBut just in case it doesn't...</p>");
add("wt2html", "Header with special characters (bug 25462)", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>The tooltips shall not show entities to the user (ie. be double escaped)</p>\n\n<h2 data-parsoid='{\"dsr\":[74,91,2,2]}'> text > text </h2>\n<p data-parsoid='{\"dsr\":[92,101,0,0]}'>section 1</p>\n\n<h2 data-parsoid='{\"dsr\":[103,120,2,2]}'> text &lt; text </h2>\n<p data-parsoid='{\"dsr\":[121,130,0,0]}'>section 2</p>\n\n<h2 data-parsoid='{\"dsr\":[132,149,2,2]}'> text &amp; text </h2>\n<p data-parsoid='{\"dsr\":[150,159,0,0]}'>section 3</p>\n\n<h2 data-parsoid='{\"dsr\":[161,178,2,2]}'> text ' text </h2>\n<p data-parsoid='{\"dsr\":[179,188,0,0]}'>section 4</p>\n\n<h2 data-parsoid='{\"dsr\":[190,207,2,2]}'> text \" text </h2>\n<p data-parsoid='{\"dsr\":[208,217,0,0]}'>section 5</p>");
add("wt2html", "HTML headers vs TOC (bug 23393)\n(__NOEDITSECTION__ for clearer output, doesn't matter here)", "<h1 data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,4,5]}'>Header 1</h1>\n<h2 data-parsoid='{\"dsr\":[18,34,2,2]}'> Header 1.1 </h2>\n<h2 data-parsoid='{\"dsr\":[35,51,2,2]}'> Header 1.2 </h2>\n\n<h1 data-parsoid='{\"stx\":\"html\",\"dsr\":[53,71,4,5]}'>Header 2\n</h1>\n<h2 data-parsoid='{\"dsr\":[72,88,2,2]}'> Header 2.1 </h2>\n<h2 data-parsoid='{\"dsr\":[89,105,2,2]}'> Header 2.2 </h2>\n<meta property=\"mw:PageProp/noeditsection\" data-parsoid='{\"src\":\"__NOEDITSECTION__\",\"magicSrc\":\"__NOEDITSECTION__\",\"dsr\":[106,123,null,null]}'/>");
add("wt2html", "Single-line or multiline-comments can follow headings", "<h2 data-parsoid='{\"dsr\":[0,7,2,2]}'>foo</h2><!---->\n<h2 data-parsoid='{\"dsr\":[15,22,2,2]}'>bar</h2><!--c1-->\n<h2 data-parsoid='{\"dsr\":[32,39,2,2]}'>baz</h2><!--\nc2\nc3-->");
add("wt2html", "BUG 1219 URL next to image (broken)", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[18,38,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Namespaced link must have a title", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Base_MW:\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Base_MW:\"},\"sa\":{\"href\":\"Project:\"},\"dsr\":[0,12,2,2]}'>Project:</a></p>");
add("wt2html", "Namespaced link must have a title (bad fragment version)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Base_MW:Main%20Page#fragment\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Base_MW:Main%20Page#fragment\"},\"sa\":{\"href\":\"Project:#fragment\"},\"dsr\":[0,21,2,2]}'>Project:#fragment</a></p>");
add("wt2html", "Media link", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:Foobar.jpg\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Media:Foobar.jpg\"},\"sa\":{\"href\":\"Media:Foobar.jpg\"},\"dsr\":[0,20,2,2]}'>Media:Foobar.jpg</a></p>");
add("wt2html", "Media link with text", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:Foobar.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Media:Foobar.jpg\"},\"sa\":{\"href\":\"Media:Foobar.jpg\"},\"dsr\":[0,43,19,2]}'>A neat file to look at</a></p>");
add("wt2html", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "<a rel=\"mw:WikiLink\" href=\"./Media:Foobar.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Media:Foobar.jpg\"},\"sa\":{\"href\":\"Media:Foobar.jpg\"},\"dsr\":[0,106,19,2]}'>Safe Link<div style=\"display:none\" data-parsoid='{\"stx\":\"html\",\"dsr\":[28,104,24,6]}'>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div></a>");
add("wt2html", "Media link to nonexistent file (bug 1702)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:No_such.jpg\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Media:No_such.jpg\"},\"sa\":{\"href\":\"Media:No such.jpg\"},\"dsr\":[0,21,2,2]}'>Media:No such.jpg</a></p>");
add("wt2html", "Image link to nonexistent file (bug 1850 - good)", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[Image:No such.jpg]]\",\"optList\":[],\"dsr\":[0,21,null,null]}'/>");
add("wt2html", "(bug 19451) Links should refer to the normalized form.", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><a rel=\"mw:WikiLink\" href=\"./אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"&amp;#xFB2E;\"},\"dsr\":[0,12,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"&amp;#x5d0;&amp;#x5b7;\"},\"dsr\":[13,31,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"&amp;#x5d0;ַ\"},\"dsr\":[32,44,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"א&amp;#x5b7;\"},\"dsr\":[45,57,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"אַ\"},\"dsr\":[58,64,2,2]}'>אַ</a></p>");
add("wt2html", "Attribute test: equals, then nothing", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><font color=\"\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,23,13,7]}'>foo</font></p>");
add("wt2html", "Attribute test: no value", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><font color=\"\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,22,12,7]}'>foo</font></p>");
add("wt2html", "Bug 2304: HTML attribute safety (unsafe breakout parameter; 2309)", "<div style=\"float: right;  >alert(document.cookie)\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"div style\",\"href\":\"./Template:Div_style\"},\"params\":{\"1\":{\"wt\":\"\\\">&lt;script>alert(document.cookie)&lt;/script>\"}},\"i\":0}}]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"float: right;  >alert(document.cookie)\"},\"sa\":{\"style\":\"float: right; {{{1}}}\"},\"dsr\":[0,55,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Magic div</div>");
add("wt2html", "Bug 2304: HTML attribute safety (unsafe breakout parameter 2; 2309)", "<div style=\"float: right;   >alert(document.cookie)\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"div style\",\"href\":\"./Template:Div_style\"},\"params\":{\"1\":{\"wt\":\"\\\" >&lt;script>alert(document.cookie)&lt;/script>\"}},\"i\":0}}]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"float: right;   >alert(document.cookie)\"},\"sa\":{\"style\":\"float: right; {{{1}}}\"},\"dsr\":[0,56,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Magic div</div>");
add("wt2html", "CSS safety test (all browsers): vertical tab (bug 55332 / CVE-2013-4567)", "<p style=\"/* insecure input */\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"/* insecure input */\"},\"sa\":{\"style\":\"font-size: 100px; background-image:url\\\\b(https://www.google.com/images/srpr/logo6w.png)\"},\"dsr\":[0,104,99,4]}'>A</p>");
add("wt2html", "MSIE 6 CSS safety test: Fullwidth (bug 55332)", "<p style=\"font-size: 100px; color: ｅｘｐｒｅｓｓｉｏｎ((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,70,4]}'>A</p>\n<div style=\"top:ＥＸＰＲＥＳＳＩＯＮ(alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[76,120,37,6]}'>B</div>");
add("wt2html", "MSIE 6 CSS safety test: IPA extensions (bug 55332)", "<div style=\"background-image:uʀʟ(javascript:alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,61,54,6]}'>A</div>\n<p style=\"font-size: 100px; color: expʀessɪoɴ((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,137,70,4]}'>B</p>");
add("wt2html", "MSIE 6 CSS safety test: sup/sub script (bug 55332)", "<div style=\"background-image:url⁽javascript:alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,61,54,6]}'>A</div>\n<div style=\"background-image:url₍javascript:alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,123,54,6]}'>B</div>\n<p style=\"font-size: 100px; color: expressioⁿ((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[124,199,70,4]}'>C</p>");
add("wt2html", "Opera -o-link CSS", "<div title=\"data:text/html,&lt;img src=1 onerror=alert(1)>\" style=\"-o-link:attr(title);-o-link-source:current\" data-parsoid='{\"stx\":\"html\",\"a\":{\"title\":\"data:text/html,&lt;img src=1 onerror=alert(1)>\"},\"sa\":{\"title\":\"&amp;#100;&amp;#97;&amp;#116;&amp;#97;&amp;#58;&amp;#116;&amp;#101;&amp;#120;&amp;#116;&amp;#47;&amp;#104;&amp;#116;&amp;#109;&amp;#108;&amp;#44;&amp;#60;&amp;#105;&amp;#109;&amp;#103;&amp;#32;&amp;#115;&amp;#114;&amp;#99;&amp;#61;&amp;#49;&amp;#32;&amp;#111;&amp;#110;&amp;#101;&amp;#114;&amp;#114;&amp;#111;&amp;#114;&amp;#61;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#49;&amp;#41;&amp;#62;\"},\"dsr\":[0,313,306,6]}'>X</div>");
add("wt2html", "MSIE 6 CSS safety test: Repetition markers (bug 55332)", "<p style=\"font-size: 100px; color: expres〱ion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,70,4]}'>A</p>\n<p style=\"font-size: 100px; color: expresゝion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[76,151,70,4]}'>B</p>\n<p style=\"font-size: 100px; color: expresーion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[152,227,70,4]}'>C</p>\n<p style=\"font-size: 100px; color: expresヽion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[228,303,70,4]}'>D</p>\n<p style=\"font-size: 100px; color: expresﹽion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[304,379,70,4]}'>E</p>\n<p style=\"font-size: 100px; color: expresﹼion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[380,455,70,4]}'>F</p>\n<p style=\"font-size: 100px; color: expresｰion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[456,531,70,4]}'>G</p>");
add("wt2html", "Parser hook: empty input", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>&lt;tag>&lt;/tag></p>");
add("wt2html", "Parser hook: empty input using terminated empty elements", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>&lt;tag/></p>");
add("wt2html", "Parser hook: empty input using terminated empty elements (space before)", "<p data-parsoid='{\"dsr\":[0,7,0,0]}'>&lt;tag /></p>");
add("wt2html", "Parser hook: basic input", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'>&lt;tag>input&lt;/tag></p>");
add("wt2html", "Parser hook: case insensitive", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'>&lt;TAG>input&lt;/TAG></p>");
add("wt2html", "Parser hook: case insensitive, redux", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'>&lt;TaG>input&lt;/TAg></p>");
add("wt2html", "Parser hook: nested tags", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>&lt;tag>&lt;tag>&lt;/tag>&lt;/tag></p>");
add("wt2html", "Parser hook: basic arguments", "<p data-parsoid='{\"dsr\":[0,56,0,0]}'>&lt;tag width=200 height = \"100\" depth = '50' square>&lt;/tag></p>");
add("wt2html", "Parser hook: argument containing a forward slash (bug 5344)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>&lt;tag filename='/tmp/bla'>&lt;/tag></p>");
add("wt2html", "Parser hook: empty input using terminated empty elements (bug 2374)", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'>&lt;tag foo=bar/>text</p>");
add("wt2html", "Parser hook: basic arguments using terminated empty elements (bug 2374)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'>&lt;tag width=200 height = \"100\" depth = '50' square/>\nother stuff\n&lt;/tag></p>");
add("wt2html", "Parser hook: static parser hook not inside a comment", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>&lt;statictag>hello, world&lt;/statictag>\n&lt;statictag action=flush/></p>");
add("wt2html", "Parser hook: static parser hook inside a comment", "<!-- <statictag>hello, world</statictag> -->\n<p data-parsoid='{\"dsr\":[45,70,0,0]}'>&lt;statictag action=flush/></p>");
add("wt2html", "Sanitizer: Closing of closed but not open tags", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'></p>");
add("wt2html", "Sanitizer: Closing of closed but not open table tags", "Table not started");
add("wt2html", "Sanitizer: Escaping of spaces, multibyte characters, colons & other stuff in id=\"\"", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span id=\"æ: v\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,27,16,7]}'>byte</span><a rel=\"mw:WikiLink\" href=\"./Main%20Page#æ:_v\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main%20Page#æ:_v\"},\"sa\":{\"href\":\"#æ: v\"},\"dsr\":[27,45,8,2]}'>backlink</a></p>");
add("wt2html", "Sanitizer: Validating the contents of the id attribute (bug 4515)", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'><br id=\"9\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[0,11,11,0]}'/></p>");
add("wt2html", "Sanitizer: Validating id attribute uniqueness (bug 4515, bug 6301)", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><br id=\"foo\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[0,15,15,0]}'/><br id=\"foo\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[15,30,15,0]}'/></p>");
add("wt2html", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,308,15,6]}'>\n\t<p data-parsoid='{\"dsr\":[17,301,0,0]}'>&lt;meta itemprop=\"hello\" content=\"world\">\n\t&lt;meta http-equiv=\"refresh\" content=\"5\">\n\t&lt;meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t&lt;link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t&lt;link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t&lt;link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\"></p>\n</div>");
add("wt2html", "Language converter: output gets cut off unexpectedly (bug 5757)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'>this bit is safe: }-</p>\n\n<p data-parsoid='{\"dsr\":[22,82,0,0]}'>but if we add a conversion instance: -{zh-cn:xxx;zh-tw:yyy}-</p>\n\n<p data-parsoid='{\"dsr\":[84,112,0,0]}'>then we get cut off here: }-</p>\n\n<p data-parsoid='{\"dsr\":[114,145,0,0]}'>all additional text is vanished</p>");
add("wt2html", "Self closed html pairs (bug 5487)", "<center data-parsoid='{\"stx\":\"html\",\"dsr\":[0,47,8,9]}'><font id=\"bug\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[8,25,17,0]}'></font>Centered text</center>\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[48,88,5,6]}'><font id=\"bug2\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[53,71,18,0]}'></font>In div text</div>");
add("wt2html", "Punctuation: nbsp before exclamation", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'>C'est grave !</p>");
add("wt2html", "Fuzz testing: Parser14", "<h2 data-parsoid='{\"dsr\":[0,18,2,2]}'> onmouseover= </h2>\n<p data-parsoid='{\"dsr\":[19,33,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://__TOC__\" data-parsoid='{\"stx\":\"url\",\"dsr\":[19,33,0,0]}'>http://__TOC__</a></p>");
add("wt2html", "Fuzz testing: Parser14-table", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<table style=\"__TOC__\" data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,22,16,0]}'></table>");
add("wt2html", "Fuzz testing: Parser24", "<p data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"{{{\",\"dsr\":[3,6,0,0]}'>{{{</span>|\n<u class=\"|\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->}}}}\",\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Param\\\" data-parsoid=\\\"{&amp;quot;dsr&amp;quot;:[20,79,null,null],&amp;quot;src&amp;quot;:&amp;quot;{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}&amp;quot;}\\\">{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--&amp;gt;}}}&lt;/span>}\"},{\"html\":\"\"}]]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":null},\"sa\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[8,0,74,0]}'>\n<br style=\"onmouseover='alert(document.cookie);' \" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[83,0,53,0]}'/></u></p><p data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,0]}'><u class=\"|\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-mw='{\"attribs\":[[{\"txt\":\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->}}}}\",\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Param\\\" data-parsoid=\\\"{&amp;quot;dsr&amp;quot;:[20,79,null,null],&amp;quot;src&amp;quot;:&amp;quot;{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}&amp;quot;}\\\">{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--&amp;gt;}}}&lt;/span>}\"},{\"html\":\"\"}]]}' data-parsoid='{\"stx\":\"html\",\"a\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":null},\"sa\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":\"\"},\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[-37,0,0,0]}'>MOVE YOUR MOUSE CURSOR OVER THIS TEXT</u></p><table data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[0,177,2,0]}'>\n\n\n\n<tbody data-parsoid='{\"dsr\":[176,177,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[176,177,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[176,177,1,0]}'></td></tr></tbody></table>");
add("wt2html", "Fuzz testing: Parser25 (bug 6055)", "<p data-parsoid='{\"dsr\":[0,110,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Param\" data-parsoid='{\"dsr\":[0,26,null,null],\"src\":\"{{{\\n| \\n&lt;LI CLASS=||\\n >\\n}}}\"}'></span>blah\" onmouseover=\"alert('hello world');\" align=\"left\"<b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[80,110,3,0]}'>MOVE MOUSE CURSOR OVER HERE</b></p>");
add("wt2html", "Inline HTML vs wiki block nesting", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[0,17,3,0]}'>Bold paragraph</b></p><b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[17,37,0,0]}'>\n\n<p data-parsoid='{\"dsr\":[19,37,0,0]}'>New wiki paragraph</p></b>");
add("wt2html", "Special page transclusion", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:Prefixindex/Xyzzyx\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,30,0,0],\"pi\":[[]]}'>Parser function implementation for pf_special missing in Parsoid.</p>");
add("wt2html", "Special page transclusion twice (bug 5021)", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:Prefixindex/Xyzzyx\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[0,30,null,null]}'>Parser function implementation for pf_special missing in Parsoid.</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:Prefixindex/Xyzzyx\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[31,61,null,null]}'>Parser function implementation for pf_special missing in Parsoid.</span></p>");
add("wt2html", "Transclusion of default MediaWiki message", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:Mainpage\",\"href\":\"./MediaWiki:Mainpage\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,22,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:Mainpage</span></p>");
add("wt2html", "Transclusion of nonexistent MediaWiki message", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:Mainpagexxx\",\"href\":\"./MediaWiki:Mainpagexxx\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,25,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:Mainpagexxx</span></p>");
add("wt2html", "Transclusion of MediaWiki message with underscore", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:history_short\",\"href\":\"./MediaWiki:History_short\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,27,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:History_short</span></p>");
add("wt2html", "Transclusion of MediaWiki message with space", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:history short\",\"href\":\"./MediaWiki:History_short\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,27,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:History_short</span></p>");
add("wt2html", "Section extraction test (section 0)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 1)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 2)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 3)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 4)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 5)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 6)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 7)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 8)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 9)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 10)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (nonexistent section 11)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test with bogus heading (section 1)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,35,0,0]}'>==bogus== not a legal section</p>\n<h2 data-parsoid='{\"dsr\":[36,41,2,2]}'>b</h2>");
add("wt2html", "Section extraction test with bogus heading (section 2)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,35,0,0]}'>==bogus== not a legal section</p>\n<h2 data-parsoid='{\"dsr\":[36,41,2,2]}'>b</h2>");
add("wt2html", "Section extraction test with comment after heading (section 1)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>b</h2> <!-- -->\n<h2 data-parsoid='{\"dsr\":[21,26,2,2]}'>c</h2>");
add("wt2html", "Section extraction test with comment after heading (section 2)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>b</h2> <!-- -->\n<h2 data-parsoid='{\"dsr\":[21,26,2,2]}'>c</h2>");
add("wt2html", "Section extraction test with bogus <nowiki> heading (section 1)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,52,0,0]}'>==bogus== <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[16,52,8,9]}'>not a legal section</span></p>\n<h2 data-parsoid='{\"dsr\":[53,58,2,2]}'>b</h2>");
add("wt2html", "Section extraction test with bogus <nowiki> heading (section 2)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,52,0,0]}'>==bogus== <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[16,52,8,9]}'>not a legal section</span></p>\n<h2 data-parsoid='{\"dsr\":[53,58,2,2]}'>b</h2>");
add("wt2html", "Section extraction prefixed by comment (section 1)", "<!-- --><h2 data-parsoid='{\"dsr\":[8,16,2,2]}'>sec1</h2>\n<h2 data-parsoid='{\"dsr\":[17,25,2,2]}'>sec2</h2>");
add("wt2html", "Section extraction prefixed by comment (section 2)", "<!-- --><h2 data-parsoid='{\"dsr\":[8,16,2,2]}'>sec1</h2>\n<h2 data-parsoid='{\"dsr\":[17,25,2,2]}'>sec2</h2>");
add("wt2html", "Section extraction, mixed wiki and html (section 1)", "<h2 data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,4,5]}'>unmarked</h2>\n<p data-parsoid='{\"dsr\":[18,26,0,0]}'>unmarked</p>\n<h2 data-parsoid='{\"dsr\":[27,32,2,2]}'>1</h2>\n<p data-parsoid='{\"dsr\":[33,36,0,0]}'>one</p>\n<h2 data-parsoid='{\"dsr\":[37,42,2,2]}'>2</h2>\n<p data-parsoid='{\"dsr\":[43,46,0,0]}'>two</p>");
add("wt2html", "Section extraction, mixed wiki and html (section 2)", "<h2 data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,4,5]}'>unmarked</h2>\n<p data-parsoid='{\"dsr\":[18,26,0,0]}'>unmarked</p>\n<h2 data-parsoid='{\"dsr\":[27,32,2,2]}'>1</h2>\n<p data-parsoid='{\"dsr\":[33,36,0,0]}'>one</p>\n<h2 data-parsoid='{\"dsr\":[37,42,2,2]}'>2</h2>\n<p data-parsoid='{\"dsr\":[43,46,0,0]}'>two</p>");
add("wt2html", "Section extraction, heading surrounded by <noinclude>", "<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[0,11,null,null]}'/><h2 data-parsoid='{\"dsr\":[11,23,2,2]}'>unmarked</h2><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[23,35,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[36,46,2,2]}'>marked</h2>");
add("wt2html", "Sectiion with all-equals", "<p data-parsoid='{\"dsr\":[0,99,0,0]}'>=== \nThe line above must have a trailing space\n=== <!--\n--> <!-- -->\nBut just in case it doesn't...</p>");
add("wt2html", "Section replacement test (section 0)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 1)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 2)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 3)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 4)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 5)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 6)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 7)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 8)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 9)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 10)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test with initial whitespace (bug 13728)", "<pre data-parsoid='{\"dsr\":[0,26,1,0]}'>Preformatted initial line</pre>\n<h2 data-parsoid='{\"dsr\":[27,32,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[33,40,3,3]}'>a</h3>");
add("wt2html", "Section extraction, heading followed by pre with 20 spaces (bug 6398)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<pre data-parsoid='{\"dsr\":[6,27,1,0]}'>                   a</pre>");
add("wt2html", "Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<pre data-parsoid='{\"dsr\":[6,26,1,0]}'>                  a</pre>");
add("wt2html", "Section extraction, <pre> around bogus header (bug 10309)", "<h2 data-parsoid='{\"dsr\":[0,17,2,2]}'> Section One </h2>\n<pre data-parsoid='{\"stx\":\"html\",\"strippedNL\":true,\"dsr\":[18,38,5,6]}'>=======\n</pre>\n\n<h2 data-parsoid='{\"dsr\":[40,57,2,2]}'> Section Two </h2>\n<p data-parsoid='{\"dsr\":[58,63,0,0]}'>stuff</p>");
add("wt2html", "Section replacement, <pre> around bogus header (bug 10309)", "<h2 data-parsoid='{\"dsr\":[0,17,2,2]}'> Section One </h2>\n<pre data-parsoid='{\"stx\":\"html\",\"strippedNL\":true,\"dsr\":[18,38,5,6]}'>=======\n</pre>\n\n<h2 data-parsoid='{\"dsr\":[40,57,2,2]}'> Section Two </h2>\n<p data-parsoid='{\"dsr\":[58,63,0,0]}'>stuff</p>");
add("wt2html", "Special:Search page linking.", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:search\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[]]}'>Parser function implementation for pf_special missing in Parsoid.</p>");
add("wt2html", "Say the magic word", "<ul data-parsoid='{\"dsr\":[0,544,0,0]}'><li data-parsoid='{\"dsr\":[0,14,1,0]}'> <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAME\",\"function\":\"pagename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[2,14,null,null]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[15,30,1,0]}'> <span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAMEE\",\"function\":\"pagenamee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[17,30,null,null],\"pi\":[[]]}'></span></li>\n<li data-parsoid='{\"dsr\":[31,49,1,0]}'> <span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"FULLPAGENAME\",\"function\":\"fullpagename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[33,49,null,null]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[50,69,1,0]}'> <span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"FULLPAGENAMEE\",\"function\":\"fullpagenamee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[52,69,null,null]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[70,88,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt5\" id=\"mwt5\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAME\",\"href\":\"./Template:BASEPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[72,88,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[89,108,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt6\" id=\"mwt6\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAMEE\",\"href\":\"./Template:BASEPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[91,108,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[109,126,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt7\" id=\"mwt7\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAME\",\"href\":\"./Template:SUBPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[111,126,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[127,145,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt8\" id=\"mwt8\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAMEE\",\"href\":\"./Template:SUBPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[129,145,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[146,164,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt9\" id=\"mwt9\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAME\",\"href\":\"./Template:ROOTPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[148,164,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[165,184,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt10\" id=\"mwt10\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAMEE\",\"href\":\"./Template:ROOTPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[167,184,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[185,203,1,0]}'> <span about=\"#mwt11\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAME\",\"function\":\"talkpagename\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[187,203,null,null]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[204,223,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt12\" id=\"mwt12\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAMEE\",\"href\":\"./Template:TALKPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[206,223,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[224,245,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt13\" id=\"mwt13\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAME\",\"href\":\"./Template:SUBJECTPAGENAME\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[226,245,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[246,268,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt14\" id=\"mwt14\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAMEE\",\"href\":\"./Template:SUBJECTPAGENAMEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[248,268,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[269,285,1,0]}'> <span about=\"#mwt15\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACEE\",\"function\":\"namespacee\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[271,285,null,null]}'>Main</span></li>\n<li data-parsoid='{\"dsr\":[286,301,1,0]}'> <span about=\"#mwt16\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACE\",\"function\":\"namespace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[288,301,null,null]}'>Main</span></li>\n<li data-parsoid='{\"dsr\":[302,323,1,0]}'> <span about=\"#mwt17\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACENUMBER\",\"function\":\"namespacenumber\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[304,323,null,null],\"pi\":[[]]}'></span></li>\n<li data-parsoid='{\"dsr\":[324,339,1,0]}'> <span about=\"#mwt18\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACE\",\"function\":\"talkspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[326,339,null,null]}'>Talk</span></li>\n<li data-parsoid='{\"dsr\":[340,356,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt19\" id=\"mwt19\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACEE\",\"href\":\"./Template:TALKSPACEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[342,356,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKSPACEE</span></li>\n<li data-parsoid='{\"dsr\":[357,375,1,0]}'> <span about=\"#mwt20\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[359,375,null,null]}'>Main</span></li>\n<li data-parsoid='{\"dsr\":[376,395,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt21\" id=\"mwt21\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACEE\",\"href\":\"./Template:SUBJECTSPACEE\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[378,395,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTSPACEE</span></li>\n<li data-parsoid='{\"dsr\":[396,544,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt22\" id=\"mwt22\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Dynamic\",\"href\":\"./Template:Dynamic\"},\"params\":{\"1\":{\"wt\":\"{{NUMBEROFUSERS}}\"},\"2\":{\"wt\":\"{{NUMBEROFPAGES}}\"},\"3\":{\"wt\":\"{{CURRENTVERSION}}\"},\"4\":{\"wt\":\"{{CONTENTLANGUAGE}}\"},\"5\":{\"wt\":\"{{DIRECTIONMARK}}\"},\"6\":{\"wt\":\"{{CURRENTTIMESTAMP}}\"},\"7\":{\"wt\":\"{{NUMBEROFARTICLES}}\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[398,544,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"2\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"3\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"4\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"5\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"6\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"7\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Warning: Page/template fetching disabled, and no cache for Template:Dynamic</span></li></ul>");
add("wt2html", "Gallery", "<p data-parsoid='{\"dsr\":[0,131,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nimage1.png |\\nimage2.gif|||||\\n\\nimage3|\\nimage4    |300px| centre\\n image5.svg| http://///////\\n[[x|xx]]]]\\n* image6\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,131,9,10]}'>&lt;gallery>\nimage1.png |\nimage2.gif|||||\n\nimage3|\nimage4    |300px| centre\n image5.svg| http://///////\n[[x|xx]]]]\n* image6\n&lt;/gallery></span></p>");
add("wt2html", "Gallery (with options)", "<p data-parsoid='{\"dsr\":[0,261,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid=\"{&quot;stx&quot;:&quot;html&quot;,&quot;src&quot;:&quot;&lt;gallery widths='70px' heights='40px' perrow='2' caption='Foo [[Main Page]]' >\\nFile:Nonexistant.jpg|caption\\nFile:Nonexistant.jpg\\nimage:foobar.jpg|some '''caption''' [[Main Page]]\\nimage:foobar.jpg\\nimage:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.\\n&lt;/gallery>&quot;,&quot;tagWidths&quot;:[78,10],&quot;dsr&quot;:[0,261,78,10]}\">&lt;gallery widths='70px' heights='40px' perrow='2' caption='Foo [[Main Page]]' >\nFile:Nonexistant.jpg|caption\nFile:Nonexistant.jpg\nimage:foobar.jpg|some '''caption''' [[Main Page]]\nimage:foobar.jpg\nimage:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.\n&lt;/gallery></span></p>");
add("wt2html", "Gallery with link that has fragment", "<p data-parsoid='{\"dsr\":[0,140,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nimage:foobar.jpg|link=Main_Page\\nimage:foobar.jpg|link=Main_Page#section\\nimage:foobar.jpg|link=Main Page#section|caption\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,140,9,10]}'>&lt;gallery>\nimage:foobar.jpg|link=Main_Page\nimage:foobar.jpg|link=Main_Page#section\nimage:foobar.jpg|link=Main Page#section|caption\n&lt;/gallery></span></p>");
add("wt2html", "Gallery with wikitext inside caption", "<p data-parsoid='{\"dsr\":[0,156,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\\nFile:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,156,9,10]}'>&lt;gallery>\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\nFile:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt\n&lt;/gallery></span></p>");
add("wt2html", "gallery (with showfilename option)", "<p data-parsoid='{\"dsr\":[0,149,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery showfilename>\\nFile:Nonexistant.jpg|caption\\nFile:Nonexistant.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nFile:Foobar.jpg\\n&lt;/gallery>\",\"tagWidths\":[22,10],\"dsr\":[0,149,22,10]}'>&lt;gallery showfilename>\nFile:Nonexistant.jpg|caption\nFile:Nonexistant.jpg\nimage:foobar.jpg|some '''caption''' [[Main Page]]\nFile:Foobar.jpg\n&lt;/gallery></span></p>");
add("wt2html", "Gallery (with namespace-less filenames)", "<p data-parsoid='{\"dsr\":[0,85,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:Nonexistant.jpg\\nNonexistant.jpg\\nimage:foobar.jpg\\nfoobar.jpg\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,85,9,10]}'>&lt;gallery>\nFile:Nonexistant.jpg\nNonexistant.jpg\nimage:foobar.jpg\nfoobar.jpg\n&lt;/gallery></span></p>");
add("wt2html", "__FORCETOC__ override", "<meta property=\"mw:PageProp/newsectionlink\" data-parsoid='{\"src\":\"__NEWSECTIONLINK__\",\"magicSrc\":\"__NEWSECTIONLINK__\",\"dsr\":[0,18,null,null]}'/>\n<meta property=\"mw:PageProp/forcetoc\" data-parsoid='{\"src\":\"__FORCETOC__\",\"magicSrc\":\"__FORCETOC__\",\"dsr\":[19,31,null,null]}'/>");
add("wt2html", "Centre-aligned image", "<figure class=\"mw-default-size mw-halign-center\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"center\",\"ak\":\"centre\"}],\"dsr\":[0,27,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,25,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></figure>");
add("wt2html", "None-aligned image", "<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"none\",\"ak\":\"none\"}],\"dsr\":[0,25,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,23,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></figure>");
add("wt2html", "Width + Height sized image (using px) (height is ignored)", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"640x480px\"}],\"dsr\":[0,30,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Width-sized image (using px, no following whitespace)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"640px\"}],\"dsr\":[0,26,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Width-sized image (using px, with following whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"640px \"}],\"dsr\":[0,27,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Width-sized image (using px, with preceding whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\" 640px\"}],\"dsr\":[0,27,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with page parameter", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:LoremIpsum.djvu|page=2]]\",\"optList\":[{\"ck\":\"page\",\"ak\":\"page=2\"}],\"dsr\":[0,31,null,null]}'/>");
add("wt2html", "HTML with raw HTML ($wgRawHtml==true)", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'>&lt;html>&lt;script>alert(1);&lt;/script>&lt;/html></p>");
add("wt2html", "Parents of subpages, one level up, not named", "<p data-parsoid='{\"dsr\":[0,7,0,0]}'><a rel=\"mw:WikiLink\" href=\"../../../Subpage_test/L1/L2\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"../../../Subpage_test/L1/L2\"},\"sa\":{\"href\":\"../\"},\"dsr\":[0,7,2,2]}'>Subpage_test/L1/L2</a></p>");
add("wt2html", "Parents of subpages, two levels up, without trailing slash or name.", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'><a rel=\"mw:WikiLink\" href=\"../../../Subpage_test/L1/L2/..\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"../../../Subpage_test/L1/L2/..\"},\"sa\":{\"href\":\"../..\"},\"dsr\":[0,9,2,2]}'>Subpage_test/L1/L2/..</a></p>");
add("wt2html", "Parents of subpages, two levels up, with lots of extra trailing slashes.", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><a rel=\"mw:WikiLink\" href=\"../../../Subpage_test/L1/////\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"../../../Subpage_test/L1/////\"},\"sa\":{\"href\":\"../../////\"},\"dsr\":[0,14,2,2]}'>///</a></p>");
add("wt2html", "Transclusion of a sibling page (one level up)", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"../L3Sibling\",\"href\":\"../../../Template:../L3Sibling\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:../L3Sibling</span></p>");
add("wt2html", "Transclusion of a child page", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"/L3Sibling\",\"href\":\"../../Template:/L3Sibling\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:/L3Sibling</span></p>");
add("wt2html", "Non-transclusion because of too many up levels", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"../../../../More than parent\",\"href\":\"../../../Template:../../../../More_than_parent\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,32,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:../../../../More_than_parent</span></p>");
add("wt2html", "MSGNW magic word", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MSGNW:msg\",\"href\":\"./MSGNW:Msg\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for MSGNW:Msg</span></p>");
add("wt2html", "RAW magic word", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"RAW:QUERTY\",\"href\":\"./RAW:QUERTY\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for RAW:QUERTY</span></p>");
add("wt2html", "anchorencode", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode:foo bar©#%n\",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,28,0,0],\"pi\":[[]]}'>foo bar©#%n</p>");
add("wt2html", "anchorencode trims spaces", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode: __pretty__please__\",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,36,0,0],\"pi\":[[]]}'>__pretty__please__</p>");
add("wt2html", "anchorencode deals with links", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode: [[hello|world]] [[hi]]\",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,40,0,0],\"pi\":[[]]}'>world hi</p>");
add("wt2html", "anchorencode encodes like the TOC generator: (bug 18431)", "<h3 data-parsoid='{\"dsr\":[0,26,3,3]}'> _ +:.3A%3A&amp;<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;amp;\",\"srcContent\":\"&amp;\",\"dsr\":[15,20,null,null]}'>&amp;</span>]] </h3>\n<p data-parsoid='{\"dsr\":[27,82,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode: _ +:.3A%3A&amp;&amp;amp;]] \",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[27,64,null,null]}'>_ +:.3A%3A&amp;&amp;]]</span>\n<meta property=\"mw:PageProp/noeditsection\" data-parsoid='{\"src\":\"__NOEDITSECTION__\",\"magicSrc\":\"__NOEDITSECTION__\",\"dsr\":[65,82,null,null]}'/></p>");
add("wt2html", "Self-link in language variants", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'>Both <a rel=\"mw:WikiLink\" href=\"./Dunav\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dunav\"},\"sa\":{\"href\":\"Dunav\"},\"dsr\":[5,14,2,2]}'>Dunav</a> and <a rel=\"mw:WikiLink\" href=\"./Дунав\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дунав\"},\"sa\":{\"href\":\"Дунав\"},\"dsr\":[19,28,2,2]}'>Дунав</a> are names for this river.</p>");
add("wt2html", "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title", "<p data-parsoid='{\"dsr\":[0,77,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\"},\"sa\":{\"href\":\"Дуна\"},\"dsr\":[0,8,2,2]}'>Дуна</a> is not a self-link while <a rel=\"mw:WikiLink\" href=\"./Duna\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Duna\"},\"sa\":{\"href\":\"Duna\"},\"dsr\":[34,42,2,2]}'>Duna</a> and <a rel=\"mw:WikiLink\" href=\"./Dуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dуна\"},\"sa\":{\"href\":\"Dуна\"},\"dsr\":[47,55,2,2]}'>Dуна</a> are still self-links.</p>");
add("wt2html", "Link to a section of a variant of this title shouldn't be parsed as self-link", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Dуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dуна\"},\"sa\":{\"href\":\"Dуна\"},\"dsr\":[0,8,2,2]}'>Dуна</a> is a self-link while <a rel=\"mw:WikiLink\" href=\"./Dunа#Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dunа#Foo\"},\"sa\":{\"href\":\"Dunа#Foo\"},\"dsr\":[30,42,2,2]}'>Dunа#Foo</a> and <a rel=\"mw:WikiLink\" href=\"./Dуна#Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dуна#Foo\"},\"sa\":{\"href\":\"Dуна#Foo\"},\"dsr\":[47,59,2,2]}'>Dуна#Foo</a> are not self-links.</p>");
add("wt2html", "Link to pages in language variants", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>Main Page can be written as <a rel=\"mw:WikiLink\" href=\"./Маин_Паге\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Маин_Паге\"},\"sa\":{\"href\":\"Маин Паге\"},\"dsr\":[28,41,2,2]}'>Маин Паге</a></p>");
add("wt2html", "Multiple links to pages in language variants", "<p data-parsoid='{\"dsr\":[0,68,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,13,2,2]}'>Main Page</a> can be written as <a rel=\"mw:WikiLink\" href=\"./Маин_Паге\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Маин_Паге\"},\"sa\":{\"href\":\"Маин Паге\"},\"dsr\":[32,45,2,2]}'>Маин Паге</a> same as <a rel=\"mw:WikiLink\" href=\"./Маин_Паге\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Маин_Паге\"},\"sa\":{\"href\":\"Маин Паге\"},\"dsr\":[54,67,2,2]}'>Маин Паге</a>.</p>");
add("wt2html", "Simple template in language variants", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"тест\",\"href\":\"./Шаблон:тест\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,8,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Шаблон:тест</span></p>");
add("wt2html", "Template with explicit namespace in language variants", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Template:тест\",\"href\":\"./Template:Тест\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:Тест</span></p>");
add("wt2html", "Basic test for template parameter in language variants", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"парамтест\",\"href\":\"./Шаблон:парамтест\"},\"params\":{\"param\":{\"wt\":\"foo\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,23,null,null],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Warning: Page/template fetching disabled, and no cache for Шаблон:парамтест</span></p>");
add("wt2html", "Simple category in language variants", "<link rel=\"mw:PageProp/Category\" href=\"./Категорија:МедиаWики_Усер'с_Гуиде\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Категорија:МедиаWики_Усер&#39;с_Гуиде\"},\"sa\":{\"href\":\"Category:МедиаWики Усер&#39;с Гуиде\"},\"dsr\":[0,35,null,null]}'/>");
add("wt2html", "Don't convert blue categorylinks to another variant (bug 33210)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><a rel=\"mw:WikiLink\" href=\"./A\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./A\"},\"sa\":{\"href\":\"A\"},\"dsr\":[0,5,2,2]}'>A</a><link rel=\"mw:PageProp/Category\" href=\"./Category:分类\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:分类\"},\"sa\":{\"href\":\"Category:分类\"},\"dsr\":[5,20,null,null]}'/></p>");
add("wt2html", "Stripping -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'>Latin proverb: -{Ne nuntium necare}-</p>");
add("wt2html", "Prevent conversion with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Latinski: -{Ne nuntium necare}-</p>");
add("wt2html", "Prevent conversion of text with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Latinski: -{Ne nuntium necare}-</p>");
add("wt2html", "Prevent conversion of links with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>-{<a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[2,15,2,2]}'>Main Page</a>}-</p>");
add("wt2html", "-{}- tags within headlines (within html for parserConvert())", "<h2 data-parsoid='{\"dsr\":[0,16,2,2]}'> -{Naslov}- </h2>");
add("wt2html", "Explicit definition of language variant alternatives", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'>-{zh:China;zh-tw:Taiwan}-, not China</p>");
add("wt2html", "Conversion around HTML tags", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>-{H|span=>sr-ec:script;title=>sr-ec:src;}-\n<span title=\"La-{sr-el:L;sr-ec:C;}-tin\" data-parsoid='{\"stx\":\"html\",\"dsr\":[43,93,40,7]}'>ski</span></p>");
add("wt2html", "Explicit session-wise language variant mapping (A flag and - flag)", "<p data-parsoid='{\"dsr\":[0,140,0,0]}'>Taiwan is not China.\nBut -{A|zh:China;zh-tw:Taiwan}- is China,\n(This-{-|zh:China;zh-tw:Taiwan}- should be stripped!)\nand -{China}- is China.</p>");
add("wt2html", "Explicit session-wise language variant mapping (H flag for hide)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'>(This-{H|zh:China;zh-tw:Taiwan}- should be stripped!)\nTaiwan is China.</p>");
add("wt2html", "Adding explicit conversion rule for title (T flag)", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>Should be stripped-{T|zh:China;zh-tw:Taiwan}-!</p>");
add("wt2html", "Testing that changing the language variant here in the tests actually works", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>Should be stripped-{T|zh:China;zh-tw:Taiwan}-!</p>");
add("wt2html", "Recursive conversion of alt and title attrs shouldn't clear converter state", "<p data-parsoid='{\"dsr\":[0,125,0,0]}'>-{H|zh-cn:Exclamation;zh-tw:exclamation;}-\nShould be stripped-{T|zh-cn:China;zh-tw:Taiwan}-<span title=\"exclamation\" data-parsoid='{\"stx\":\"html\",\"dsr\":[91,125,26,7]}'>!</span></p>");
add("wt2html", "Bug 24072: more test on conversion rule for title", "<p data-parsoid='{\"dsr\":[0,128,0,0]}'>This should be stripped-{T|zh:China;zh-tw:Taiwan}-!\nThis won't take interferes with the title rule-{H|zh:Beijing;zh-tw:Taipei}-.</p>");
add("wt2html", "Partly disable title conversion if variant == main language code", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>-{T|zh-cn:CN;zh-tw:TW}-</p>");
add("wt2html", "Partly disable title conversion if variant == main language code, more", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'>-{T|TW}-</p>");
add("wt2html", "Raw output of variant escape tags (R flag)", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>Raw: -{R|zh:China;zh-tw:Taiwan}-</p>");
add("wt2html", "Nested using of manual convert syntax", "<p data-parsoid='{\"dsr\":[0,113,0,0]}'>Nested: -{zh-hans:Hi -{zh-cn:China;zh-sg:Singapore;}-;zh-hant:Hello -{zh-tw:Taiwan;zh-hk:H-{ong}- K-{}-ong;}-;}-!</p>");
add("wt2html", "Proper conversion of text in external links", "<p data-parsoid='{\"dsr\":[0,269,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://www.google.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,21,0,0]}'>http://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"gopher://www.google.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[22,45,0,0]}'>gopher://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"http://www.google.com\" data-parsoid='{\"targetOff\":69,\"contentOffsets\":[69,90],\"dsr\":[46,91,23,1]}'>http://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"gopher://www.google.com\" data-parsoid='{\"targetOff\":117,\"contentOffsets\":[117,140],\"dsr\":[92,141,25,1]}'>gopher://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"https://www.google.com\" data-parsoid='{\"targetOff\":166,\"contentOffsets\":[166,186],\"dsr\":[142,187,24,1]}'>irc://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"ftp://www.google.com\" data-parsoid='{\"targetOff\":210,\"contentOffsets\":[210,234],\"dsr\":[188,235,22,1]}'>www.google.com/ftp://dir</a>\n<a rel=\"mw:ExtLink\" href=\"//www.google.com\" data-parsoid='{\"targetOff\":254,\"contentOffsets\":[254,268],\"dsr\":[236,269,18,1]}'>www.google.com</a></p>");
add("wt2html", "Do not convert roman numbers to language variants", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'>Fridrih IV je car.</p>");
add("wt2html", "Don't convert raw rule \"-{R|=&gt;}-\" to \"=>\"", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>-{R|=<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[5,9,null,null]}'>></span>}-</p>");
add("wt2html", "Don't break link parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,29,12,2]}'>-{R|main page}-</a></p>");
add("wt2html", "Don't break image parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,33,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-mw='{\"caption\":\"caption}-\"}' data-parsoid='{\"optList\":[{\"ck\":\"bogus\",\"ak\":\"-{R\"},{\"ck\":\"caption\",\"ak\":\"caption}-\"}],\"dsr\":[0,33,null,null]}'><a href=\"./Датотека:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./Датотека:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./Датотека:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./Датотека:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Don't break list handling if language converter markup is in the item.", "<dl data-parsoid='{\"dsr\":[0,24,0,0]}'><dt data-parsoid='{\"dsr\":[0,8,1,0]}'>-{zh-cn</dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[8,24,1,0]}'>AAA;zh-tw:BBB}-</dd></dl>");
add("wt2html", "Don't break table handling if language converter markup is in the cell.", "<table data-parsoid='{\"dsr\":[0,18,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,16,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[3,15,2,0]}'>\n<td data-parsoid='{\"a\":{\"-{R\":null},\"sa\":{\"-{R\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[6,15,6,0]}'>B}-</td></tr>\n</tbody></table>");
add("wt2html", "Bug 529: Uncovered bullet in parser function result", "<ul data-parsoid='{\"dsr\":[0,24,0,0]}'><li data-parsoid='{\"dsr\":[0,24,1,0]}'> Foo <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"lc:{{bullet}} \",\"function\":\"lc\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[6,24,null,null]}'> bar</span></li></ul>");
add("wt2html", "Bug 5678: Double-parsed template invocation", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"lc:{{paramtest {{!}} param = hello }} \",\"function\":\"lc\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,42,0,0],\"pi\":[[]]}'>{{paramtest  param = hello }}</p>");
add("wt2html", "Case insensitivity of parser functions for non-ASCII characters (bug 8143)", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PRVNÍVELKÉ:ěščř\",\"href\":\"./PRVNÍVELKÉ:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,19,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for PRVNÍVELKÉ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt2\" id=\"mwt2\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"prvnívelké:ěščř\",\"href\":\"./Prvnívelké:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[20,39,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Prvnívelké:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt3\" id=\"mwt3\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PRVNÍMALÉ:ěščř\",\"href\":\"./PRVNÍMALÉ:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[40,58,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for PRVNÍMALÉ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt4\" id=\"mwt4\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"prvnímalé:ěščř\",\"href\":\"./Prvnímalé:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[59,77,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Prvnímalé:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt5\" id=\"mwt5\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MALÁ:ěščř\",\"href\":\"./MALÁ:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[78,91,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for MALÁ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt6\" id=\"mwt6\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"malá:ěščř\",\"href\":\"./Malá:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[92,105,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Malá:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt7\" id=\"mwt7\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"VELKÁ:ěščř\",\"href\":\"./VELKÁ:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[106,120,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for VELKÁ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt8\" id=\"mwt8\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"velká:ěščř\",\"href\":\"./Velká:ěščř\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[121,135,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Velká:ěščř</span></p>");
add("wt2html", "Nesting tags, paragraphs on lines which begin with <div>", "<div data-parsoid='{\"stx\":\"html\",\"dsr\":[0,11,5,6]}'></div><strong data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[11,20,8,0]}'>A</strong>\n<p data-parsoid='{\"dsr\":[21,31,0,0]}'><strong data-parsoid='{\"stx\":\"html\",\"autoInsertedStart\":true,\"dsr\":[21,31,0,9]}'>B</strong></p>");
add("wt2html", "Free external link invading image caption", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"bogus\",\"ak\":\"http://x\"},{\"ck\":\"caption\",\"ak\":\"hello\"}],\"dsr\":[0,41,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"Image:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,39,null,null]}'>hello</figcaption></figure>");
add("wt2html", "formatdate parser function", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:2009-03-24\",\"function\":\"#formatdate\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,26,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "formatdate parser function, with default format", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:2009-03-24\",\"function\":\"#formatdate\"},\"params\":{\"1\":{\"wt\":\"mdy\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,30,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "Spacing of numbers in formatted dates", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:January 15\",\"function\":\"#formatdate\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,26,0,0],\"pi\":[[]]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "formatdate parser function, with default format and on a page of which the content language is always English and different from the wiki content language", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:2009-03-24\",\"function\":\"#formatdate\"},\"params\":{\"1\":{\"wt\":\"dmy\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,30,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "Edit comment with link", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[11,24,2,2]}'>Main Page</a> a lot</p>");
add("wt2html", "Edit comment with link and link text", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[11,35,12,2]}'>best pages</a> a lot</p>");
add("wt2html", "Edit comment with link and link text with suffix", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[11,35,12,3],\"tail\":\"s\"}'>best pages</a> a lot</p>");
add("wt2html", "Edit comment with section link (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'>/* External links */ removed bogus entries</p>");
add("wt2html", "Edit comment with section link and text before it (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>pre-comment text /* External links */ removed bogus entries</p>");
add("wt2html", "Edit comment with section link (local, eg in diff view)", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'>/* External links */ removed bogus entries</p>");
add("wt2html", "Edit comment with subpage link (bug 14080)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\"./Subpage_test/subpage\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Subpage_test/subpage\"},\"sa\":{\"href\":\"/subpage\"},\"dsr\":[11,23,2,2]}'>/subpage</a> here...</p>");
add("wt2html", "Edit comment with subpage link and link text (bug 14080)", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\"./Subpage_test/subpage\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Subpage_test/subpage\"},\"sa\":{\"href\":\"/subpage\"},\"dsr\":[11,40,11,2]}'>neat little page</a> here...</p>");
add("wt2html", "Edit comment with bogus subpage link in non-subpage NS (bug 14080)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\".//subpage\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\".//subpage\"},\"sa\":{\"href\":\"/subpage\"},\"dsr\":[11,23,2,2]}'>/subpage</a> here...</p>");
add("wt2html", "Edit comment with bare anchor link (local, as on diff)", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main%20Page#section\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#section\"},\"sa\":{\"href\":\"#section\"},\"dsr\":[0,12,2,2]}'>#section</a></p>");
add("wt2html", "Edit comment with bare anchor link (non-local, as on history)", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main%20Page#section\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#section\"},\"sa\":{\"href\":\"#section\"},\"dsr\":[0,12,2,2]}'>#section</a></p>");
add("wt2html", "Space normalisation on autocomment (bug 22784)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>/* __hello__world__ */</p>");
add("wt2html", "percent-encoding and + signs in comments (Bug 26410)", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'><a rel=\"mw:WikiLink\" href=\"./ABC3D%25_++\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./ABC3D%25_++\"},\"sa\":{\"href\":\"ABC%33D% ++\"},\"dsr\":[0,15,2,2]}'>ABC3D% ++</a> <a rel=\"mw:WikiLink\" href=\"./ABC3D%25_++\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./ABC3D%25_++\"},\"sa\":{\"href\":\"ABC%33D% ++\"},\"dsr\":[16,36,14,2]}'>+%20</a></p>");
add("wt2html", "Bad images - basic functionality", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Bad.jpg]]\",\"optList\":[],\"dsr\":[0,16,null,null]}'/>");
add("wt2html", "Bad images - bug 16039: text after bad image disappears", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>Foo bar\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Bad.jpg]]\",\"optList\":[],\"dsr\":[8,24,null,null]}'/>\nBar foo</p>");
add("wt2html", "Verify that displaytitle works (bug #22501) no displaytitle", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>");
add("wt2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,51,0,0]}'>this is not the the title\n<meta property=\"mw:PageProp/displaytitle\" content=\"whatever\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:whatever}}\",\"dsr\":[26,51,null,null]}'/></p>");
add("wt2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch", "<p data-parsoid='{\"dsr\":[0,51,0,0]}'>this is not the the title\n<meta property=\"mw:PageProp/displaytitle\" content=\"whatever\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:whatever}}\",\"dsr\":[26,51,null,null]}'/></p>");
add("wt2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>this is not the the title\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:screen}}\",\"dsr\":[26,49,null,null]}'/></p>");
add("wt2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>this is not the the title\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:screen}}\",\"dsr\":[26,49,null,null]}'/></p>");
add("wt2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>");
add("wt2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value", "<p data-parsoid='{\"dsr\":[0,85,0,0]}'>this is not the the title\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:&lt;span style=\\\"display: none;\\\">s&lt;/span>creen}}\",\"a\":{\"content\":\"screen\"},\"sa\":{\"content\":\"&lt;span style=\\\"display: none;\\\">s&lt;/span>creen\"},\"dsr\":[26,85,null,null]}'/></p>");
add("wt2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value", "<p data-parsoid='{\"dsr\":[0,82,0,0]}'>this is not the the title\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:&lt;span style=\\\"color: red;\\\">s&lt;/span>creen}}\",\"a\":{\"content\":\"screen\"},\"sa\":{\"content\":\"&lt;span style=\\\"color: red;\\\">s&lt;/span>creen\"},\"dsr\":[26,82,null,null]}'/></p>");
add("wt2html", "preload: check <noinclude> and <includeonly>", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>Hello <meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[6,17,null,null]}'/>cruel<meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[22,34,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>kind&lt;/includeonly>\",\"dsr\":[34,65,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[65,65,null,null]}'/> world.</p>");
add("wt2html", "preload: check <onlyinclude>", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>Goodbye <meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[8,21,null,null]}'/>Hello world<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[32,46,null,null]}'/></p>");
add("wt2html", "preload: can pass tags through if we want to", "<p data-parsoid='{\"dsr\":[0,92,0,0]}'><meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;&lt;/includeonly>\",\"dsr\":[0,28,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[28,28,null,null]}'/>includeonly>Hello world<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;&lt;/includeonly>\",\"dsr\":[51,79,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[79,79,null,null]}'/>/includeonly></p>");
add("wt2html", "preload: check that it doesn't try to do tricks", "<ul data-parsoid='{\"dsr\":[0,111,0,0]}'><li data-parsoid='{\"dsr\":[0,111,1,0]}'> <!-- Hello --> <i data-parsoid='{\"dsr\":[17,30,2,2]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"world\",\"href\":\"./Template:World\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[19,28,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Template:World</span></i> {{<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>subst:&lt;/includeonly>\",\"dsr\":[33,66,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[66,66,null,null]}'/>How are you}}<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"{{{|safesubst:}}} #if:1\",\"function\":\"#if\"},\"params\":{\"1\":{\"wt\":\"2\"},\"2\":{\"wt\":\"3\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"2\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[79,111,null,null]}'>2</span></li></ul>");
add("wt2html", "Play a bit with r67090 and bug 3158", "<div style=\"width:50% !important\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,46,34,6]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;nbsp;\",\"srcContent\":\" \",\"dsr\":[34,40,null,null]}'> </span></div>\n<div style=\"width:50% !important\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"width:50% !important\"},\"sa\":{\"style\":\"width:50%&amp;nbsp;!important\"},\"dsr\":[47,98,39,6]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;nbsp;\",\"srcContent\":\" \",\"dsr\":[86,92,null,null]}'> </span></div>\n<div style=\"width:50% !important\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"width:50% !important\"},\"sa\":{\"style\":\"width:50%&amp;#160;!important\"},\"dsr\":[99,150,39,6]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;nbsp;\",\"srcContent\":\" \",\"dsr\":[138,144,null,null]}'> </span></div>\n<div style=\"border : solid;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[151,192,29,6]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;nbsp;\",\"srcContent\":\" \",\"dsr\":[180,186,null,null]}'> </span></div>");
add("wt2html", "percent-encoding and + signs in internal links (Bug 26410)", "<p data-parsoid='{\"dsr\":[0,127,0,0]}'><a rel=\"mw:WikiLink\" href=\"./User:+%25\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./User:+%25\"},\"sa\":{\"href\":\"User:+%\"},\"dsr\":[0,11,2,2]}'>User:+%</a> <a rel=\"mw:WikiLink\" href=\"./Page+title%25\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Page+title%25\"},\"sa\":{\"href\":\"Page+title%\"},\"dsr\":[12,27,2,2]}'>Page+title%</a>\n<a rel=\"mw:WikiLink\" href=\"./%25+\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./%25+\"},\"sa\":{\"href\":\"%+\"},\"dsr\":[28,34,2,2]}'>%+</a> <a rel=\"mw:WikiLink\" href=\"./%25+\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./%25+\"},\"sa\":{\"href\":\"%+\"},\"dsr\":[35,45,5,2]}'>%20</a> <a rel=\"mw:WikiLink\" href=\"./%25+\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./%25+\"},\"sa\":{\"href\":\"%+ \"},\"dsr\":[46,53,2,2]}'>%+ </a> <a rel=\"mw:WikiLink\" href=\"./%25+r\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./%25+r\"},\"sa\":{\"href\":\"%+r\"},\"dsr\":[54,61,2,2]}'>%+r</a>\n<a rel=\"mw:WikiLink\" href=\"./%25\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./%25\"},\"sa\":{\"href\":\"%\"},\"dsr\":[62,67,2,2]}'>%</a> <a rel=\"mw:WikiLink\" href=\"./+\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./+\"},\"sa\":{\"href\":\"+\"},\"dsr\":[68,73,2,2]}'>+</a> <meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[image:%+abc%39|foo|[[bar]]]]\",\"optList\":[{\"ck\":\"bogus\",\"ak\":\"foo\"},{\"ck\":\"caption\",\"ak\":\"[[bar]]\"}],\"dsr\":[74,104,null,null]}'/>\n<a rel=\"mw:WikiLink\" href=\"./3E\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./3E\"},\"sa\":{\"href\":\"%33%45\"},\"dsr\":[105,115,2,2]}'>3E</a> <a rel=\"mw:WikiLink\" href=\"./3E+\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./3E+\"},\"sa\":{\"href\":\"%33%45+\"},\"dsr\":[116,127,2,2]}'>3E+</a></p>");
add("wt2html", "Special characters in embedded file links (bug 27679)", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Contains &amp; ampersand.jpg]]\",\"optList\":[],\"dsr\":[0,33,null,null]}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Does not exist.jpg|Title with &amp; ampersand]]\",\"optList\":[{\"ck\":\"caption\",\"ak\":\"Title with &amp; ampersand\"}],\"dsr\":[34,84,null,null]}'/>");
add("wt2html", "Bug 31098 Template which includes system messages which includes the template", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Identical\",\"href\":\"./Template:Identical\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}'>Parser function implementation for pf_int missing in Parsoid.\nParser function implementation for pf_int missing in Parsoid.</p>");
add("wt2html", "Bug31490 Turkish: ucfirst 'ix'", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ucfirst:ix\",\"function\":\"ucfirst\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}'>Ix</p>");
add("wt2html", "Bug31490 Turkish: ucfırst (with a dotless i)", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ucfırst:blah\",\"href\":\"./Ucfırst:blah\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Ucfırst:blah</span></p>");
add("wt2html", "Bug31490 ucfırst (with a dotless i) with English language", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ucfırst:blah\",\"href\":\"./Ucfırst:blah\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}'>Warning: Page/template fetching disabled, and no cache for Ucfırst:blah</span></p>");
add("wt2html", "Bug 26375: TOC with italics", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,31,2,2]}'> <i data-parsoid='{\"dsr\":[11,19,2,2]}'>Lost</i> episodes </h2>");
add("wt2html", "Bug 26375: TOC with bold", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,51,2,2]}'> <b data-parsoid='{\"dsr\":[11,31,3,3]}'>should be bold</b> then normal text </h2>");
add("wt2html", "Bug 33845: Headings become cursive in TOC when they contain an image", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,40,2,2]}'> Image <span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[17,37,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span> </h2>");
add("wt2html", "Bug 33845 (2): Headings become bold in TOC when they contain a blockquote", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,44,2,2]}'> <blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[11,41,12,13]}'>Quote</blockquote> </h2>");
add("wt2html", "Unclosed tags in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,26,2,2]}'> Proof: 2 &lt; 3 </h2>\n<p data-parsoid='{\"dsr\":[27,82,0,0]}'><small data-parsoid='{\"stx\":\"html\",\"dsr\":[27,78,7,8]}'>Hanc marginis exiguitas non caperet.</small>\nQED</p>");
add("wt2html", "Multiple tags in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,35,2,2]}'> <i data-parsoid='{\"stx\":\"html\",\"dsr\":[11,21,3,4]}'>Foo</i> <b data-parsoid='{\"stx\":\"html\",\"dsr\":[22,32,3,4]}'>Bar</b> </h2>\n\n<h2 data-parsoid='{\"dsr\":[37,82,2,2]}'> <i data-parsoid='{\"stx\":\"html\",\"dsr\":[40,50,3,4]}'>Foo</i> <blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[51,79,12,13]}'>Bar</blockquote> </h2>");
add("wt2html", "Tags with parameters in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,44,2,2]}'> <sup class=\"in-h2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[11,41,19,6]}'>Hello</sup> </h2>\n\n<h2 data-parsoid='{\"dsr\":[46,84,2,2]}'> <sup class=\"a > b\" data-parsoid='{\"stx\":\"html\",\"dsr\":[49,81,19,6]}'>Evilbye</sup> </h2>");
add("wt2html", "span tags with directionality in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,40,2,2]}'> <span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[11,37,16,7]}'>C++</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[42,76,2,2]}'> <span dir=\"rtl\" data-parsoid='{\"stx\":\"html\",\"dsr\":[45,73,16,7]}'>זבנג!</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[78,186,2,2]}'> <span style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,183,33,7]}'>The attributes on these span tags must be deleted from the TOC</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[188,306,2,2]}'> <span style=\"font-style: italic\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[191,303,43,7]}'>All attributes on these span tags must be deleted from the TOC</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[308,432,2,2]}'> <span dir=\"ltr\" style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[311,429,43,7]}'>Attributes after dir on these span tags must be deleted from the TOC</span> </h2>");
add("wt2html", "Bug 32057: Title needed when expanding <h> nodes.", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"int:Bug32057\",\"function\":\"int\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}'>Parser function implementation for pf_int missing in Parsoid.</p>");
add("wt2html", "Check noCommafy in formatNum", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:123456.78\",\"function\":\"formatnum\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[0,23,null,null]}'>123456.78</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:123456.78\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"NOSEP\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[24,53,null,null]}'>123456.78</span></p>");
add("wt2html", "Wrong option for formatNum (bug 56199)", "<p data-parsoid='{\"dsr\":[0,126,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:1,234.56\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"Random\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[0,29,null,null]}'>1,234.56</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:1,234.56\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"EVERYTHING\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[30,63,null,null]}'>1,234.56</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:1234.56\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"any argument that has the string &#39;NOSEP&#39;\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[64,126,null,null]}'>1234.56</span></p>");
add("wt2html", "Strip marker in grammar", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"grammar:elative\",\"function\":\"grammar\"},\"params\":{\"1\":{\"wt\":\"foo&lt;nowiki/>bar\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,35,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>Parser function implementation for pf_grammar missing in Parsoid.</p>");
add("wt2html", "Gallery override link with WikiLink (bug 34852)", "<p data-parsoid='{\"dsr\":[0,78,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,78,9,10]}'>&lt;gallery>\nFile:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink\n&lt;/gallery></span></p>");
add("wt2html", "Gallery override link with absolute external link (bug 34852)", "<p data-parsoid='{\"dsr\":[0,87,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=http://www.example.org\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,87,9,10]}'>&lt;gallery>\nFile:foobar.jpg|caption|alt=galleryalt|link=http://www.example.org\n&lt;/gallery></span></p>");
add("wt2html", "Gallery override link with malicious javascript (bug 34852)", "<p data-parsoid='{\"dsr\":[0,112,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=\\\" onclick=\\\"alert(&#39;malicious javascript code!&#39;);\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,112,9,10]}'>&lt;gallery>\nFile:foobar.jpg|caption|alt=galleryalt|link=\" onclick=\"alert('malicious javascript code!');\n&lt;/gallery></span></p>");
add("wt2html", "Gallery with invalid title as link (bug 43964)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Extension/gallery\" about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"src\":\"&lt;gallery>\\nFile:foobar.jpg|link=&lt;\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,43,9,10]}'>&lt;gallery>\nFile:foobar.jpg|link=&lt;\n&lt;/gallery></span></p>");
add("wt2html", "Language parser function", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#language:ar\",\"function\":\"#language\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}'>ar</p>");
add("wt2html", "Special parser function", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:RandomPage\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[0,23,null,null]}'>Parser function implementation for pf_#special missing in Parsoid.</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:BaDtItLe\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[24,45,null,null]}'>Parser function implementation for pf_#special missing in Parsoid.</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:Foobar\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}' data-parsoid='{\"pi\":[[]],\"dsr\":[46,65,null,null]}'>Parser function implementation for pf_#special missing in Parsoid.</span></p>");
add("wt2html", "Disable TOC", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>Lead</p>\n<h2 data-parsoid='{\"dsr\":[5,20,2,2]}'> Section 1 </h2>\n<h2 data-parsoid='{\"dsr\":[21,36,2,2]}'> Section 2 </h2>\n<h2 data-parsoid='{\"dsr\":[37,52,2,2]}'> Section 3 </h2>\n<h2 data-parsoid='{\"dsr\":[53,68,2,2]}'> Section 4 </h2>\n<h2 data-parsoid='{\"dsr\":[69,84,2,2]}'> Section 5 </h2>");
add("wt2html", "1. SOL-sensitive wikitext tokens as template-args", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"*a\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[0,11,null,null]}'>*a</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"#a\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[12,23,null,null]}'>#a</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\":a\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[24,35,null,null]}'>:a</span></p>");
add("wt2html", "Headings: 6a. Heading chars in SOL context (with trailing spaces)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,20,8,9]}'>=a=</span></p>\n\n<p data-parsoid='{\"dsr\":[22,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[22,42,8,9]}'>=a=</span> </p>\n\n<p data-parsoid='{\"dsr\":[45,66,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[45,65,8,9]}'>=a=</span>\t</p>\n\n<p data-parsoid='{\"dsr\":[68,90,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[68,88,8,9]}'>=a=</span> \t</p>");
add("wt2html", "Headings: 6b. Heading chars in SOL context (with trailing newlines)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>=a=\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[24,47,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[24,47,8,9]}'>=a= \nb</span></p>\n\n<p data-parsoid='{\"dsr\":[49,72,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[49,72,8,9]}'>=a=\t\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[74,98,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[74,98,8,9]}'>=a=\t \nb</span></p>");
add("wt2html", "Headings: 6c. Heading chars in SOL context (leading newline break)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,22,8,9]}'>=b=</span></p>");
add("wt2html", "Headings: 6d. Heading chars in SOL context (with interspersed comments)", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'><!--c0--><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,29,8,9]}'>=a=</span></p>\n\n<!--c1--><p data-parsoid='{\"dsr\":[40,81,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[40,60,8,9]}'>=a=</span> <!--c2-->\t <!--c3--></p>");
add("wt2html", "Tables: 1b. No escaping needed", "!foo");
add("wt2html", "Tables: 1c. No escaping needed", "|foo");
add("wt2html", "Tables: 1d. No escaping needed", "foo");
add("wt2html", "Links 1. Quote marks in link text", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,35,6,2]}'>Foo<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,33,8,9]}'>''boo''</span></a></p>");
add("wt2html", "Links 2. WikiLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,384,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,16,6,2]}'>[Foobar]</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[17,49,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[23,47,8,9]}'>Foobar]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[50,70,6,2]}'>x [Foobar] x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[71,121,6,2]}'>x <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[79,117,8,9]}'>[http://google.com g]</span> x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[122,154,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[128,152,8,9]}'>[[Bar]]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[155,191,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[161,189,8,9]}'>x [[Bar]] x</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[192,221,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[198,219,8,9]}'>|Bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[222,252,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[228,250,8,9]}'>]]bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[253,283,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[259,281,8,9]}'>[[bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[284,315,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[290,313,8,9]}'>x [[ y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[316,347,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[322,345,8,9]}'>x ]] y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[348,384,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[354,382,8,9]}'>x ]] y [[ z</span></a></p>");
add("wt2html", "Links 3. WikiLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>[[Foo|[Foobar]]\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[16,31,6,2]}'>foo|bar</a></p>");
add("wt2html", "Links 4. ExtLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,90,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,44],\"dsr\":[0,45,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[19,44,8,9]}'>[google]</span></a>\n<a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":65,\"contentOffsets\":[65,89],\"dsr\":[46,90,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[65,89,8,9]}'>google]</span></a></p>\n\n<p data-parsoid='{\"dsr\":[92,128,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[92,128,8,9]}'>[http://google.com]</span></p>\n\n<p data-parsoid='{\"dsr\":[130,173,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[130,173,8,9]}'>[http://google.com google]</span></p>\n");
add("wt2html", "Links 5. ExtLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,26],\"dsr\":[0,27,19,1]}'>[google</a></p>");
add("wt2html", "Links 7b. Don't add spurious <nowiki/>s between text-nodes and url-links (bug 64300)", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com.,;:!?\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,24,0,0]}'>http://example.com.,;:!?</a></p>");
add("wt2html", "1. Leading whitespace in SOL context should be escaped", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>a</p>\n\n<p data-parsoid='{\"dsr\":[21,41,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[21,39,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[43,67,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[43,61,8,9]}'>\t</span>a(tab)</p>\n\n<p data-parsoid='{\"dsr\":[69,121,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[69,87,8,9]}'> </span>\ta\n<!--cmt-->\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[101,119,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[123,144,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[125,143,8,9]}'> </span>b</p>\n\n<p data-parsoid='{\"dsr\":[146,167,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[148,166,8,9]}'>\t</span>b</p>\n\n<p data-parsoid='{\"dsr\":[169,191,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[171,189,8,9]}'>\t</span> b</p>");
add("wt2html", "1. a tags", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'>&lt;a href=\"http://google.com\">google&lt;/a></p>");
add("wt2html", "Table with broken attribute value quoting on consecutive lines", "<table data-parsoid='{\"dsr\":[0,53,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,51,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,50,0,0]}'><td title=\"Hello world\" data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,27,21,0]}'>Foo</td>\n<td style=\"color:red\" data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[28,50,19,0]}'>Bar</td></tr>\n</tbody></table>");
add("wt2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"{{}}\",\"dsr\":[0,4,0,0]}'>{{}}</span></p>");
add("wt2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"}}{{\",\"dsr\":[0,4,0,0]}'>}}{{</span></p>");
add("wt2html", "Empty table rows go away", "<table data-parsoid='{\"dsr\":[0,39,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,37,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,18,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,10,1,0]}'> Hello</td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[11,18,1,0]}'> there</td></tr>\n<tr class=\"foo\" data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[19,33,14,0]}'></tr>\n<tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[34,36,2,0]}'></tr>\n</tbody></table>");
add("wt2html", "RT-ed inter-element separators should be valid separators", "<table data-parsoid='{\"dsr\":[0,16,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,14,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"a\":{\" \":null,\"[\":null,\"foo]]\":null},\"sa\":{\" \":\"\",\"[\":\"\",\"foo]]\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[3,13,10,0]}'></tr>\n</tbody></table>");
add("wt2html", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out\n(Parsoid-only since PHP parser relies on Tidy for correct output)", "<table data-parsoid='{\"dsr\":[0,21,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,19,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,18,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,18,1,0]}'><small data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[4,18,7,0]}'>foo\n<p data-parsoid='{\"dsr\":[15,18,0,0]}'>bar</p></small></td></tr>\n</tbody></table>\n\n<table data-parsoid='{\"dsr\":[23,47,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[26,45,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[26,44,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[26,44,1,0]}'><small data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[27,44,7,0]}'>foo<small data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[37,44,7,0]}'></small></small></td></tr>\n</tbody></table>");
add("wt2html", "Indented table with an empty td", " <table data-parsoid='{\"dsr\":[1,20,2,2]}'>\n <tbody data-parsoid='{\"dsr\":[5,18,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[5,16,2,0]}'>\n <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[9,10,1,0]}'></td>\n <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[12,16,1,0]}'>foo</td></tr>\n </tbody></table>");
add("wt2html", "Multi-line image caption generated by templates with/without trailing newlines", "<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:foo.jpg|thumb|300px|foo\\\\n{{echo|A}}\\\\n{{echo|B}}\\\\n{{echo|C}}]]\",\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"300px\"},{\"ck\":\"caption\",\"ak\":\"foo\\\\n{{echo|A}}\\\\n{{echo|B}}\\\\n{{echo|C}}\"}],\"dsr\":[0,68,null,null]}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:foo.jpg|thumb|300px|foo\\\\n{{echo|A}}\\\\n{{echo|B}}\\\\n{{echo|C}}\\\\n\\\\n]]\",\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"300px\"},{\"ck\":\"caption\",\"ak\":\"foo\\\\n{{echo|A}}\\\\n{{echo|B}}\\\\n{{echo|C}}\\\\n\\\\n\"}],\"dsr\":[69,141,null,null]}'/>");
add("wt2html", "Image: Block level image should have \\n before and after", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>123</p>\n<figure class=\"mw-halign-right\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"right\",\"ak\":\"right\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"150x150px\"}],\"dsr\":[4,45,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[6,43,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/150px-Foobar.jpg\" height=\"17\" width=\"150\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"17\",\"width\":\"150\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></figure>\n<p data-parsoid='{\"dsr\":[46,49,0,0]}'>456</p>");


// Blacklist for wt2wt
add("wt2wt", "Italics and possessives (1)", "obtained by ''[[Lunar Prospector]]<nowiki>'</nowiki>''s gamma-ray spectrometer\n");
add("wt2wt", "Italics and possessives (2)", "'''''Flaming Pie''''' is ... released in 1997. In ''<nowiki>Flaming Pie'</nowiki>''s liner notes\n");
add("wt2wt", "Italics and possessives (3)", "The first monolingual dictionary written in a Romance language was ''<nowiki>Sebastián Covarrubias'</nowiki>'' ''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the ''Vocabolario dell'[[Accademia della Crusca]]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.\n");
add("wt2wt", "Italicized possessive", "The ''[[Main Page]]<nowiki>'</nowiki>''s talk page.\n");
add("wt2wt", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up)", "{|\n!''a''!!''b''\n|''a''||''b''\n|}");
add("wt2wt", "Isolated close tags should be treated as literal text (bug 52760)", "\n\n<s.foo>s\n");
add("wt2wt", "Comment semantics: unclosed comment at end", "<!--This comment will run out to the end of the document-->");
add("wt2wt", "<nowiki> inside <pre> (bug 13238)", "<pre>\n<nowiki>\n</pre>\n<pre>\n<nowiki></nowiki>\n</pre>\n<pre><nowiki>&lt;nowiki&gt;</nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("wt2wt", "<nowiki> and <pre> preference (first one wins)", "<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n\n<nowiki>\n<pre>\n&lt;nowiki&gt;\n</pre>\n</nowiki>\n</pre>\n");
add("wt2wt", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\n\n{{echo|a\n}}\n b\n");
add("wt2wt", "Templates: Handle comments in the target", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{echo|foo}}");
add("wt2wt", "2f. Indent-pre started by table-line syntax", "a\n<nowiki> </nowiki><nowiki>| b\n | c</nowiki>");
add("wt2wt", "Gallery with wikitext inside caption");
add("wt2wt", "Leading pipes outside of tables 2", "a\n| foo\n\nb\n");
add("wt2wt", "Leading pipes outside of tables 3", "a\n| class=\"foo bar\" | baz\n\nb\n");
add("wt2wt", "Definition lists: self-closed tag", ";one<br />two : two-line fun");
add("wt2wt", "BUG 289: \">\"-token in bracketed URL", "[http://www.example.com/ <hello> stuff]\n");
add("wt2wt", "BUG 289: literal \">\"-token in bracketed URL", "[http://www.example.com/ <b>html</b> stuff]\n");
add("wt2wt", "BUG 289: literal double quote in bracketed URL", "[http://www.example.com/ \"hello\" stuff]\n");
add("wt2wt", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081)", "[http://www.example.com test]\n");
add("wt2wt", "External links: wiki links within external link (Bug 3695)", "[http://example.com][[wikilink]]<span> embedded in ext link</span>\n");
add("wt2wt", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid", "''[http://example.com text''<nowiki/>'']''\n[http://example.com '''text''']'''<nowiki/>'''\n''Something [http://example.com in italic''<nowiki/>'']''\n''Something [http://example.com mixed''''', even bold''''']<nowiki>'</nowiki>''\n'''''Now [http://example.com both'''''<nowiki/>''''']'''''\n");
add("wt2wt", "External link containing double-single-quotes with no space separating the url from text in italics", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas'' (1901) en el sitio de ][[Museo Picasso (París)|Museo Picasso]]<span>.</span>\n");
add("wt2wt", "IPv6 urls (bug 21261)", "http://&#x5B;2404:130:0:1000::187:2&#x5D;/index.php\n");
add("wt2wt", "Unclosed and unmatched quotes", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n'''Bold text..'''\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\n'''Bold tag left open'''\n\n''Italic tag left open''\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\n'''<nowiki>This year'</nowiki>'''s election ''should'' beat '''<nowiki>last year'</nowiki>'''s.\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nPlain ''<nowiki>italic'</nowiki>''s plain\n");
add("wt2wt", "A table with captions with non-default spaced attributes and a table row", "{|\n|+ style=\"color: red;\" |caption2\n|+ style=\"color: red;\" | caption3\n|-\n| foo\n|}");
add("wt2wt", "Table td-cell syntax variations", "{|\n| foo bar | baz\n| foo bar foo || baz\n| style=\"color:red;\" | baz\n| style='color:red;' || baz\n|}");
add("wt2wt", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/- ", "{|\n|-\n| style=\"color:red;\" |+1\n| style=\"color:blue;\" |-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("wt2wt", "Table rowspan", "{| border=\"1\"\n| Cell 1, row 1\n| rowspan=\"2\" | Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("wt2wt", "Nested table", "{| border=\"1\"\n| &alpha;\n|\n{| bgcolor=\"#ABCDEF\" border=\"2\"\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("wt2wt", "Invalid attributes in table cell (bug 1830)", "{|\n| Cell: |broken\n|}");
add("wt2wt", "Table attributes with empty value", "{|\n| style=\"\" | hello\n|}");
add("wt2wt", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags)", "{|\n|-\n|a\n|}");
add("wt2wt", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags)", "{|\n|-\n|\n a\n|-\n| b\n|}");
add("wt2wt", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags)", "{|\n|-\n|\n*a\n|}");
add("wt2wt", "Piped link with multiple pipe characters in link text", "[[Main Page|<nowiki>|The|Main|Page|</nowiki>]]\n");
add("wt2wt", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved", "[[Foo|  bar]]\n\n[[Foo|  ''bar'']]\n\n[http://wp.org foo]\n\n[http://wp.org ''foo'']\n");
add("wt2wt", "Handling html with a div self-closing tag", "<div title=\"\" />\n<div title=\"\" />\n<div title/>\n<div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("wt2wt", "Handling html with a br self-closing tag", "<br title=\"\" />\n<br title=\"\" />\n<br title/>\n<br title=\"bar\" />\n<br title=\"bar\" />\n<br title=\"bar/\">\n");
add("wt2wt", "Horizontal ruler (should it add that extra space?)", "<hr>\n<hr>\nfoo <hr> bar");
add("wt2wt", "Nested lists 3 (first element empty)", "\n**bar\n");
add("wt2wt", "Nested lists 6 (both elements empty)", "\n**\n");
add("wt2wt", "2. Lists with start-of-line-transparent tokens before bullets: Template close", "*foo {{echo|bar\n}}\n<nowiki>*</nowiki>baz\n");
add("wt2wt", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack)", "* foo\n* <li>li-hack</li>\n{{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments</li>\n\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("wt2wt", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "<span>\n*a<span>\n*b");
add("wt2wt", "Template with invalid target containing tags", "<nowiki>{{</nowiki>a<b>b</b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b<nowiki>}}</nowiki>\n");
add("wt2wt", "Template with invalid target containing unclosed tag", "<nowiki>{{</nowiki>a<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b<nowiki>}}</nowiki>\n");
add("wt2wt", "Template with invalid target containing wikilink", "<nowiki>{{</nowiki>[[Main Page]]<nowiki>}}</nowiki>\n");
add("wt2wt", "Template with argument in separate line", "{{templateasargtest  |\n templ = simple }}");
add("wt2wt", "BUG 553: link with two variables in a piped link", "{|\n|[[{{{1}}}<nowiki>|</nowiki>{{{2}}}]]\n|}");
add("wt2wt", "Template with targets containing wikilinks", "<nowiki>{{</nowiki>[[foo]]<nowiki>}}</nowiki>\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]<nowiki>}}</nowiki>\n\n{{{{echo|[[foo}}]]}}\n");
add("wt2wt", "2. includeonly in html attr value", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>\n<span id=\"<noinclude>&quot;v1&quot;</noinclude><includeonly>&quot;v2&quot;</includeonly>\">bar</span>\n");
add("wt2wt", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR", "{{echo|}}\n{| width=\"100%\"\n|foo\n|}");
add("wt2wt", "2. Table tag in SOL posn. should get reparsed correctly with valid TSR", "<includeonly>a</includeonly><nowiki>{{{b}}}</nowiki>{| {{{b}}}\n|c\n|}");
add("wt2wt", "Templates: HTML Tag: 2. Generation of HTML attr. value", "<div style=\"{{echo|'color:red;'}}\">foo</div>");
add("wt2wt", "Templates: HTML Tag: 3. Generation of HTML attr key and value", "<div {{echo|style}}=\"{{echo|'color:red;'}}\">foo</div>");
add("wt2wt", "Templates: HTML Tables: 5. Proper fostering of categories from inside", "[[Category:foo1]]<table><tr><td>foo</td></tr></table>\n<!--Two categories (Bug 50330)-->\n[[Category:bar1]][[Category:bar2]]<table><tr><td>foo</td></tr></table>");
add("wt2wt", "pre-save transform: mixed tag case", "<nowiki>'''not wiki'''</nowiki>\n");
add("wt2wt", "pre-save transform: Signature expansion", "*<nowiki> ~~~</nowiki>\n* <noinclude><nowiki>~~~</nowiki></noinclude>\n* <includeonly>~~~</includeonly>\n* <onlyinclude><nowiki>~~~</nowiki></onlyinclude>");
add("wt2wt", "Allow empty links in image captions (Bug 60753)", "[[File:Foobar.jpg|thumb|Caption [[Link1]]\n<nowiki>[[]]</nowiki>\n[[Link2]]\n]]");
add("wt2wt", "Image with multiple widths -- use last", "[[File:Foobar.jpg|300px|caption]]\n");
add("wt2wt", "Render invalid page names as plain text (bug 51090)", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|<nowiki>foo]bar</nowiki>}}]]\n[[{{echo|foo<bar}}]]\n");
add("wt2wt", "Handling of sections up to level 6 and beyond", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\n==== Level 4 Heading====\n===== Level 5 Heading=====\n====== Level 6 Heading======\n======<nowiki>= Level 7 Heading=</nowiki>======\n======<nowiki>== Level 8 Heading==</nowiki>======\n======<nowiki>=== Level 9 Heading===</nowiki>======\n======<nowiki>==== Level 10 Heading====</nowiki>======\n");
add("wt2wt", "div with single-quoted attribute", "<div id=\"rock\">HTML rocks</div>");
add("wt2wt", "div with unquoted attribute", "<div id=\"rock\">HTML rocks</div>");
add("wt2wt", "div with illegal double attributes", "<div id=\"b\">HTML rocks</div>");
add("wt2wt", "div with empty attribute value, space before equals", "<div class=\"\">HTML rocks</div>");
add("wt2wt", "div with empty attribute value, no space before equals", "<div class=\"\">HTML rocks</div>");
add("wt2wt", "HTML multiple attributes correction", "<p class=\"awesome\">Awesome!</p>");
add("wt2wt", "Table multiple attributes correction", "{|\n! class=\"awesome\" + | status\n|}");
add("wt2wt", "DIV IN UPPERCASE", "<DIV id=\"x\">HTML ROCKS</DIV>");
add("wt2wt", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "[[Media:Foobar.jpg|Safe Link<div style=\"display:none\">\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("wt2wt", "Empty attribute crash test single-quotes (bug 2067)", "<font color=\"\">foo</font>\n");
add("wt2wt", "Attribute test: equals, then nothing", "<font color=\"\">foo</font>\n");
add("wt2wt", "Attribute test: unquoted value", "<font color=\"x\">foo</font>\n");
add("wt2wt", "Attribute test: unquoted but illegal value (hash)", "<font color=\"#x\">foo</font>\n");
add("wt2wt", "Attribute test: no value", "<font color=\"\">foo</font>\n");
add("wt2wt", "Bug 2095: link with pipe and three closing brackets, version 2", "[[Main Page|<nowiki>[http://example.com/]</nowiki>]]\n");
add("wt2wt", "Opera -o-link CSS", "<div title=\"&#100;&#97;&#116;&#97;&#58;&#116;&#101;&#120;&#116;&#47;&#104;&#116;&#109;&#108;&#44;&#60;&#105;&#109;&#103;&#32;&#115;&#114;&#99;&#61;&#49;&#32;&#111;&#110;&#101;&#114;&#114;&#111;&#114;&#61;&#97;&#108;&#101;&#114;&#116;&#40;&#49;&#41;&#62;\" style=\"-o-link:attr(title);-o-link-source:current\">X</div>");
add("wt2wt", "Table attribute legitimate extension", "{|\n! style=\"<nowiki>color:blue</nowiki>\" + | status\n|}");
add("wt2wt", "Table attribute safety", "{|\n! style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\" + | status\n|}");
add("wt2wt", "Sanitizer: Closing of closed but not open tags", "");
add("wt2wt", "Sanitizer: Closing of closed but not open table tags", "Table not started");
add("wt2wt", "Sanitizer: Validating the contents of the id attribute (bug 4515)", "<br id=\"9\" />\n");
add("wt2wt", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"\">\n\t<nowiki><meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\"></nowiki>\n</div>");
add("wt2wt", "Fuzz testing: Parser13", "{|  \n| http://a |\n|}");
add("wt2wt", "Fuzz testing: Parser14-table", "==a==\n{| style=\"__TOC__\"\n|}");
add("wt2wt", "Fuzz testing: Parser16", "{|\n!https://||||||\n|}");
add("wt2wt", "Fuzz testing: Parser21", "{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n|\n|}");
add("wt2wt", "Fuzz testing: Parser22", "http://===r:::https://b\n\n{|\n|}");
add("wt2wt", "Fuzz testing: Parser24", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n{|\n\n|\n|}");
add("wt2wt", "Fuzz testing: Parser25 (bug 6055)", "{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE'''\n");
add("wt2wt", "Inline wiki vs wiki block nesting", "'''Bold paragraph'''\n\nNew wiki paragraph\n");
add("wt2wt", "Mixing markup for italics and bold", "'''<nowiki>bold'</nowiki>'''''bold''bolditalics'''''\n");
add("wt2wt", "ISBN code coverage", "ISBN 978-0-1234-56&#x20;789\n");
add("wt2wt", "RFC code coverage", "RFC 983&#x20;987\n");
add("wt2wt", "Don't fall for the self-closing div", "<div>hello world</div>");
add("wt2wt", "Parsing of overlapping (improperly nested) inline html tags", "<span><s>x</span>\n");
add("wt2wt", "Don't break table handling if language converter markup is in the cell.", "{|\n|-\n| -{R |B}-\n|}");
add("wt2wt", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy", "******* Foo \n{{bullet}}");
add("wt2wt", "preload: check that it doesn't try to do tricks", "* <!-- Hello --> ''{{world}}'' <nowiki>{{</nowiki><includeonly>subst:</includeonly>How are you<nowiki>}}</nowiki>{{{{{|safesubst:}}} #if:1|2|3}}");
add("wt2wt", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links", "[http://www.example.org/ ideograms]\n");
add("wt2wt", "Ignore pipe between table row attributes", "{|\n| quux\n|- id=\"foo\" style=\"color: red\" |\n| bar\n|}");
add("wt2wt", "Bad treebuilder fixup of formatting elt is cleaned up", "{|\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n\n|}");
add("wt2wt", "Ref: 3. spaces in ref-names should be ignored", "A <ref name=\"x\">foo</ref>\nB <ref name=\"x\" />\nC <ref name=\"x\" />\n");
add("wt2wt", "Ref: 5. body should accept generic wikitext", "A <ref>This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("wt2wt", "Ref: 6. indent-pres should not be output in ref-body", "A <ref>foo\n bar\n baz\n</ref>\n\n<references />");
add("wt2wt", "Ref: 7. No p-wrapping in ref-body", "A <ref>foo\nbar\nbaz\nbooz\n</ref>\n\n<references />");
add("wt2wt", "Ref: 8. transclusion wikitext has lower precedence", "A <ref>foo {{echo|</ref> B C}}\n\n<references />");
add("wt2wt", "Ref: 9. unclosed comments should not leak out of ref-body", "A <ref>foo <!----></ref> B C\n<references />");
add("wt2wt", "Ref: 10. Unclosed HTML tags should not leak out of ref-body", "A <ref><b> foo </ref> B C\n\n<references />");
add("wt2wt", "References: 5. ref tags in references should be processed while ignoring all other content", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\n</references>");
add("wt2wt", "Entities in ref name", "<ref name=\"test & me\">hi</ref>\n");
add("wt2wt", "Tables: 1d. No escaping needed", "foo");
add("wt2wt", "HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("wt2wt", "Parsoid-only: HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("wt2wt", "Table with broken attribute value quoting", "{|\n| title=\"Hello world\" |Foo\n|}");
add("wt2wt", "Table with broken attribute value quoting on consecutive lines", "{|\n| title=\"Hello world\" |Foo\n| style=\"color:red\" |Bar\n|}");
add("wt2wt", "Parsoid-only: Table with broken attribute value quoting on consecutive lines", "{|\n| title=\"Hello world\" |Foo\n| style=\"color:red\" |Bar\n|}");
add("wt2wt", "RT-ed inter-element separators should be valid separators", "{|\n|-   [ foo]]\n|}");
add("wt2wt", "Empty TD followed by TD with tpl-generated attribute", "{|\n|-\n|\n| {{echo|style='color:red'}} |foo\n|}");
add("wt2wt", "Improperly nested inline or quotes tags with whitespace in between", "<span> <s>x</span> </s>\n''' ''x'''''<nowiki/>'' ''\n");
add("wt2wt", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost)", "<nowiki> || ||</nowiki>\n<table>\n<tr><td> a\n</table>");
add("wt2wt", "Table in fosterable position", "{{OpenTable}}\n<div>\n{|\n|}\n");
add("wt2wt", "Image: upright option is ignored on inline and frame images (parsoid)", "[[File:Foobar.jpg|500x500px|caption]]\n");


// Blacklist for html2html
add("html2html", "Paragraphs with newline spacing with non-empty white-space lines in between", "<hr data-parsoid='{\"dsr\":[0,4,4,0]}'/>\n<p data-parsoid='{\"dsr\":[5,6,0,0]}'>a</p>\n\n<p data-parsoid='{\"dsr\":[8,9,0,0]}'>b</p>\n\n<hr data-parsoid='{\"dsr\":[11,15,4,0]}'/>\n<p data-parsoid='{\"dsr\":[16,17,0,0]}'>a</p>\n\n <p data-parsoid='{\"dsr\":[20,22,0,0]}'><br data-parsoid='{\"dsr\":[20,20,0,0]}'/>\nb</p>\n\n<hr data-parsoid='{\"dsr\":[24,28,4,0]}'/>\n");
add("html2html", "Paragraphs with newline spacing with non-empty mixed comment and white-space lines in between", "<hr data-parsoid='{\"dsr\":[0,4,4,0]}'/>\n<p data-parsoid='{\"dsr\":[5,8,0,0]}'>a\nb</p>\n\n<hr data-parsoid='{\"dsr\":[10,14,4,0]}'/>\n<p data-parsoid='{\"dsr\":[15,18,0,0]}'>a\nb</p>\n\n<hr data-parsoid='{\"dsr\":[20,24,4,0]}'/>\n<p data-parsoid='{\"dsr\":[25,26,0,0]}'>a</p>\n\n<p data-parsoid='{\"dsr\":[28,29,0,0]}'>b</p>\n\n<hr data-parsoid='{\"dsr\":[31,35,4,0]}'/>\n<p data-parsoid='{\"dsr\":[36,37,0,0]}'>a</p>\n\n <p data-parsoid='{\"dsr\":[40,42,0,0]}'><br data-parsoid='{\"dsr\":[40,40,0,0]}'/>\nb</p>\n\n<hr data-parsoid='{\"dsr\":[44,48,4,0]}'/>\n");
add("html2html", "Extra newlines followed by heading", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n\n<p data-parsoid='{\"dsr\":[3,3,0,0]}'><br data-parsoid='{\"dsr\":[3,3,0,0]}'/></p>\n\n<h1 data-parsoid='{\"dsr\":[5,269,1,1]}'> <span class=\"mw-headline\" id=\"b\" data-parsoid='{\"stx\":\"html\",\"dsr\":[7,48,33,7]}'>b</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[48,267,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,122,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: b\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[215,260,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[270,370,0,0]}'>&lt;a href=\"/index.php?title=A&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"A (page does not exist)\">a&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[372,372,0,0]}'><br data-parsoid='{\"dsr\":[372,372,0,0]}'/></p>\n\n<h1 data-parsoid='{\"dsr\":[374,640,1,1]}'> <span class=\"mw-headline\" id=\"b_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[376,419,35,7]}'>b</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[419,638,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[448,493,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: b\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[586,631,37,7]}'>]</span></span> </h1>\n");
add("html2html", "Extra newlines between heading and content are swallowed", "<h1 data-parsoid='{\"dsr\":[0,264,1,1]}'> <span class=\"mw-headline\" id=\"b\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2,43,33,7]}'>b</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[43,262,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[72,117,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: b\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[210,255,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[265,365,0,0]}'>&lt;a href=\"/index.php?title=A&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"A (page does not exist)\">a&lt;/a></p>\n");
add("html2html", "Italics and possessives (1)", "<p data-parsoid='{\"dsr\":[0,203,0,0]}'>obtained by <i data-parsoid='{\"dsr\":[12,179,2,2]}'>&lt;a href=\"/index.php?title=Lunar_Prospector&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Lunar Prospector (page does not exist)\">Lunar Prospector&lt;/a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[159,177,8,9]}'>'</span></i>s gamma-ray spectrometer</p>\n");
add("html2html", "Italics and possessives (3)", "<p data-parsoid='{\"dsr\":[0,515,0,0]}'>The first monolingual dictionary written in a Romance language was <i data-parsoid='{\"dsr\":[67,110,2,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[69,108,8,9]}'>Sebastián Covarrubias'</span></i> <i data-parsoid='{\"dsr\":[111,156,2,2]}'>Tesoro de la lengua castellana o española</i>, published in 1611 in Madrid. In 1612 the first edition of the <i data-parsoid='{\"dsr\":[220,404,2,2]}'>Vocabolario dell'&lt;a href=\"/index.php?title=Accademia_della_Crusca&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Accademia della Crusca (page does not exist)\">Accademia della Crusca&lt;/a></i>, for Italian, was published. In 1690 in Rotterdam was published, posthumously, the <i data-parsoid='{\"dsr\":[488,514,2,2]}'>Dictionnaire Universel</i>.</p>\n");
add("html2html", "Italicized possessive", "<p data-parsoid='{\"dsr\":[0,95,0,0]}'>The <i data-parsoid='{\"dsr\":[4,83,2,2]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[63,81,8,9]}'>'</span></i>s talk page.</p>\n");
add("html2html", "Bare pipe character (bug 52363)", "|\n");
add("html2html", "Bare pipe character from a template (bug 52363)", "|\n");
add("html2html", "nowiki 3", "<dl data-parsoid='{\"dsr\":[0,41,0,0]}'><dd data-parsoid='{\"dsr\":[0,22,1,0]}'> There is not nowiki.</dd>\n<dd data-parsoid='{\"dsr\":[23,41,1,0]}'> There is nowiki.</dd></dl>\n<ol data-parsoid='{\"dsr\":[42,83,0,0]}'><li data-parsoid='{\"dsr\":[42,64,1,0]}'> There is not nowiki.</li>\n<li data-parsoid='{\"dsr\":[65,83,1,0]}'> There is nowiki.</li></ol>\n<ul data-parsoid='{\"dsr\":[84,125,0,0]}'><li data-parsoid='{\"dsr\":[84,106,1,0]}'> There is not nowiki.</li>\n<li data-parsoid='{\"dsr\":[107,125,1,0]}'> There is nowiki.</li></ul>\n");
add("html2html", "Preformatted text", "<pre data-parsoid='{\"dsr\":[0,125,1,0]}'>This is some\nPreformatted text\nWith <i data-parsoid='{\"dsr\":[39,49,2,2]}'>italic</i>\nAnd <b data-parsoid='{\"dsr\":[55,65,3,3]}'>bold</b>\nAnd a &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">link&lt;/a></pre>\n");
add("html2html", "<pre> with <nowiki> inside (compatibility with 1.6 and earlier)", "<pre data-parsoid='{\"dsr\":[0,35,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,35,8,9]}'>&lt;b>\n &lt;cite>\n &lt;em></span></pre>\n");
add("html2html", "Bug 52763: Preformatted in <blockquote>", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,77,12,13]}'>\n<p data-parsoid='{\"dsr\":[13,18,0,0]}'> Blah</p>\n\n<table data-parsoid='{\"dsr\":[20,63,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[24,61,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[24,59,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[24,59,1,0]}'>\n<pre data-parsoid='{\"dsr\":[26,59,1,0]}'>indented cell (no pre-wrapping!)</pre></td></tr>\n\n</tbody></table>\n</blockquote>\n");
add("html2html", "<pre> with attributes (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,24,1,0]}'>Bluescreen of WikiDeath</pre>\n");
add("html2html", "<pre> with width attribute (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,22,1,0]}'>Narrow screen goodies</pre>\n");
add("html2html", "<pre> with forbidden attribute (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,22,1,0]}'>Narrow screen goodies</pre>\n");
add("html2html", "<pre> with forbidden attribute values (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,22,1,0]}'>Narrow screen goodies</pre>\n");
add("html2html", "<nowiki> inside <pre> (bug 13238)", "<pre data-parsoid='{\"dsr\":[0,15,1,0]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[1,5,null,null]}'>&lt;</span>nowiki<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[11,15,null,null]}'>></span></pre>\n\n <p data-parsoid='{\"dsr\":[18,18,0,0]}'><br data-parsoid='{\"dsr\":[18,18,0,0]}'/></p>\n\n<pre data-parsoid='{\"dsr\":[20,53,1,0]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[21,25,null,null]}'>&lt;</span>nowiki<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[31,35,null,null]}'>></span>Foo<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[38,42,null,null]}'>&lt;</span>/nowiki<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[49,53,null,null]}'>></span></pre>\n");
add("html2html", "Empty pre; pre inside other HTML tags (bug 54946)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[3,20,5,6]}'>\n<pre data-parsoid='{\"dsr\":[9,13,1,0]}'>foo</pre>\n</div>\n \n");
add("html2html", "2f. Indent-pre started by table-line syntax", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n | b\n | c\n");
add("html2html", "3a. Indent-Pre and block tags (single-line html)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>a </p>\n\n<p data-parsoid='{\"dsr\":[22,46,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[22,40,8,9]}'> </span>foo \n </p>b <div data-parsoid='{\"stx\":\"html\",\"dsr\":[48,64,5,6]}'> foo </div>\n c <blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[68,98,12,13]}'> foo </blockquote>\n<pre data-parsoid='{\"dsr\":[99,118,1,0]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[100,118,6,7]}'> foo </span></pre>\n");
add("html2html", "3c. Indent-Pre and block tags (pre-content on separate line)", "\n<p data-parsoid='{\"dsr\":[1,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,19,8,9]}'> </span>foo</p>\n\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[24,42,5,6]}'>\n<pre data-parsoid='{\"dsr\":[30,34,1,0]}'>foo</pre>\n\n</div>\n<center data-parsoid='{\"stx\":\"html\",\"dsr\":[43,67,8,9]}'>\n<pre data-parsoid='{\"dsr\":[52,56,1,0]}'>foo</pre>\n\n</center>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[68,100,12,13]}'>\n<p data-parsoid='{\"dsr\":[81,85,0,0]}'> foo</p>\n\n</blockquote>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[101,133,12,13]}'>\n<p data-parsoid='{\"dsr\":[114,118,0,0]}'> foo</p>\n\n</blockquote>\n<table data-parsoid='{\"dsr\":[134,147,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[137,145,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[137,143,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[137,143,1,0]}'>\n<pre data-parsoid='{\"dsr\":[139,143,1,0]}'>foo</pre></td></tr>\n\n</tbody></table>\n<ul data-parsoid='{\"dsr\":[148,154,0,0]}'><li data-parsoid='{\"dsr\":[148,154,1,0]}'>  foo</li></ul>\n");
add("html2html", "4. Indent-Pre and extension tags", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>a </p>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[25,250,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[55,203,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[96,197,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[127,191,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[207,241,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Leading pipes outside of tables", "| foo\n");
add("html2html", "Leading pipes outside of tables 2", "<p data-parsoid='{\"dsr\":[1,2,0,0]}'>a</p>\n| foo\n<p data-parsoid='{\"dsr\":[9,10,0,0]}'>b</p>\n");
add("html2html", "Leading pipes outside of tables 3", "<p data-parsoid='{\"dsr\":[1,2,0,0]}'>a</p>\n| class=\"foo bar\" | baz\n<p data-parsoid='{\"dsr\":[27,28,0,0]}'>b</p>\n");
add("html2html", "4. Multiple spaces at start-of-line", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,21,8,9]}'>    </span> foo </p>\n<pre data-parsoid='{\"dsr\":[27,34,1,0]}'>   foo</pre>\n\n<table data-parsoid='{\"dsr\":[36,47,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[40,45,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[40,44,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[40,44,1,0]}'>foo</td></tr>\n</tbody></table>\n");
add("html2html", "HTML-pre: 3: other wikitext", "<pre data-parsoid='{\"dsr\":[0,71,1,0]}'>* foo\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[8,71,8,9]}'># bar\n = no-h =\n '' no-italic ''\n [[ NoLink ]]</span></pre>\n");
add("html2html", "Definition list with no space", "<dl data-parsoid='{\"dsr\":[0,19,0,0]}'><dt data-parsoid='{\"dsr\":[0,6,1,0]}'> name</dt>\n<dd data-parsoid='{\"dsr\":[7,19,1,0]}'> Definition</dd></dl>\n");
add("html2html", "Definition list with bracketed URL link", "<dl data-parsoid='{\"dsr\":[0,56,0,0]}'><dt data-parsoid='{\"dsr\":[0,35,1,0]}'> <a rel=\"mw:ExtLink\" href=\"http://www.example.com/\" data-parsoid='{\"targetOff\":27,\"contentOffsets\":[27,34],\"dsr\":[2,35,25,1]}'>Example</a></dt>\n<dd data-parsoid='{\"dsr\":[36,56,1,0]}'> Something about it</dd></dl>\n");
add("html2html", "Definition list with wikilink containing colon", "<dl data-parsoid='{\"dsr\":[0,175,0,0]}'><dt data-parsoid='{\"dsr\":[0,140,1,0]}'> &lt;a href=\"/index.php?title=Help:FAQ&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Help:FAQ (page does not exist)\"><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[111,136,8,9]}'>Help:FAQ</span>&lt;/a></dt>\n<dd data-parsoid='{\"dsr\":[141,175,1,0]}'> The least-read page on Wikipedia</dd></dl>\n");
add("html2html", "Definition lists: colon in HTML attribute", "<dl data-parsoid='{\"dsr\":[0,12,0,0]}'><dt data-parsoid='{\"dsr\":[0,12,1,0]}'> <b data-parsoid='{\"dsr\":[2,12,3,3]}'>bold</b></dt></dl>\n");
add("html2html", "Definition lists: self-closed tag", "<dl data-parsoid='{\"dsr\":[0,28,0,0]}'><dt data-parsoid='{\"dsr\":[0,13,1,0]}'> one<br data-parsoid='{\"stx\":\"html\",\"noClose\":true,\"dsr\":[5,9,4,null]}'/>two </dt>\n<dd data-parsoid='{\"dsr\":[14,28,1,0]}'> two-line fun</dd></dl>\n");
add("html2html", "Bug 11748: Literal closing tags", "\n<dl data-parsoid='{\"dsr\":[1,72,0,0]}'><dt data-parsoid='{\"dsr\":[1,9,1,0]}'> test 1</dt>\n<dd data-parsoid='{\"dsr\":[10,36,1,0]}'> test test test test test</dd>\n<dt data-parsoid='{\"dsr\":[37,45,1,0]}'> test 2</dt>\n<dd data-parsoid='{\"dsr\":[46,72,1,0]}'> test test test test test</dd></dl>\n");
add("html2html", "Definition Lists: No nesting: Multiple dd's", "<dl data-parsoid='{\"dsr\":[0,11,0,0]}'><dt data-parsoid='{\"dsr\":[0,3,1,0]}'> x</dt>\n<dd data-parsoid='{\"dsr\":[4,7,1,0]}'> a</dd>\n<dd data-parsoid='{\"dsr\":[8,11,1,0]}'> b</dd></dl>\n");
add("html2html", "Definition Lists: Indentation: Regular", "<dl data-parsoid='{\"dsr\":[0,17,0,0]}'><dd data-parsoid='{\"dsr\":[0,17,1,0]}'> i1\n<dl data-parsoid='{\"dsr\":[5,17,0,0]}'><dd data-parsoid='{\"dsr\":[5,17,2,0]}'> i2\n<dl data-parsoid='{\"dsr\":[11,17,0,0]}'><dd data-parsoid='{\"dsr\":[11,17,3,0]}'> i3</dd></dl></dd></dl></dd></dl>\n");
add("html2html", "Definition Lists: Indentation: Missing 1st level", "<dl data-parsoid='{\"dsr\":[0,12,0,0]}'><dd data-parsoid='{\"dsr\":[0,12,1,0]}'><dl data-parsoid='{\"dsr\":[1,12,0,0]}'><dd data-parsoid='{\"dsr\":[1,12,1,0]}'> i2\n<dl data-parsoid='{\"dsr\":[6,12,0,0]}'><dd data-parsoid='{\"dsr\":[6,12,3,0]}'> i3</dd></dl></dd></dl></dd></dl>\n");
add("html2html", "Definition Lists: Indentation: Multi-level indent", "<dl data-parsoid='{\"dsr\":[0,6,0,0]}'><dd data-parsoid='{\"dsr\":[0,6,1,0]}'><dl data-parsoid='{\"dsr\":[1,6,0,0]}'><dd data-parsoid='{\"dsr\":[1,6,1,0]}'><dl data-parsoid='{\"dsr\":[2,6,0,0]}'><dd data-parsoid='{\"dsr\":[2,6,1,0]}'> i3</dd></dl></dd></dl></dd></dl>\n");
add("html2html", "Definition Lists: Hacky use to indent tables", "<dl data-parsoid='{\"dsr\":[0,20,0,0]}'><dd data-parsoid='{\"dsr\":[0,20,1,0]}'><dl data-parsoid='{\"dsr\":[1,20,0,0]}'><dd data-parsoid='{\"dsr\":[1,20,1,0]}'> <table data-parsoid='{\"dsr\":[3,20,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[7,18,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[7,17,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[7,11,1,0]}'>foo</td>\n\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[13,17,1,0]}'>bar</td></tr>\n</tbody></table></dd></dl></dd></dl>\n<p data-parsoid='{\"dsr\":[21,51,0,0]}'>this text\nshould be left alone</p>\n");
add("html2html", "Definition Lists: Hacky use to indent tables, with comments (bug 63979)", "<!-- foo -->\n<dl data-parsoid='{\"dsr\":[13,43,0,0]}'><dd data-parsoid='{\"dsr\":[13,43,1,0]}'><dl data-parsoid='{\"dsr\":[14,43,0,0]}'><dd data-parsoid='{\"dsr\":[14,43,1,0]}'> <table data-parsoid='{\"dsr\":[16,31,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[19,29,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[19,28,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[19,23,1,0]}'>foo</td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[24,28,1,0]}'>bar</td></tr>\n</tbody></table><!-- bar --></dd></dl></dd></dl>\n<p data-parsoid='{\"dsr\":[44,74,0,0]}'>this text\nshould be left alone</p>\n");
add("html2html", "Definition Lists: Hacky use to indent tables, with comment before table", "<dl data-parsoid='{\"dsr\":[0,25,0,0]}'><dd data-parsoid='{\"dsr\":[0,25,1,0]}'><dl data-parsoid='{\"dsr\":[1,25,0,0]}'><dd data-parsoid='{\"dsr\":[1,25,1,0]}'> <!-- foo --><table data-parsoid='{\"dsr\":[15,25,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[18,23,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[18,22,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[18,22,1,0]}'>foo</td></tr>\n</tbody></table></dd></dl></dd></dl>\n");
add("html2html", "Table / list interaction: indented table with lists in table contents", "<dl data-parsoid='{\"dsr\":[0,28,0,0]}'><dd data-parsoid='{\"dsr\":[0,28,1,0]}'> <table data-parsoid='{\"dsr\":[2,28,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[6,26,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[6,13,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,13,1,0]}'> a\n<ul data-parsoid='{\"dsr\":[10,13,0,0]}'><li data-parsoid='{\"dsr\":[10,13,1,0]}'> b</li></ul></td></tr>\n\n<tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[15,25,2,0]}'>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[18,25,1,0]}'> c\n<ul data-parsoid='{\"dsr\":[22,25,0,0]}'><li data-parsoid='{\"dsr\":[22,25,1,0]}'> d</li></ul></td></tr>\n</tbody></table></dd></dl>\n");
add("html2html", "Table / list interaction: lists nested in tables nested in indented lists", "<dl data-parsoid='{\"dsr\":[0,29,0,0]}'><dd data-parsoid='{\"dsr\":[0,29,1,0]}'> <table data-parsoid='{\"dsr\":[2,29,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[6,27,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[6,26,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,15,1,0]}'>\n<dl data-parsoid='{\"dsr\":[8,15,0,0]}'><dd data-parsoid='{\"dsr\":[8,11,1,0]}'> a</dd>\n<dd data-parsoid='{\"dsr\":[12,15,1,0]}'> b</dd></dl></td>\n\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[17,26,1,0]}'>\n<ul data-parsoid='{\"dsr\":[19,26,0,0]}'><li data-parsoid='{\"dsr\":[19,22,1,0]}'> c</li>\n<li data-parsoid='{\"dsr\":[23,26,1,0]}'> d</li></ul></td></tr>\n</tbody></table></dd></dl>\n<ul data-parsoid='{\"dsr\":[30,37,0,0]}'><li data-parsoid='{\"dsr\":[30,33,1,0]}'> e</li>\n<li data-parsoid='{\"dsr\":[34,37,1,0]}'> f</li></ul>\n");
add("html2html", "Definition Lists: Nesting: Multi-level (Parsoid only)", "\n<dl data-parsoid='{\"dsr\":[1,116,0,0]}'><dt data-parsoid='{\"dsr\":[1,6,1,0]}'> t1 </dt>\n<dd data-parsoid='{\"dsr\":[7,17,1,0]}'> d1      </dd>\n<dt data-parsoid='{\"dsr\":[18,116,1,0]}'><dl data-parsoid='{\"dsr\":[19,116,0,0]}'><dt data-parsoid='{\"dsr\":[19,24,1,0]}'> t2 </dt>\n<dd data-parsoid='{\"dsr\":[25,62,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[28,48,8,9]}'>:d2</span>              </dd>\n<dt data-parsoid='{\"dsr\":[63,116,2,0]}'><dl data-parsoid='{\"dsr\":[65,116,0,0]}'><dt data-parsoid='{\"dsr\":[65,70,1,0]}'> t3 </dt>\n<dd data-parsoid='{\"dsr\":[71,116,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[75,96,8,9]}'>::d3</span>                    </dd></dl></dt></dl></dt></dl>\n");
add("html2html", "Definition Lists: Nesting: Test 2 (Parsoid only)", "\n<dl data-parsoid='{\"dsr\":[1,23,0,0]}'><dt data-parsoid='{\"dsr\":[1,11,1,0]}'> t1      </dt>\n<dd data-parsoid='{\"dsr\":[12,23,1,0]}'><dl data-parsoid='{\"dsr\":[13,23,0,0]}'><dd data-parsoid='{\"dsr\":[13,23,1,0]}'> d2      </dd></dl></dd></dl>\n");
add("html2html", "Definition Lists: Nesting: Test 3 (Parsoid only)", "      \n<dl data-parsoid='{\"dsr\":[7,98,0,0]}'><dd data-parsoid='{\"dsr\":[7,98,1,0]}'><dl data-parsoid='{\"dsr\":[8,98,0,0]}'><dt data-parsoid='{\"dsr\":[8,48,1,0]}'> t1                                    </dt>\n<dd data-parsoid='{\"dsr\":[49,98,2,0]}'><dl data-parsoid='{\"dsr\":[51,98,0,0]}'><dd data-parsoid='{\"dsr\":[51,98,1,0]}'><dl data-parsoid='{\"dsr\":[52,98,0,0]}'><dd data-parsoid='{\"dsr\":[52,98,1,0]}'> d2                                          </dd></dl></dd></dl></dd></dl></dd></dl>\n");
add("html2html", "Definition Lists: Nesting: Test 4", "<dl data-parsoid='{\"dsr\":[0,13,0,0]}'><dd data-parsoid='{\"dsr\":[0,13,1,0]}'><dl data-parsoid='{\"dsr\":[1,13,0,0]}'><dd data-parsoid='{\"dsr\":[1,13,1,0]}'><dl data-parsoid='{\"dsr\":[2,13,0,0]}'><dt data-parsoid='{\"dsr\":[2,6,1,0]}'> t3</dt>\n<dd data-parsoid='{\"dsr\":[7,13,3,0]}'> d3</dd></dl></dd></dl></dd></dl>\n");
add("html2html", "Definition Lists: Mixed Lists: Test 4", "<ul data-parsoid='{\"dsr\":[0,25,0,0]}'><li data-parsoid='{\"dsr\":[0,25,1,0]}'><dl data-parsoid='{\"dsr\":[1,25,0,0]}'><dt data-parsoid='{\"dsr\":[1,6,1,0]}'> d1 </dt>\n<dd data-parsoid='{\"dsr\":[7,12,1,0]}'> d2</dd>\n<dt data-parsoid='{\"dsr\":[13,19,2,0]}'> d3 </dt>\n<dd data-parsoid='{\"dsr\":[20,25,1,0]}'> d4</dd></dl></li></ul>\n");
add("html2html", "Definition Lists: Mixed Lists: Test 5", "<ul data-parsoid='{\"dsr\":[0,12,0,0]}'><li data-parsoid='{\"dsr\":[0,12,1,0]}'><dl data-parsoid='{\"dsr\":[1,12,0,0]}'><dd data-parsoid='{\"dsr\":[1,12,1,0]}'> d1\n<dl data-parsoid='{\"dsr\":[6,12,0,0]}'><dd data-parsoid='{\"dsr\":[6,12,3,0]}'> d2</dd></dl></dd></dl></li></ul>\n");
add("html2html", "Definition Lists: Mixed Lists: Test 6", "<ol data-parsoid='{\"dsr\":[0,15,0,0]}'><li data-parsoid='{\"dsr\":[0,15,1,0]}'><ul data-parsoid='{\"dsr\":[1,15,0,0]}'><li data-parsoid='{\"dsr\":[1,15,1,0]}'><dl data-parsoid='{\"dsr\":[2,15,0,0]}'><dd data-parsoid='{\"dsr\":[2,15,1,0]}'> d1\n<dl data-parsoid='{\"dsr\":[7,15,0,0]}'><dd data-parsoid='{\"dsr\":[7,15,4,0]}'><dl data-parsoid='{\"dsr\":[11,15,0,0]}'><dd data-parsoid='{\"dsr\":[11,15,1,0]}'> d3</dd></dl></dd></dl></dd></dl></li></ul></li></ol>\n");
add("html2html", "Definition Lists: Mixed Lists: Test 9", "<ul data-parsoid='{\"dsr\":[0,14,0,0]}'><li data-parsoid='{\"dsr\":[0,14,1,0]}'><dl data-parsoid='{\"dsr\":[1,14,0,0]}'><dt data-parsoid='{\"dsr\":[1,7,1,0]}'> foo </dt>\n<dd data-parsoid='{\"dsr\":[8,14,1,0]}'> bar</dd></dl></li></ul>\n");
add("html2html", "Definition Lists: Mixed Lists: Test 10", "<ul data-parsoid='{\"dsr\":[0,16,0,0]}'><li data-parsoid='{\"dsr\":[0,16,1,0]}'><ol data-parsoid='{\"dsr\":[1,16,0,0]}'><li data-parsoid='{\"dsr\":[1,16,1,0]}'><dl data-parsoid='{\"dsr\":[2,16,0,0]}'><dt data-parsoid='{\"dsr\":[2,8,1,0]}'> foo </dt>\n<dd data-parsoid='{\"dsr\":[9,16,1,0]}'> bar</dd></dl></li></ol></li></ul>\n");
add("html2html", "Definition Lists: Mixed Lists: Test 11", "\n<ul data-parsoid='{\"dsr\":[1,33,0,0]}'><li data-parsoid='{\"dsr\":[1,33,1,0]}'><ol data-parsoid='{\"dsr\":[2,33,0,0]}'><li data-parsoid='{\"dsr\":[2,33,1,0]}'><ul data-parsoid='{\"dsr\":[3,33,0,0]}'><li data-parsoid='{\"dsr\":[3,33,1,0]}'><ol data-parsoid='{\"dsr\":[4,33,0,0]}'><li data-parsoid='{\"dsr\":[4,33,1,0]}'><dl data-parsoid='{\"dsr\":[5,33,0,0]}'><dt data-parsoid='{\"dsr\":[5,19,1,0]}'><ul data-parsoid='{\"dsr\":[6,18,0,0]}'><li data-parsoid='{\"dsr\":[6,18,1,0]}'><dl data-parsoid='{\"dsr\":[7,18,0,0]}'><dt data-parsoid='{\"dsr\":[7,18,1,0]}'><dl data-parsoid='{\"dsr\":[8,18,0,0]}'><dt data-parsoid='{\"dsr\":[8,14,1,0]}'> foo<span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\" \",\"isDisplayHack\":true,\"dsr\":[13,14,null,0]}'> </span></dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[14,18,1,0]}'>bar</dd></dl></dt></dl></li></ul>\n</dt><dt data-parsoid='{\"dsr\":[19,29,5,0]}'> boo<span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\" \",\"isDisplayHack\":true,\"dsr\":[28,29,null,0]}'> </span></dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[29,33,1,0]}'>baz</dd></dl></li></ol></li></ul></li></ol></li></ul>\n");
add("html2html", "External links: Clickable images", "<p data-parsoid='{\"dsr\":[0,78,0,0]}'>ja-style clickable images: <img src=\"http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png\" alt=\"Ncwikicol.png\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[27,78,null,null]}'/></p>\n");
add("html2html", "IPv6 urls (bug 21261)", "<p data-parsoid='{\"dsr\":[0,95,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://[2404:130:0:1000::187:2]/index.php\" data-parsoid='{\"targetOff\":53,\"contentOffsets\":[53,83],\"a\":{\"href\":\"http://[2404:130:0:1000::187:2]/index.php\"},\"sa\":{\"href\":\"http://&amp;#x5B;2404:130:0:1000::187:2&amp;#x5D;/index.php\"},\"dsr\":[0,84,53,1]}'>http://[2404:130:0:1000::187:2</a>/index.php]</p>\n");
add("html2html", "Unclosed and unmatched quotes", "<p data-parsoid='{\"dsr\":[0,66,0,0]}'><i data-parsoid='{\"dsr\":[0,66,2,2]}'><b data-parsoid='{\"dsr\":[2,25,3,3]}'>Bold italic text </b>with bold deactivated<b data-parsoid='{\"dsr\":[46,64,3,3]}'> in between.</b></i></p>\n\n<p data-parsoid='{\"dsr\":[68,134,0,0]}'><b data-parsoid='{\"dsr\":[68,134,3,3]}'><i data-parsoid='{\"dsr\":[71,92,2,2]}'>Bold italic text </i>with italic deactivated<i data-parsoid='{\"dsr\":[115,131,2,2]}'> in between.</i></b></p>\n\n<p data-parsoid='{\"dsr\":[136,153,0,0]}'><b data-parsoid='{\"dsr\":[136,153,3,3]}'>Bold text..</b></p>\n\n<p data-parsoid='{\"dsr\":[155,214,0,0]}'>..spanning two paragraphs (should not work).<b data-parsoid='{\"dsr\":[199,214,3,3]}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;nowiki/>\",\"dsr\":[202,211,null,null]}'/></b></p>\n\n<p data-parsoid='{\"dsr\":[216,240,0,0]}'><b data-parsoid='{\"dsr\":[216,240,3,3]}'>Bold tag left open</b></p>\n\n<p data-parsoid='{\"dsr\":[242,266,0,0]}'><i data-parsoid='{\"dsr\":[242,266,2,2]}'>Italic tag left open</i></p>\n\n<p data-parsoid='{\"dsr\":[268,280,0,0]}'>Normal text.</p>\n\n<p data-parsoid='{\"dsr\":[282,377,0,0]}'><b data-parsoid='{\"dsr\":[282,315,3,3]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[285,312,8,9]}'>This year'</span></b>s election <i data-parsoid='{\"dsr\":[326,336,2,2]}'>should</i> beat <b data-parsoid='{\"dsr\":[342,375,3,3]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[345,372,8,9]}'>last year'</span></b>s.</p>\n\n<p data-parsoid='{\"dsr\":[379,435,0,0]}'><i data-parsoid='{\"dsr\":[379,413,2,2]}'>Tom<b data-parsoid='{\"dsr\":[384,411,3,3]}'>s car is bigger than </b></i><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;nowiki/>\",\"dsr\":[413,422,null,null]}'/><b data-parsoid='{\"dsr\":[422,433,3,3]}'>Susan</b>s.</p>\n\n<p data-parsoid='{\"dsr\":[437,478,0,0]}'>Plain <i data-parsoid='{\"dsr\":[443,471,2,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[445,469,8,9]}'>italic'</span></i>s plain</p>\n");
add("html2html", "Accept \"||\" in indented table headings", "<dl data-parsoid='{\"dsr\":[0,18,0,0]}'><dd data-parsoid='{\"dsr\":[0,18,1,0]}'> <table data-parsoid='{\"dsr\":[2,18,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[6,16,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[6,15,0,0]}'><th data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,10,1,0]}'>h1 </th>\n<th data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[11,15,1,0]}'> h2</th></tr>\n</tbody></table></dd></dl>\n");
add("html2html", "Indented table markup mixed with indented pre content (proposed in bug 6200)", " <table data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[1,58,2,0]}'>\n \n <tbody data-parsoid='{\"dsr\":[7,58,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[7,58,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[7,58,1,0]}'>\n<pre data-parsoid='{\"dsr\":[9,58,1,0]}'>Text that should be rendered preformatted \n\n|}</pre></td></tr></tbody></table>\n");
add("html2html", "Plain link, capitalized", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n");
add("html2html", "Plain link, uncapitalized", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page&lt;/a></p>\n");
add("html2html", "Piped link", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">The Main Page&lt;/a></p>\n");
add("html2html", "Piped link with comment in link text", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">The Main Page&lt;/a></p>\n");
add("html2html", "Piped link with multiple pipe characters in link text", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,46,12,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[12,44,8,9]}'>|The|Main|Page|</span></a></p>\n");
add("html2html", "Broken link", "<p data-parsoid='{\"dsr\":[0,142,0,0]}'>&lt;a href=\"/index.php?title=Zigzagzogzagzig&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Zigzagzogzagzig (page does not exist)\">Zigzagzogzagzig&lt;/a></p>\n");
add("html2html", "Broken link with fragment", "<p data-parsoid='{\"dsr\":[0,146,0,0]}'>&lt;a href=\"/index.php?title=Zigzagzogzagzig&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Zigzagzogzagzig (page does not exist)\">Zigzagzogzagzig#zug&lt;/a></p>\n");
add("html2html", "Special page link with fragment", "<p data-parsoid='{\"dsr\":[0,89,0,0]}'>&lt;a href=\"/wiki/Special:Version#anchor\" title=\"Special:Version\">Special:Version#anchor&lt;/a></p>\n");
add("html2html", "Nonexistent special page link with fragment", "<p data-parsoid='{\"dsr\":[0,191,0,0]}'>&lt;a href=\"/wiki/Special:ThisNameWillHopefullyNeverBeUsed\" class=\"new\" title=\"Special:ThisNameWillHopefullyNeverBeUsed (page does not exist)\">Special:ThisNameWillHopefullyNeverBeUsed#anchor&lt;/a></p>\n");
add("html2html", "Link with prefix", "<p data-parsoid='{\"dsr\":[0,307,0,0]}'>xxx&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page&lt;/a>, xxx&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a>, Xxx&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page&lt;/a> XXX&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page&lt;/a>, XXX&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n");
add("html2html", "Link with suffix", "<p data-parsoid='{\"dsr\":[0,184,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Pagexxx&lt;/a>, &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a>XXX, &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a>!!!</p>\n");
add("html2html", "Bug 43661: Piped links with identical prefixes", "<p data-parsoid='{\"dsr\":[0,91,0,0]}'>&lt;a href=\"/wiki/Prefixed_article\" title=\"Prefixed article\">prefixed articles with spaces&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[93,176,0,0]}'>&lt;a href=\"/wiki/Prefixed_article\" title=\"Prefixed article\">prefixed articlesaoeu&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[178,240,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page test&lt;/a></p>\n");
add("html2html", "Link with HTML entity in suffix / tail", "<p data-parsoid='{\"dsr\":[0,118,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a>\", &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a>a</p>\n");
add("html2html", "Link with 4 brackets", "<p data-parsoid='{\"dsr\":[0,78,0,0]}'>[[&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[59,78,8,9]}'>]]</span></p>\n");
add("html2html", "Piped link with extlink-like text", "<p data-parsoid='{\"dsr\":[0,117,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">[bar]&lt;/a>\n&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">This is a [bar]&lt;/a></p>\n");
add("html2html", "Link with multiple pipes", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">The|Main|Page&lt;/a></p>\n");
add("html2html", "Link to namespaces", "<p data-parsoid='{\"dsr\":[0,301,0,0]}'>&lt;a href=\"/index.php?title=Talk:Parser_testing&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Talk:Parser testing (page does not exist)\">Talk:Parser testing&lt;/a>, &lt;a href=\"/index.php?title=Meta:Disclaimers&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Meta:Disclaimers (page does not exist)\">Meta:Disclaimers&lt;/a></p>\n");
add("html2html", "Link with space in namespace", "<p data-parsoid='{\"dsr\":[0,148,0,0]}'>&lt;a href=\"/index.php?title=User_talk:Foo_bar&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"User talk:Foo bar (page does not exist)\">User talk:Foo bar&lt;/a></p>\n");
add("html2html", "Namespace takes precedence over interwiki link (bug 51680)", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>&lt;a href=\"/wiki/MemoryAlpha:AlphaTest\" title=\"MemoryAlpha:AlphaTest\">MemoryAlpha:AlphaTest&lt;/a></p>\n");
add("html2html", "Piped link to namespace", "<p data-parsoid='{\"dsr\":[0,144,0,0]}'>&lt;a href=\"/index.php?title=Meta:Disclaimers&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Meta:Disclaimers (page does not exist)\">The disclaimers&lt;/a></p>\n");
add("html2html", "Link containing \"#<\" and \"#>\" % as a hex sequences- these are valid section anchors\nExample for such a section: == < ==", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page#%3C\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page#%3C\"},\"sa\":{\"href\":\"Main Page#&lt;\"},\"dsr\":[0,18,14,2]}'>#&lt;</a><a rel=\"mw:WikiLink\" href=\"./Main_Page#%3E\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page#%3E\"},\"sa\":{\"href\":\"Main Page#>\"},\"dsr\":[18,36,14,2]}'>#></a></p>\n");
add("html2html", "Link containing double-single-quotes '' in text embedded in italics (bug 4598 sanity check)", "<p data-parsoid='{\"dsr\":[0,143,0,0]}'><i data-parsoid='{\"dsr\":[0,117,2,2]}'>Some &lt;a href=\"/index.php?title=Link&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Link (page does not exist)\">pretty </i>italics<i data-parsoid='{\"dsr\":[124,143,2,2]}'> and stuff&lt;/a>!</i></p>\n");
add("html2html", "Link with double quotes in title part (literal) and alternate part (interpreted)", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'>&lt;meta />\n<a rel=\"mw:WikiLink\" href=\"./''Pentecoste''\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./&#39;&#39;Pentecoste&#39;&#39;\"},\"sa\":{\"href\":\"&#39;&#39;Pentecoste&#39;&#39;\"},\"dsr\":[9,27,2,2]}'>''Pentecoste''</a></p>\n\n<p data-parsoid='{\"dsr\":[29,58,0,0]}'><a rel=\"mw:WikiLink\" href=\"./''Pentecoste''\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./&#39;&#39;Pentecoste&#39;&#39;\"},\"sa\":{\"href\":\"&#39;&#39;Pentecoste&#39;&#39;\"},\"dsr\":[29,58,17,2]}'>Pentecoste</a></p>\n\n<p data-parsoid='{\"dsr\":[60,93,0,0]}'><a rel=\"mw:WikiLink\" href=\"./''Pentecoste''\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./&#39;&#39;Pentecoste&#39;&#39;\"},\"sa\":{\"href\":\"&#39;&#39;Pentecoste&#39;&#39;\"},\"dsr\":[60,93,17,2]}'><i data-parsoid='{\"dsr\":[77,91,2,2]}'>Pentecoste</i></a></p>\n");
add("html2html", "Broken image links with HTML captions (bug 39700)", "<p data-parsoid='{\"dsr\":[0,465,0,0]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\">&lt;script>&lt;/script>&lt;/a>\n&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\">&lt;script>&lt;/script>&lt;/a>\n&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\">&lt;&lt;/a>\n&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\">abc&lt;/a></p>\n");
add("html2html", "Plain link to page with question mark in title", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>&lt;a href=\"/wiki/A%3Fb\" title=\"A?b\">A?b&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[43,84,0,0]}'>&lt;a href=\"/wiki/A%3Fb\" title=\"A?b\">Baz&lt;/a></p>\n");
add("html2html", "Self-link to section should not be bold", "<p data-parsoid='{\"dsr\":[0,73,0,0]}'>&lt;a href=\"/wiki/Main_Page#section\" title=\"Main Page\">Main Page#section&lt;/a></p>\n");
add("html2html", "Link to numeric-equivalent title", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'>&lt;a href=\"/wiki/00\" title=\"00\">00&lt;/a></p>\n");
add("html2html", "<nowiki> inside a link", "<p data-parsoid='{\"dsr\":[0,113,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,30,8,9]}'>[[Main Page]]</span> &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">the main page [it's not very good]&lt;/a></p>\n");
add("html2html", "Non-breaking spaces in title", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">  Main   Page  &lt;/a></p>\n");
add("html2html", "Internal link with ca linktrail, surrounded by bold apostrophes (bug 27473 primary issue)", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'><b data-parsoid='{\"dsr\":[0,63,3,3]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></b></p>\n");
add("html2html", "Internal link with ca linktrail, surrounded by italic apostrophes (bug 27473 primary issue)", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'><i data-parsoid='{\"dsr\":[0,61,2,2]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></i></p>\n");
add("html2html", "Internal link with en linktrail: no apostrophes (bug 27473)", "<p data-parsoid='{\"dsr\":[0,129,0,0]}'>&lt;a href=\"/index.php?title=Something&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Something (page does not exist)\">Something&lt;/a>'nice</p>\n");
add("html2html", "Internal link with ca linktrail with apostrophes (bug 27473)", "<p data-parsoid='{\"dsr\":[0,128,0,0]}'>&lt;a href=\"/index.php?title=Something&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Something (encara no existeix)\">Something'nice&lt;/a></p>\n");
add("html2html", "Internal link with kaa linktrail with apostrophes (bug 27473)", "<p data-parsoid='{\"dsr\":[0,131,0,0]}'>&lt;a href=\"/index.php?title=Something&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Something (bet ele jaratılmag'an)\">Something'nice&lt;/a></p>\n");
add("html2html", "Internal link with is link prefix", "<p data-parsoid='{\"dsr\":[0,83,0,0]}'>Aðrir &lt;a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuðir&lt;/a> og</p>\n");
add("html2html", "Internal link with is link trail and link prefix", "<p data-parsoid='{\"dsr\":[0,391,0,0]}'>&lt;a href=\"/wiki/M%C3%B3tm%C3%A6lendatr%C3%BA\" title=\"Mótmælendatrú\">xxxar&lt;/a>\n&lt;a href=\"/wiki/M%C3%B3tm%C3%A6lendatr%C3%BA\" title=\"Mótmælendatrú\">mótmælendatrúar&lt;/a>\n&lt;a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuður&lt;/a>\n&lt;a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuðir&lt;/a>\n&lt;a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuðirxxx&lt;/a></p>\n");
add("html2html", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved", "<p data-parsoid='{\"dsr\":[0,108,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">  bar&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[110,222,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">  <i data-parsoid='{\"dsr\":[211,218,2,2]}'>bar</i>&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[224,243,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://wp.org\" data-parsoid='{\"targetOff\":239,\"contentOffsets\":[239,242],\"dsr\":[224,243,15,1]}'>foo</a></p>\n\n<p data-parsoid='{\"dsr\":[245,268,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://wp.org\" data-parsoid='{\"targetOff\":260,\"contentOffsets\":[260,267],\"dsr\":[245,268,15,1]}'><i data-parsoid='{\"dsr\":[260,267,2,2]}'>foo</i></a></p>\n");
add("html2html", "Inline interwiki link", "<p data-parsoid='{\"dsr\":[0,128,0,0]}'>&lt;a href=\"http://www.usemod.com/cgi-bin/mb.pl?SoftSecurity\" class=\"extiw\" title=\"meatball:SoftSecurity\">MeatBall:SoftSecurity&lt;/a></p>\n");
add("html2html", "Inline interwiki link with empty title (bug 2372)", "<p data-parsoid='{\"dsr\":[0,91,0,0]}'>&lt;a href=\"http://www.usemod.com/cgi-bin/mb.pl\" class=\"extiw\" title=\"meatball:\">MeatBall:&lt;/a></p>\n");
add("html2html", "Interwiki link encoding conversion (bug 1636)", "<ul data-parsoid='{\"dsr\":[0,255,0,0]}'><li data-parsoid='{\"dsr\":[0,127,1,0]}'> &lt;a href=\"http://en.wikipedia.org/wiki/ro:Olteni%C5%A3a\" class=\"extiw\" title=\"wikipedia:ro:Olteniţa\">Wikipedia:ro:Olteniţa&lt;/a></li>\n<li data-parsoid='{\"dsr\":[128,255,1,0]}'> &lt;a href=\"http://en.wikipedia.org/wiki/ro:Olteni%C5%A3a\" class=\"extiw\" title=\"wikipedia:ro:Olteniţa\">Wikipedia:ro:Olteniţa&lt;/a></li></ul>\n");
add("html2html", "Interwiki link with fragment (bug 2130)", "<p data-parsoid='{\"dsr\":[0,136,0,0]}'>&lt;a href=\"http://www.usemod.com/cgi-bin/mb.pl?SoftSecurity#foo\" class=\"extiw\" title=\"meatball:SoftSecurity\">MeatBall:SoftSecurity#foo&lt;/a></p>\n");
add("html2html", "Parsoid-specific test: Wikilinks with &nbsp; should RT properly", "<p data-parsoid='{\"dsr\":[0,111,0,0]}'>&lt;a href=\"/index.php?title=WW_II&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"WW II (lonkásá  ezalí tɛ̂)\">WW II&lt;/a></p>\n");
add("html2html", "Parsoid: recognize interwiki links without a target page", "<p data-parsoid='{\"dsr\":[0,7,0,0]}'><link rel=\"mw:PageProp/Language\" href=\"//ko.wikipedia.org/wiki/\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"//ko.wikipedia.org/wiki/\"},\"sa\":{\"href\":\"ko:\"},\"dsr\":[0,7,null,null]}'/></p>\n");
add("html2html", "<br> to <br />", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>1\n2\n3</p>\n");
add("html2html", "Incorrecly removing closing slashes from correctly formed XHTML", "\n");
add("html2html", "Failing to transform badly formed HTML into correct XHTML", "\n\n<p data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[2,2,0,0]}'><br data-parsoid='{\"dsr\":[2,2,0,0]}'/></p>\n");
add("html2html", "Handling html with a br self-closing tag", "\n\n<p data-parsoid='{\"dsr\":[2,2,0,0]}'><br data-parsoid='{\"dsr\":[2,2,0,0]}'/></p>\n\n\n<p data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[5,5,0,0]}'><br data-parsoid='{\"dsr\":[5,5,0,0]}'/></p>\n");
add("html2html", "Horizontal ruler (should it add that extra space?)", "<hr data-parsoid='{\"dsr\":[0,4,4,0]}'/>\n<hr data-parsoid='{\"dsr\":[5,9,4,0]}'/>\n<p data-parsoid='{\"dsr\":[10,14,0,0]}'>foo </p>\n<hr data-parsoid='{\"lineContent\":true,\"dsr\":[15,19,4,0]}'/> bar\n");
add("html2html", "Common list", "<ul data-parsoid='{\"dsr\":[0,31,0,0]}'><li data-parsoid='{\"dsr\":[0,13,1,0]}'> Common list</li>\n<li data-parsoid='{\"dsr\":[14,22,1,0]}'> item 2</li>\n<li data-parsoid='{\"dsr\":[23,31,1,0]}'> item 3</li></ul>\n");
add("html2html", "Numbered list", "<ol data-parsoid='{\"dsr\":[0,33,0,0]}'><li data-parsoid='{\"dsr\":[0,15,1,0]}'> Numbered list</li>\n<li data-parsoid='{\"dsr\":[16,24,1,0]}'> item 2</li>\n<li data-parsoid='{\"dsr\":[25,33,1,0]}'> item 3</li></ol>\n");
add("html2html", "Mixed list", "<ul data-parsoid='{\"dsr\":[0,236,0,0]}'><li data-parsoid='{\"dsr\":[0,58,1,0]}'> Mixed list\n<ol data-parsoid='{\"dsr\":[13,28,0,0]}'><li data-parsoid='{\"dsr\":[13,28,2,0]}'> with numbers</li></ol>\n<ul data-parsoid='{\"dsr\":[29,43,0,0]}'><li data-parsoid='{\"dsr\":[29,43,2,0]}'> and bullets</li></ul>\n<ol data-parsoid='{\"dsr\":[44,58,0,0]}'><li data-parsoid='{\"dsr\":[44,58,2,0]}'> and numbers</li></ol></li>\n<li data-parsoid='{\"dsr\":[59,214,1,0]}'> bullets again\n<ul data-parsoid='{\"dsr\":[75,196,0,0]}'><li data-parsoid='{\"dsr\":[75,134,2,0]}'> bullet level 2\n<ul data-parsoid='{\"dsr\":[93,134,0,0]}'><li data-parsoid='{\"dsr\":[93,134,3,0]}'> bullet level 3\n<ol data-parsoid='{\"dsr\":[112,134,0,0]}'><li data-parsoid='{\"dsr\":[112,134,4,0]}'> Number on level 4</li></ol></li></ul></li>\n<li data-parsoid='{\"dsr\":[135,196,2,0]}'> bullet level 2\n<ol data-parsoid='{\"dsr\":[153,196,0,0]}'><li data-parsoid='{\"dsr\":[153,174,3,0]}'> Number on level 3</li>\n<li data-parsoid='{\"dsr\":[175,196,3,0]}'> Number on level 3</li></ol></li></ul>\n<ol data-parsoid='{\"dsr\":[197,214,0,0]}'><li data-parsoid='{\"dsr\":[197,214,2,0]}'> number level 2</li></ol></li>\n<li data-parsoid='{\"dsr\":[215,236,1,0]}'> Level 1\n<ul data-parsoid='{\"dsr\":[225,236,0,0]}'><li data-parsoid='{\"dsr\":[225,236,2,0]}'><ul data-parsoid='{\"dsr\":[227,236,0,0]}'><li data-parsoid='{\"dsr\":[227,236,1,0]}'> Level 3</li></ul></li></ul></li></ul>\n<ol data-parsoid='{\"dsr\":[237,261,0,0]}'><li data-parsoid='{\"dsr\":[237,261,1,0]}'><ul data-parsoid='{\"dsr\":[238,261,0,0]}'><li data-parsoid='{\"dsr\":[238,261,1,0]}'><ul data-parsoid='{\"dsr\":[239,261,0,0]}'><li data-parsoid='{\"dsr\":[239,261,1,0]}'> Level 3, but ordered</li></ul></li></ul></li></ol>\n");
add("html2html", "Nested lists 1", "<ul data-parsoid='{\"dsr\":[0,12,0,0]}'><li data-parsoid='{\"dsr\":[0,12,1,0]}'> foo\n<ul data-parsoid='{\"dsr\":[6,12,0,0]}'><li data-parsoid='{\"dsr\":[6,12,2,0]}'> bar</li></ul></li></ul>\n");
add("html2html", "Nested lists 2", "<ul data-parsoid='{\"dsr\":[0,12,0,0]}'><li data-parsoid='{\"dsr\":[0,6,1,0]}'><ul data-parsoid='{\"dsr\":[1,6,0,0]}'><li data-parsoid='{\"dsr\":[1,6,1,0]}'> foo</li></ul></li>\n<li data-parsoid='{\"dsr\":[7,12,1,0]}'> bar</li></ul>\n");
add("html2html", "Nested lists 3 (first element empty)", "\n<ul data-parsoid='{\"dsr\":[1,7,0,0]}'><li data-parsoid='{\"dsr\":[1,7,1,0]}'><ul data-parsoid='{\"dsr\":[2,7,0,0]}'><li data-parsoid='{\"dsr\":[2,7,1,0]}'> bar</li></ul></li></ul>\n");
add("html2html", "Nested lists 4 (first element empty)", "<ul data-parsoid='{\"dsr\":[0,8,0,0]}'><li data-parsoid='{\"dsr\":[0,2,1,0]}'><ul data-parsoid='{\"dsr\":[1,2,0,0]}'><li data-parsoid='{\"dsr\":[1,2,1,0]}'></li></ul></li>\n<li data-parsoid='{\"dsr\":[3,8,1,0]}'> bar</li></ul>\n");
add("html2html", "1. Lists with start-of-line-transparent tokens before bullets: Comments", "<ul data-parsoid='{\"dsr\":[0,17,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> foo</li>\n<li data-parsoid='{\"dsr\":[6,11,1,0]}'> bar</li>\n<li data-parsoid='{\"dsr\":[12,17,1,0]}'> baz</li></ul>\n");
add("html2html", "2. Lists with start-of-line-transparent tokens before bullets: Template close", "<ul data-parsoid='{\"dsr\":[0,15,0,0]}'><li data-parsoid='{\"dsr\":[0,9,1,0]}'> foo bar</li>\n<li data-parsoid='{\"dsr\":[10,15,1,0]}'> baz</li></ul>\n");
add("html2html", "List items are not parsed correctly following a <pre> block (bug 785)", "<ul data-parsoid='{\"dsr\":[0,2,0,0]}'><li data-parsoid='{\"dsr\":[0,2,1,0]}'> </li></ul>\n<pre data-parsoid='{\"dsr\":[3,7,1,0]}'>foo</pre>\n<ul data-parsoid='{\"dsr\":[8,10,0,0]}'><li data-parsoid='{\"dsr\":[8,10,1,0]}'> </li></ul>\n<pre data-parsoid='{\"dsr\":[11,15,1,0]}'>bar</pre>\n<ul data-parsoid='{\"dsr\":[16,21,0,0]}'><li data-parsoid='{\"dsr\":[16,21,1,0]}'> zar</li></ul>\n");
add("html2html", "List interrupted by empty line or heading", "<ul data-parsoid='{\"dsr\":[0,5,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> foo</li></ul>\n\n<ul data-parsoid='{\"dsr\":[7,13,0,0]}'><li data-parsoid='{\"dsr\":[7,13,1,0]}'><ul data-parsoid='{\"dsr\":[8,13,0,0]}'><li data-parsoid='{\"dsr\":[8,13,1,0]}'> bar</li></ul></li></ul>\n\n<h2 data-parsoid='{\"dsr\":[15,305,2,2]}'> <span class=\"mw-headline\" id=\"A_heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[18,75,41,7]}'>A heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,302,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[104,149,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: A heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[250,295,37,7]}'>]</span></span> </h2>\n<ul data-parsoid='{\"dsr\":[306,325,0,0]}'><li data-parsoid='{\"dsr\":[306,325,1,0]}'> Another list item</li></ul>\n");
add("html2html", "Multiple list tags generated by templates", "<pre data-parsoid='{\"dsr\":[0,8,1,0]}'>a\nb\nc</pre>\n");
add("html2html", "Single-comment whitespace lines dont break lists, and neither do multi-comment whitespace lines", "<ul data-parsoid='{\"dsr\":[0,15,0,0]}'><li data-parsoid='{\"dsr\":[0,3,1,0]}'> a</li>\n<li data-parsoid='{\"dsr\":[4,7,1,0]}'> b</li>\n<li data-parsoid='{\"dsr\":[8,11,1,0]}'> c</li>\n<li data-parsoid='{\"dsr\":[12,15,1,0]}'> d</li></ul>\n");
add("html2html", "Replacing whitespace with tabs still doesn't break the list (gerrit 78327)", "<ul data-parsoid='{\"dsr\":[0,15,0,0]}'><li data-parsoid='{\"dsr\":[0,3,1,0]}'> a</li>\n<li data-parsoid='{\"dsr\":[4,7,1,0]}'> b</li>\n<li data-parsoid='{\"dsr\":[8,11,1,0]}'> c</li>\n<li data-parsoid='{\"dsr\":[12,15,1,0]}'> d</li></ul>\n");
add("html2html", "Unbalanced closing block tags break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "<div data-parsoid='{\"stx\":\"html\",\"dsr\":[0,18,5,6]}'>\n\n<ul data-parsoid='{\"dsr\":[7,10,0,0]}'><li data-parsoid='{\"dsr\":[7,10,1,0]}'> a</li></ul>\n\n</div><div data-parsoid='{\"stx\":\"html\",\"dsr\":[18,36,5,6]}'>\n\n<ul data-parsoid='{\"dsr\":[25,28,0,0]}'><li data-parsoid='{\"dsr\":[25,28,1,0]}'> b</li></ul>\n\n</div>");
add("html2html", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[0,13,6,7]}'></span></p>\n\n<ul data-parsoid='{\"dsr\":[15,35,0,0]}'><li data-parsoid='{\"dsr\":[15,31,1,0]}'> a<span data-parsoid='{\"stx\":\"html\",\"dsr\":[18,31,6,7]}'></span></li>\n<li data-parsoid='{\"dsr\":[32,35,1,0]}'> b</li></ul>\n");
add("html2html", "List embedded in a non-block tag\n(Ugly Parsoid output -- worth fixing; Disabled for PHP parser since it relies on Tidy)", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><small data-parsoid='{\"stx\":\"html\",\"dsr\":[0,15,7,8]}'></small>\n<small data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[16,23,7,0]}'></small></p><small data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[23,30,0,0]}'>\n\n<ul data-parsoid='{\"dsr\":[25,30,0,0]}'><li data-parsoid='{\"dsr\":[25,30,1,0]}'> foo</li></ul></small>\n\n<p data-parsoid='{\"dsr\":[32,56,0,0]}'><small data-parsoid='{\"stx\":\"html\",\"autoInsertedStart\":true,\"dsr\":[32,40,0,8]}'></small>\n<small data-parsoid='{\"stx\":\"html\",\"dsr\":[41,56,7,8]}'></small></p>\n");
add("html2html", "Case-sensitive magic words, when cased differently, should just be template transclusions", "<p data-parsoid='{\"dsr\":[0,631,0,0]}'>&lt;a href=\"/index.php?title=Template:CurrentMonth&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:CurrentMonth (page does not exist)\">Template:CurrentMonth&lt;/a>\n&lt;a href=\"/index.php?title=Template:Currentday&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:Currentday (page does not exist)\">Template:Currentday&lt;/a>\n&lt;a href=\"/index.php?title=Template:CURreNTweEK&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:CURreNTweEK (page does not exist)\">Template:CURreNTweEK&lt;/a>\n&lt;a href=\"/index.php?title=Template:CurrentHour&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:CurrentHour (page does not exist)\">Template:CurrentHour&lt;/a></p>\n");
add("html2html", "Magic links: internal link to RFC (bug 479)", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'>&lt;a href=\"/index.php?title=RFC_123&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"RFC 123 (page does not exist)\"><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[107,131,8,9]}'>RFC 123</span>&lt;/a></p>\n");
add("html2html", "Magic links: ISBN (bug 1937)", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>[/wiki/Special:BookSources/0306406152 <a href=\"./Special:BookSources/0306406152\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[38,56,0,0]}'>ISBN 0-306-40615-2</a>]</p>\n");
add("html2html", "Nonexistent template", "<p data-parsoid='{\"dsr\":[0,196,0,0]}'>&lt;a href=\"/index.php?title=Template:Thistemplatedoesnotexist&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:Thistemplatedoesnotexist (page does not exist)\">Template:Thistemplatedoesnotexist&lt;/a></p>\n");
add("html2html", "Template with invalid target containing wikilink", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>{{<a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[2,15,2,2]}'>Main Page</a>}}</p>\n");
add("html2html", "Template unnamed parameter", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">the main page&lt;/a></p>\n");
add("html2html", "Template with thumb image (with link in description)", "This is a test template with parameter <div class=\"thumb tright\" data-parsoid='{\"stx\":\"html\",\"dsr\":[39,512,26,6]}'><div class=\"thumbinner\" style=\"width:182px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[65,506,45,6]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Noimage.png\" class=\"new\" title=\"File:Noimage.png\">File:Noimage.png&lt;/a>  <div class=\"thumbcaption\" data-parsoid='{\"stx\":\"html\",\"dsr\":[234,500,26,6]}'>&lt;a href=\"/index.php?title=No_link&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"No link (page does not exist)\">link&lt;/a> &lt;a href=\"/index.php?title=No_link&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"No link (page does not exist)\">caption&lt;/a></div></div></div>\n");
add("html2html", "Template with complex arguments", "<p data-parsoid='{\"dsr\":[0,128,0,0]}'>&lt;a href=\"/wiki/Template:Complextemplate\" title=\"Template:Complextemplate\">link&lt;/a> This is a test template with parameter (test)</p>\n");
add("html2html", "Template parameter as link source", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">link&lt;/a></p>\n");
add("html2html", "Template as link source", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[59,116,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[118,179,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a>Page</p>\n");
add("html2html", "Template infinite loop", "<p data-parsoid='{\"dsr\":[0,123,0,0]}'><span class=\"error\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,123,20,7]}'>Template loop detected: &lt;a href=\"/wiki/Template:Loop1\" title=\"Template:Loop1\">Template:Loop1&lt;/a></span></p>\n");
add("html2html", "Template with targets containing wikilinks", "<p data-parsoid='{\"dsr\":[0,144,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,19,8,9]}'>{{</span>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">foo&lt;/a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[125,144,8,9]}'>}}</span></p>\n\n<p data-parsoid='{\"dsr\":[146,290,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[146,165,8,9]}'>{{</span>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">foo&lt;/a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[271,290,8,9]}'>}}</span></p>\n\n<p data-parsoid='{\"dsr\":[292,320,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[292,318,8,9]}'>{{[[foo}}</span>]]</p>\n");
add("html2html", "Self-closed noinclude, includeonly, onlyinclude tags", "\n");
add("html2html", "Bug 6563: Edit link generation for section shown by <includeonly>", "<h2 data-parsoid='{\"dsr\":[0,334,2,2]}'> <span class=\"mw-headline\" id=\"Includeonly_section\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,80,51,7]}'>Includeonly section</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[80,331,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[109,154,37,7]}'>[</span>&lt;a href=\"/index.php?title=Template:Includeonly_section&amp;action=edit&amp;section=T-1\" title=\"Template:Includeonly section\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[279,324,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[336,654,2,2]}'> <span class=\"mw-headline\" id=\"Section_T-1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[339,400,43,7]}'>Section T-1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[400,651,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[429,474,37,7]}'>[</span>&lt;a href=\"/index.php?title=Template:Includeonly_section&amp;action=edit&amp;section=T-2\" title=\"Template:Includeonly section\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[599,644,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 6563: Section extraction for section shown by <includeonly>", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,32,8,9]}'>==Section T-2==</span></p>");
add("html2html", "Bug 6563: Edit link generation for section suppressed by <includeonly>", "<h2 data-parsoid='{\"dsr\":[0,290,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,60,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[60,287,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[89,134,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Section 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[235,280,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 6563: Section extraction for section suppressed by <includeonly>", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,30,8,9]}'>==Section 1==</span></p>");
add("html2html", "Templates: Links: 1. Simple example", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar&lt;/a></p>\n");
add("html2html", "Templates: Links: 2. Generation of link href", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar&lt;/a></p>\n");
add("html2html", "Templates: Links: 3. Generation of part of a link href", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[108,223,0,0]}'>&lt;a href=\"/index.php?title=Foobar&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">Foobar&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[225,349,0,0]}'>&lt;a href=\"/index.php?title=Foobarbaz&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foobarbaz (page does not exist)\">Foobarbaz&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[351,463,0,0]}'>&lt;a href=\"/index.php?title=Foobar&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">bar&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[465,580,0,0]}'>&lt;a href=\"/index.php?title=Foobar&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">Foobar&lt;/a></p>\n\n<p data-parsoid='{\"dsr\":[582,694,0,0]}'>&lt;a href=\"/index.php?title=Foobar&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">bar&lt;/a></p>\n");
add("html2html", "Templates: Links: 4. Multiple templates generating link href", "<p data-parsoid='{\"dsr\":[0,115,0,0]}'>&lt;a href=\"/index.php?title=Foobar&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">Foobar&lt;/a></p>\n");
add("html2html", "Templates: Links: 5. Generation of link text", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar&lt;/a></p>\n");
add("html2html", "Templates: Links: 5. Nested templates (only outermost template should be marked)", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar&lt;/a></p>\n");
add("html2html", "Templates: Wiki Tables: 1a. Fostering of entire template content", "\n<p data-parsoid='{\"dsr\":[1,2,0,0]}'>a</p>\n<table data-parsoid='{\"dsr\":[3,10,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[6,8,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[6,7,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,7,1,0]}'></td></tr>\n</tbody></table>\n");
add("html2html", "Templates: Wiki Tables: 2. Fostering of partial template content", "\n<p data-parsoid='{\"dsr\":[1,2,0,0]}'>a</p>\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[3,15,5,6]}'>b</div>\n<table data-parsoid='{\"dsr\":[16,23,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[19,21,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[19,20,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[19,20,1,0]}'></td></tr>\n</tbody></table>\n");
add("html2html", "Templates: Lists: Multi-line list-items via templates", "<ul data-parsoid='{\"dsr\":[0,323,0,0]}'><li data-parsoid='{\"dsr\":[0,161,1,0]}'> a &lt;a href=\"/index.php?title=Template:Nonexistent&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:Nonexistent (page does not exist)\">Template:Nonexistent&lt;/a></li>\n<li data-parsoid='{\"dsr\":[162,323,1,0]}'> b &lt;a href=\"/index.php?title=Template:Nonexistent&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:Nonexistent (page does not exist)\">Template:Nonexistent&lt;/a></li></ul>\n");
add("html2html", "Templates: Ugly templates: 1. Navbox template parses badly leading to table misnesting\n(Parsoid-centric)", "<table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[\"{|\\n|\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo&lt;/table>\"}},\"i\":0}},\"\\n|bar\\n|}\"]}' data-parsoid='{\"stx\":\"html\",\"dsr\":[0,32,2,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"src\":\"{|\\n|{{echo|foo&lt;/table>}}\\n|bar\\n|}\"}'>\n<tbody data-parsoid='{\"dsr\":[3,24,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,24,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,24,1,0]}'>foo</td></tr></tbody></table><span about=\"#mwt1\" data-parsoid=\"{}\">\n|bar</span><span about=\"#mwt1\" data-parsoid=\"{}\">\n</span>");
add("html2html", "Templates: Ugly templates: 4. newline-only template parameter inconsistency", "\n");
add("html2html", "pre-save transform: subst:", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>This is a test template</p>");
add("html2html", "pre-save transform: normal template", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>{{test}}</span></p>");
add("html2html", "pre-save transform: nonexistent template", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,45,8,9]}'>{{thistemplatedoesnotexist}}</span></p>");
add("html2html", "pre-save transform: subst magic variables", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>MediaWiki</p>");
add("html2html", "pre-save transform: subst: templates with parameters", "<p data-parsoid='{\"dsr\":[0,55,0,0]}'>This is a test template with parameter \"something else\"</p>");
add("html2html", "pre-save transform: nowiki in subst (bug 1188)", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>&lt;nowiki>'''not wiki'''</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[39,48,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: comment in subst (bug 1936)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'>This template has <!-- a comment --> in it.</p>");
add("html2html", "pre-save transform: unclosed tag", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>&lt;nowiki>'''not wiki'''</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[39,48,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: mixed tag case", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>&lt;nowiki>'''not wiki'''</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[39,48,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: unclosed comment in <nowiki>", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'>wiki<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[4,37,8,9]}'>nowiki&lt;!--nowiki</span>wiki--><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[44,53,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: <noinclude> in subst (bug 3298)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Foobar</p>");
add("html2html", "pre-save transform: <onlyinclude> in subst (bug 3298)", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>Foo</p>");
add("html2html", "bug 22297: safesubst: works during PST", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>FoobarFoobar</p>");
add("html2html", "pre-save transform: context links (\"pipe trick\")", "<p data-parsoid='{\"dsr\":[0,247,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,247,8,9]}'>[[Article (context)|Article]]\n[[Bar:Article|Article]]\n[[:Bar:Article|Article]]\n[[Bar:Article (context)|Article]]\n[[:Bar:Article (context)|Article]]\n[[Article]]\n[[Article (context)]]\n[[Bar:X (Y) Z|X (Y) Z]]\n[[:Bar:X (Y) Z|X (Y) Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with interwiki prefix", "<p data-parsoid='{\"dsr\":[0,154,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,154,8,9]}'>[[interwiki:Article|Article]]\n[[:interwiki:Article|Article]]\n[[interwiki:Bar:Article|Bar:Article]]\n[[:interwiki:Bar:Article|Bar:Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with parens in title", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,46,8,9]}'>[[Article (context)|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with comma in title", "<p data-parsoid='{\"dsr\":[0,137,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,137,8,9]}'>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace, Elsewhere|Otherplace]]\n[[Otherplace, Elsewhere, Anywhere|Otherplace]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with parens and comma", "<p data-parsoid='{\"dsr\":[0,98,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,98,8,9]}'>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace (place), Elsewhere|Otherplace]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with comma and parens", "<p data-parsoid='{\"dsr\":[0,102,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,102,8,9]}'>[[Yes, you. (context)|Yes, you.]]\n[[Me, Myself, and I (1937 song)|Me, Myself, and I]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>[[Ns:Article|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace and parens", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,49,8,9]}'>[[Ns:Article (context)|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace and comma", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,58,8,9]}'>[[Ns:Article, Context, Whatever|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace, comma and parens", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,49,8,9]}'>[[Ns:Article (context)|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace, parens and comma", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,48,8,9]}'>[[Ns:Article, Context|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and no space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,174,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,174,8,9]}'>[[Article（context）|Article]]\n[[Bar:Article（context）|Article]]\n[[:Bar:Article（context）|Article]]\n[[Article（context）]]\n[[Bar:X（Y）Z|X（Y）Z]]\n[[:Bar:X（Y）Z|X（Y）Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,186,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,186,8,9]}'>[[Article （context）|Article]]\n[[Bar:Article （context）|Article]]\n[[:Bar:Article （context）|Article]]\n[[Article （context）]]\n[[Bar:X （Y） Z|X （Y） Z]]\n[[:Bar:X （Y） Z|X （Y） Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with parens and no space (Korean style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,174,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,174,8,9]}'>[[Article(context)|Article]]\n[[Bar:Article(context)|Article]]\n[[:Bar:Article(context)|Article]]\n[[Article(context)]]\n[[Bar:X(Y)Z|X(Y)Z]]\n[[:Bar:X(Y)Z|X(Y)Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with commas (bug 21660)", "<p data-parsoid='{\"dsr\":[0,265,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,265,8,9]}'>[[Article (context), context|Article]]\n[[Article (context)，context|Article]]\n[[Bar:Article (context), context|Article]]\n[[Bar:Article (context)，context|Article]]\n[[:Bar:Article (context), context|Article]]\n[[:Bar:Article (context)，context|Article]]</span></p>");
add("html2html", "pre-save transform: trim trailing empty lines", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>Empty lines are trimmed</p>");
add("html2html", "pre-save transform: Signature expansion", "<p data-parsoid='{\"dsr\":[0,370,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,66,8,9]}'>* [[Special:Contributions/127.0.0.1|127.0.0.1]]\n*</span> <meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[67,78,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[78,140,8,9]}'>[[Special:Contributions/127.0.0.1|127.0.0.1]]</span><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[140,152,null,null]}'/>\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[153,171,8,9]}'>*</span> <meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]&lt;/nowiki>&lt;/includeonly>\",\"dsr\":[172,261,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[261,261,null,null]}'/>\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[262,280,8,9]}'>*</span> <meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[281,294,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[294,356,8,9]}'>[[Special:Contributions/127.0.0.1|127.0.0.1]]</span><meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[356,370,null,null]}'/></p>");
add("html2html", "pre-save transform: Signature expansion in nowiki tags (bug 93)", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>Shall not expand:</p>\n\n<p data-parsoid='{\"dsr\":[19,57,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[19,48,8,9]}'>&lt;nowiki>~~~~</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[48,57,null,0]}'>&lt;/nowiki></span></p>\n\n<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;nowiki>&lt;nowiki>~~~~&lt;/nowiki>&lt;/nowiki>&lt;/includeonly>\",\"dsr\":[59,124,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[124,124,null,null]}'/>\n\n<p data-parsoid='{\"dsr\":[126,187,0,0]}'><meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[126,137,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[137,166,8,9]}'>&lt;nowiki>~~~~</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[166,175,null,0]}'>&lt;/nowiki></span><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[175,187,null,null]}'/></p>\n\n<p data-parsoid='{\"dsr\":[189,254,0,0]}'><meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[189,202,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[202,231,8,9]}'>&lt;nowiki>~~~~</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[231,240,null,0]}'>&lt;/nowiki></span><meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[240,254,null,null]}'/></p>\n\n<p data-parsoid='{\"dsr\":[256,383,0,0]}'>FOO shall be converted to FOO\nAs well as inside noinclude/onlyinclude\n<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[326,337,null,null]}'/>FOO<meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[340,352,null,null]}'/>\n<meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[353,366,null,null]}'/>FOO<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[369,383,null,null]}'/></p>\n\n<p data-parsoid='{\"dsr\":[385,469,0,0]}'>But not inside includeonly\n<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;nowiki>{{subst:Foo}}&lt;/nowiki>&lt;/includeonly>\",\"dsr\":[412,469,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[469,469,null,null]}'/></p>");
add("html2html", "message transform: magic variables", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>MediaWiki</p>");
add("html2html", "message transform: should not transform wiki markup", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>''test''</span></p>");
add("html2html", "message transform: <noinclude> in transcluded template (bug 4926)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Foobar</p>");
add("html2html", "message transform: <onlyinclude> in transcluded template (bug 4926)", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>Foo</p>");
add("html2html", "{{#special:}} page name, known", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'>Special:RecentChanges</p>");
add("html2html", "{{#special:}} page name with subpage, known", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'>Special:RecentChanges/param</p>");
add("html2html", "{{#special:}} page name, unknown", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'>Special:Foobar nonexistent</p>");
add("html2html", "{{#speciale:}} page name, known", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'>Special:RecentChanges</p>");
add("html2html", "{{#speciale:}} page name with subpage, known", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'>Special:RecentChanges/param</p>");
add("html2html", "{{#speciale:}} page name, unknown", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'>Special:Foobar_nonexistent</p>");
add("html2html", "Allow empty links in image captions (Bug 60753)", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"Caption [[Link1]]\\n&lt;nowiki>[[]]&lt;/nowiki>\\n[[Link2]]\\n\"}],\"dsr\":[0,76,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,74,null,null]}'>Caption <a rel=\"mw:WikiLink\" href=\"./Link1\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Link1\"},\"sa\":{\"href\":\"Link1\"},\"dsr\":[32,41,2,2]}'>Link1</a>\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[42,63,8,9]}'>[[]]</span>\n<a rel=\"mw:WikiLink\" href=\"./Link2\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Link2\"},\"sa\":{\"href\":\"Link2\"},\"dsr\":[64,73,2,2]}'>Link2</a>\n</figcaption></figure>");
add("html2html", "Image with multiple attributes from the same template", "<figure class=\"mw-default-size mw-halign-right\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"right\",\"ak\":\"right\"},{\"ck\":\"caption\",\"ak\":\"Caption text\"}],\"dsr\":[0,38,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,36,null,null]}'>Caption text</figcaption></figure>\n");
add("html2html", "Image with link tails", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'>123<span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[3,22,null,null]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></span>456\n123</p>\n<figure class=\"mw-default-size mw-halign-right\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"right\",\"ak\":\"right\"}],\"dsr\":[30,55,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[32,53,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></figure>\n<p data-parsoid='{\"dsr\":[56,63,0,0]}'>456\n123</p>\n<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"}],\"dsr\":[64,89,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[66,87,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></figure>\n<p data-parsoid='{\"dsr\":[90,93,0,0]}'>456</p>");
add("html2html", "Image with link parameter, wgExternalLinkTarget", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"http://example.com/\" target=\"foobar\" rel=\"nofollow\"><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[61,102,null,null]}'/>&lt;/a></p>\n");
add("html2html", "Image with link parameter, wgNoFollowLinks set to false", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,41,null,null]}'/></p>\n");
add("html2html", "Image with link parameter, wgNoFollowDomainExceptions", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,41,null,null]}'/></p>\n");
add("html2html", "Image with link parameter, wgExternalLinkTarget, unnamed parameter", "<p data-parsoid='{\"dsr\":[0,120,0,0]}'>&lt;a href=\"http://example.com/\" title=\"Title\" target=\"foobar\" rel=\"nofollow\"><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[75,116,null,null]}'/>&lt;/a></p>\n");
add("html2html", "Link to image page- image page normally doesn't exists, hence edit link\nAdd test with existing image page\n#<p><a href=\"/wiki/File:Test\" title=\"Image:Test\">Image:test</a>", "<p data-parsoid='{\"dsr\":[0,125,0,0]}'>&lt;a href=\"/index.php?title=File:Test&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"File:Test (page does not exist)\">Image:test&lt;/a></p>\n");
add("html2html", "bug 18784  Link to non-existent image page with caption should use caption as link text", "<p data-parsoid='{\"dsr\":[0,122,0,0]}'>&lt;a href=\"/index.php?title=File:Test&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"File:Test (page does not exist)\">caption&lt;/a></p>\n");
add("html2html", "SVG thumbnails with invalid language code", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"lang\",\"ak\":\"lang=invalid.language.code\"}],\"dsr\":[0,52,2,2]}'><a href=\"./File:Foobar.svg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.svg\"},\"sa\":{},\"dsr\":[2,50,null,null]}'><img resource=\"./File:Foobar.svg\" src=\"//example.com/images/thumb/f/ff/Foobar.svg/220px-Foobar.svg\" lang=\"invalid.language.code\" height=\"165\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.svg\",\"lang\":\"invalid.language.code\",\"height\":\"165\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.svg\",\"lang\":\"lang=invalid.language.code\"}}'/></a></figure>\n");
add("html2html", "Image: caption containing a table", "<figure typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"200x200px\"},{\"ck\":\"caption\",\"ak\":\"This is an example image thumbnail caption with a table\\n{|\\n\\n!Foo !Bar\\n|-\\n|Foo1 \\n|Bar1|}\\nand some more text.\"}],\"dsr\":[0,143,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/200px-Foobar.jpg\" height=\"23\" width=\"200\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"23\",\"width\":\"200\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,141,null,null]}'>This is an example image thumbnail caption with a table\n<table data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[90,141,2,0]}'>\n\n<tbody data-parsoid='{\"dsr\":[94,141,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[94,103,0,0]}'><th data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[94,103,1,0]}'>Foo !Bar</th></tr>\n<tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[104,141,2,0]}'>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[107,113,1,0]}'>Foo1 </td>\n<td data-parsoid='{\"a\":{\"Bar1\":null},\"sa\":{\"Bar1\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[114,141,6,0]}'>}\n<p data-parsoid='{\"dsr\":[122,141,0,0]}'>and some more text.</p></td></tr></tbody></table></figcaption></figure>\n");
add("html2html", "Redirected image", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>&lt;a href=\"/wiki/File:Barfoo.jpg\" title=\"File:Barfoo.jpg\">File:Barfoo.jpg&lt;/a></p>\n");
add("html2html", "Missing image with uploads disabled", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>&lt;a href=\"/wiki/File:Foobaz.jpg\" title=\"File:Foobaz.jpg\">File:Foobaz.jpg&lt;/a></p>\n");
add("html2html", "Subpage link", "<p data-parsoid='{\"dsr\":[0,78,0,0]}'>&lt;a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">/subpage&lt;/a></p>\n");
add("html2html", "Subpage noslash link", "<p data-parsoid='{\"dsr\":[0,77,0,0]}'>&lt;a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">subpage&lt;/a></p>\n");
add("html2html", "Render invalid page names as plain text (bug 51090)", "<p data-parsoid='{\"dsr\":[0,132,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,132,8,9]}'>[[./../foo|bar]][[foo�|bar]][[foo/.|bar]][[foo/..|bar]][[foo~~~bar]][[foo>bar]][[foo[bar]][[.]][[..]][[foo././bar]]</span></p>\n\n<p data-parsoid='{\"dsr\":[134,406,0,0]}'>[[<span about=\"#mwt34\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"./../foo\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[136,153,null,null]}'>./../foo</span>|bar]][[<span about=\"#mwt35\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo/.\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[161,175,null,null]}'>foo/.</span>|bar]][[<span about=\"#mwt36\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo/..\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[183,198,null,null]}'>foo/..</span>|bar]][[<span about=\"#mwt37\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo~~~~bar\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[206,225,null,null]}'>foo~~~~bar</span>]][[<span about=\"#mwt38\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo>bar\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[229,245,null,null]}'>foo>bar</span>]][[<span about=\"#mwt39\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo././bar\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[249,268,null,null]}'>foo././bar</span>]][[<span about=\"#mwt40\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo{bar\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[272,288,null,null]}'>foo{bar</span>]][[<span about=\"#mwt41\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo}bar\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[292,308,null,null]}'>foo}bar</span>]][[<span typeof=\"mw:Transclusion mw:Nowiki\" about=\"#mwt42\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;nowiki>foo[bar&lt;/nowiki>\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[312,345,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>foo[bar</span>]][[<span typeof=\"mw:Transclusion mw:Nowiki\" about=\"#mwt43\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;nowiki>foo]bar&lt;/nowiki>\"}},\"i\":0}}]}' data-parsoid='{\"dsr\":[349,382,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'>foo]bar</span>]][[<span about=\"#mwt44\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo&lt;bar\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[386,402,null,null]}'>foo&lt;bar</span>]]</p>\n");
add("html2html", "Disabled subpages", "<p data-parsoid='{\"dsr\":[0,121,0,0]}'>&lt;a href=\"/index.php?title=/subpage&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"/subpage (page does not exist)\">/subpage&lt;/a></p>\n");
add("html2html", "BUG 561: {{/Subpage}}", "<p data-parsoid='{\"dsr\":[0,133,0,0]}'>&lt;a href=\"/index.php?title=Page/Subpage&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Page/Subpage (page does not exist)\">Page/Subpage&lt;/a></p>\n");
add("html2html", "Link to category", "<p data-parsoid='{\"dsr\":[0,125,0,0]}'>&lt;a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">Category:MediaWiki User's Guide&lt;/a></p>\n");
add("html2html", "Simple category", "<p data-parsoid='{\"dsr\":[0,116,0,0]}'>&lt;a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">MediaWiki User's Guide&lt;/a></p>");
add("html2html", "Category with different sort key", "<p data-parsoid='{\"dsr\":[0,116,0,0]}'>&lt;a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">MediaWiki User's Guide&lt;/a></p>");
add("html2html", "Category with identical sort key", "<p data-parsoid='{\"dsr\":[0,116,0,0]}'>&lt;a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">MediaWiki User's Guide&lt;/a></p>");
add("html2html", "Category with empty sort key", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,75,8,9]}'>[[Category:MediaWiki User's Guide|MediaWiki User's Guide]]</span></p>");
add("html2html", "Category with empty sort key and parentheses", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,43,8,9]}'>[[Category:Foo (bar)|Foo]]</span></p>");
add("html2html", "Category with link tail", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'>123<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[3,36,8,9]}'>[[Category:Foo]]</span>456</p>");
add("html2html", "Category with template", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,42,8,9]}'>[[Category:{{echo|Foo}}]]</span></p>");
add("html2html", "Category with template in sort key", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,46,8,9]}'>[[Category:Foo|{{echo|Bar}}]]</span></p>");
add("html2html", "Category with template in sort key and title", "<p data-parsoid='{\"dsr\":[0,55,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,55,8,9]}'>[[Category:{{echo|Foo}}|{{echo|Bar}}]]</span></p>");
add("html2html", "Inter-language links", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>es:Alimento fr:Nourriture zh:食品</p>");
add("html2html", "Duplicate interlanguage links (bug 24502)", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>es:1 fr:1</p>");
add("html2html", "Basic section headings", "<h2 data-parsoid='{\"dsr\":[0,293,2,2]}'> <span class=\"mw-headline\" id=\"Headline_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,62,42,7]}'>Headline 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,290,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[91,136,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Headline 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[238,283,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[294,303,0,0]}'>Some text</p>\n\n<h2 data-parsoid='{\"dsr\":[305,598,2,2]}'> <span class=\"mw-headline\" id=\"Headline_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[308,367,42,7]}'>Headline 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[367,595,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[396,441,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Headline 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[543,588,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[599,603,0,0]}'>More</p>\n\n<h3 data-parsoid='{\"dsr\":[605,918,3,3]}'> <span class=\"mw-headline\" id=\"Smaller_headline\" data-parsoid='{\"stx\":\"html\",\"dsr\":[609,680,48,7]}'>Smaller headline</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[680,914,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[709,754,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: Smaller headline\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[862,907,37,7]}'>]</span></span> </h3>\n<p data-parsoid='{\"dsr\":[919,928,0,0]}'>Blah blah</p>\n");
add("html2html", "Section headings with TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,679,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,157,0,0]}'><li data-parsoid='{\"dsr\":[69,157,1,0]}'> [#Headline_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[84,116,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[117,156,22,7]}'>Headline 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[159,256,0,0]}'><li data-parsoid='{\"dsr\":[159,256,1,0]}'><ul data-parsoid='{\"dsr\":[160,256,0,0]}'><li data-parsoid='{\"dsr\":[160,256,1,0]}'> [#Subheadline_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[178,212,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[213,255,22,7]}'>Subheadline 1</span>]</li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[258,364,0,0]}'><li data-parsoid='{\"dsr\":[258,364,1,0]}'><ul data-parsoid='{\"dsr\":[259,364,0,0]}'><li data-parsoid='{\"dsr\":[259,364,1,0]}'><ul data-parsoid='{\"dsr\":[260,364,0,0]}'><li data-parsoid='{\"dsr\":[260,364,1,0]}'> [#Skipping_a_level <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[281,317,24,7]}'>1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[318,363,22,7]}'>Skipping a level</span>]</li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[366,566,0,0]}'><li data-parsoid='{\"dsr\":[366,477,1,0]}'><ul data-parsoid='{\"dsr\":[367,477,0,0]}'><li data-parsoid='{\"dsr\":[367,477,1,0]}'><ul data-parsoid='{\"dsr\":[368,477,0,0]}'><li data-parsoid='{\"dsr\":[368,477,1,0]}'><ul data-parsoid='{\"dsr\":[369,477,0,0]}'><li data-parsoid='{\"dsr\":[369,477,1,0]}'> [#Skipping_a_level_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[392,430,24,7]}'>1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[431,476,22,7]}'>Skipping a level</span>]</li></ul></li></ul></li></ul></li>\n<li data-parsoid='{\"dsr\":[478,566,1,0]}'> [#Headline_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[493,525,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[526,565,22,7]}'>Headline 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[568,671,0,0]}'><li data-parsoid='{\"dsr\":[568,671,1,0]}'><ul data-parsoid='{\"dsr\":[569,671,0,0]}'><li data-parsoid='{\"dsr\":[569,671,1,0]}'> [#Another_headline <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[590,624,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[625,670,22,7]}'>Another headline</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[681,974,2,2]}'> <span class=\"mw-headline\" id=\"Headline_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[684,743,42,7]}'>Headline 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[743,971,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[772,817,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Headline 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[919,964,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[976,1280,3,3]}'> <span class=\"mw-headline\" id=\"Subheadline_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[980,1045,45,7]}'>Subheadline 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1045,1276,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1074,1119,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Subheadline 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1224,1269,37,7]}'>]</span></span> </h3>\n\n<h5 data-parsoid='{\"dsr\":[1282,1599,5,5]}'> <span class=\"mw-headline\" id=\"Skipping_a_level\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1288,1359,48,7]}'>Skipping a level</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1359,1593,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1388,1433,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: Skipping a level\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1541,1586,37,7]}'>]</span></span> </h5>\n\n<h6 data-parsoid='{\"dsr\":[1601,1922,6,6]}'> <span class=\"mw-headline\" id=\"Skipping_a_level_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1608,1681,50,7]}'>Skipping a level</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1681,1915,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1710,1755,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: Skipping a level\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1863,1908,37,7]}'>]</span></span> </h6>\n\n<h2 data-parsoid='{\"dsr\":[1924,2217,2,2]}'> <span class=\"mw-headline\" id=\"Headline_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1927,1986,42,7]}'>Headline 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1986,2214,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2015,2060,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: Headline 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2162,2207,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[2218,2227,0,0]}'>Some text</p>\n\n<h3 data-parsoid='{\"dsr\":[2229,2542,3,3]}'> <span class=\"mw-headline\" id=\"Another_headline\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2233,2304,48,7]}'>Another headline</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2304,2538,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2333,2378,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=6\" title=\"Edit section: Another headline\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2486,2531,37,7]}'>]</span></span> </h3>\n");
add("html2html", "Handling of sections up to level 6 and beyond", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,1266,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,167,0,0]}'><li data-parsoid='{\"dsr\":[69,167,1,0]}'> [#Level_1_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[89,121,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[122,166,22,7]}'>Level 1 Heading</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[169,270,0,0]}'><li data-parsoid='{\"dsr\":[169,270,1,0]}'><ul data-parsoid='{\"dsr\":[170,270,0,0]}'><li data-parsoid='{\"dsr\":[170,270,1,0]}'> [#Level_2_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[190,224,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[225,269,22,7]}'>Level 2 Heading</span>]</li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[272,376,0,0]}'><li data-parsoid='{\"dsr\":[272,376,1,0]}'><ul data-parsoid='{\"dsr\":[273,376,0,0]}'><li data-parsoid='{\"dsr\":[273,376,1,0]}'><ul data-parsoid='{\"dsr\":[274,376,0,0]}'><li data-parsoid='{\"dsr\":[274,376,1,0]}'> [#Level_3_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[294,330,24,7]}'>1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[331,375,22,7]}'>Level 3 Heading</span>]</li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[378,485,0,0]}'><li data-parsoid='{\"dsr\":[378,485,1,0]}'><ul data-parsoid='{\"dsr\":[379,485,0,0]}'><li data-parsoid='{\"dsr\":[379,485,1,0]}'><ul data-parsoid='{\"dsr\":[380,485,0,0]}'><li data-parsoid='{\"dsr\":[380,485,1,0]}'><ul data-parsoid='{\"dsr\":[381,485,0,0]}'><li data-parsoid='{\"dsr\":[381,485,1,0]}'> [#Level_4_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[401,439,24,7]}'>1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[440,484,22,7]}'>Level 4 Heading</span>]</li></ul></li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[487,597,0,0]}'><li data-parsoid='{\"dsr\":[487,597,1,0]}'><ul data-parsoid='{\"dsr\":[488,597,0,0]}'><li data-parsoid='{\"dsr\":[488,597,1,0]}'><ul data-parsoid='{\"dsr\":[489,597,0,0]}'><li data-parsoid='{\"dsr\":[489,597,1,0]}'><ul data-parsoid='{\"dsr\":[490,597,0,0]}'><li data-parsoid='{\"dsr\":[490,597,1,0]}'><ul data-parsoid='{\"dsr\":[491,597,0,0]}'><li data-parsoid='{\"dsr\":[491,597,1,0]}'> [#Level_5_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[511,551,24,7]}'>1.1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[552,596,22,7]}'>Level 5 Heading</span>]</li></ul></li></ul></li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[599,1258,0,0]}'><li data-parsoid='{\"dsr\":[599,1258,1,0]}'><ul data-parsoid='{\"dsr\":[600,1258,0,0]}'><li data-parsoid='{\"dsr\":[600,1258,1,0]}'><ul data-parsoid='{\"dsr\":[601,1258,0,0]}'><li data-parsoid='{\"dsr\":[601,1258,1,0]}'><ul data-parsoid='{\"dsr\":[602,1258,0,0]}'><li data-parsoid='{\"dsr\":[602,1258,1,0]}'><ul data-parsoid='{\"dsr\":[603,1258,0,0]}'><li data-parsoid='{\"dsr\":[603,1258,1,0]}'><ul data-parsoid='{\"dsr\":[604,1258,0,0]}'><li data-parsoid='{\"dsr\":[604,712,1,0]}'> [#Level_6_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[624,666,24,7]}'>1.1.1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[667,711,22,7]}'>Level 6 Heading</span>]</li>\n<li data-parsoid='{\"dsr\":[713,836,6,0]}'> [#.3D_Level_7_Heading.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[745,787,24,7]}'>1.1.1.1.1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[788,835,22,7]}'>= Level 7 Heading=</span>]</li>\n<li data-parsoid='{\"dsr\":[837,968,6,0]}'> [#.3D.3D_Level_8_Heading.3D.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[875,917,24,7]}'>1.1.1.1.1.3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[918,967,22,7]}'>== Level 8 Heading==</span>]</li>\n<li data-parsoid='{\"dsr\":[969,1108,6,0]}'> [#.3D.3D.3D_Level_9_Heading.3D.3D.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1013,1055,24,7]}'>1.1.1.1.1.4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1056,1107,22,7]}'>=== Level 9 Heading===</span>]</li>\n<li data-parsoid='{\"dsr\":[1109,1258,6,0]}'> [#.3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1160,1202,24,7]}'>1.1.1.1.1.5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1203,1257,22,7]}'>==== Level 10 Heading====</span>]</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul>\n\n</div>\n\n<h1 data-parsoid='{\"dsr\":[1268,1574,1,1]}'> <span class=\"mw-headline\" id=\"Level_1_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1270,1339,47,7]}'>Level 1 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1339,1572,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1368,1413,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Level 1 Heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1520,1565,37,7]}'>]</span></span> </h1>\n\n<h2 data-parsoid='{\"dsr\":[1576,1884,2,2]}'> <span class=\"mw-headline\" id=\"Level_2_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1579,1648,47,7]}'>Level 2 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1648,1881,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1677,1722,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Level 2 Heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1829,1874,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[1886,2196,3,3]}'> <span class=\"mw-headline\" id=\"Level_3_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1890,1959,47,7]}'>Level 3 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1959,2192,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1988,2033,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: Level 3 Heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2140,2185,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[2198,2510,4,4]}'> <span class=\"mw-headline\" id=\"Level_4_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2203,2272,47,7]}'>Level 4 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2272,2505,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2301,2346,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: Level 4 Heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2453,2498,37,7]}'>]</span></span> </h4>\n\n<h5 data-parsoid='{\"dsr\":[2512,2826,5,5]}'> <span class=\"mw-headline\" id=\"Level_5_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2518,2587,47,7]}'>Level 5 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2587,2820,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2616,2661,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: Level 5 Heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2768,2813,37,7]}'>]</span></span> </h5>\n\n<h6 data-parsoid='{\"dsr\":[2828,3144,6,6]}'> <span class=\"mw-headline\" id=\"Level_6_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2835,2904,47,7]}'>Level 6 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2904,3137,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2933,2978,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=6\" title=\"Edit section: Level 6 Heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3085,3130,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[3146,3475,6,6]}'> <span class=\"mw-headline\" id=\".3D_Level_7_Heading.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3153,3232,54,7]}'>= Level 7 Heading=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3232,3468,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3261,3306,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=7\" title=\"Edit section: = Level 7 Heading=\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3416,3461,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[3477,3816,6,6]}'> <span class=\"mw-headline\" id=\".3D.3D_Level_8_Heading.3D.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3484,3571,60,7]}'>== Level 8 Heading==</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3571,3809,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3600,3645,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=8\" title=\"Edit section: == Level 8 Heading==\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3757,3802,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[3818,4167,6,6]}'> <span class=\"mw-headline\" id=\".3D.3D.3D_Level_9_Heading.3D.3D.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3825,3920,66,7]}'>=== Level 9 Heading===</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3920,4160,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3949,3994,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=9\" title=\"Edit section: === Level 9 Heading===\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4108,4153,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[4169,4532,6,6]}'> <span class=\"mw-headline\" id=\".3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4176,4281,73,7]}'>==== Level 10 Heading====</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4281,4525,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4310,4355,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=10\" title=\"Edit section: ==== Level 10 Heading====\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4473,4518,37,7]}'>]</span></span> </h6>\n");
add("html2html", "TOC regression (bug 9764)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,612,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,151,0,0]}'><li data-parsoid='{\"dsr\":[69,151,1,0]}'> [#title_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,150,22,7]}'>title 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[153,242,0,0]}'><li data-parsoid='{\"dsr\":[153,242,1,0]}'><ul data-parsoid='{\"dsr\":[154,242,0,0]}'><li data-parsoid='{\"dsr\":[154,242,1,0]}'> [#title_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,202,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,241,22,7]}'>title 1.1</span>]</li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[244,513,0,0]}'><li data-parsoid='{\"dsr\":[244,430,1,0]}'><ul data-parsoid='{\"dsr\":[245,430,0,0]}'><li data-parsoid='{\"dsr\":[245,340,1,0]}'><ul data-parsoid='{\"dsr\":[246,340,0,0]}'><li data-parsoid='{\"dsr\":[246,340,1,0]}'> [#title_1.1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[262,298,24,7]}'>1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[299,339,22,7]}'>title 1.1.1</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[341,430,2,0]}'> [#title_1.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[356,390,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[391,429,22,7]}'>title 1.2</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[431,513,1,0]}'> [#title_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[443,475,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[476,512,22,7]}'>title 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[515,604,0,0]}'><li data-parsoid='{\"dsr\":[515,604,1,0]}'><ul data-parsoid='{\"dsr\":[516,604,0,0]}'><li data-parsoid='{\"dsr\":[516,604,1,0]}'> [#title_2.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[530,564,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[565,603,22,7]}'>title 2.1</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[614,898,2,2]}'> <span class=\"mw-headline\" id=\"title_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[617,670,39,7]}'>title 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[670,895,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[699,744,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: title 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[843,888,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[900,1192,3,3]}'> <span class=\"mw-headline\" id=\"title_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[904,961,41,7]}'>title 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[961,1188,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[990,1035,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: title 1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1136,1181,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[1194,1494,4,4]}'> <span class=\"mw-headline\" id=\"title_1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1199,1260,43,7]}'>title 1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1260,1489,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1289,1334,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: title 1.1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1437,1482,37,7]}'>]</span></span> </h4>\n\n<h3 data-parsoid='{\"dsr\":[1496,1788,3,3]}'> <span class=\"mw-headline\" id=\"title_1.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1500,1557,41,7]}'>title 1.2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1557,1784,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1586,1631,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: title 1.2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1732,1777,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[1790,2074,2,2]}'> <span class=\"mw-headline\" id=\"title_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1793,1846,39,7]}'>title 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1846,2071,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1875,1920,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: title 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2019,2064,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[2076,2368,3,3]}'> <span class=\"mw-headline\" id=\"title_2.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2080,2137,41,7]}'>title 2.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2137,2364,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2166,2211,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=6\" title=\"Edit section: title 2.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2312,2357,37,7]}'>]</span></span> </h3>\n");
add("html2html", "TOC with wgMaxTocLevel=3 (bug 6204)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,514,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,151,0,0]}'><li data-parsoid='{\"dsr\":[69,151,1,0]}'> [#title_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,150,22,7]}'>title 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[153,415,0,0]}'><li data-parsoid='{\"dsr\":[153,332,1,0]}'><ul data-parsoid='{\"dsr\":[154,332,0,0]}'><li data-parsoid='{\"dsr\":[154,242,1,0]}'> [#title_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,202,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,241,22,7]}'>title 1.1</span>]</li>\n<li data-parsoid='{\"dsr\":[243,332,2,0]}'> [#title_1.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[258,292,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[293,331,22,7]}'>title 1.2</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[333,415,1,0]}'> [#title_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[345,377,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[378,414,22,7]}'>title 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[417,506,0,0]}'><li data-parsoid='{\"dsr\":[417,506,1,0]}'><ul data-parsoid='{\"dsr\":[418,506,0,0]}'><li data-parsoid='{\"dsr\":[418,506,1,0]}'> [#title_2.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[432,466,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[467,505,22,7]}'>title 2.1</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[516,800,2,2]}'> <span class=\"mw-headline\" id=\"title_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[519,572,39,7]}'>title 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[572,797,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[601,646,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: title 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[745,790,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[802,1094,3,3]}'> <span class=\"mw-headline\" id=\"title_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[806,863,41,7]}'>title 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[863,1090,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[892,937,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: title 1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1038,1083,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[1096,1396,4,4]}'> <span class=\"mw-headline\" id=\"title_1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1101,1162,43,7]}'>title 1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1162,1391,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1191,1236,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: title 1.1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1339,1384,37,7]}'>]</span></span> </h4>\n\n<h3 data-parsoid='{\"dsr\":[1398,1690,3,3]}'> <span class=\"mw-headline\" id=\"title_1.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1402,1459,41,7]}'>title 1.2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1459,1686,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1488,1533,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: title 1.2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1634,1679,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[1692,1976,2,2]}'> <span class=\"mw-headline\" id=\"title_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1695,1748,39,7]}'>title 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1748,1973,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1777,1822,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: title 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1921,1966,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[1978,2270,3,3]}'> <span class=\"mw-headline\" id=\"title_2.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1982,2039,41,7]}'>title 2.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2039,2266,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2068,2113,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=6\" title=\"Edit section: title 2.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2214,2259,37,7]}'>]</span></span> </h3>\n");
add("html2html", "TOC with wgMaxTocLevel=3 and two level four headings (bug 6204)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,345,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,155,0,0]}'><li data-parsoid='{\"dsr\":[69,155,1,0]}'> [#Section_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[83,115,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[116,154,22,7]}'>Section 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[157,337,0,0]}'><li data-parsoid='{\"dsr\":[157,250,1,0]}'><ul data-parsoid='{\"dsr\":[158,250,0,0]}'><li data-parsoid='{\"dsr\":[158,250,1,0]}'> [#Section_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,208,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[209,249,22,7]}'>Section 1.1</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[251,337,1,0]}'> [#Section_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[265,297,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[298,336,22,7]}'>Section 2</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[347,637,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[350,407,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[407,634,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[436,481,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Section 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[582,627,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[639,937,3,3]}'> <span class=\"mw-headline\" id=\"Section_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[643,704,43,7]}'>Section 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[704,933,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[733,778,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Section 1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[881,926,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[939,1245,4,4]}'> <span class=\"mw-headline\" id=\"Section_1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[944,1009,45,7]}'>Section 1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1009,1240,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1038,1083,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: Section 1.1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1188,1233,37,7]}'>]</span></span> </h4>\n\n<h4 data-parsoid='{\"dsr\":[1247,1559,4,4]}'> <span class=\"mw-headline\" id=\"Section_1.1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1252,1321,47,7]}'>Section 1.1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1321,1554,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1350,1395,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: Section 1.1.1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1502,1547,37,7]}'>]</span></span> </h4>\n\n<h2 data-parsoid='{\"dsr\":[1561,1851,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1564,1621,41,7]}'>Section 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1621,1848,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1650,1695,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: Section 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1796,1841,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Resolving duplicate section names", "<h2 data-parsoid='{\"dsr\":[0,284,2,2]}'> <span class=\"mw-headline\" id=\"Foo_bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,56,39,7]}'>Foo bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[56,281,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[85,130,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Foo bar\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[229,274,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[286,572,2,2]}'> <span class=\"mw-headline\" id=\"Foo_bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[289,344,41,7]}'>Foo bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[344,569,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[373,418,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Foo bar\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[517,562,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Resolving duplicate section names with differing case (bug 10721)", "<h2 data-parsoid='{\"dsr\":[0,284,2,2]}'> <span class=\"mw-headline\" id=\"Foo_bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,56,39,7]}'>Foo bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[56,281,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[85,130,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Foo bar\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[229,274,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[286,572,2,2]}'> <span class=\"mw-headline\" id=\"Foo_Bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[289,344,41,7]}'>Foo Bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[344,569,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[373,418,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Foo Bar\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[517,562,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Template with sections, __NOTOC__", "<h2 data-parsoid='{\"dsr\":[0,290,2,2]}'> <span class=\"mw-headline\" id=\"Section_0\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,60,41,7]}'>Section 0</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[60,287,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[89,134,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Section 0\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[235,280,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[292,586,3,3]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[296,353,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[353,582,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[382,427,37,7]}'>[</span>&lt;a href=\"/index.php?title=Template:Sections&amp;action=edit&amp;section=T-1\" title=\"Template:Sections\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[530,575,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[588,880,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[591,648,41,7]}'>Section 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[648,877,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[677,722,37,7]}'>[</span>&lt;a href=\"/index.php?title=Template:Sections&amp;action=edit&amp;section=T-2\" title=\"Template:Sections\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[825,870,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[882,1172,2,2]}'> <span class=\"mw-headline\" id=\"Section_4\" data-parsoid='{\"stx\":\"html\",\"dsr\":[885,942,41,7]}'>Section 4</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[942,1169,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[971,1016,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Section 4\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1117,1162,37,7]}'>]</span></span> </h2>\n");
add("html2html", "__NOEDITSECTION__ keyword", "<h2 data-parsoid='{\"dsr\":[0,63,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,60,41,7]}'>Section 1</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[65,128,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,125,41,7]}'>Section 2</span> </h2>\n");
add("html2html", "Link inside a section heading", "<h2 data-parsoid='{\"dsr\":[0,386,2,2]}'> <span class=\"mw-headline\" id=\"Section_with_a_link_in_it\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,140,57,7]}'>Section with a &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">link&lt;/a> in it</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[140,383,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[169,214,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Section with a link in it\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[331,376,37,7]}'>]</span></span> </h2>\n");
add("html2html", "TOC regression (bug 12077)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,333,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,151,0,0]}'><li data-parsoid='{\"dsr\":[69,151,1,0]}'> [#title_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,150,22,7]}'>title 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[153,325,0,0]}'><li data-parsoid='{\"dsr\":[153,242,1,0]}'><ul data-parsoid='{\"dsr\":[154,242,0,0]}'><li data-parsoid='{\"dsr\":[154,242,1,0]}'> [#title_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,202,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,241,22,7]}'>title 1.1</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[243,325,1,0]}'> [#title_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[255,287,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[288,324,22,7]}'>title 2</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[335,619,2,2]}'> <span class=\"mw-headline\" id=\"title_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[338,391,39,7]}'>title 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[391,616,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[420,465,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: title 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[564,609,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[621,913,3,3]}'> <span class=\"mw-headline\" id=\"title_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[625,682,41,7]}'>title 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[682,909,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[711,756,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: title 1.1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[857,902,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[915,1199,2,2]}'> <span class=\"mw-headline\" id=\"title_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[918,971,39,7]}'>title 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[971,1196,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1000,1045,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: title 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1144,1189,37,7]}'>]</span></span> </h2>\n");
add("html2html", "BUG 1219 URL next to image (good)", "<p data-parsoid='{\"dsr\":[0,81,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":20,\"contentOffsets\":[20,38],\"dsr\":[0,39,20,1]}'>http://example.com</a> <img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[40,81,null,null]}'/></p>\n");
add("html2html", "Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)", "<h1 data-parsoid='{\"dsr\":[0,266,1,1]}'> <span class=\"mw-headline\" id=\".3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2,45,35,7]}'>=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[45,264,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[74,119,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: =\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[212,257,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[267,309,0,0]}'>The line above must have a trailing space!</p>\n\n<h1 data-parsoid='{\"dsr\":[311,579,1,1]}'> <span class=\"mw-headline\" id=\".3D_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[313,358,37,7]}'>=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[358,577,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[387,432,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: =\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[525,570,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[580,610,0,0]}'>But just in case it doesn't...</p>\n");
add("html2html", "Header with special characters (bug 25462)", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>The tooltips shall not show entities to the user (ie. be double escaped)</p>\n\n<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[74,615,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[100,141,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[120,134,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[143,607,0,0]}'><li data-parsoid='{\"dsr\":[143,235,1,0]}'> [#text_.3E_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[161,193,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[194,234,22,7]}'>text > text</span>]</li>\n<li data-parsoid='{\"dsr\":[236,328,1,0]}'> [#text_.3C_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[254,286,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[287,327,22,7]}'>text &lt; text</span>]</li>\n<li data-parsoid='{\"dsr\":[329,421,1,0]}'> [#text_.26_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[347,379,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[380,420,22,7]}'>text &amp; text</span>]</li>\n<li data-parsoid='{\"dsr\":[422,514,1,0]}'> [#text_.27_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[440,472,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[473,513,22,7]}'>text ' text</span>]</li>\n<li data-parsoid='{\"dsr\":[515,607,1,0]}'> [#text_.22_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[533,565,24,7]}'>5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[566,606,22,7]}'>text \" text</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[617,915,2,2]}'> <span class=\"mw-headline\" id=\"text_.3E_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[620,683,45,7]}'>text > text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[683,912,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[712,757,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: text > text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[860,905,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[916,925,0,0]}'>section 1</p>\n\n<h2 data-parsoid='{\"dsr\":[927,1225,2,2]}'> <span class=\"mw-headline\" id=\"text_.3C_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[930,993,45,7]}'>text &lt; text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[993,1222,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1022,1067,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: text &lt; text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1170,1215,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1226,1235,0,0]}'>section 2</p>\n\n<h2 data-parsoid='{\"dsr\":[1237,1535,2,2]}'> <span class=\"mw-headline\" id=\"text_.26_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1240,1303,45,7]}'>text &amp; text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1303,1532,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1332,1377,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: text &amp; text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1480,1525,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1536,1545,0,0]}'>section 3</p>\n\n<h2 data-parsoid='{\"dsr\":[1547,1845,2,2]}'> <span class=\"mw-headline\" id=\"text_.27_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1550,1613,45,7]}'>text ' text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1613,1842,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1642,1687,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: text ' text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1790,1835,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1846,1855,0,0]}'>section 4</p>\n\n<h2 data-parsoid='{\"dsr\":[1857,2160,2,2]}'> <span class=\"mw-headline\" id=\"text_.22_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1860,1923,45,7]}'>text \" text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1923,2157,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1952,1997,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: text &amp;quot; text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2105,2150,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[2161,2170,0,0]}'>section 5</p>\n");
add("html2html", "Headers with excess '=' characters\n(Are similar tests necessary beyond the 1st level?)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,444,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,436,0,0]}'><li data-parsoid='{\"dsr\":[69,147,1,0]}'> [#foo.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[80,112,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[113,146,22,7]}'>foo=</span>]</li>\n<li data-parsoid='{\"dsr\":[148,226,1,0]}'> [#.3Dfoo <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[159,191,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[192,225,22,7]}'>=foo</span>]</li>\n<li data-parsoid='{\"dsr\":[227,331,1,0]}'> [#italic_heading.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[249,281,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[282,330,22,7]}'><i data-parsoid='{\"dsr\":[304,314,2,2]}'>italic</i> heading=</span>]</li>\n<li data-parsoid='{\"dsr\":[332,436,1,0]}'> [#.3Ditalic_heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[354,386,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[387,435,22,7]}'>=<i data-parsoid='{\"dsr\":[410,420,2,2]}'>italic</i> heading</span>]</li></ul>\n\n</div>\n\n<h1 data-parsoid='{\"dsr\":[446,721,1,1]}'> <span class=\"mw-headline\" id=\"foo.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[448,497,38,7]}'>foo=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[497,719,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[526,571,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: foo=\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[667,712,37,7]}'>]</span></span> </h1>\n\n<h1 data-parsoid='{\"dsr\":[723,998,1,1]}'> <span class=\"mw-headline\" id=\".3Dfoo\" data-parsoid='{\"stx\":\"html\",\"dsr\":[725,774,38,7]}'>=foo</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[774,996,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[803,848,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: =foo\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[944,989,37,7]}'>]</span></span> </h1>\n\n<h1 data-parsoid='{\"dsr\":[1000,1312,1,1]}'> <span class=\"mw-headline\" id=\"italic_heading.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1002,1077,49,7]}'><i data-parsoid='{\"dsr\":[1051,1061,2,2]}'>italic</i> heading=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1077,1310,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1106,1151,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: italic heading=\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1258,1303,37,7]}'>]</span></span> </h1>\n\n<h1 data-parsoid='{\"dsr\":[1314,1626,1,1]}'> <span class=\"mw-headline\" id=\".3Ditalic_heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1316,1391,49,7]}'>=<i data-parsoid='{\"dsr\":[1366,1376,2,2]}'>italic</i> heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1391,1624,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1420,1465,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: =italic heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1572,1617,37,7]}'>]</span></span> </h1>\n");
add("html2html", "HTML headers vs TOC (bug 23393)\n(__NOEDITSECTION__ for clearer output, doesn't matter here)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,616,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,153,0,0]}'><li data-parsoid='{\"dsr\":[69,153,1,0]}'> [#Header_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[82,114,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[115,152,22,7]}'>Header 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[155,423,0,0]}'><li data-parsoid='{\"dsr\":[155,338,1,0]}'><ul data-parsoid='{\"dsr\":[156,338,0,0]}'><li data-parsoid='{\"dsr\":[156,246,1,0]}'> [#Header_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[171,205,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[206,245,22,7]}'>Header 1.1</span>]</li>\n<li data-parsoid='{\"dsr\":[247,338,2,0]}'> [#Header_1.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[263,297,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[298,337,22,7]}'>Header 1.2</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[339,423,1,0]}'> [#Header_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[352,384,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[385,422,22,7]}'>Header 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[425,608,0,0]}'><li data-parsoid='{\"dsr\":[425,608,1,0]}'><ul data-parsoid='{\"dsr\":[426,608,0,0]}'><li data-parsoid='{\"dsr\":[426,516,1,0]}'> [#Header_2.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[441,475,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[476,515,22,7]}'>Header 2.1</span>]</li>\n<li data-parsoid='{\"dsr\":[517,608,2,0]}'> [#Header_2.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[533,567,24,7]}'>2.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[568,607,22,7]}'>Header 2.2</span>]</li></ul></li></ul>\n\n</div>\n\n<h1 data-parsoid='{\"dsr\":[618,677,1,1]}'> <span class=\"mw-headline\" id=\"Header_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[620,675,40,7]}'>Header 1</span> </h1>\n\n<h2 data-parsoid='{\"dsr\":[679,744,2,2]}'> <span class=\"mw-headline\" id=\"Header_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[682,741,42,7]}'>Header 1.1</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[746,811,2,2]}'> <span class=\"mw-headline\" id=\"Header_1.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[749,808,42,7]}'>Header 1.2</span> </h2>\n\n<h1 data-parsoid='{\"dsr\":[813,872,1,1]}'> <span class=\"mw-headline\" id=\"Header_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[815,870,40,7]}'>Header 2</span> </h1>\n\n<h2 data-parsoid='{\"dsr\":[874,939,2,2]}'> <span class=\"mw-headline\" id=\"Header_2.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[877,936,42,7]}'>Header 2.1</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[941,1006,2,2]}'> <span class=\"mw-headline\" id=\"Header_2.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[944,1003,42,7]}'>Header 2.2</span> </h2>\n");
add("html2html", "BUG 1219 URL next to image (broken)", "<p data-parsoid='{\"dsr\":[0,80,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":20,\"contentOffsets\":[20,38],\"dsr\":[0,39,20,1]}'>http://example.com</a><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[39,80,null,null]}'/></p>\n");
add("html2html", "Media link", "<p data-parsoid='{\"dsr\":[0,108,0,0]}'>&lt;a href=\"http://example.com/images/3/3a/Foobar.jpg\" class=\"internal\" title=\"Foobar.jpg\">Media:Foobar.jpg&lt;/a></p>\n");
add("html2html", "Media link with text", "<p data-parsoid='{\"dsr\":[0,114,0,0]}'>&lt;a href=\"http://example.com/images/3/3a/Foobar.jpg\" class=\"internal\" title=\"Foobar.jpg\">A neat file to look at&lt;/a></p>\n");
add("html2html", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "<p data-parsoid='{\"dsr\":[0,196,0,0]}'>&lt;a href=\"http://example.com/images/3/3a/Foobar.jpg\" class=\"internal\" title=\"Foobar.jpg\">Safe Link<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[97,192,8,9]}'>&lt;div style=\"display:none\">\" onmouseover=\"alert(document.cookie)\" onfoo=\"&lt;/div></span>&lt;/a></p>\n");
add("html2html", "Media link to nonexistent file (bug 1702)", "<p data-parsoid='{\"dsr\":[0,118,0,0]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=No_such.jpg\" class=\"new\" title=\"No such.jpg\">Media:No such.jpg&lt;/a></p>\n");
add("html2html", "Image link to nonexistent file (bug 1850 - good)", "<p data-parsoid='{\"dsr\":[0,122,0,0]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=No_such.jpg\" class=\"new\" title=\"File:No such.jpg\">File:No such.jpg&lt;/a></p>\n");
add("html2html", ":Image link to nonexistent file (bug 1850 - bad)", "<p data-parsoid='{\"dsr\":[0,146,0,0]}'>&lt;a href=\"/index.php?title=File:No_such.jpg&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"File:No such.jpg (page does not exist)\">Image:No such.jpg&lt;/a></p>\n");
add("html2html", "Character reference normalization in link text (bug 1938)", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">this&amp;that&lt;/a></p>\n");
add("html2html", "(bug 19451) Links should refer to the normalized form.", "<p data-parsoid='{\"dsr\":[0,233,0,0]}'>&lt;a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ&lt;/a>\n&lt;a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ&lt;/a>\n&lt;a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ&lt;/a>\n&lt;a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ&lt;/a>\n&lt;a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ&lt;/a></p>\n");
add("html2html", "Bug 2095: link with pipe and three closing brackets, version 2", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,52,12,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[12,50,8,9]}'>[http://example.com/]</span></a></p>\n");
add("html2html", "Bug 2304: HTML attribute safety (dangerous style template; 2309)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "Bug 2304: HTML attribute safety (unsafe parameter; 2309)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,49,34,6]}'>Magic div</div>\n");
add("html2html", "Bug 3244: HTML attribute safety (extension; unsafe)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "MSIE CSS safety test: spurious slash", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,44,34,6]}'>evil</div>\n");
add("html2html", "MSIE CSS safety test: hex code", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,44,34,6]}'>evil</div>\n");
add("html2html", "CSS safety test (all browsers): vertical tab (bug 55332 / CVE-2013-4567)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>A</p>\n");
add("html2html", "MSIE 6 CSS safety test: Fullwidth (bug 55332)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>A</p>\n<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[2,43,34,6]}'>B</div>\n");
add("html2html", "MSIE 6 CSS safety test: IPA extensions (bug 55332)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,41,34,6]}'>A</div>\n<p data-parsoid='{\"dsr\":[42,43,0,0]}'>B</p>\n");
add("html2html", "MSIE 6 CSS safety test: sup/sub script (bug 55332)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,41,34,6]}'>A</div>\n<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[42,83,34,6]}'>B</div>\n<p data-parsoid='{\"dsr\":[84,85,0,0]}'>C</p>\n");
add("html2html", "Opera -o-link CSS", "<div title=\"data:text/html,&lt;img src=1 onerror=alert(1)>\" style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,93,86,6]}'>X</div>\n");
add("html2html", "MSIE 6 CSS safety test: Repetition markers (bug 55332)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>A</p>\n\n<p data-parsoid='{\"dsr\":[3,4,0,0]}'>B</p>\n\n<p data-parsoid='{\"dsr\":[6,7,0,0]}'>C</p>\n\n<p data-parsoid='{\"dsr\":[9,10,0,0]}'>D</p>\n\n<p data-parsoid='{\"dsr\":[12,13,0,0]}'>E</p>\n\n<p data-parsoid='{\"dsr\":[15,16,0,0]}'>F</p>\n\n<p data-parsoid='{\"dsr\":[18,19,0,0]}'>G</p>\n");
add("html2html", "Table attribute safety", "<table data-parsoid='{\"dsr\":[0,46,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[4,44,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[4,43,0,0]}'><th style=\" \" data-parsoid='{\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"autoInsertedEnd\":true,\"dsr\":[4,43,32,0]}'> status</th></tr>\n</tbody></table>\n");
add("html2html", "CSS line continuation 1", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "CSS line continuation 2", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "Parser hook: empty input", "<pre data-parsoid='{\"dsr\":[0,32,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,32,8,9]}'>''\n array (\n )</span></pre>\n");
add("html2html", "Parser hook: nested tags", "<pre data-parsoid='{\"dsr\":[0,28,1,0]}'>'&lt;tag>'\narray (\n)\n&lt;/tag></pre>\n<p data-parsoid='{\"dsr\":[29,35,0,0]}'>&lt;/tag></p>\n");
add("html2html", "Parser hook: basic arguments", "<pre data-parsoid='{\"dsr\":[0,171,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,32,8,9]}'>''\n array (\n  </span> 'width' => '200',\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[52,70,8,9]}'> </span> 'height' => '100',\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[91,109,8,9]}'> </span> 'depth' => '50',\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[128,146,8,9]}'> </span> 'square' => 'square',\n)</pre>\n");
add("html2html", "Parser hook: argument containing a forward slash (bug 5344)", "<pre data-parsoid='{\"dsr\":[0,61,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,32,8,9]}'>''\n array (\n  </span> 'filename' => '/tmp/bla',\n)</pre>\n");
add("html2html", "Parser hook: empty input using terminated empty elements (bug 2374)", "<pre data-parsoid='{\"dsr\":[0,36,1,0]}'>NULL\narray (\n  'foo' => 'bar',\n)</pre>\n<p data-parsoid='{\"dsr\":[37,41,0,0]}'>text</p>\n");
add("html2html", "Parser hook: static parser hook inside a comment", "\n");
add("html2html", "Sanitizer: Closing of open tags", "<p data-parsoid='{\"dsr\":[0,7,0,0]}'><s data-parsoid='{\"stx\":\"html\",\"dsr\":[0,7,3,4]}'></s></p>\n<table data-parsoid='{\"dsr\":[8,13,2,2]}'>\n</table>\n");
add("html2html", "Sanitizer: Escaping of spaces, multibyte characters, colons & other stuff in id=\"\"", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'><span id=\".C3.A6:_v\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,32,21,7]}'>byte</span>[#.C3.A6:_v backlink]</p>\n");
add("html2html", "Sanitizer: Validating the contents of the id attribute (bug 4515)", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'>Something, but definitely not <br data-parsoid='{\"stx\":\"html\",\"noClose\":true,\"dsr\":[30,34,4,null]}'/>\n...</p>");
add("html2html", "Sanitizer: Validating id attribute uniqueness (bug 4515, bug 6301)", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'>Something need to be done. foo-2 ? </p>");
add("html2html", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"itemscope\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,336,27,6]}'>\n\t<p data-parsoid='{\"dsr\":[29,150,0,0]}'>&lt;meta itemprop=\"hello\" content=\"world\" />\n\t&lt;meta http-equiv=\"refresh\" content=\"5\">\n\t&lt;meta itemprop=\"hello\" content=\"5\" /></p>\n\n\t<p data-parsoid='{\"dsr\":[153,329,0,0]}'>&lt;link itemprop=\"hello\" href=\"http://example.org\" />\n\t&lt;link rel=\"stylesheet\" href=\"[http://example.org http://example.org]\">\n\t&lt;link itemprop=\"hello\" href=\"http://example.org\" /></p>\n</div>\n");
add("html2html", "HTML bullet list, closed tags (bug 5497)", "<ul data-parsoid='{\"dsr\":[0,11,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,11,1,0]}'> Two</li></ul>\n");
add("html2html", "HTML bullet list, unclosed tags (bug 5497)", "<ul data-parsoid='{\"dsr\":[0,11,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,11,1,0]}'> Two</li></ul>\n");
add("html2html", "HTML ordered list, closed tags (bug 5497)", "<ol data-parsoid='{\"dsr\":[0,11,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,11,1,0]}'> Two</li></ol>\n");
add("html2html", "HTML ordered list, unclosed tags (bug 5497)", "<ol data-parsoid='{\"dsr\":[0,11,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,11,1,0]}'> Two</li></ol>\n");
add("html2html", "HTML nested bullet list, closed tags (bug 5497)", "<ul data-parsoid='{\"dsr\":[0,34,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,34,1,0]}'> Two:\n<ul data-parsoid='{\"dsr\":[13,34,0,0]}'><li data-parsoid='{\"dsr\":[13,23,2,0]}'> Sub-one</li>\n<li data-parsoid='{\"dsr\":[24,34,2,0]}'> Sub-two</li></ul></li></ul>\n");
add("html2html", "HTML nested bullet list, open tags (bug 5497)", "<ul data-parsoid='{\"dsr\":[0,34,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,34,1,0]}'> Two:\n<ul data-parsoid='{\"dsr\":[13,34,0,0]}'><li data-parsoid='{\"dsr\":[13,23,2,0]}'> Sub-one</li>\n<li data-parsoid='{\"dsr\":[24,34,2,0]}'> Sub-two</li></ul></li></ul>\n");
add("html2html", "HTML nested ordered list, closed tags (bug 5497)", "<ol data-parsoid='{\"dsr\":[0,34,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,34,1,0]}'> Two:\n<ol data-parsoid='{\"dsr\":[13,34,0,0]}'><li data-parsoid='{\"dsr\":[13,23,2,0]}'> Sub-one</li>\n<li data-parsoid='{\"dsr\":[24,34,2,0]}'> Sub-two</li></ol></li></ol>\n");
add("html2html", "HTML nested ordered list, open tags (bug 5497)", "<ol data-parsoid='{\"dsr\":[0,34,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li>\n<li data-parsoid='{\"dsr\":[6,34,1,0]}'> Two:\n<ol data-parsoid='{\"dsr\":[13,34,0,0]}'><li data-parsoid='{\"dsr\":[13,23,2,0]}'> Sub-one</li>\n<li data-parsoid='{\"dsr\":[24,34,2,0]}'> Sub-two</li></ol></li></ol>\n");
add("html2html", "HTML ordered list item with parameters oddity", "<ol data-parsoid='{\"dsr\":[0,5,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li></ol>\n");
add("html2html", "Fuzz testing: Parser14", "<h2 data-parsoid='{\"dsr\":[0,301,2,2]}'> <span class=\"mw-headline\" id=\"onmouseover.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,68,46,7]}'>onmouseover=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,298,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[97,142,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: onmouseover=\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[246,291,37,7]}'>]</span></span> </h2>\nhttp://<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[309,480,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[335,376,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[355,369,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[378,472,0,0]}'><li data-parsoid='{\"dsr\":[378,472,1,0]}'> [#onmouseover.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[397,429,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[430,471,22,7]}'>onmouseover=</span>]</li></ul>\n\n</div>\n");
add("html2html", "Fuzz testing: Parser14-table", "<h2 data-parsoid='{\"dsr\":[0,266,2,2]}'> <span class=\"mw-headline\" id=\"a\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,44,33,7]}'>a</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[44,263,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,118,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: a\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[211,256,37,7]}'>]</span></span> </h2>\n<table style=\"__TOC__\" data-parsoid='{\"dsr\":[267,290,18,2]}'>\n<tbody data-parsoid='{\"dsr\":[286,288,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[286,287,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[286,287,1,0]}'></td></tr>\n</tbody></table>\n");
add("html2html", "Fuzz testing: Parser24", "\n<p data-parsoid='{\"dsr\":[1,64,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,21,8,9]}'>{{{</span>|\n<u class=\"|\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[23,64,13,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[36,56,8,9]}'>}}}</span>} >\n<br data-parsoid='{\"stx\":\"html\",\"noClose\":true,\"dsr\":[60,64,4,null]}'/></u></p>\n\n<p data-parsoid='{\"dsr\":[66,108,0,0]}'><u class=\"|\" data-parsoid='{\"stx\":\"html\",\"autoInsertedStart\":true,\"dsr\":[66,108,0,4]}'>MOVE YOUR MOUSE CURSOR OVER THIS TEXT\n</u></p>\n<table data-parsoid='{\"dsr\":[109,117,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[112,115,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[112,113,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[112,113,1,0]}'></td></tr>\n\n</tbody></table>\n<p data-parsoid='{\"dsr\":[118,135,0,0]}'><u class=\"|\" data-parsoid='{\"stx\":\"html\",\"dsr\":[118,135,13,4]}'></u></p>");
add("html2html", "Fuzz testing: URL adjacent extension (no space, dirty; pre)", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":20,\"contentOffsets\":[20,38],\"dsr\":[0,39,20,1]}'>http://example.com</a></p>\n<pre data-parsoid='{\"dsr\":[40,45,1,0]}'>junk</pre>\n");
add("html2html", "Fuzz testing: encoded newline in generated HTML replacements (bug 6577)", " \n");
add("html2html", "Parsing optional HTML elements (Bug 6171)", "<table data-parsoid='{\"dsr\":[0,94,2,2]}'>\n  \n    <tbody data-parsoid='{\"dsr\":[10,92,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[10,88,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[10,29,1,0]}'> Some tabular data</td>\n    <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[34,57,1,0]}'> More tabular data ...</td>\n    <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[62,88,1,0]}'> And yet som tabular data</td></tr>\n  \n</tbody></table>\n");
add("html2html", "Correct handling of <td>, <tr> (Bug 6171)", "<table data-parsoid='{\"dsr\":[0,94,2,2]}'>\n  \n    <tbody data-parsoid='{\"dsr\":[10,92,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[10,88,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[10,29,1,0]}'> Some tabular data</td>\n    <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[34,57,1,0]}'> More tabular data ...</td>\n    <td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[62,88,1,0]}'> And yet som tabular data</td></tr>\n  \n</tbody></table>\n");
add("html2html", "Special page transclusion", "<table class=\"mw-prefixindex-list-table\" data-parsoid='{\"dsr\":[0,89,36,2]}'>\n<tbody data-parsoid='{\"dsr\":[37,87,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[37,86,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[37,86,1,0]}'>&lt;a href=\"/wiki/Xyzzyx\" title=\"Xyzzyx\">Xyzzyx&lt;/a></td></tr>\n</tbody></table>\n");
add("html2html", "Special page transclusion twice (bug 5021)", "<table class=\"mw-prefixindex-list-table\" data-parsoid='{\"dsr\":[0,89,36,2]}'>\n<tbody data-parsoid='{\"dsr\":[37,87,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[37,86,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[37,86,1,0]}'>&lt;a href=\"/wiki/Xyzzyx\" title=\"Xyzzyx\">Xyzzyx&lt;/a></td></tr>\n</tbody></table>\n<table class=\"mw-prefixindex-list-table\" data-parsoid='{\"dsr\":[90,179,36,2]}'>\n<tbody data-parsoid='{\"dsr\":[127,177,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[127,176,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[127,176,1,0]}'>&lt;a href=\"/wiki/Xyzzyx\" title=\"Xyzzyx\">Xyzzyx&lt;/a></td></tr>\n</tbody></table>\n");
add("html2html", "Transclusion of nonexistent MediaWiki message", "<p data-parsoid='{\"dsr\":[0,160,0,0]}'>&lt;a href=\"/index.php?title=MediaWiki:Mainpagexxx&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"MediaWiki:Mainpagexxx (page does not exist)\">MediaWiki:Mainpagexxx&lt;/a></p>\n");
add("html2html", "Section extraction test (section 0)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>");
add("html2html", "Section extraction test (section 1)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,43,8,9]}'>==a==\n===aa===\n====aaa====</span></p>");
add("html2html", "Section extraction test (section 2)", "<p data-parsoid='{\"dsr\":[0,37,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,37,8,9]}'>===aa===\n====aaa====</span></p>");
add("html2html", "Section extraction test (section 3)", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,28,8,9]}'>====aaa====</span></p>");
add("html2html", "Section extraction test (section 4)", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,61,8,9]}'>==b==\n===ba===\n===bb===\n====bba====\n===bc===</span></p>");
add("html2html", "Section extraction test (section 5)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>===ba===</span></p>");
add("html2html", "Section extraction test (section 6)", "<p data-parsoid='{\"dsr\":[0,37,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,37,8,9]}'>===bb===\n====bba====</span></p>");
add("html2html", "Section extraction test (section 7)", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,28,8,9]}'>====bba====</span></p>");
add("html2html", "Section extraction test (section 8)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>===bc===</span></p>");
add("html2html", "Section extraction test (section 9)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,31,8,9]}'>==c==\n===ca===</span></p>");
add("html2html", "Section extraction test (section 10)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>===ca===</span></p>");
add("html2html", "Section extraction test with bogus heading (section 1)", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,52,8,9]}'>==a==\n==bogus== not a legal section</span></p>");
add("html2html", "Section extraction test with bogus heading (section 2)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==b==</span></p>");
add("html2html", "Section extraction test with comment after heading (section 1)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==a==</span></p>");
add("html2html", "Section extraction test with comment after heading (section 2)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==b==</span> <!-- --></p>");
add("html2html", "Section extraction test with bogus <nowiki> heading (section 1)", "<p data-parsoid='{\"dsr\":[0,69,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,32,8,9]}'>==a==\n==bogus==</span> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[33,69,8,9]}'>not a legal section</span></p>");
add("html2html", "Section extraction test with bogus <nowiki> heading (section 2)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==b==</span></p>");
add("html2html", "Section extraction prefixed by comment (section 1)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>==sec2==</span></p>");
add("html2html", "Section extraction, mixed wiki and html (section 1)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,26,8,9]}'>==1==\none</span></p>");
add("html2html", "Section extraction, mixed wiki and html (section 2)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,26,8,9]}'>==2==\ntwo</span></p>");
add("html2html", "Section extraction, heading surrounded by <noinclude>", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,27,8,9]}'>==marked==</span></p>");
add("html2html", "Sectiion with all-equals", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'>=== <!--\n--> <!-- -->\nBut just in case it doesn't...</p>");
add("html2html", "Section replacement test (section 0)", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>xxx</p>\n\n<p data-parsoid='{\"dsr\":[5,108,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[5,108,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 1)", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>start\nxxx</p>\n\n<p data-parsoid='{\"dsr\":[11,87,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[11,87,8,9]}'>==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 2)", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,93,8,9]}'>==a==\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 3)", "<p data-parsoid='{\"dsr\":[0,102,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,102,8,9]}'>==a==\n===aa===\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 4)", "<p data-parsoid='{\"dsr\":[0,69,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,69,8,9]}'>==a==\n===aa===\n====aaa====\nxxx\n\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 5)", "<p data-parsoid='{\"dsr\":[0,105,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,105,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\nxxx\n\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 6)", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,93,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\nxxx\n\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 7)", "<p data-parsoid='{\"dsr\":[0,102,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,102,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\nxxx\n\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 8)", "<p data-parsoid='{\"dsr\":[0,105,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,105,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\nxxx\n\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 9)", "<p data-parsoid='{\"dsr\":[0,98,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,98,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\nxxx</span></p>");
add("html2html", "Section replacement test (section 10)", "<p data-parsoid='{\"dsr\":[0,104,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,104,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\nxxx</span></p>");
add("html2html", "Section replacement test with initial whitespace (bug 13728)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>Preformatted initial line\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[44,70,8,9]}'>==a==\nxxx</span></p>");
add("html2html", "Section extraction, heading followed by pre with 20 spaces (bug 6398)", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,24,8,9]}'>==a==\n </span>                   a</p>");
add("html2html", "Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,24,8,9]}'>==a==\n </span>                  a</p>");
add("html2html", "Section extraction, <pre> around bogus header (bug 10309)", "<p data-parsoid='{\"dsr\":[0,40,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,40,8,9]}'>== Section Two ==\nstuff</span></p>");
add("html2html", "Section replacement, <pre> around bogus header (bug 10309)", "<h2 data-parsoid='{\"dsr\":[0,17,2,2]}'> Section One </h2>\n<pre data-parsoid='{\"dsr\":[18,26,1,0]}'>=======</pre>\n\n<p data-parsoid='{\"dsr\":[28,31,0,0]}'>xxx</p>");
add("html2html", "Special:Search page linking.", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>&lt;a href=\"/wiki/Special:Search\" title=\"Special:Search\">Special:Search&lt;/a></p>\n");
add("html2html", "Say the magic word", "<ul data-parsoid='{\"dsr\":[0,383,0,0]}'><li data-parsoid='{\"dsr\":[0,13,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[14,27,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[28,41,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[42,55,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[56,69,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[70,83,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[84,97,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[98,111,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[112,125,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[126,139,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[140,158,1,0]}'> Talk:Parser test</li>\n<li data-parsoid='{\"dsr\":[159,177,1,0]}'> Talk:Parser_test</li>\n<li data-parsoid='{\"dsr\":[178,191,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[192,205,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[206,208,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[209,211,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[212,215,1,0]}'> 0</li>\n<li data-parsoid='{\"dsr\":[216,222,1,0]}'> Talk</li>\n<li data-parsoid='{\"dsr\":[223,229,1,0]}'> Talk</li>\n<li data-parsoid='{\"dsr\":[230,232,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[233,235,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[236,383,1,0]}'> &lt;a href=\"/index.php?title=Template:Dynamic&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:Dynamic (page does not exist)\">Template:Dynamic&lt;/a></li></ul>\n");
add("html2html", "Gallery", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,139,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,92,42,6]}'>Image1.png</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[96,130,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[144,286,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,232,42,6]}'>Image2.gif</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[236,277,25,6]}'>\n||||\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[291,422,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[321,375,42,6]}'>Image3</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[379,413,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[427,574,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[457,511,42,6]}'>Image4</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[515,565,25,6]}'>\n<p data-parsoid='{\"dsr\":[541,554,0,0]}'>300px| centre</p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[579,748,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[609,667,42,6]}'>Image5.svg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[671,739,25,6]}'>\n<p data-parsoid='{\"dsr\":[697,728,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://///////\" data-parsoid='{\"targetOff\":713,\"contentOffsets\":[713,727],\"dsr\":[697,728,16,1]}'>http://///////</a></p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[753,903,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[783,856,42,6]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[825,850,8,9]}'>* image6</span></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[860,894,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery (with options)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'>\t* Foo &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n\t\t* <div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[69,218,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[99,161,41,6]}'>Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[165,209,25,6]}'>\n<p data-parsoid='{\"dsr\":[191,198,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[223,362,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[253,315,41,6]}'>Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[319,353,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[367,670,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[397,544,41,6]}'><div style=\"margin:31px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[438,538,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg\" alt=\"70px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[469,532,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[548,661,25,6]}'>\n<p data-parsoid='{\"dsr\":[574,650,0,0]}'>some <b data-parsoid='{\"dsr\":[579,592,3,3]}'>caption</b> &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[675,899,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[705,852,41,6]}'><div style=\"margin:31px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[746,846,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg\" alt=\"70px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[777,840,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[856,890,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[904,1145,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[934,1081,41,6]}'><div style=\"margin:31px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[975,1075,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg\" alt=\"70px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[1006,1069,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1085,1136,25,6]}'>\n<p data-parsoid='{\"dsr\":[1111,1125,0,0]}'>Blabla|blabla.</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery with link that has fragment", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,229,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,220,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[234,459,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[264,412,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[305,406,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[336,400,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[416,450,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[464,699,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[494,642,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[535,636,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[566,630,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[646,690,25,6]}'>\n<p data-parsoid='{\"dsr\":[672,679,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery with wikitext inside caption", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,358,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,349,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,338,0,0]}'>&lt;a href=\"/wiki/File:Foobar.jpg\" class=\"image\" title=\"desc\"><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/20px-Foobar.jpg\" alt=\"20px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[271,334,null,null]}'/>&lt;/a></p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[363,614,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[393,541,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[434,535,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[465,529,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[545,605,25,6]}'>\n<p data-parsoid='{\"dsr\":[571,594,0,0]}'>This is a test template</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "gallery (with showfilename option)", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,240,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,97,42,6]}'>Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[101,231,25,6]}'>\n<p data-parsoid='{\"dsr\":[127,220,0,0]}'>&lt;a href=\"/wiki/File:Nonexistant.jpg\" title=\"File:Nonexistant.jpg\">Nonexistant.jpg&lt;/a>\ncaption</p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[245,473,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[275,338,42,6]}'>Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[342,464,25,6]}'>\n<p data-parsoid='{\"dsr\":[368,453,0,0]}'>&lt;a href=\"/wiki/File:Nonexistant.jpg\" title=\"File:Nonexistant.jpg\">Nonexistant.jpg&lt;/a></p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[478,853,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[508,656,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[549,650,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[580,644,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[660,844,25,6]}'>\n<p data-parsoid='{\"dsr\":[686,833,0,0]}'>&lt;a href=\"/wiki/File:Foobar.jpg\" title=\"File:Foobar.jpg\">Foobar.jpg&lt;/a>\nsome <b data-parsoid='{\"dsr\":[762,775,3,3]}'>caption</b> &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[858,1156,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[888,1036,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[929,1030,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[960,1024,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1040,1147,25,6]}'>\n<p data-parsoid='{\"dsr\":[1066,1136,0,0]}'>&lt;a href=\"/wiki/File:Foobar.jpg\" title=\"File:Foobar.jpg\">Foobar.jpg&lt;/a></p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery (with namespace-less filenames)", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,144,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,97,42,6]}'>Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[101,135,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[149,289,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[179,242,42,6]}'>Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[246,280,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[294,519,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[324,472,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[365,466,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[396,460,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[476,510,25,6]}'>\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[524,749,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[554,702,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[595,696,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[626,690,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[706,740,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "__FORCETOC__ override", "\n");
add("html2html", "ISBN code coverage", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>[/wiki/Special:BookSources/9780123456 <a href=\"./Special:BookSources/9780123456\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[38,56,0,0]}'>ISBN 978-0-1234-56</a>] 789</p>\n");
add("html2html", "Double ISBN", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>ISBN [/wiki/Special:BookSources/1234567890 <a href=\"./Special:BookSources/1234567890\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[43,58,0,0]}'>ISBN 1234567890</a>]</p>\n");
add("html2html", "ISBN with an X", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>[/wiki/Special:BookSources/346204561X <a href=\"./Special:BookSources/346204561X\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[38,56,0,0]}'>ISBN 3-462-04561-X</a>]</p>\n");
add("html2html", "Bug 22905: <abbr> followed by ISBN followed by </a>", "<p data-parsoid='{\"dsr\":[0,109,0,0]}'><abbr data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,6,7]}'>(fr)</abbr> [/wiki/Special:BookSources/2753300917 <a href=\"./Special:BookSources/2753300917\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[56,71,0,0]}'>ISBN 2753300917</a>] <a rel=\"mw:ExtLink\" href=\"http://www.example.com\" data-parsoid='{\"targetOff\":97,\"contentOffsets\":[97,108],\"dsr\":[73,109,24,1]}'>example.com</a></p>\n");
add("html2html", "Double RFC with a wiki link", "<p data-parsoid='{\"dsr\":[0,142,0,0]}'>RFC &lt;a href=\"/index.php?title=RFC_1234&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"RFC 1234 (page does not exist)\"><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[113,138,8,9]}'>RFC 1234</span>&lt;/a></p>\n");
add("html2html", "Centre-aligned image", "<div class=\"center\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,96,20,6]}'><div class=\"floatnone\" data-parsoid='{\"stx\":\"html\",\"dsr\":[20,90,23,6]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[43,84,null,null]}'/></div></div>\n");
add("html2html", "None-aligned image", "<div class=\"floatnone\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,70,23,6]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[23,64,null,null]}'/></div>\n");
add("html2html", "Width + Height sized image (using px) (height is ignored)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Width-sized image (using px, no following whitespace)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Width-sized image (using px, with following whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Width-sized image (using px, with preceding whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Image with page parameter", "<p data-parsoid='{\"dsr\":[0,85,0,0]}'><img src=\"http://example.com/images/thumb/5/5f/LoremIpsum.djvu/page2-2480px-LoremIpsum.djvu.jpg\" alt=\"page2-2480px-LoremIpsum.djvu.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,85,null,null]}'/></p>\n");
add("html2html", "HTML with raw HTML ($wgRawHtml==true)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'>&lt;script>alert(1);&lt;/script></p>\n");
add("html2html", "Parents of subpages, one level up", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'>&lt;a href=\"/index.php?title=Subpage_test/L1/L2&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Subpage test/L1/L2 (page does not exist)\">L2&lt;/a></p>\n");
add("html2html", "Parents of subpages, one level up, not named", "<p data-parsoid='{\"dsr\":[0,151,0,0]}'>&lt;a href=\"/index.php?title=Subpage_test/L1/L2&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Subpage test/L1/L2 (page does not exist)\">Subpage test/L1/L2&lt;/a></p>\n");
add("html2html", "Parents of subpages, two levels up", "<p data-parsoid='{\"dsr\":[0,130,0,0]}'>&lt;a href=\"/index.php?title=Subpage_test/L1&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Subpage test/L1 (page does not exist)\">L1&lt;/a>2</p>\n\n<p data-parsoid='{\"dsr\":[132,262,0,0]}'>&lt;a href=\"/index.php?title=Subpage_test/L1&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Subpage test/L1 (page does not exist)\">L1l&lt;/a></p>\n");
add("html2html", "Parents of subpages, two levels up, with lots of extra trailing slashes.", "<p data-parsoid='{\"dsr\":[0,138,0,0]}'>&lt;a href=\"/index.php?title=Subpage_test/L1////&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Subpage test/L1//// (page does not exist)\">///&lt;/a></p>\n");
add("html2html", "Definition list code coverage", "<dl data-parsoid='{\"dsr\":[0,45,0,0]}'><dt data-parsoid='{\"dsr\":[0,10,1,0]}'> title   </dt>\n<dd data-parsoid='{\"dsr\":[11,16,1,0]}'> def</dd>\n<dt data-parsoid='{\"dsr\":[17,25,1,0]}'> title </dt>\n<dd data-parsoid='{\"dsr\":[26,31,1,0]}'> def</dd>\n<dt data-parsoid='{\"dsr\":[32,39,1,0]}'> title</dt>\n<dd data-parsoid='{\"dsr\":[40,45,1,0]}'> def</dd></dl>\n");
add("html2html", "RAW magic word", "<p data-parsoid='{\"dsr\":[0,142,0,0]}'>&lt;a href=\"/index.php?title=Template:QUERTY&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:QUERTY (page does not exist)\">Template:QUERTY&lt;/a></p>\n");
add("html2html", "Inclusion of !userCanEdit() content", "<h2 data-parsoid='{\"dsr\":[0,280,2,2]}'> <span class=\"mw-headline\" id=\"header\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,54,38,7]}'>header</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[54,277,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[83,128,37,7]}'>[</span>&lt;a href=\"/index.php?title=MediaWiki:Fake&amp;action=edit&amp;section=T-1\" title=\"MediaWiki:Fake\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[225,270,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Out-of-order TOC heading levels", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,518,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,139,0,0]}'><li data-parsoid='{\"dsr\":[69,139,1,0]}'> [#2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,107,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[108,138,22,7]}'>2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[141,359,0,0]}'><li data-parsoid='{\"dsr\":[141,288,1,0]}'><ul data-parsoid='{\"dsr\":[142,288,0,0]}'><li data-parsoid='{\"dsr\":[142,214,1,0]}'> [#6 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[148,182,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[183,213,22,7]}'>6</span>]</li>\n<li data-parsoid='{\"dsr\":[215,288,2,0]}'> [#3 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[222,256,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[257,287,22,7]}'>3</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[289,359,1,0]}'> [#1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[295,327,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[328,358,22,7]}'>1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[361,510,0,0]}'><li data-parsoid='{\"dsr\":[361,510,1,0]}'><ul data-parsoid='{\"dsr\":[362,510,0,0]}'><li data-parsoid='{\"dsr\":[362,434,1,0]}'> [#5 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[368,402,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[403,433,22,7]}'>5</span>]</li>\n<li data-parsoid='{\"dsr\":[435,510,2,0]}'> [#2_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[444,478,24,7]}'>2.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[479,509,22,7]}'>2</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[520,786,2,2]}'> <span class=\"mw-headline\" id=\"2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[523,564,33,7]}'>2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[564,783,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[593,638,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[731,776,37,7]}'>]</span></span> </h2>\n\n<h6 data-parsoid='{\"dsr\":[788,1062,6,6]}'> <span class=\"mw-headline\" id=\"6\" data-parsoid='{\"stx\":\"html\",\"dsr\":[795,836,33,7]}'>6</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[836,1055,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[865,910,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: 6\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1003,1048,37,7]}'>]</span></span> </h6>\n\n<h3 data-parsoid='{\"dsr\":[1064,1332,3,3]}'> <span class=\"mw-headline\" id=\"3\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1068,1109,33,7]}'>3</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1109,1328,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1138,1183,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: 3\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1276,1321,37,7]}'>]</span></span> </h3>\n\n<h1 data-parsoid='{\"dsr\":[1334,1598,1,1]}'> <span class=\"mw-headline\" id=\"1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1336,1377,33,7]}'>1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1377,1596,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1406,1451,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1544,1589,37,7]}'>]</span></span> </h1>\n\n<h5 data-parsoid='{\"dsr\":[1600,1872,5,5]}'> <span class=\"mw-headline\" id=\"5\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1606,1647,33,7]}'>5</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1647,1866,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1676,1721,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: 5\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1814,1859,37,7]}'>]</span></span> </h5>\n\n<h2 data-parsoid='{\"dsr\":[1874,2142,2,2]}'> <span class=\"mw-headline\" id=\"2_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1877,1920,35,7]}'>2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1920,2139,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1949,1994,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=6\" title=\"Edit section: 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2087,2132,37,7]}'>]</span></span> </h2>\n");
add("html2html", "ISBN with space-delimited number", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>[/wiki/Special:BookSources/9290170328 <a href=\"./Special:BookSources/9290170328\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[38,56,0,0]}'>ISBN 92 9017 032 8</a>]</p>\n");
add("html2html", "ISBN length", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'>ISBN 123456789</p>\n\n<p data-parsoid='{\"dsr\":[16,70,0,0]}'>[/wiki/Special:BookSources/1234567890 <a href=\"./Special:BookSources/1234567890\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[54,69,0,0]}'>ISBN 1234567890</a>]</p>\n\n<p data-parsoid='{\"dsr\":[72,88,0,0]}'>ISBN 12345678901</p>\n");
add("html2html", "ISBN with trailing year (bug 8110)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'>[/wiki/Special:BookSources/1234567890 <a href=\"./Special:BookSources/1234567890\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[38,56,0,0]}'>ISBN 1-234-56789-0</a>] - 2006</p>\n\n<p data-parsoid='{\"dsr\":[66,130,0,0]}'>[/wiki/Special:BookSources/1234567890 <a href=\"./Special:BookSources/1234567890\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[104,122,0,0]}'>ISBN 1 234 56789 0</a>] - 2006</p>\n");
add("html2html", "anchorencode encodes like the TOC generator: (bug 18431)", "<h3 data-parsoid='{\"dsr\":[0,85,3,3]}'> <span class=\"mw-headline\" id=\".2B:.3A.253A.26.26.5D.5D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,81,56,7]}'>_ +:.3A%3A&amp;&amp;]]</span> </h3>\n<p data-parsoid='{\"dsr\":[86,110,0,0]}'>.2B:.3A.253A.26.26.5D.5D</p>\n");
add("html2html", "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title", "<p data-parsoid='{\"dsr\":[0,191,0,0]}'>&lt;a href=\"/wiki/%D0%94%D1%83%D0%BD%D0%B0\" title=\"Дуна\">Дуна&lt;/a> is not a self-link while <strong class=\"selflink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[88,126,25,9]}'>Duna</strong> and <strong class=\"selflink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[131,169,25,9]}'>Dуна</strong> are still self-links.</p>\n");
add("html2html", "Link to a section of a variant of this title shouldn't be parsed as self-link", "<p data-parsoid='{\"dsr\":[0,217,0,0]}'><strong class=\"selflink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,38,25,9]}'>Dуна</strong> is a self-link while &lt;a href=\"/wiki/%D0%94%D1%83%D0%BD%D0%B0\" title=\"Дуна\">Dunа#Foo&lt;/a> and &lt;a href=\"/wiki/%D0%94%D1%83%D0%BD%D0%B0\" title=\"Дуна\">Dуна#Foo&lt;/a> are not self-links.</p>\n");
add("html2html", "Link to pages in language variants", "<p data-parsoid='{\"dsr\":[0,85,0,0]}'>Main Page can be written as &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Маин Паге&lt;/a></p>\n");
add("html2html", "Multiple links to pages in language variants", "<p data-parsoid='{\"dsr\":[0,200,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a> can be written as &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Маин Паге&lt;/a> same as &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Маин Паге&lt;/a>.</p>\n");
add("html2html", "Simple category in language variants", "<p data-parsoid='{\"dsr\":[0,170,0,0]}'>&lt;a href=\"/wiki/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%98%D0%B0:MediaWiki_User%27s_Guide\" title=\"Категорија:MediaWiki User's Guide\">MediaWiki User's Guide&lt;/a></p>");
add("html2html", "Don't convert blue categorylinks to another variant (bug 33210)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'>&lt;a href=\"/wiki/Category:%E5%88%86%E7%B1%BB\" title=\"Category:分类\">分类&lt;/a></p>");
add("html2html", "Prevent conversion of links with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a></p>\n");
add("html2html", "-{}- tags within headlines (within html for parserConvert())", "<h2 data-parsoid='{\"dsr\":[0,293,2,2]}'> <span class=\"mw-headline\" id=\"-.7BNaslov.7D-\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,62,46,7]}'>Naslov</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,290,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[91,136,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Уредите одељак „Naslov“\">уреди&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[238,283,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Adding explicit conversion rule for title (T flag)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Taiwan</p>\n\n<p data-parsoid='{\"dsr\":[8,27,0,0]}'>Should be stripped!</p>\n");
add("html2html", "Testing that changing the language variant here in the tests actually works", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>China</p>\n\n<p data-parsoid='{\"dsr\":[7,26,0,0]}'>Should be stripped!</p>\n");
add("html2html", "Recursive conversion of alt and title attrs shouldn't clear converter state", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>China</p>\n\n<p data-parsoid='{\"dsr\":[7,59,0,0]}'>Should be stripped<span title=\"Exclamation\" data-parsoid='{\"stx\":\"html\",\"dsr\":[25,59,26,7]}'>!</span></p>\n");
add("html2html", "Bug 24072: more test on conversion rule for title", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Taiwan</p>\n\n<p data-parsoid='{\"dsr\":[8,80,0,0]}'>This should be stripped!\nThis won't take interferes with the title rule.</p>\n");
add("html2html", "Partly disable title conversion if variant == main language code", "<p data-parsoid='{\"dsr\":[0,2,0,0]}'>ZH</p>\n");
add("html2html", "Partly disable title conversion if variant == main language code, more", "<p data-parsoid='{\"dsr\":[0,2,0,0]}'>ZH</p>\n");
add("html2html", "Don't break link parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>&lt;a href=\"/wiki/Main_Page\" title=\"Маин Паге\">main page&lt;/a></p>\n");
add("html2html", "Don't break image parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,107,0,0]}'>&lt;a href=\"/wiki/File:Foobar.jpg\" class=\"image\" title=\"caption\"><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[62,103,null,null]}'/>&lt;/a></p>\n");
add("html2html", "Don't break list handling if language converter markup is in the item.", "<dl data-parsoid='{\"dsr\":[0,5,0,0]}'><dt data-parsoid='{\"dsr\":[0,5,1,0]}'> AAA</dt></dl>\n");
add("html2html", "Morwen/13: Unclosed link followed by heading", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>[[link</p>\n\n<h2 data-parsoid='{\"dsr\":[8,292,2,2]}'> <span class=\"mw-headline\" id=\"heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[11,64,39,7]}'>heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[64,289,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[93,138,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[237,282,37,7]}'>]</span></span> </h2>\n");
add("html2html", "HHP2.1: Heuristics for headings in preprocessor parenthetical structures", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,19,8,9]}'>{{</span>foo|</p>\n\n<h1 data-parsoid='{\"dsr\":[25,82,1,1]}'> <span class=\"mw-headline\" id=\"heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[27,80,39,7]}'>heading</span> </h1>\n");
add("html2html", "HHP2.2: Heuristics for headings in preprocessor parenthetical structures", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,19,8,9]}'>{{</span>foo|</p>\n\n<h2 data-parsoid='{\"dsr\":[25,309,2,2]}'> <span class=\"mw-headline\" id=\"heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[28,81,39,7]}'>heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,306,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[110,155,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: heading\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[254,299,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Interwiki links trounced by replaceExternalLinks after early LinkHolderArray expansion", "<p data-parsoid='{\"dsr\":[0,287,0,0]}'>&lt;a href=\"http://www.usemod.com/cgi-bin/mb.pl?1\" class=\"extiw\" title=\"meatball:1\">meatball:1&lt;/a>\n&lt;a href=\"http://www.usemod.com/cgi-bin/mb.pl?2\" class=\"extiw\" title=\"meatball:2\">meatball:2&lt;/a>\n&lt;a href=\"http://www.usemod.com/cgi-bin/mb.pl?3\" class=\"extiw\" title=\"meatball:3\">meatball:3&lt;/a></p>\n");
add("html2html", "Free external link invading image caption", "<div class=\"thumb tright\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,342,26,6]}'><div class=\"thumbinner\" style=\"width:182px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,336,45,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg\" alt=\"180px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[71,135,null,null]}'/>  <div class=\"thumbcaption\" data-parsoid='{\"stx\":\"html\",\"dsr\":[137,330,26,6]}'><div class=\"magnify\" data-parsoid='{\"stx\":\"html\",\"dsr\":[163,319,21,6]}'>&lt;a href=\"/wiki/File:Foobar.jpg\" class=\"internal\" title=\"Enlarge\"><a rel=\"mw:WikiLink\" href=\".//skins/common/images/magnify-clip.png\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\".//skins/common/images/magnify-clip.png\"},\"sa\":{\"href\":\"/skins/common/images/magnify-clip.png\"},\"dsr\":[249,309,40,2]}'>link=|alt=|15x15px</a>&lt;/a></div>hello</div></div></div>\n");
add("html2html", "Edit comment with link", "<p data-parsoid='{\"dsr\":[0,74,0,0]}'>I like the &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page&lt;/a> a lot</p>");
add("html2html", "Edit comment with link and link text", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>I like the &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">best pages&lt;/a> a lot</p>");
add("html2html", "Edit comment with link and link text with suffix", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>I like the &lt;a href=\"/wiki/Main_Page\" title=\"Main Page\">best pages&lt;/a> a lot</p>");
add("html2html", "Edit comment with section link (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,160,0,0]}'>&lt;a href=\"/wiki/Main_Page#External_links\" title=\"Main Page\">→&lt;/a>‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[65,160,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[82,131,26,7]}'>External links: </span> removed bogus entries</span></p>");
add("html2html", "Edit comment with section link and text before it (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,177,0,0]}'>pre-comment text &lt;a href=\"/wiki/Main_Page#External_links\" title=\"Main Page\">→&lt;/a>‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[82,177,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[99,148,26,7]}'>External links: </span> removed bogus entries</span></p>");
add("html2html", "Edit comment with section link (local, eg in diff view)", "<p data-parsoid='{\"dsr\":[0,115,0,0]}'>[#External_links →]‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[20,115,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[37,86,26,7]}'>External links: </span> removed bogus entries</span></p>");
add("html2html", "Edit comment with subpage link (bug 14080)", "<p data-parsoid='{\"dsr\":[0,97,0,0]}'>Poked at a &lt;a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">/subpage&lt;/a> here...</p>");
add("html2html", "Edit comment with subpage link and link text (bug 14080)", "<p data-parsoid='{\"dsr\":[0,105,0,0]}'>Poked at a &lt;a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">neat little page&lt;/a> here...</p>");
add("html2html", "Edit comment with bogus subpage link in non-subpage NS (bug 14080)", "<p data-parsoid='{\"dsr\":[0,140,0,0]}'>Poked at a &lt;a href=\"/index.php?title=/subpage&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"/subpage (page does not exist)\">/subpage&lt;/a> here...</p>");
add("html2html", "Edit comment with bare anchor link (local, as on diff)", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'>[#section #section]</p>");
add("html2html", "Edit comment with bare anchor link (non-local, as on history)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'>&lt;a href=\"/wiki/Main_Page#section\" title=\"Main Page\">#section&lt;/a></p>");
add("html2html", "Anchor starting with underscore", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>[#_ref One]</p>\n");
add("html2html", "Space normalisation on autocomment (bug 22784)", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'>&lt;a href=\"/wiki/Main_Page#hello_world\" title=\"Main Page\">→&lt;/a>‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,135,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,128,26,7]}'>__hello__world__</span></span></p>");
add("html2html", "percent-encoding and + signs in comments (Bug 26410)", "<p data-parsoid='{\"dsr\":[0,256,0,0]}'>&lt;a href=\"/index.php?title=ABC3D%25_%2B%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ABC3D% ++ (page does not exist)\">ABC3D% ++&lt;/a> &lt;a href=\"/index.php?title=ABC3D%25_%2B%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ABC3D% ++ (page does not exist)\">+%20&lt;/a></p>");
add("html2html", "Verify that displaytitle works (bug #22501) no displaytitle", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>Parser test</p>\n\n<p data-parsoid='{\"dsr\":[13,38,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'>whatever</p>\n\n<p data-parsoid='{\"dsr\":[10,35,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Screen</p>\n\n<p data-parsoid='{\"dsr\":[8,33,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>screen</p>\n\n<p data-parsoid='{\"dsr\":[8,33,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Screen</p>\n\n<p data-parsoid='{\"dsr\":[8,215,0,0]}'>this is not the the title\n&lt;a href=\"/index.php?title=Template:DISPLAYTITLE:screen&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:DISPLAYTITLE:screen (page does not exist)\">Template:DISPLAYTITLE:screen&lt;/a></p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Screen</p>\n\n<p data-parsoid='{\"dsr\":[8,33,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><span style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* attempt to bypass $wgRestrictDisplayTitle */\"},\"dsr\":[0,70,62,7]}'>s</span>creen</p>\n\n<p data-parsoid='{\"dsr\":[77,102,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><span style=\"color: red;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,34,26,7]}'>s</span>creen</p>\n\n<p data-parsoid='{\"dsr\":[41,66,0,0]}'>this is not the the title</p>\n");
add("html2html", "preload: check <noinclude> and <includeonly>", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>Hello kind world.</p>");
add("html2html", "preload: check <onlyinclude>", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>Hello world</p>");
add("html2html", "preload: can pass tags through if we want to", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>Hello world&lt;/includeonly>\",\"dsr\":[0,38,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[38,38,null,null]}'/>");
add("html2html", "preload: check that it doesn't try to do tricks", "<p data-parsoid='{\"dsr\":[0,118,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'>*</span> <!-- Hello --> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[34,118,8,9]}'>''{{world}}'' {{subst:How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}</span></p>");
add("html2html", "HTML5 data attributes", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span data-foo=\"bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,31,21,7]}'>Baz</span></p>\n\n<p data-parsoid='{\"dsr\":[33,37,0,0]}'>Quuz</p>\n");
add("html2html", "percent-encoding and + signs in internal links (Bug 26410)", "<p data-parsoid='{\"dsr\":[0,1217,0,0]}'>&lt;a href=\"/index.php?title=User:%2B%25&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"User:+% (page does not exist)\">User:+%&lt;/a> &lt;a href=\"/index.php?title=Page%2Btitle%25&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Page+title% (page does not exist)\">Page+title%&lt;/a>\n&lt;a href=\"/index.php?title=%25%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"%+ (page does not exist)\">%+&lt;/a> &lt;a href=\"/index.php?title=%25%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"%+ (page does not exist)\">%20&lt;/a> &lt;a href=\"/index.php?title=%25%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"%+ (page does not exist)\">%+ &lt;/a> &lt;a href=\"/index.php?title=%25%2Br&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"%+r (page does not exist)\">%+r&lt;/a>\n&lt;a href=\"/index.php?title=%25&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"% (page does not exist)\">%&lt;/a> &lt;a href=\"/index.php?title=%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"+ (page does not exist)\">+&lt;/a> &lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=%25%2Babc9\" class=\"new\" title=\"File:%+abc9\">bar&lt;/a>\n&lt;a href=\"/index.php?title=3E&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"3E (page does not exist)\">3E&lt;/a> &lt;a href=\"/index.php?title=3E%2B&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"3E+ (page does not exist)\">3E+&lt;/a></p>\n");
add("html2html", "Special characters in embedded file links (bug 27679)", "<p data-parsoid='{\"dsr\":[0,306,0,0]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Contains_%26_ampersand.jpg\" class=\"new\" title=\"File:Contains &amp; ampersand.jpg\">File:Contains &amp; ampersand.jpg&lt;/a>\n&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Does_not_exist.jpg\" class=\"new\" title=\"File:Does not exist.jpg\">Title with &amp; ampersand&lt;/a></p>\n");
add("html2html", "Bug 31098 Template which includes system messages which includes the template", "<p data-parsoid='{\"dsr\":[0,271,0,0]}'><span class=\"error\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,135,20,7]}'>Template loop detected: &lt;a href=\"/wiki/Template:Identical\" title=\"Template:Identical\">Template:Identical&lt;/a></span>\n<span class=\"error\" data-parsoid='{\"stx\":\"html\",\"dsr\":[136,271,20,7]}'>Template loop detected: &lt;a href=\"/wiki/Template:Identical\" title=\"Template:Identical\">Template:Identical&lt;/a></span></p>\n");
add("html2html", "Bug31490 Turkish: ucfırst (with a dotless i)", "<p data-parsoid='{\"dsr\":[0,163,0,0]}'>&lt;a href=\"/index.php?title=%C5%9Eablon:Ucf%C4%B1rst:blah&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Şablon:Ucfırst:blah (sayfa mevcut değil)\">Şablon:Ucfırst:blah&lt;/a></p>\n");
add("html2html", "Bug31490 ucfırst (with a dotless i) with English language", "<p data-parsoid='{\"dsr\":[0,165,0,0]}'>&lt;a href=\"/index.php?title=Template:Ucf%C4%B1rst:blah&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Template:Ucfırst:blah (page does not exist)\">Template:Ucfırst:blah&lt;/a></p>\n");
add("html2html", "Bug 26375: TOC with italics", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,175,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,167,0,0]}'><li data-parsoid='{\"dsr\":[69,167,1,0]}'> [#Lost_episodes <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[87,119,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[120,166,22,7]}'><i data-parsoid='{\"dsr\":[142,150,2,2]}'>Lost</i> episodes</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[177,481,2,2]}'> <span class=\"mw-headline\" id=\"Lost_episodes\" data-parsoid='{\"stx\":\"html\",\"dsr\":[180,249,45,7]}'><i data-parsoid='{\"dsr\":[225,233,2,2]}'>Lost</i> episodes</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[249,478,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[278,323,37,7]}'>[</span>&lt;a href=\"/index.php?title=Main_Page&amp;action=edit&amp;section=1\" title=\"Edit section: Lost episodes\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[426,471,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 26375: TOC with bold", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,213,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,205,0,0]}'><li data-parsoid='{\"dsr\":[69,205,1,0]}'> [#should_be_bold_then_normal_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[105,137,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[138,204,22,7]}'><b data-parsoid='{\"dsr\":[160,180,3,3]}'>should be bold</b> then normal text</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[215,575,2,2]}'> <span class=\"mw-headline\" id=\"should_be_bold_then_normal_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[218,325,63,7]}'><b data-parsoid='{\"dsr\":[281,301,3,3]}'>should be bold</b> then normal text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[325,572,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[354,399,37,7]}'>[</span>&lt;a href=\"/index.php?title=Main_Page&amp;action=edit&amp;section=1\" title=\"Edit section: should be bold then normal text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[520,565,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 33845: Headings become cursive in TOC when they contain an image", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,155,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,147,0,0]}'><li data-parsoid='{\"dsr\":[69,147,1,0]}'> [#Image <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,111,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,146,22,7]}'>Image</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[157,475,2,2]}'> <span class=\"mw-headline\" id=\"Image\" data-parsoid='{\"stx\":\"html\",\"dsr\":[160,251,37,7]}'>Image <img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[203,244,null,null]}'/></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[251,472,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[280,325,37,7]}'>[</span>&lt;a href=\"/index.php?title=Main_Page&amp;action=edit&amp;section=1\" title=\"Edit section: Image\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[420,465,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 33845 (2): Headings become bold in TOC when they contain a blockquote", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,155,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,147,0,0]}'><li data-parsoid='{\"dsr\":[69,147,1,0]}'> [#Quote <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,111,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,146,22,7]}'>Quote</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[157,458,2,2]}'> <span class=\"mw-headline\" id=\"Quote\" data-parsoid='{\"stx\":\"html\",\"dsr\":[160,234,37,7]}'><blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[197,227,12,13]}'>Quote</blockquote></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[234,455,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[263,308,37,7]}'>[</span>&lt;a href=\"/index.php?title=Main_Page&amp;action=edit&amp;section=1\" title=\"Edit section: Quote\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[403,448,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Unclosed tags in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,171,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,163,0,0]}'><li data-parsoid='{\"dsr\":[69,163,1,0]}'> [#Proof:_2_.3C_3 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[88,120,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[121,162,22,7]}'>Proof: 2 &lt; 3</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[173,472,2,2]}'> <span class=\"mw-headline\" id=\"Proof:_2_.3C_3\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,241,46,7]}'>Proof: 2 &lt; 3</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[241,469,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[270,315,37,7]}'>[</span>&lt;a href=\"/index.php?title=Main_Page&amp;action=edit&amp;section=1\" title=\"Edit section: Proof: 2 &lt; 3\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[417,462,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[473,528,0,0]}'><small data-parsoid='{\"stx\":\"html\",\"dsr\":[473,524,7,8]}'>Hanc marginis exiguitas non caperet.</small>\nQED</p>\n");
add("html2html", "Multiple tags in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,258,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,250,0,0]}'><li data-parsoid='{\"dsr\":[69,161,1,0]}'> [#Foo_Bar <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,160,22,7]}'><i data-parsoid='{\"dsr\":[136,143,2,2]}'>Foo</i> <b data-parsoid='{\"dsr\":[144,153,3,3]}'>Bar</b></span>]</li>\n<li data-parsoid='{\"dsr\":[162,250,1,0]}'> [#Foo_Bar_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,208,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[209,249,22,7]}'><i data-parsoid='{\"dsr\":[231,238,2,2]}'>Foo</i> Bar</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[260,554,2,2]}'> <span class=\"mw-headline\" id=\"Foo_Bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[263,326,39,7]}'><i data-parsoid='{\"dsr\":[302,309,2,2]}'>Foo</i> <b data-parsoid='{\"dsr\":[310,319,3,3]}'>Bar</b></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[326,551,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[355,400,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Foo Bar\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[499,544,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[556,871,2,2]}'> <span class=\"mw-headline\" id=\"Foo_Bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[559,643,41,7]}'><i data-parsoid='{\"dsr\":[600,607,2,2]}'>Foo</i> <blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[608,636,12,13]}'>Bar</blockquote></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[643,868,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[672,717,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Foo Bar\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[816,861,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Tags with parameters in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,271,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,263,0,0]}'><li data-parsoid='{\"dsr\":[69,158,1,0]}'> [#Hello <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,111,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,157,22,7]}'><sup data-parsoid='{\"stx\":\"html\",\"dsr\":[134,150,5,6]}'>Hello</sup></span>]</li>\n<li data-parsoid='{\"dsr\":[159,263,1,0]}'> [#b.22.3EEvilbye <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[178,210,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[211,262,22,7]}'><sup data-parsoid='{\"stx\":\"html\",\"dsr\":[233,255,5,6]}'> b\">Evilbye</sup></span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[273,576,2,2]}'> <span class=\"mw-headline\" id=\"Hello\" data-parsoid='{\"stx\":\"html\",\"dsr\":[276,350,37,7]}'><sup class=\"in-h2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[313,343,19,6]}'>Hello</sup></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[350,573,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[379,424,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Hello\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[521,566,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[578,892,2,2]}'> <span class=\"mw-headline\" id=\"b.22.3EEvilbye\" data-parsoid='{\"stx\":\"html\",\"dsr\":[581,656,46,7]}'><sup data-parsoid='{\"stx\":\"html\",\"dsr\":[627,649,5,6]}'> b\">Evilbye</sup></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[656,889,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[685,730,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: b&amp;quot;>Evilbye\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[837,882,37,7]}'>]</span></span> </h2>\n");
add("html2html", "span tags with directionality in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,942,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,934,0,0]}'><li data-parsoid='{\"dsr\":[69,170,1,0]}'> [#C.2B.2B <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,169,22,7]}'><span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[136,162,16,7]}'>C++</span></span>]</li>\n<li data-parsoid='{\"dsr\":[171,294,1,0]}'> [#.D7.96.D7.91.D7.A0.D7.92.21 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,235,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[236,293,22,7]}'><span dir=\"rtl\" data-parsoid='{\"stx\":\"html\",\"dsr\":[258,286,16,7]}'>זבנג!</span></span>]</li>\n<li data-parsoid='{\"dsr\":[295,500,1,0]}'> [#The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[362,394,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[395,499,22,7]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[417,492,6,7]}'>The attributes on these span tags must be deleted from the TOC</span></span>]</li>\n<li data-parsoid='{\"dsr\":[501,706,1,0]}'> [#All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[568,600,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[601,705,22,7]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[623,698,6,7]}'>All attributes on these span tags must be deleted from the TOC</span></span>]</li>\n<li data-parsoid='{\"dsr\":[707,934,1,0]}'> [#Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[780,812,24,7]}'>5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[813,933,22,7]}'><span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[835,926,16,7]}'>Attributes after dir on these span tags must be deleted from the TOC</span></span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[944,1243,2,2]}'> <span class=\"mw-headline\" id=\"C.2B.2B\" data-parsoid='{\"stx\":\"html\",\"dsr\":[947,1019,39,7]}'><span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[986,1012,16,7]}'>C++</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1019,1240,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1048,1093,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: C++\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1188,1233,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[1245,1568,2,2]}'> <span class=\"mw-headline\" id=\".D7.96.D7.91.D7.A0.D7.92.21\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1248,1342,59,7]}'><span dir=\"rtl\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1307,1335,16,7]}'>זבנג!</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1342,1565,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1371,1416,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: זבנג!\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1513,1558,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[1570,2059,2,2]}'> <span class=\"mw-headline\" id=\"The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1573,1776,94,7]}'><span style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1667,1769,33,7]}'>The attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1776,2056,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1805,1850,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: The attributes on these span tags must be deleted from the TOC\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2004,2049,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[2061,2560,2,2]}'> <span class=\"mw-headline\" id=\"All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2064,2277,94,7]}'><span style=\"font-style: italic\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2158,2270,43,7]}'>All attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2277,2557,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2306,2351,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: All attributes on these span tags must be deleted from the TOC\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2505,2550,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[2562,3079,2,2]}'> <span class=\"mw-headline\" id=\"Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2565,2790,100,7]}'><span dir=\"ltr\" style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2665,2783,43,7]}'>Attributes after dir on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2790,3076,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2819,2864,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: Attributes after dir on these span tags must be deleted from the TOC\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3024,3069,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 32057: Title needed when expanding <h> nodes.", "<h2 data-parsoid='{\"dsr\":[0,300,2,2]}'> <span class=\"mw-headline\" id=\"Headline_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,68,45,7]}'>Headline text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,297,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[97,142,37,7]}'>[</span>&lt;a href=\"/index.php?title=Main_Page&amp;action=edit&amp;section=1\" title=\"Edit section: Headline text\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[245,290,37,7]}'>]</span></span> </h2>\n");
add("html2html", "nowiki inside link inside heading (bug 18295)", "<h2 data-parsoid='{\"dsr\":[0,375,2,2]}'> <span class=\"mw-headline\" id=\"xyz\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,151,35,7]}'>&lt;a href=\"/index.php?title=Foo&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">xyz&lt;/a></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[151,372,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[180,225,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: xyz\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[320,365,37,7]}'>]</span></span> </h2>\n");
add("html2html", "new support for bdi element (bug 31817)", "<p data-parsoid='{\"dsr\":[0,122,0,0]}'>ולדימיר לנין (ברוסית: <bdi lang=\"ru\" data-parsoid='{\"stx\":\"html\",\"dsr\":[22,57,15,6]}'>Владимир Ленин</bdi>, 24 באפריל 1870–22 בינואר 1924) הוא מנהיג פוליטי קומוניסטי רוסי.</p>\n");
add("html2html", "Gallery override link with WikiLink (bug 34852)", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,239,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,230,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,219,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery override link with absolute external link (bug 34852)", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,239,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,230,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,219,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery override link with malicious javascript (bug 34852)", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,239,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,230,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,219,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery with invalid title as link (bug 43964)", "\t\t* <div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,229,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,220,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Disable TOC", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>Lead</p>\n\n<h2 data-parsoid='{\"dsr\":[6,296,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[9,66,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[66,293,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[95,140,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=1\" title=\"Edit section: Section 1\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[241,286,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[298,588,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[301,358,41,7]}'>Section 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[358,585,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[387,432,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=2\" title=\"Edit section: Section 2\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[533,578,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[590,880,2,2]}'> <span class=\"mw-headline\" id=\"Section_3\" data-parsoid='{\"stx\":\"html\",\"dsr\":[593,650,41,7]}'>Section 3</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[650,877,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[679,724,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=3\" title=\"Edit section: Section 3\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[825,870,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[882,1172,2,2]}'> <span class=\"mw-headline\" id=\"Section_4\" data-parsoid='{\"stx\":\"html\",\"dsr\":[885,942,41,7]}'>Section 4</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[942,1169,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[971,1016,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=4\" title=\"Edit section: Section 4\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1117,1162,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[1174,1464,2,2]}'> <span class=\"mw-headline\" id=\"Section_5\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1177,1234,41,7]}'>Section 5</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1234,1461,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1263,1308,37,7]}'>[</span>&lt;a href=\"/index.php?title=Parser_test&amp;action=edit&amp;section=5\" title=\"Edit section: Section 5\">edit&lt;/a><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1409,1454,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Ref: 5. body should accept generic wikitext", "<p data-parsoid='{\"dsr\":[0,81,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"This is a &lt;b data-parsoid=&#39;{\\\"dsr\\\":[17,38,3,3]}&#39;>&lt;a rel=\\\"mw:WikiLink\\\" href=\\\"./Bolded_link\\\" data-parsoid=&#39;{\\\"stx\\\":\\\"simple\\\",\\\"a\\\":{\\\"href\\\":\\\"./Bolded_link\\\"},\\\"sa\\\":{\\\"href\\\":\\\"bolded link\\\"},\\\"dsr\\\":[20,35,2,2]}&#39;>bolded link&lt;/a>&lt;/b> and this is a &lt;span about=\\\"#mwt3\\\" typeof=\\\"mw:Transclusion\\\" data-mw=&#39;{\\\"parts\\\":[{\\\"template\\\":{\\\"target\\\":{\\\"wt\\\":\\\"echo\\\",\\\"href\\\":\\\"./Template:Echo\\\"},\\\"params\\\":{\\\"1\\\":{\\\"wt\\\":\\\"transclusion\\\"}},\\\"i\\\":0}}]}&#39; data-parsoid=&#39;{\\\"pi\\\":[[{\\\"k\\\":\\\"1\\\",\\\"spc\\\":[\\\"\\\",\\\"\\\",\\\"\\\",\\\"\\\"]}]],\\\"dsr\\\":[53,74,null,null]}&#39;>transclusion&lt;/span>\\n\"},\"attrs\":{}}' id=\"cite_ref-1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid=\"{&quot;src&quot;:&quot;&lt;ref>This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\\n&lt;/ref>&quot;,&quot;dsr&quot;:[2,81,5,6]}\"><a href=\"#cite_note-1\" data-parsoid=\"{}\">[1]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt5\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[83,97,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"#cite_ref-1-0\" data-parsoid=\"{}\">↑</a></span> This is a <b data-parsoid='{\"dsr\":[17,38,3,3]}'><a rel=\"mw:WikiLink\" href=\"./Bolded_link\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Bolded_link\"},\"sa\":{\"href\":\"bolded link\"},\"dsr\":[20,35,2,2]}'>bolded link</a></b> and this is a <span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"transclusion\"}},\"i\":0}}]}' data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[53,74,null,null]}'>transclusion</span>\n</li></ol>");
add("html2html", "Ref: 7. No p-wrapping in ref-body", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"foo\\nbar\\nbaz\\nbooz\\n\"},\"attrs\":{}}' id=\"cite_ref-1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>foo\\nbar\\nbaz\\nbooz\\n&lt;/ref>\",\"dsr\":[2,30,5,6]}'><a href=\"#cite_note-1\" data-parsoid=\"{}\">[1]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[32,46,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"#cite_ref-1-0\" data-parsoid=\"{}\">↑</a></span> foo\nbar\nbaz\nbooz\n</li></ol>");
add("html2html", "Ref: 8. transclusion wikitext has lower precedence", "<p data-parsoid='{\"dsr\":[0,47,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"foo &lt;span typeof=\\\"mw:Nowiki\\\" data-parsoid=&#39;{\\\"src\\\":\\\"{{\\\",\\\"dsr\\\":[11,13,0,0]}&#39;>{{&lt;/span>echo|\"},\"attrs\":{}}' id=\"cite_ref-1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>foo {{echo|&lt;/ref>\",\"dsr\":[2,24,5,6]}'><a href=\"#cite_note-1\" data-parsoid=\"{}\">[1]</a></span> B C<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[28,47,8,9]}'>}}</span></p>\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[48,62,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"#cite_ref-1-0\" data-parsoid=\"{}\">↑</a></span> foo <span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"{{\",\"dsr\":[11,13,0,0]}'>{{</span>echo|</li></ol>");
add("html2html", "Ref: 10. Unclosed HTML tags should not leak out of ref-body", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"&lt;b data-parsoid=&#39;{\\\"stx\\\":\\\"html\\\",\\\"autoInsertedEnd\\\":true,\\\"dsr\\\":[7,15,3,0]}&#39;> foo &lt;/b>\"},\"attrs\":{}}' id=\"cite_ref-1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>&lt;b> foo &lt;/ref>\",\"dsr\":[2,21,5,6]}'><a href=\"#cite_note-1\" data-parsoid=\"{}\">[1]</a></span> B C</p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[27,41,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"#cite_ref-1-0\" data-parsoid=\"{}\">↑</a></span> <b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[7,15,3,0]}'> foo </b></li></ol>");
add("html2html", "References: 5. ref tags in references should be processed while ignoring all other content", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"}}' id=\"cite_ref-a-1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"a\\\" />\",\"dsr\":[2,18,16,0]}'><a href=\"#cite_note-a-1\" data-parsoid=\"{}\">[1]</a></span>\nB <span about=\"#mwt4\" class=\"reference\" data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"bar\"},\"attrs\":{\"name\":\"b\"}}' id=\"cite_ref-b-2-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"b\\\">bar&lt;/ref>\",\"dsr\":[21,44,14,6]}'><a href=\"#cite_note-b-2\" data-parsoid=\"{}\">[2]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"src\":\"&lt;references>\\n&lt;ref name=\\\"a\\\">foo&lt;/ref>\\n&lt;/references>\",\"dsr\":[46,96,2,2]}' data-mw='{\"name\":\"references\",\"body\":{\"extsrc\":\"&lt;ref name=\\\"a\\\">foo&lt;/ref>\",\"html\":\"\\n&lt;span about=\\\"#mwt8\\\" class=\\\"reference\\\" data-mw=&#39;{\\\"name\\\":\\\"ref\\\",\\\"body\\\":{\\\"html\\\":\\\"foo\\\"},\\\"attrs\\\":{\\\"name\\\":\\\"a\\\"}}&#39; rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\">&lt;a href=\\\"#cite_note-a-1\\\">[1]&lt;/a>&lt;/span>\\n\"},\"attrs\":{}}'><li about=\"#cite_note-a-1\" id=\"cite_note-a-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"#cite_ref-a-1-0\" data-parsoid=\"{}\">↑</a></span> foo</li><li about=\"#cite_note-b-2\" id=\"cite_note-b-2\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"#cite_ref-b-2-0\" data-parsoid=\"{}\">↑</a></span> bar</li></ol>");
add("html2html", "Headings: 6a. Heading chars in SOL context (with trailing spaces)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,20,8,9]}'>=a=</span></p>\n\n<p data-parsoid='{\"dsr\":[22,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[22,42,8,9]}'>=a=</span> </p>\n\n<p data-parsoid='{\"dsr\":[45,66,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[45,65,8,9]}'>=a=</span>\t</p>\n\n<p data-parsoid='{\"dsr\":[68,90,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[68,88,8,9]}'>=a=</span> \t</p>\n");
add("html2html", "Headings: 6b. Heading chars in SOL context (with trailing newlines)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>=a=\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[24,47,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[24,47,8,9]}'>=a= \nb</span></p>\n\n<p data-parsoid='{\"dsr\":[49,72,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[49,72,8,9]}'>=a=\t\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[74,98,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[74,98,8,9]}'>=a=\t \nb</span></p>\n");
add("html2html", "Headings: 6c. Heading chars in SOL context (leading newline break)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,22,8,9]}'>=b=</span></p>\n");
add("html2html", "Headings: 6d. Heading chars in SOL context (with interspersed comments)", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'><!--c0--><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,29,8,9]}'>=a=</span></p>\n\n<!--c1--><p data-parsoid='{\"dsr\":[40,81,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[40,60,8,9]}'>=a=</span> <!--c2-->\t <!--c3--></p>\n");
add("html2html", "Lists: 1. Nested inside html", "<ul data-parsoid='{\"dsr\":[0,23,0,0]}'><li data-parsoid='{\"dsr\":[0,23,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,23,8,9]}'>*foo</span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[25,48,0,0]}'><li data-parsoid='{\"dsr\":[25,48,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[27,48,8,9]}'>#foo</span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[50,73,0,0]}'><li data-parsoid='{\"dsr\":[50,73,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[52,73,8,9]}'>:foo</span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[75,98,0,0]}'><li data-parsoid='{\"dsr\":[75,98,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[77,98,8,9]}'>;foo</span></li></ul>\n<ol data-parsoid='{\"dsr\":[99,122,0,0]}'><li data-parsoid='{\"dsr\":[99,122,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[101,122,8,9]}'>*foo</span></li></ol>\n\n<ol data-parsoid='{\"dsr\":[124,147,0,0]}'><li data-parsoid='{\"dsr\":[124,147,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[126,147,8,9]}'>#foo</span></li></ol>\n\n<ol data-parsoid='{\"dsr\":[149,172,0,0]}'><li data-parsoid='{\"dsr\":[149,172,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[151,172,8,9]}'>:foo</span></li></ol>\n\n<ol data-parsoid='{\"dsr\":[174,197,0,0]}'><li data-parsoid='{\"dsr\":[174,197,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[176,197,8,9]}'>;foo</span></li></ol>\n");
add("html2html", "Lists: 2. Inside definition lists", "<dl data-parsoid='{\"dsr\":[0,23,0,0]}'><dt data-parsoid='{\"dsr\":[0,23,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,23,8,9]}'>;foo</span></dt></dl>\n\n<dl data-parsoid='{\"dsr\":[25,48,0,0]}'><dt data-parsoid='{\"dsr\":[25,48,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[27,48,8,9]}'>:foo</span></dt></dl>\n\n<dl data-parsoid='{\"dsr\":[50,79,0,0]}'><dt data-parsoid='{\"dsr\":[50,73,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[52,73,8,9]}'>:foo</span></dt>\n<dd data-parsoid='{\"dsr\":[74,79,1,0]}'> bar</dd></dl>\n\n<dl data-parsoid='{\"dsr\":[81,104,0,0]}'><dd data-parsoid='{\"dsr\":[81,104,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[83,104,8,9]}'>:foo</span></dd></dl>\n");
add("html2html", "Lists: 3. Only bullets at start of text should be escaped", "<ul data-parsoid='{\"dsr\":[0,27,0,0]}'><li data-parsoid='{\"dsr\":[0,27,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,27,8,9]}'>*foo*bar</span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[29,62,0,0]}'><li data-parsoid='{\"dsr\":[29,62,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[31,52,8,9]}'>*foo</span><i data-parsoid='{\"dsr\":[52,58,2,2]}'>it</i>*bar</li></ul>\n");
add("html2html", "Lists: 4. No escapes needed", "<ul data-parsoid='{\"dsr\":[0,9,0,0]}'><li data-parsoid='{\"dsr\":[0,9,1,0]}'> foo*bar</li></ul>\n\n<ul data-parsoid='{\"dsr\":[11,24,0,0]}'><li data-parsoid='{\"dsr\":[11,24,1,0]}'> <i data-parsoid='{\"dsr\":[13,20,2,2]}'>foo</i>*bar</li></ul>\n\n<ul data-parsoid='{\"dsr\":[26,40,0,0]}'><li data-parsoid='{\"dsr\":[26,40,1,0]}'> <a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[28,35,2,2]}'>Foo</a>: bar</li></ul>\n\n<ul data-parsoid='{\"dsr\":[42,55,0,0]}'><li data-parsoid='{\"dsr\":[42,55,1,0]}'> <a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[44,51,2,2]}'>Foo</a>*bar</li></ul>\n");
add("html2html", "Lists: 5. No unnecessary escapes", "<ul data-parsoid='{\"dsr\":[0,43,0,0]}'><li data-parsoid='{\"dsr\":[0,43,1,0]}'> bar <span data-parsoid='{\"stx\":\"html\",\"dsr\":[6,43,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[12,36,8,9]}'>[[foo]]</span></span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[45,89,0,0]}'><li data-parsoid='{\"dsr\":[45,89,1,0]}'> =bar <span data-parsoid='{\"stx\":\"html\",\"dsr\":[52,89,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[58,82,8,9]}'>[[foo]]</span></span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[91,136,0,0]}'><li data-parsoid='{\"dsr\":[91,136,1,0]}'> [[bar <span data-parsoid='{\"stx\":\"html\",\"dsr\":[99,136,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[105,129,8,9]}'>[[foo]]</span></span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[138,183,0,0]}'><li data-parsoid='{\"dsr\":[138,183,1,0]}'> ]]bar <span data-parsoid='{\"stx\":\"html\",\"dsr\":[146,183,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[152,176,8,9]}'>[[foo]]</span></span></li></ul>\n\n<ul data-parsoid='{\"dsr\":[185,211,0,0]}'><li data-parsoid='{\"dsr\":[185,211,1,0]}'> =bar <span data-parsoid='{\"stx\":\"html\",\"dsr\":[192,210,6,7]}'>foo]]</span>=</li></ul>\n\n<ul data-parsoid='{\"dsr\":[213,225,0,0]}'><li data-parsoid='{\"dsr\":[213,225,1,0]}'> <s data-parsoid='{\"stx\":\"html\",\"dsr\":[215,222,3,4]}'></s>: a</li></ul>\n");
add("html2html", "Tables: 1b. No escaping needed", "!foo\n");
add("html2html", "Tables: 1c. No escaping needed", "|foo\n");
add("html2html", "Tables: 1d. No escaping needed", "foo\n");
add("html2html", "Links 1. Quote marks in link text", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,35,6,2]}'>Foo<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,33,8,9]}'>''boo''</span></a></p>");
add("html2html", "Links 2. WikiLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,384,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,16,6,2]}'>[Foobar]</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[17,49,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[23,47,8,9]}'>Foobar]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[50,70,6,2]}'>x [Foobar] x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[71,121,6,2]}'>x <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[79,117,8,9]}'>[http://google.com g]</span> x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[122,154,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[128,152,8,9]}'>[[Bar]]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[155,191,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[161,189,8,9]}'>x [[Bar]] x</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[192,221,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[198,219,8,9]}'>|Bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[222,252,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[228,250,8,9]}'>]]bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[253,283,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[259,281,8,9]}'>[[bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[284,315,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[290,313,8,9]}'>x [[ y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[316,347,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[322,345,8,9]}'>x ]] y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[348,384,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[354,382,8,9]}'>x ]] y [[ z</span></a></p>");
add("html2html", "Links 3. WikiLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>[[Foo|[Foobar]]\n<a rel=\"mw:WikiLink\" href=\"./Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[16,31,6,2]}'>foo|bar</a></p>");
add("html2html", "Links 4. ExtLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,90,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,44],\"dsr\":[0,45,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[19,44,8,9]}'>[google]</span></a>\n<a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":65,\"contentOffsets\":[65,89],\"dsr\":[46,90,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[65,89,8,9]}'>google]</span></a></p>\n\n<p data-parsoid='{\"dsr\":[92,128,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[92,128,8,9]}'>[http://google.com]</span></p>\n\n<p data-parsoid='{\"dsr\":[130,173,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[130,173,8,9]}'>[http://google.com google]</span></p>\n");
add("html2html", "Links 5. ExtLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,26],\"dsr\":[0,27,19,1]}'>[google</a></p>");
add("html2html", "Links 7b. Don't add spurious <nowiki/>s between text-nodes and url-links (bug 64300)", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com.,;:!?\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,24,0,0]}'>http://example.com.,;:!?</a></p>\n");
add("html2html", "1. Leading whitespace in SOL context should be escaped", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>a</p>\n\n<p data-parsoid='{\"dsr\":[21,41,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[21,39,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[43,50,0,0]}'>\ta(tab)</p>\n\n<pre data-parsoid='{\"dsr\":[52,55,1,0]}'>\ta</pre>\n\n<!--cmt--><p data-parsoid='{\"dsr\":[67,87,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[67,85,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[89,110,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[91,109,8,9]}'> </span>b</p>\n\n<p data-parsoid='{\"dsr\":[112,116,0,0]}'>a\n\tb</p>\n\n<p data-parsoid='{\"dsr\":[118,123,0,0]}'>a\n\t b</p>\n");
add("html2html", "1. a tags", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'>&lt;a href=\"http://google.com\">google&lt;/a></p>");
add("html2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,21,8,9]}'>{{}}</span></p>");
add("html2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,21,8,9]}'>}}{{</span></p>");
add("html2html", "Empty TR followed by a template-generated TR\n(Parsoid-specific since PHP parser doesn't handle this mixed tbl-wikitext)", "<table data-parsoid='{\"dsr\":[0,37,2,2]}'>\n\n<tbody about=\"#mwt1\" typeof=\"mw:Transclusion\" data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;tr>&lt;td>foo&lt;/td>&lt;/tr>\"}},\"i\":0}},\"\\n\"]}' data-parsoid='{\"dsr\":[4,35,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}'><tr data-parsoid='{\"stx\":\"html\"}'><td data-parsoid='{\"stx\":\"html\"}'>foo</td></tr>\n</tbody></table>\n");
add("html2html", "Empty TR followed by mixed-ws-comment line should RT correctly", "<table data-parsoid='{\"dsr\":[0,37,2,2]}'>\n\n\n <!--c--><tbody data-parsoid='{\"dsr\":[14,35,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[14,26,2,0]}'>\n<!--c--> </tr><!--d-->\n</tbody></table>\n");
add("html2html", "Multi-line image caption generated by templates with/without trailing newlines", "<div class=\"thumb tright\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,239,26,6]}'><div class=\"thumbinner\" style=\"width:182px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,233,45,6]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Foo.jpg\" class=\"new\" title=\"File:Foo.jpg\">File:Foo.jpg&lt;/a>  <div class=\"thumbcaption\" data-parsoid='{\"stx\":\"html\",\"dsr\":[183,227,26,6]}'>foo\\nA\\nB\\nC</div></div></div>\n<div class=\"thumb tright\" data-parsoid='{\"stx\":\"html\",\"dsr\":[240,483,26,6]}'><div class=\"thumbinner\" style=\"width:182px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[266,477,45,6]}'>&lt;a href=\"/index.php?title=Special:Upload&amp;wpDestFile=Foo.jpg\" class=\"new\" title=\"File:Foo.jpg\">File:Foo.jpg&lt;/a>  <div class=\"thumbcaption\" data-parsoid='{\"stx\":\"html\",\"dsr\":[423,471,26,6]}'>foo\\nA\\nB\\nC\\n\\n</div></div></div>\n");
add("html2html", "Image: Block level image should have \\n before and after", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>123\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[File:Foobar.png|right|thumb|150x150px]]\",\"optList\":[{\"ck\":\"right\",\"ak\":\"right\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"150x150px\"}],\"dsr\":[4,45,null,null]}'/>\n456</p>\n");
add("html2html", "Image: upright option (parsoid)", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"caption\"}],\"dsr\":[0,33,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,31,null,null]}'>caption</figcaption></figure>\n<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"caption\"}],\"dsr\":[34,67,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[36,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,65,null,null]}'>caption</figcaption></figure>\n<figure typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"500x500px\"},{\"ck\":\"caption\",\"ak\":\"caption\"}],\"dsr\":[68,111,2,2]}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[70,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/500px-Foobar.jpg\" height=\"57\" width=\"500\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"57\",\"width\":\"500\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,109,null,null]}'>caption</figcaption></figure>\n");
add("html2html", "Consecutive <pre>s should not get merged", "<pre data-parsoid='{\"dsr\":[0,2,1,0]}'>a</pre>\n\n<pre data-parsoid='{\"dsr\":[4,6,1,0]}'>b</pre>\n\n<pre data-parsoid='{\"dsr\":[8,10,1,0]}'>c</pre>\n\n<pre data-parsoid='{\"dsr\":[12,14,1,0]}'>d</pre>\n\n<pre data-parsoid='{\"dsr\":[16,19,1,0]}'>e</pre>\n\n\n <p data-parsoid='{\"dsr\":[23,23,0,0]}'><br data-parsoid='{\"dsr\":[23,23,0,0]}'/></p>\n<pre data-parsoid='{\"dsr\":[24,26,1,0]}'>f</pre>\n");


// Blacklist for html2wt
add("html2wt", "Paragraphs with newline spacing with comment lines in between", "----\na\nb\n\n----\na\nb\n\n----\na\nb\n\n----\na\n\nb\n\n----\na\n\nb\n\n----\na\n\n\nb\n\n----\na\n\n\nb\n\n----\n");
add("html2wt", "Paragraphs with newline spacing with non-empty white-space lines in between", "----\na\n\nb\n\n----\na\n\n \nb\n\n----\n");
add("html2wt", "Paragraphs with newline spacing with non-empty mixed comment and white-space lines in between", "----\na\nb\n\n----\na\nb\n\n----\na\n\nb\n\n----\na\n\n \nb\n\n----\n");
add("html2wt", "Extra newlines: More paragraphs with indented comment", "a\n\n\nb\n");
add("html2wt", "Extra newlines followed by heading", "a\n\n\n\n= <span class=\"mw-headline\" id=\"b\">b</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: b\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n<a href=\"/index.php?title=A&action=edit&redlink=1\" class=\"new\" title=\"A (page does not exist)\">a</a>\n\n\n\n= <span class=\"mw-headline\" id=\"b_2\">b</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: b\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n");
add("html2wt", "Extra newlines between heading and content are swallowed", "= <span class=\"mw-headline\" id=\"b\">b</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: b\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n<a href=\"/index.php?title=A&action=edit&redlink=1\" class=\"new\" title=\"A (page does not exist)\">a</a>\n");
add("html2wt", "Parsing an URL", "[http://fr.wikipedia.org/wiki/🍺 http://fr.wikipedia.org/wiki/🍺]\n");
add("html2wt", "Italics and possessives (1)", "obtained by ''<a href=\"/index.php?title=Lunar_Prospector&action=edit&redlink=1\" class=\"new\" title=\"Lunar Prospector (page does not exist)\">Lunar Prospector</a><nowiki>'</nowiki>''s gamma-ray spectrometer\n");
add("html2wt", "Italics and possessives (2)", "'''''Flaming Pie''''' is ... released in 1997. In ''<nowiki>Flaming Pie'</nowiki>''s liner notes\n");
add("html2wt", "Italics and possessives (3)", "The first monolingual dictionary written in a Romance language was ''<nowiki>Sebastián Covarrubias'</nowiki>'' ''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the ''Vocabolario dell'<a href=\"/index.php?title=Accademia_della_Crusca&action=edit&redlink=1\" class=\"new\" title=\"Accademia della Crusca (page does not exist)\">Accademia della Crusca</a>'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.\n");
add("html2wt", "Italicized possessive", "The ''<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a><nowiki>'</nowiki>''s talk page.\n");
add("html2wt", "<wbr> is valid wikitext (bug 52468)", "<wbr />\n");
add("html2wt", "Isolated close tags should be treated as literal text (bug 52760)", "<nowiki></b></nowiki>\n\n<s.foo>s<nowiki></s></nowiki>\n");
add("html2wt", "Bare pipe character from a template (bug 52363)", "|\n");
add("html2wt", "<nowiki> unordered list", "<nowiki>*</nowiki> This is not an unordered list item.\n");
add("html2wt", "<nowiki> spacing", "Lorem ipsum dolor\nsed abit.\n<nowiki>  sed nullum.\n:</nowiki>and a colon\n");
add("html2wt", "nowiki 3", ": There is not nowiki.\n: There is nowiki.\n# There is not nowiki.\n# There is nowiki.\n* There is not nowiki.\n* There is nowiki.\n");
add("html2wt", "Entities inside <nowiki>", "<\n");
add("html2wt", "Comments and Indent-Pre", " asdf\n\n asdf\n\n asdf\n\nxyz\n\n asdf\n xyz\n");
add("html2wt", "Comment test 2a", "asdf\njkl\n");
add("html2wt", "Comment test 2b", "asdf\n\njkl\n");
add("html2wt", "Comment test 3", "asdf\njkl\n");
add("html2wt", "Comment test 4", "asdfjkl\n");
add("html2wt", "Comment spacing", "a\n\n  b \n\nc\n");
add("html2wt", "Comment whitespace", "");
add("html2wt", "Comment semantics and delimiters", "");
add("html2wt", "Comment semantics and delimiters, redux", "");
add("html2wt", "Comment semantics and delimiters: directors cut", "-->\n");
add("html2wt", "Comment semantics: nesting", "-->\n");
add("html2wt", "Comment semantics: unclosed comment at end", "");
add("html2wt", "Comment in template title", "FOO\n");
add("html2wt", "Comment on its own line post-expand", "a\n\nb\n");
add("html2wt", "Comment on its own line post-expand with non-significant whitespace", "a\n\nb\n");
add("html2wt", "Block tag on one line (<div>)", "a <div>foo</div>\nb\n");
add("html2wt", "Block tag on one line (<blockquote>)", "a <blockquote>foo</blockquote>\nb\n");
add("html2wt", "Block tag on both lines (<div>)", "a <div>foo</div>\nb <div>foo</div>\n");
add("html2wt", "Block tag on both lines (<blockquote>)", "a <blockquote>foo</blockquote>\nb <blockquote>foo</blockquote>\n");
add("html2wt", "Multiple lines without block tags", "<div>foo</div> a\nb\nc\nd e\n\nx <div>foo</div> z\n");
add("html2wt", "Empty lines between lines with block tags", "<div></div>\n\n\n<div></div>a\nb\n\n<div>a</div>b\n<div>b</div>d\n\n\n<div>e</div>\n");
add("html2wt", "Preformatted text", " This is some\n Preformatted text\n With ''italic''\n And '''bold'''\n And a <a href=\"/wiki/Main_Page\" title=\"Main Page\">link</a>\n");
add("html2wt", "Tabs don't trigger preformatted text", "\tThis is not\n\t preformatted text.\n\n This is preformatted text.\n \tSo is this.\n");
add("html2wt", "<pre> with <nowiki> inside (compatibility with 1.6 and earlier)", " <nowiki><b>\n <cite>\n <em></nowiki>\n");
add("html2wt", "Regression with preformatted in <center>", "<center>\n Blah\n\n</center>\n");
add("html2wt", "Bug 52763: Preformatted in <blockquote>", "<blockquote>\n Blah\n\n{|\n\n|\n indented cell (no pre-wrapping!)\n\n|}\n</blockquote>\n");
add("html2wt", "Bug 51086: Double newlines in blockquotes should be turned into paragraphs", "<blockquote>\nFoo\n\nBar\n\n</blockquote>\n");
add("html2wt", "Bug 15491: <ins>/<del> in blockquote", "<blockquote>\nFoo <del>bar</del> <ins>baz</ins> quux\n\n</blockquote>\n");
add("html2wt", "<pre> with attributes (bug 3202)", " Bluescreen of WikiDeath\n");
add("html2wt", "<pre> with width attribute (bug 3202)", " Narrow screen goodies\n");
add("html2wt", "<pre> with forbidden attribute (bug 3202)", " Narrow screen goodies\n");
add("html2wt", "Entities inside <pre>", " <\n");
add("html2wt", "<pre> with forbidden attribute values (bug 3202)", " Narrow screen goodies\n");
add("html2wt", "<nowiki> inside <pre> (bug 13238)", " &lt;nowiki&gt;\n\n \n\n &lt;nowiki&gt;Foo&lt;/nowiki&gt;\n");
add("html2wt", "<nowiki> and <pre> preference (first one wins)", " &lt;nowiki&gt;\n\n&lt;/nowiki&gt;\n</pre>\n\n<nowiki><pre>\n<nowiki>\n</pre>\n\n</pre></nowiki>\n");
add("html2wt", "</pre> inside nowiki", "</pre>\n");
add("html2wt", "Empty pre; pre inside other HTML tags (bug 54946)", "a\n\n<div>\n foo\n</div>\n \n");
add("html2wt", "HTML pre followed by indent-pre", " foo\n\n bar\n");
add("html2wt", "Templates: Indent-Pre: 1a. Templates that break a line should suppress <pre>", "");
add("html2wt", "Templates: Indent-Pre: 1b. Templates that break a line should suppress <pre>", "foo\n");
add("html2wt", "Templates: Indent-Pre: 1c: Wrapping should be based on expanded content", " a\n\nb\n");
add("html2wt", "Templates: Indent-Pre: 1d: Wrapping should be based on expanded content", " a\n\nb\nc\n\n d\n\ne\n");
add("html2wt", "Templates: Indent-Pre: 1e. Wrapping should be based on expanded content", " foo\n\n foo bar\n\n foo\n bar\n\n foo\n\n foo\n\n bar\n");
add("html2wt", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content", " a\n\n\n\n a\n\n\n\n b\n\na\n\n b\n\na\n\n b\n");
add("html2wt", "Templates: Strip leading and trailing whitespace from named-param values", "a\n\nb\n\nc\n\n* d\n");
add("html2wt", "Templates: Don't strip whitespace from positional-param values", "a \n\nb \n\n c \n\n\n\n d\n\n\n\n e\n\n\n\n* f\n\n\n g\n");
add("html2wt", "Templates: Handle empty comment-and-ws-only lines correctly", "foo\nbar\n");
add("html2wt", "Templates: Handle comments in the target", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{echo|foo}}");
add("html2wt", "1a. Indent-Pre and Comments", " a\n\nc\n");
add("html2wt", "1b. Indent-Pre and Comments", " a\n\nc\n");
add("html2wt", "1c. Indent-Pre and Comments", "  a\n\n  a\n");
add("html2wt", "1d. Indent-Pre and Comments\n(Pre-handler currently cannot distinguish between comment/ws order and normalizes them to [comment,ws] order)", " a\n\n b\n");
add("html2wt", "2a. Indent-Pre and tables", "{|\n\n!h1\n!h2\n\n|foo\n|bar\n|}\n");
add("html2wt", "2b. Indent-Pre and tables", "{|\n\n|foo\n|}\n");
add("html2wt", "2c. Indent-Pre and tables (bug 42252)", "{|\n|+ foo\n\n! bar\n|}\n");
add("html2wt", "2d. Indent-Pre and tables", " a\n \n{| \n\n| b\n |}\n");
add("html2wt", "3a. Indent-Pre and block tags (single-line html)", "<nowiki> </nowiki>a \n\n<nowiki> </nowiki>foo \n b <div> foo </div>\n c <blockquote> foo </blockquote>\n <span> foo </span>\n");
add("html2wt", "3b. Indent-Pre and block tags (multi-line html)", " a <span>foo</span>\n\n b <div> foo </div>\n");
add("html2wt", "3c. Indent-Pre and block tags (pre-content on separate line)", "\n<nowiki> </nowiki>foo\n\n<div>\n foo\n\n</div>\n<center>\n foo\n\n</center>\n<blockquote>\n foo\n\n</blockquote>\n<blockquote>\n foo\n\n</blockquote>\n{|\n|\n foo\n\n|}\n*  foo\n");
add("html2wt", "4. Indent-Pre and extension tags", "<nowiki> </nowiki>a \n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Render paragraphs when indent-pre is suppressed in blocklevels", "<blockquote>\n foo\n\n bar\n\n</blockquote>\n");
add("html2wt", "4. Multiple spaces at start-of-line", "<nowiki>    </nowiki> foo \n    foo\n\n{|\n\n|foo\n|}\n");
add("html2wt", "5a. White-space in indent-pre", " a<br>\n \n \n b\n");
add("html2wt", "6. Pre-blocks should extend across lines with leading WS even when there is no wrappable content", " a\n \n b\n\n c\n \n\nd\n");
add("html2wt", "HTML-pre: 2: indented text", "  foo\n");
add("html2wt", "HTML-pre: 3: other wikitext", " * foo\n <nowiki># bar\n = no-h =\n '' no-italic ''\n [[ NoLink ]]</nowiki>\n");
add("html2wt", "Simple definition", "; name \n: Definition\n");
add("html2wt", "Definition list with no space", "; name\n: Definition\n");
add("html2wt", "Definition list with URL link", "; [http://example.com/ http://example.com/] \n: definition\n");
add("html2wt", "Definition list with bracketed URL link", "; [http://www.example.com/ Example]\n: Something about it\n");
add("html2wt", "Definition list with wikilink containing colon", "; <a href=\"/index.php?title=Help:FAQ&action=edit&redlink=1\" class=\"new\" title=\"Help:FAQ (page does not exist)\"><nowiki>Help:FAQ</nowiki></a>\n: The least-read page on Wikipedia\n");
add("html2wt", "Definition list with news link containing colon", ";  [news:alt.wikipedia.rox news:alt.wikipedia.rox]\n: This isn't even a real newsgroup!\n");
add("html2wt", "Malformed definition list with colon", ";  [news:alt.wikipedia.rox news:alt.wikipedia.rox] -- don't crash or enter an infinite loop\n");
add("html2wt", "Definition lists: colon in external link text", "; [http://www.wikipedia2.org/ Wikipedia : The Next Generation]\n: OK, I made that up\n");
add("html2wt", "Definition lists: colon in HTML attribute", "; '''bold'''\n");
add("html2wt", "Definition lists: self-closed tag", "; one<br>two \n: two-line fun\n");
add("html2wt", "Bug 11748: Literal closing tags", "\n; test 1\n: test test test test test\n; test 2\n: test test test test test\n");
add("html2wt", "Definition and unordered list using wiki syntax nested in unordered list using html tags.", "\n*; term \n*: description\n** unordered\n");
add("html2wt", "\nDefinition list with empty definition and following paragraph", "; term\n:\nParagraph text\n");
add("html2wt", "Definition Lists: No nesting: Multiple dd's", "; x\n: a\n: b\n");
add("html2wt", "Definition Lists: Indentation: Regular", ": i1\n:: i2\n::: i3\n");
add("html2wt", "Definition Lists: Indentation: Missing 1st level", ":: i2\n::: i3\n");
add("html2wt", "Definition Lists: Indentation: Multi-level indent", "::: i3\n");
add("html2wt", "Definition Lists: Hacky use to indent tables", ":: {|\n\n|foo\n\n|bar\n|}\nthis text\nshould be left alone\n");
add("html2wt", "Definition Lists: Hacky use to indent tables, with comments (bug 63979)", "<!-- foo -->\n:: {|\n|foo\n|bar\n|}<!-- bar -->\nthis text\nshould be left alone\n");
add("html2wt", "Definition Lists: Hacky use to indent tables, with comment before table", ":: <!-- foo -->{|\n|foo\n|}\n");
add("html2wt", "Definition Lists: Hacky use to indent tables (WS-insensitive)", "\n: {|\n|a\n|} \n");
add("html2wt", "Table / list interaction: indented table with lists in table contents", ": {|\n\n| a\n* b\n\n|-\n| c\n* d\n|}\n");
add("html2wt", "Table / list interaction: lists nested in tables nested in indented lists", ": {|\n\n|\n: a\n: b\n\n|\n* c\n* d\n|}\n* e\n* f\n");
add("html2wt", "Definition Lists: Nesting: Multi-level (Parsoid only)", "\n; t1 \n: d1      \n;; t2 \n;: <nowiki>:d2</nowiki>              \n;;; t3 \n;;: <nowiki>::d3</nowiki>                    \n");
add("html2wt", "Definition Lists: Nesting: Test 2 (Parsoid only)", "\n; t1      \n:: d2      \n");
add("html2wt", "Definition Lists: Nesting: Test 3 (Parsoid only)", "      \n:; t1                                    \n:::: d2                                          \n");
add("html2wt", "Definition Lists: Nesting: Test 4", "::; t3\n::: d3\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 1", "\n:;* foo\n::* bar\n:; baz\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 4", "*; d1 \n*: d2\n*; d3 \n*: d4\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 5", "*: d1\n*:: d2\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 6", "#*: d1\n#*::: d3\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 9", "*; foo \n*: bar\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 10", "*#; foo \n*#: bar\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 11", "\n*#*#;*;; foo :bar\n*#*#; boo :baz\n");
add("html2wt", "Definition Lists: Weird Ones: Test 1", "\n*#;*::;; foo : bar (who uses this?)\n");
add("html2wt", "External links: non-bracketed", "Non-bracketed: [http://example.com http://example.com]\n");
add("html2wt", "External links: dollar sign in URL", "[http://example.com/1$2345 http://example.com/1$2345]\n");
add("html2wt", "External links: newline forbidden in text (bug 6230 regression check)", "[[http://example.com/ http://example.com/] first\nsecond]\n");
add("html2wt", "External image (when not allowed)", "External image: [http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png]\n");
add("html2wt", "Link to non-http image, no img tag", "Link to non-http image, no img tag: [ftp://example.com/test.jpg ftp://example.com/test.jpg]\n");
add("html2wt", "External links: terminating separator", "Terminating separator: [http://example.com/thing http://example.com/thing],\n");
add("html2wt", "External links: intervening separator", "Intervening separator: [http://example.com/1,2,3 http://example.com/1,2,3]\n");
add("html2wt", "External links: Clickable images", "ja-style clickable images: http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png\n");
add("html2wt", "External links: raw ampersand", "Old & use: [http://x&y http://x&y]\n");
add("html2wt", "External links: encoded ampersand", "Old &#x26; use: http://x&y\n");
add("html2wt", "External links: encoded equals (bug 6102)", "http://example.com/?foo=bar\n");
add("html2wt", "External links: [raw ampersand]", "Old &#x26; use: [http://x&y]\n");
add("html2wt", "External links: www.jpeg.org (bug 554)", "[http://www.jpeg.org http://www.jpeg.org]\n");
add("html2wt", "BUG 361: URL within URL, not bracketed", "[http://www.example.com/foo?=http://www.example.com/bar http://www.example.com/foo?=http://www.example.com/bar]\n");
add("html2wt", "BUG 289: \">\"-token in URL-tail", "[http://www.example.com/ http://www.example.com/]<hello>\n");
add("html2wt", "BUG 289: literal \">\"-token in URL-tail", "[http://www.example.com/ http://www.example.com/]'''html'''\n");
add("html2wt", "BUG 289: \">\"-token in bracketed URL", "[http://www.example.com/ <hello> stuff]\n");
add("html2wt", "BUG 289: literal \">\"-token in bracketed URL", "[http://www.example.com/ '''html''' stuff]\n");
add("html2wt", "BUG 289: literal double quote at end of URL", "[http://www.example.com/ http://www.example.com/]\"hello\"\n");
add("html2wt", "BUG 289: literal double quote in bracketed URL", "[http://www.example.com/ \"hello\" stuff]\n");
add("html2wt", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081)", "[http://www.example.com test]\n");
add("html2wt", "External links: wiki links within external link (Bug 3695)", "[http://example.com][[wikilink]]<span> embedded in ext link</span>\n");
add("html2wt", "Bracketed external links with template-generated invalid target", "[http:/example.com title]\n");
add("html2wt", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid", "[http://example.com ''text'']\n[http://example.com '''text''']\n''Something ''[http://example.com ''in italic'']\n''Something ''[http://example.com ''mixed''''', even bold''']\n'''''Now '''''[http://example.com '''''both''''']\n");
add("html2wt", "External link containing double-single-quotes in text embedded in italics (bug 4598 sanity check)", "''Some ''[http://example.com/ ''pretty ''italics'' and stuff'']''!''\n");
add("html2wt", "External link containing double-single-quotes with no space separating the url from text in italics", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas'' (1901) en el sitio de ][[Museo Picasso_(París)|Museo Picasso]]<span>.</span>\n");
add("html2wt", "External link with comments in link text", "[http://www.google.com Google ]\n");
add("html2wt", "URL-encoding in URL functions (single parameter)", "/index.php?title=Some_page&amp=&\n");
add("html2wt", "URL-encoding in URL functions (multiple parameters)", "/index.php?title=Some_page&q=?&amp=&\n");
add("html2wt", "IPv6 urls (bug 21261)", "[http://&#x5B;2404:130:0:1000::187:2&#x5D;/index.php http://[2404:130:0:1000::187:2]/index.php]\n");
add("html2wt", "Non-extlinks in brackets", "[foo]\n[foo bar]\n[foo ''bar'']\n[fool's] errand\n[fool's errand]\n[foo]\n[foo bar]\n[foo ''bar'']\n[fool's] errand\n[fool's errand]\n[url=foo]\n[url=[http://example.com http://example.com]]\n");
add("html2wt", "Unclosed and unmatched quotes", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n'''Bold text..'''\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\n'''Bold tag left open'''\n\n''Italic tag left open''\n\nNormal text.\n\n'''<nowiki>This year'</nowiki>'''s election ''should'' beat '''<nowiki>last year'</nowiki>'''s.\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nPlain ''<nowiki>italic'</nowiki>''s plain\n");
add("html2wt", "A table with caption with default-spaced attributes and a table row", "{|\n|+ style=\"color: red;\" | caption1\n\n| foo\n|}\n");
add("html2wt", "A table with captions with non-default spaced attributes and a table row", "{|\n|+ style=\"color: red;\" |caption2\n\n|+ style=\"color: red;\" | caption3\n\n| foo\n|}\n");
add("html2wt", "Table td-cell syntax variations", "{|\n\n| baz\n\n| foo bar foo \n| baz\n\n| style=\"color:red;\" | baz\n\n| style='color:red;' \n| baz\n|}\n");
add("html2wt", "Simple table", "{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\n");
add("html2wt", "Simple table but with multiple dashes for row wikitext", "{|\n\n| foo\n\n|-\n| bar\n|}\n");
add("html2wt", "Multiplication table", "{| border=\"1\" cellpadding=\"2\"\n|+Multiplication table\n\n! × \n! 1 \n! 2 \n! 3\n\n|-\n! 1\n\n| 1 \n| 2 \n| 3\n\n|-\n! 2\n\n| 2 \n| 4 \n| 6\n\n|-\n! 3\n\n| 3 \n| 6 \n| 9\n\n|-\n! 4\n\n| 4 \n| 8 \n| 12\n\n|-\n! 5\n\n| 5 \n| 10 \n| 15\n|}\n");
add("html2wt", "Accept \"||\" in table headings", "{|\n\n!h1 \n! h2\n|}\n");
add("html2wt", "Accept \"||\" in indented table headings", ": {|\n\n!h1 \n! h2\n|}\n");
add("html2wt", "Accept empty attributes in td/th cells (td/th cells starting with leading ||)", "{|\n\n! h1\n\n| a\n|}\n");
add("html2wt", "Accept \"| !\" at start of line in tables (ignore !-attribute)", "{|\n\n| bar\n|}\n");
add("html2wt", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/- ", "{|\n\n| style=\"color:red;\" |+1\n\n| style=\"color:blue;\" |-1\n\n|-\n| 1 \n| 2 \n| 3\n\n| 1 \n|<nowiki>+2 </nowiki>\n|<nowiki>-3</nowiki>\n\n|-\n| +1\n\n| -1\n|}\n");
add("html2wt", "Table rowspan", "{| border=\"1\"\n\n| Cell 1, row 1\n\n| rowspan=\"2\" | Cell 2, row 1 (and 2)\n\n| Cell 3, row 1\n\n|-\n| Cell 1, row 2\n\n| Cell 3, row 2\n|}\n");
add("html2wt", "Nested table", "{| border=\"1\"\n\n| α\n\n|\n{| bgcolor=\"#ABCDEF\" border=\"2\"\n\n|nested\n\n|-\n|table\n|}\n\n|the original table again\n|}\n");
add("html2wt", "Invalid attributes in table cell (bug 1830)", "{|\n\n|broken\n|}\n");
add("html2wt", "Indented table markup mixed with indented pre content (proposed in bug 6200)", " {|\n \n |\n Text that should be rendered preformatted \n \n |}\n");
add("html2wt", "Template-generated table cell attributes and cell content", "{|\n\n| style=\"color: red\" | Foo\n\n| style=\"color: red\" | Foo\n|}\n");
add("html2wt", "Template-generated table cell attributes and cell content (2)", "{|\n\n| align=\"center\" style=\"color: red\" | Foo\n|}\n");
add("html2wt", "Template-generated table cell attributes and cell content (3)", "{|\n\n| align=\"center\" style=\"color: red\" | Foo \n| Bar \n| Baz\n|}\n");
add("html2wt", "Table with row followed by newlines and table heading", "{|\n\n! foo\n|}\n");
add("html2wt", "Table with empty line following the start tag", "{|\n\n| foo\n|}\n");
add("html2wt", "Table attributes with empty value", "{|\n\n| style=\"\" | hello\n|}\n");
add("html2wt", "Wikitext table with a lot of comments", "{|\n\n| foo\n\n|-\n|\n|}\n");
add("html2wt", "Wikitext table with double-line table cell", "{|\n\n|a\nb\n\n|}\n");
add("html2wt", "Table cell with a single comment", "{|\n\n|\n\n| a\n|}\n");
add("html2wt", "Wikitext table with html-syntax row", "{|\n\n|foo\n|}\n");
add("html2wt", "Plain link, capitalized", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n");
add("html2wt", "Plain link, uncapitalized", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page</a>\n");
add("html2wt", "Piped link", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">The Main Page</a>\n");
add("html2wt", "Piped link with comment in link text", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">The Main Page</a>\n");
add("html2wt", "Piped link with multiple pipe characters in link text", "[[Main Page|<nowiki>|The|Main|Page|</nowiki>]]\n");
add("html2wt", "Broken link", "<a href=\"/index.php?title=Zigzagzogzagzig&action=edit&redlink=1\" class=\"new\" title=\"Zigzagzogzagzig (page does not exist)\">Zigzagzogzagzig</a>\n");
add("html2wt", "Broken link with fragment", "<a href=\"/index.php?title=Zigzagzogzagzig&action=edit&redlink=1\" class=\"new\" title=\"Zigzagzogzagzig (page does not exist)\">Zigzagzogzagzig#zug</a>\n");
add("html2wt", "Special page link with fragment", "<a href=\"/wiki/Special:Version#anchor\" title=\"Special:Version\">Special:Version#anchor</a>\n");
add("html2wt", "Nonexistent special page link with fragment", "<a href=\"/wiki/Special:ThisNameWillHopefullyNeverBeUsed\" class=\"new\" title=\"Special:ThisNameWillHopefullyNeverBeUsed (page does not exist)\">Special:ThisNameWillHopefullyNeverBeUsed#anchor</a>\n");
add("html2wt", "Link with prefix", "xxx<a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page</a>, xxx<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>, Xxx<a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page</a> XXX<a href=\"/wiki/Main_Page\" title=\"Main Page\">main Page</a>, XXX<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n");
add("html2wt", "Link with suffix", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Pagexxx</a>, <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>XXX, <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>!!!\n");
add("html2wt", "Bug 43661: Piped links with identical prefixes", "<a href=\"/wiki/Prefixed_article\" title=\"Prefixed article\">prefixed articles with spaces</a>\n\n<a href=\"/wiki/Prefixed_article\" title=\"Prefixed article\">prefixed articlesaoeu</a>\n\n<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page test</a>\n");
add("html2wt", "Link with HTML entity in suffix / tail", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\", <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>a\n");
add("html2wt", "Link with 4 brackets", "[[<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a><nowiki>]]</nowiki>\n");
add("html2wt", "Piped link with extlink-like text", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">[bar]</a>\n<a href=\"/wiki/Main_Page\" title=\"Main Page\">This is a [bar]</a>\n");
add("html2wt", "Link with multiple pipes", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">The|Main|Page</a>\n");
add("html2wt", "Link to namespaces", "<a href=\"/index.php?title=Talk:Parser_testing&action=edit&redlink=1\" class=\"new\" title=\"Talk:Parser testing (page does not exist)\">Talk:Parser testing</a>, <a href=\"/index.php?title=Meta:Disclaimers&action=edit&redlink=1\" class=\"new\" title=\"Meta:Disclaimers (page does not exist)\">Meta:Disclaimers</a>\n");
add("html2wt", "Link with space in namespace", "<a href=\"/index.php?title=User_talk:Foo_bar&action=edit&redlink=1\" class=\"new\" title=\"User talk:Foo bar (page does not exist)\">User talk:Foo bar</a>\n");
add("html2wt", "Namespace takes precedence over interwiki link (bug 51680)", "<a href=\"/wiki/MemoryAlpha:AlphaTest\" title=\"MemoryAlpha:AlphaTest\">MemoryAlpha:AlphaTest</a>\n");
add("html2wt", "Piped link to namespace", "<a href=\"/index.php?title=Meta:Disclaimers&action=edit&redlink=1\" class=\"new\" title=\"Meta:Disclaimers (page does not exist)\">The disclaimers</a>\n");
add("html2wt", "Link containing \"#<\" and \"#>\" % as a hex sequences- these are valid section anchors\nExample for such a section: == < ==", "[[Main Page#<|#<]][[Main Page#>|#>]]\n");
add("html2wt", "Link containing double-single-quotes '' in text embedded in italics (bug 4598 sanity check)", "''Some <a href=\"/index.php?title=Link&action=edit&redlink=1\" class=\"new\" title=\"Link (page does not exist)\">pretty ''italics'' and stuff</a>!''\n");
add("html2wt", "Link with double quotes in title part (literal) and alternate part (interpreted)", "<meta />\n[[''Pentecoste'']]\n\n[[''Pentecoste''|Pentecoste]]\n\n[[''Pentecoste''|''Pentecoste'']]\n");
add("html2wt", "Broken image links with HTML captions (bug 39700)", "<a href=\"/index.php?title=Special:Upload&wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\"><script></script></a>\n<a href=\"/index.php?title=Special:Upload&wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\"><script></script></a>\n<a href=\"/index.php?title=Special:Upload&wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\"><</a>\n<a href=\"/index.php?title=Special:Upload&wpDestFile=Nonexistent\" class=\"new\" title=\"File:Nonexistent\">abc</a>\n");
add("html2wt", "Plain link to page with question mark in title", "<a href=\"/wiki/A%3Fb\" title=\"A?b\">A?b</a>\n\n<a href=\"/wiki/A%3Fb\" title=\"A?b\">Baz</a>\n");
add("html2wt", "BUG 337: Escaped self-links should be bold", "[[Bug462]] [[Bug462]]\n");
add("html2wt", "Self-link to section should not be bold", "<a href=\"/wiki/Main_Page#section\" title=\"Main Page\">Main Page#section</a>\n");
add("html2wt", "Self-link to numeric title", "<strong class=\"selflink\">0</strong>\n");
add("html2wt", "Link to numeric-equivalent title", "<a href=\"/wiki/00\" title=\"00\">00</a>\n");
add("html2wt", "<nowiki> inside a link", "<nowiki>[[Main Page]]</nowiki> <a href=\"/wiki/Main_Page\" title=\"Main Page\">the main page [it's not very good]</a>\n");
add("html2wt", "Non-breaking spaces in title", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">  Main   Page  </a>\n");
add("html2wt", "Internal link with ca linktrail, surrounded by bold apostrophes (bug 27473 primary issue)", "'''<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>'''\n");
add("html2wt", "Internal link with ca linktrail, surrounded by italic apostrophes (bug 27473 primary issue)", "''<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>''\n");
add("html2wt", "Internal link with en linktrail: no apostrophes (bug 27473)", "<a href=\"/index.php?title=Something&action=edit&redlink=1\" class=\"new\" title=\"Something (page does not exist)\">Something</a>'nice\n");
add("html2wt", "Internal link with ca linktrail with apostrophes (bug 27473)", "<a href=\"/index.php?title=Something&action=edit&redlink=1\" class=\"new\" title=\"Something (encara no existeix)\">Something'nice</a>\n");
add("html2wt", "Internal link with kaa linktrail with apostrophes (bug 27473)", "<a href=\"/index.php?title=Something&action=edit&redlink=1\" class=\"new\" title=\"Something (bet ele jaratılmag'an)\">Something'nice</a>\n");
add("html2wt", "Internal link with is link prefix", "Aðrir <a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuðir</a> og\n");
add("html2wt", "Internal link with is link trail and link prefix", "<a href=\"/wiki/M%C3%B3tm%C3%A6lendatr%C3%BA\" title=\"Mótmælendatrú\">xxxar</a>\n<a href=\"/wiki/M%C3%B3tm%C3%A6lendatr%C3%BA\" title=\"Mótmælendatrú\">mótmælendatrúar</a>\n<a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuður</a>\n<a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuðir</a>\n<a href=\"/wiki/S%C3%B6fnu%C3%B0ur\" title=\"Söfnuður\">mótmælendasöfnuðirxxx</a>\n");
add("html2wt", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved", "<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">  bar</a>\n\n<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">  ''bar''</a>\n\n[http://wp.org foo]\n\n[http://wp.org ''foo'']\n");
add("html2wt", "Inline interwiki link", "<a href=\"http://www.usemod.com/cgi-bin/mb.pl?SoftSecurity\" class=\"extiw\" title=\"meatball:SoftSecurity\">MeatBall:SoftSecurity</a>\n");
add("html2wt", "Inline interwiki link with empty title (bug 2372)", "<a href=\"http://www.usemod.com/cgi-bin/mb.pl\" class=\"extiw\" title=\"meatball:\">MeatBall:</a>\n");
add("html2wt", "Interwiki link encoding conversion (bug 1636)", "* <a href=\"http://en.wikipedia.org/wiki/ro:Olteni%C5%A3a\" class=\"extiw\" title=\"wikipedia:ro:Olteniţa\">Wikipedia:ro:Olteniţa</a>\n* <a href=\"http://en.wikipedia.org/wiki/ro:Olteni%C5%A3a\" class=\"extiw\" title=\"wikipedia:ro:Olteniţa\">Wikipedia:ro:Olteniţa</a>\n");
add("html2wt", "Interwiki link with fragment (bug 2130)", "<a href=\"http://www.usemod.com/cgi-bin/mb.pl?SoftSecurity#foo\" class=\"extiw\" title=\"meatball:SoftSecurity\">MeatBall:SoftSecurity#foo</a>\n");
add("html2wt", "Interlanguage link", "Blah blah blah\n");
add("html2wt", "Double interlanguage link", "Blah blah blah\n");
add("html2wt", "Interlanguage link, with prefix links", "Blah blah blah\n");
add("html2wt", "Double interlanguage link, with prefix links (bug 8897)", "Blah blah blah\n");
add("html2wt", "Parsoid-specific test: Wikilinks with &nbsp; should RT properly", "<a href=\"/index.php?title=WW_II&action=edit&redlink=1\" class=\"new\" title=\"WW II (lonkásá  ezalí tɛ̂)\">WW II</a>\n");
add("html2wt", "Parsoid: recognize interwiki links without a target page", "[[ko:]]\n");
add("html2wt", "Redirect to image page (2)", "#REDIRECT [[File:Wiki.png]]");
add("html2wt", "Redirect to language", "#REDIRECT [[File:Wiki.png]]");
add("html2wt", "Redirect to interwiki", "#REDIRECT [[File:Wiki.png]]");
add("html2wt", "Non-English #REDIRECT", "#tilvísun [[Main Page]]");
add("html2wt", "<br> to <br />", "1\n2\n3\n");
add("html2wt", "Incorrecly removing closing slashes from correctly formed XHTML", "\n");
add("html2wt", "Failing to transform badly formed HTML into correct XHTML", "\n\n\n");
add("html2wt", "Handling html with a div self-closing tag", "<nowiki><div title />\n<div title/></nowiki>\n\n<div>\n<nowiki><div title=bar />\n<div title=bar/></nowiki>\n\n<div title=\"bar/\"></div>\n</div>\n");
add("html2wt", "Handling html with a br self-closing tag", "\n\n\n\n\n\n");
add("html2wt", "Horizontal ruler (should it add that extra space?)", "----\n----\nfoo \n---- bar\n");
add("html2wt", "Horizontal ruler -- eats additional dashes on the same line", "----\n");
add("html2wt", "Common list", "* Common list\n* item 2\n* item 3\n");
add("html2wt", "Numbered list", "# Numbered list\n# item 2\n# item 3\n");
add("html2wt", "Mixed list", "* Mixed list\n*# with numbers\n** and bullets\n*# and numbers\n* bullets again\n** bullet level 2\n*** bullet level 3\n***# Number on level 4\n** bullet level 2\n**# Number on level 3\n**# Number on level 3\n*# number level 2\n* Level 1\n*** Level 3\n#** Level 3, but ordered\n");
add("html2wt", "Nested lists 1", "* foo\n** bar\n");
add("html2wt", "Nested lists 2", "** foo\n* bar\n");
add("html2wt", "Nested lists 3 (first element empty)", "\n** bar\n");
add("html2wt", "Nested lists 4 (first element empty)", "**\n* bar\n");
add("html2wt", "Nested lists 6 (both elements empty)", "\n**\n");
add("html2wt", "1. Lists with start-of-line-transparent tokens before bullets: Comments", "* foo\n* bar\n* baz\n");
add("html2wt", "2. Lists with start-of-line-transparent tokens before bullets: Template close", "* foo bar\n* baz\n");
add("html2wt", "List items are not parsed correctly following a <pre> block (bug 785)", "* \n foo\n* \n bar\n* zar\n");
add("html2wt", "List items from template", "* item 1\n* item 2\n\n* item 0\n* item 1\n* item 2\n\n* item 0\n* notSOL\n* item 1\n* item 2\n");
add("html2wt", "List interrupted by empty line or heading", "* foo\n\n** bar\n\n== <span class=\"mw-headline\" id=\"A_heading\">A heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: A heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n* Another list item\n");
add("html2wt", "Multiple list tags generated by templates", " a\n b\n c\n");
add("html2wt", "Single-comment whitespace lines dont break lists, and neither do multi-comment whitespace lines", "* a\n* b\n* c\n* d\n");
add("html2wt", "Replacing whitespace with tabs still doesn't break the list (gerrit 78327)", "* a\n* b\n* c\n* d\n");
add("html2wt", "Parsoid: Make sure nested lists are serialized on their own line even if HTML contains no newlines", "# foo\n## bar\n\n* foo\n** bar\n\n: foo\n:: bar\n");
add("html2wt", "Unbalanced closing block tags break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "<div>\n\n* a\n\n</div><div>\n\n* b\n\n</div>");
add("html2wt", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "<span></span>\n\n* a<span></span>\n* b\n");
add("html2wt", "Unclosed formatting tags that straddle lists are closed and reopened\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up)", "# <s> a </s>\n# <s> b </s>\n");
add("html2wt", "List embedded in a non-block tag\n(Ugly Parsoid output -- worth fixing; Disabled for PHP parser since it relies on Tidy)", "<small></small>\n<small>\n\n* foo\n\n</small>\n<small></small>\n");
add("html2wt", "Magic Word: {{CURRENTDAY}}", "1\n");
add("html2wt", "Magic Word: {{CURRENTDAY2}}", "01\n");
add("html2wt", "Magic Word: {{CURRENTDAYNAME}}", "Thursday\n");
add("html2wt", "Magic Word: {{CURRENTDOW}}", "4\n");
add("html2wt", "Magic Word: {{CURRENTMONTH}}", "01\n");
add("html2wt", "Magic Word: {{CURRENTMONTH1}}", "1\n");
add("html2wt", "Magic Word: {{CURRENTMONTHABBREV}}", "Jan\n");
add("html2wt", "Magic Word: {{CURRENTMONTHNAME}}", "January\n");
add("html2wt", "Magic Word: {{CURRENTMONTHNAMEGEN}}", "January\n");
add("html2wt", "Magic Word: {{CURRENTTIME}}", "00:02\n");
add("html2wt", "Magic Word: {{CURRENTHOUR}}", "00\n");
add("html2wt", "Magic Word: {{CURRENTWEEK}} (@bug 4594)", "1\n");
add("html2wt", "Magic Word: {{CURRENTYEAR}}", "1970\n");
add("html2wt", "Magic Word: {{CURRENTTIMESTAMP}}", "19700101000203\n");
add("html2wt", "Magic Words LOCAL (UTC)", "* 01\n* 1\n* January\n* January\n* Jan\n* 1\n* 01\n* Thursday\n* 1970\n* 00:02\n* 00\n* 1\n* 4\n* 19700101000203\n");
add("html2wt", "Magic Word: {{FULLPAGENAME}}", "User:Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{FULLPAGENAMEE}}", "User:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{TALKSPACE}}", "User talk\n");
add("html2wt", "Magic Word: {{TALKSPACE}}, same namespace", "User talk\n");
add("html2wt", "Magic Word: {{TALKSPACE}}, main namespace", "Talk\n");
add("html2wt", "Magic Word: {{TALKSPACEE}}", "User_talk\n");
add("html2wt", "Magic Word: {{SUBJECTSPACE}}", "User\n");
add("html2wt", "Magic Word: {{SUBJECTSPACE}}, same namespace", "User\n");
add("html2wt", "Magic Word: {{SUBJECTSPACE}}, main namespace", "");
add("html2wt", "Magic Word: {{SUBJECTSPACEE}}", "User\n");
add("html2wt", "Magic Word: {{NAMESPACE}}", "User\n");
add("html2wt", "Magic Word: {{NAMESPACEE}}", "User\n");
add("html2wt", "Magic Word: {{NAMESPACENUMBER}}", "2\n");
add("html2wt", "Magic Word: {{SUBPAGENAME}}", "sub ö\n");
add("html2wt", "Magic Word: {{SUBPAGENAMEE}}", "sub_%C3%B6\n");
add("html2wt", "Magic Word: {{ROOTPAGENAME}}", "Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{ROOTPAGENAMEE}}", "%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{BASEPAGENAME}}", "Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{BASEPAGENAMEE}}", "%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{TALKPAGENAME}}", "User talk:Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{TALKPAGENAMEE}}", "User_talk:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{SUBJECTPAGENAME}}", "User:Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{SUBJECTPAGENAMEE}}", "User:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{NUMBEROFFILES}}", "5\n");
add("html2wt", "Magic Word: {{PAGENAME}}", "Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{PAGENAME}} with metacharacters", "''<nowiki>'foo & bar = baz'</nowiki>''\n");
add("html2wt", "Magic Word: {{PAGENAME}} with metacharacters (bug 26781)", "<nowiki>*RFC 1234 http://example.com/</nowiki>\n");
add("html2wt", "Magic Word: {{PAGENAMEE}}", "%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{PAGENAMEE}} with metacharacters (bug 26781)", "<nowiki>*RFC_1234_http://example.com/</nowiki>\n");
add("html2wt", "Magic Word: {{REVISIONID}}", "1337\n");
add("html2wt", "Magic Word: {{SCRIPTPATH}}", "/\n");
add("html2wt", "Magic Word: {{STYLEPATH}}", "/skins\n");
add("html2wt", "Magic Word: {{SERVER}}", "[http://example.org http://example.org]\n");
add("html2wt", "Magic Word: {{SERVERNAME}}", "example.org\n");
add("html2wt", "Magic Word: {{SITENAME}}", "MediaWiki\n");
add("html2wt", "Case-sensitive magic words, when cased differently, should just be template transclusions", "<a href=\"/index.php?title=Template:CurrentMonth&action=edit&redlink=1\" class=\"new\" title=\"Template:CurrentMonth (page does not exist)\">Template:CurrentMonth</a>\n<a href=\"/index.php?title=Template:Currentday&action=edit&redlink=1\" class=\"new\" title=\"Template:Currentday (page does not exist)\">Template:Currentday</a>\n<a href=\"/index.php?title=Template:CURreNTweEK&action=edit&redlink=1\" class=\"new\" title=\"Template:CURreNTweEK (page does not exist)\">Template:CURreNTweEK</a>\n<a href=\"/index.php?title=Template:CurrentHour&action=edit&redlink=1\" class=\"new\" title=\"Template:CurrentHour (page does not exist)\">Template:CurrentHour</a>\n");
add("html2wt", "Case-insensitive magic words should still work with weird casing.", "example.org\naOEU\nAoeu\n[http://example.org http://example.org]\n");
add("html2wt", "Namespace 1 {{ns:1}}", "Talk\n");
add("html2wt", "Namespace 1 {{ns:01}}", "Talk\n");
add("html2wt", "Namespace 0 {{ns:0}} (bug 4783)", "");
add("html2wt", "Namespace 0 {{ns:00}} (bug 4783)", "");
add("html2wt", "Namespace -1 {{ns:-1}}", "Special\n");
add("html2wt", "Namespace User {{ns:User}}", "User\n");
add("html2wt", "Namespace User talk {{ns:User_talk}}", "User talk\n");
add("html2wt", "Namespace User talk {{ns:uSeR tAlK}}", "User talk\n");
add("html2wt", "Namespace File {{ns:File}}", "File\n");
add("html2wt", "Namespace File {{ns:Image}}", "File\n");
add("html2wt", "Namespace (lang=de) Benutzer {{ns:User}}", "Benutzer\n");
add("html2wt", "Namespace (lang=de) Benutzer Diskussion {{ns:3}}", "Benutzer Diskussion\n");
add("html2wt", "Urlencode", "hi+world%3F%21\nhi_world%3F!\nhi%20world%3F%21\nhi+world%3F%21\n");
add("html2wt", "Magic links: internal link to RFC (bug 479)", "<a href=\"/index.php?title=RFC_123&action=edit&redlink=1\" class=\"new\" title=\"RFC 123 (page does not exist)\"><nowiki>RFC 123</nowiki></a>\n");
add("html2wt", "Magic links: RFC (bug 479)", "[//tools.ietf.org/html/rfc822 RFC 822]\n");
add("html2wt", "Magic links: ISBN (bug 1937)", "[/wiki/Special:BookSources/0306406152 ISBN 0-306-40615-2]\n");
add("html2wt", "Magic links: PMID incorrectly converts space to underscore", "[//www.ncbi.nlm.nih.gov/pubmed/1234?dopt=Abstract PMID 1234]\n");
add("html2wt", "Nonexistent template", "<a href=\"/index.php?title=Template:Thistemplatedoesnotexist&action=edit&redlink=1\" class=\"new\" title=\"Template:Thistemplatedoesnotexist (page does not exist)\">Template:Thistemplatedoesnotexist</a>\n");
add("html2wt", "Template with invalid target containing tags", "<nowiki>{{</nowiki>a'''b'''|foo|a=b|a = b<nowiki>}}</nowiki>\n");
add("html2wt", "Template with invalid target containing unclosed tag", "<nowiki>{{</nowiki>a'''|foo|a=b|a = b<nowiki>}}</nowiki>'''\n");
add("html2wt", "Simple template", "This is a test template\n");
add("html2wt", "Template with explicit namespace", "This is a test template\n");
add("html2wt", "Template parameter", "This is a test template with parameter foo\n");
add("html2wt", "Template unnamed parameter", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">the main page</a>\n");
add("html2wt", "Template with template name as unnamed argument", "(test)\n");
add("html2wt", "Template with template name as argument", "(test)\n");
add("html2wt", "Template with template name as argument (2)", "(test)\n");
add("html2wt", "Template with default value", "(test)\n");
add("html2wt", "Template with default value (value set)", "'''templ'''\n");
add("html2wt", "Template redirect", "(test)\n");
add("html2wt", "Template with argument in separate line", "(test)\n");
add("html2wt", "Template with complex template as argument", "This is a test template with parameter (test)\n");
add("html2wt", "Template with thumb image (with link in description)", "This is a test template with parameter <div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:182px;\"><a href=\"/index.php?title=Special:Upload&wpDestFile=Noimage.png\" class=\"new\" title=\"File:Noimage.png\">File:Noimage.png</a>  <div class=\"thumbcaption\"><a href=\"/index.php?title=No_link&action=edit&redlink=1\" class=\"new\" title=\"No link (page does not exist)\">link</a> <a href=\"/index.php?title=No_link&action=edit&redlink=1\" class=\"new\" title=\"No link (page does not exist)\">caption</a></div></div></div>\n");
add("html2wt", "Template with complex arguments", "<a href=\"/wiki/Template:Complextemplate\" title=\"Template:Complextemplate\">link</a> This is a test template with parameter (test)\n");
add("html2wt", "BUG 553: link with two variables in a piped link", "{|\n\n|<nowiki>[[{{{1}}}|{{{2}}}]]</nowiki>\n|}\n");
add("html2wt", "Magic variable as template parameter", "This is a test template with parameter MediaWiki\n");
add("html2wt", "Template parameter as link source", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">link</a>\n");
add("html2wt", "Template-generated attribute string (k='v')", "<span id=\"v1\">bar</span>\n");
add("html2wt", "Template passing argument to another template", "including another template, This is a test template with parameter 'hmm'\n");
add("html2wt", "Template as link source", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n\n<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n\n<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>Page\n");
add("html2wt", "Template infinite loop", "<span class=\"error\">Template loop detected: <a href=\"/wiki/Template:Loop1\" title=\"Template:Loop1\">Template:Loop1</a></span>\n");
add("html2wt", "Template from main namespace", "blah blah\n");
add("html2wt", "BUG 529: Template with table, not included at beginning of line", "foo \n\n{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\n");
add("html2wt", "BUG 523: Template shouldn't eat newline (or add an extra one before table)", "foo\n\n{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\n");
add("html2wt", "BUG 41: Template parameters shown as broken links", "<nowiki>{{{parameter}}}</nowiki>\n");
add("html2wt", "Template with targets containing wikilinks", "<nowiki>{{</nowiki><a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">foo</a><nowiki>}}</nowiki>\n\n<nowiki>{{</nowiki><a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">foo</a><nowiki>}}</nowiki>\n\n<nowiki>{{[[foo}}</nowiki>]]\n");
add("html2wt", "msgnw keyword", "<nowiki>''None'' of '''this''' should be \n* interpreted\n </nowiki>but rather passed unmodified\n<nowiki>{{test}}\n<gallery>\nFile:Foobar.jpg\n</gallery></nowiki>\n");
add("html2wt", "int keyword", "You have lots of money (not!).\n");
add("html2wt", "<includeonly> and <noinclude> being included", "Foobar\n");
add("html2wt", "<onlyinclude> being included", "Foo\n");
add("html2wt", "<onlyinclude> and <includeonly> being included", "Foo\n");
add("html2wt", "<includeonly> and <noinclude> on a page", "Foozar\n");
add("html2wt", "Un-closed <noinclude>", "");
add("html2wt", "<onlyinclude> on a page", "Foobar\n");
add("html2wt", "Un-closed <onlyinclude>", "");
add("html2wt", "Self-closed noinclude, includeonly, onlyinclude tags", "\n");
add("html2wt", "Unbalanced includeonly and noinclude tags", "{|\n\n|a\n\n|b\n\n|c</includeonly>\n\n|d</includeonly></includeonly>\n|}\n");
add("html2wt", "Bug 6563: Edit link generation for section shown by <includeonly>", "== <span class=\"mw-headline\" id=\"Includeonly_section\">Includeonly section</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Template:Includeonly_section&action=edit&section=T-1\" title=\"Template:Includeonly section\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_T-1\">Section T-1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Template:Includeonly_section&action=edit&section=T-2\" title=\"Template:Includeonly section\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 6563: Section extraction for section shown by <includeonly>", "<nowiki>==Section T-2==</nowiki>");
add("html2wt", "Bug 6563: Edit link generation for section suppressed by <includeonly>", "== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Section 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 6563: Section extraction for section suppressed by <includeonly>", "<nowiki>==Section 1==</nowiki>");
add("html2wt", "Un-closed <includeonly>", "");
add("html2wt", "0. includeonly around the entire attribute", "<span id=\"v2\">bar</span>\n");
add("html2wt", "1. includeonly in html attr key", "<span id=\"foo\">bar</span>\n");
add("html2wt", "2. includeonly in html attr value", "<span id=\"v1\">bar</span>\n<span id=\"v1\">bar</span>\n");
add("html2wt", "3. includeonly in part of an attr value", "<span style=\"color:red;\">bar</span>\n");
add("html2wt", "4. includeonly in table attributes", "{|\n\n|a\n\n|}\n");
add("html2wt", "Templates: Template Name/Arg clash: 1. Use of positional param", "foo\n");
add("html2wt", "Templates: Template Name/Arg clash: 2. Use of named param", "foo\n");
add("html2wt", "Templates: Template Name/Arg clash: 3. Use of named param with empty input", "quote\n");
add("html2wt", "Templates: 1. Simple use", "Foo\n");
add("html2wt", "Templates: 2. Inside a block tag", "<div>Foo</div>\n<blockquote>Foo</blockquote>\n");
add("html2wt", "Templates: P-wrapping: 1a. Templates on consecutive lines", "Foo\nbar\n");
add("html2wt", "Templates: P-wrapping: 1b. Templates on consecutive lines", "Foo\n\nbar\nbaz\n");
add("html2wt", "Templates: P-wrapping: 1c. Templates on consecutive lines", "Foo\n\nbar <div>baz</div>\n");
add("html2wt", "Templates: Inline Text: 1. Multiple template uses", "Foobarbaz\n");
add("html2wt", "Templates: Inline Text: 2. Back-to-back template uses", "Foobar\n");
add("html2wt", "Templates: Block Tags: 1. Multiple template uses", "<div>Foo</div><div>bar</div><div>baz</div>\n");
add("html2wt", "Templates: Block Tags: 2. Back-to-back template uses", "<div>Foo</div><div>bar</div>\n");
add("html2wt", "Templates: Links: 1. Simple example", "<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar</a>\n");
add("html2wt", "Templates: Links: 2. Generation of link href", "<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar</a>\n");
add("html2wt", "Templates: Links: 3. Generation of part of a link href", "<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar</a>\n\n<a href=\"/index.php?title=Foobar&action=edit&redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">Foobar</a>\n\n<a href=\"/index.php?title=Foobarbaz&action=edit&redlink=1\" class=\"new\" title=\"Foobarbaz (page does not exist)\">Foobarbaz</a>\n\n<a href=\"/index.php?title=Foobar&action=edit&redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">bar</a>\n\n<a href=\"/index.php?title=Foobar&action=edit&redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">Foobar</a>\n\n<a href=\"/index.php?title=Foobar&action=edit&redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">bar</a>\n");
add("html2wt", "Templates: Links: 4. Multiple templates generating link href", "<a href=\"/index.php?title=Foobar&action=edit&redlink=1\" class=\"new\" title=\"Foobar (page does not exist)\">Foobar</a>\n");
add("html2wt", "Templates: Links: 5. Generation of link text", "<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar</a>\n");
add("html2wt", "Templates: Links: 5. Nested templates (only outermost template should be marked)", "<a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">bar</a>\n");
add("html2wt", "Templates: HTML Tag: 1. Generation of HTML attr. key", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 2. Generation of HTML attr. value", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 3. Generation of HTML attr key and value", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 4. Generation of starting piece of HTML attr value", "<div title=\"This is a long title with just one piece templated\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 5. Generation of middle piece of HTML attr value", "<div title=\"This is a long title with just one piece templated\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 6. Generation of end piece of HTML attr value", "<div title=\"This is a long title with just one piece templated\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 7. Generation of partial attribute key string", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tables: 1. Generating start of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 2a. Generating middle of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 2b. Generating middle of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 3. Generating end of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4a. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4b. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4c. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4d. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4e. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4f. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: Wiki Tables: 1a. Fostering of entire template content", "\na\n{|\n|\n|}\n");
add("html2wt", "Templates: Wiki Tables: 1b. Fostering of entire template content", "<div>\nfoo\n\n</div>\n{|\n\n|\n|}\n");
add("html2wt", "Templates: Wiki Tables: 2. Fostering of partial template content", "\na\n<div>b</div>\n{|\n|\n|}\n");
add("html2wt", "Templates: Wiki Tables: 3. td-content via multiple templates", "{|\n\n|ab\n|}\n");
add("html2wt", "Templates: Wiki Tables: 4. Templated tags, no content", "{|\n|\n|}\n");
add("html2wt", "Templates: Wiki Tables: 5. Templated tags, regular td-tags", "{|\n\n|foo\n|}\n");
add("html2wt", "Templates: Wiki Tables: 6. Templated tags, templated td-tags", "{|\n\n|foo\n|}\n");
add("html2wt", "Templates: Lists: Multi-line list-items via templates", "* a <a href=\"/index.php?title=Template:Nonexistent&action=edit&redlink=1\" class=\"new\" title=\"Template:Nonexistent (page does not exist)\">Template:Nonexistent</a>\n* b <a href=\"/index.php?title=Template:Nonexistent&action=edit&redlink=1\" class=\"new\" title=\"Template:Nonexistent (page does not exist)\">Template:Nonexistent</a>\n");
add("html2wt", "Templates: Ugly nesting: 1. Quotes opened/closed across templates (echo)", "''ab''c''d''e\n");
add("html2wt", "Templates: Ugly nesting: 4. Divs opened/closed across templates", "a<div>bc</div>de\n");
add("html2wt", "Templates: Ugly templates: 3. newline-only template parameter", "foo \n");
add("html2wt", "Templates: Ugly templates: 4. newline-only template parameter inconsistency", "\n");
add("html2wt", "Parser Functions: 1. Simple example", "FOO\n");
add("html2wt", "Parser Functions: 2. Nested use (only outermost should be marked up)", "FOO\n");
add("html2wt", "pre-save transform: subst:", "This is a test template");
add("html2wt", "pre-save transform: normal template", "<nowiki>{{test}}</nowiki>");
add("html2wt", "pre-save transform: nonexistent template", "<nowiki>{{thistemplatedoesnotexist}}</nowiki>");
add("html2wt", "pre-save transform: subst magic variables", "MediaWiki");
add("html2wt", "pre-save transform: subst: templates with parameters", "This is a test template with parameter \"something else\"");
add("html2wt", "pre-save transform: nowiki in subst (bug 1188)", "<nowiki><nowiki>'''not wiki'''</nowiki></nowiki>");
add("html2wt", "pre-save transform: comment in subst (bug 1936)", "This template has <!-- a comment --> in it.");
add("html2wt", "pre-save transform: unclosed tag", "<nowiki><nowiki>'''not wiki'''</nowiki></nowiki>");
add("html2wt", "pre-save transform: mixed tag case", "<nowiki><nowiki>'''not wiki'''</nowiki></nowiki>");
add("html2wt", "pre-save transform: unclosed comment in <nowiki>", "wiki<nowiki>nowiki<!--nowiki</nowiki>wiki--></nowiki>");
add("html2wt", "(confirming safety of fix for subst bug 1936)", "@<span>Oh no</span>\n");
add("html2wt", "pre-save transform: <noinclude> in subst (bug 3298)", "Foobar");
add("html2wt", "pre-save transform: <onlyinclude> in subst (bug 3298)", "Foo");
add("html2wt", "bug 22297: safesubst: works during PST", "FoobarFoobar");
add("html2wt", "bug 22297: safesubst: works during normal parse", "Foobar\n");
add("html2wt", "subst: does not work during normal parse", "<nowiki>{{subst:Includes}}</nowiki>\n");
add("html2wt", "pre-save transform: context links (\"pipe trick\")", "<nowiki>[[Article (context)|Article]]\n[[Bar:Article|Article]]\n[[:Bar:Article|Article]]\n[[Bar:Article (context)|Article]]\n[[:Bar:Article (context)|Article]]\n[[Article]]\n[[Article (context)]]\n[[Bar:X (Y) Z|X (Y) Z]]\n[[:Bar:X (Y) Z|X (Y) Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with interwiki prefix", "<nowiki>[[interwiki:Article|Article]]\n[[:interwiki:Article|Article]]\n[[interwiki:Bar:Article|Bar:Article]]\n[[:interwiki:Bar:Article|Bar:Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with parens in title", "<nowiki>[[Article (context)|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with comma in title", "<nowiki>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace, Elsewhere|Otherplace]]\n[[Otherplace, Elsewhere, Anywhere|Otherplace]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with parens and comma", "<nowiki>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace (place), Elsewhere|Otherplace]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with comma and parens", "<nowiki>[[Yes, you. (context)|Yes, you.]]\n[[Me, Myself, and I (1937 song)|Me, Myself, and I]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace", "<nowiki>[[Ns:Article|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace and parens", "<nowiki>[[Ns:Article (context)|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace and comma", "<nowiki>[[Ns:Article, Context, Whatever|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace, comma and parens", "<nowiki>[[Ns:Article (context)|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace, parens and comma", "<nowiki>[[Ns:Article, Context|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with full-width parens and no space (Japanese and Chinese style, bug 30149)", "<nowiki>[[Article（context）|Article]]\n[[Bar:Article（context）|Article]]\n[[:Bar:Article（context）|Article]]\n[[Article（context）]]\n[[Bar:X（Y）Z|X（Y）Z]]\n[[:Bar:X（Y）Z|X（Y）Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with full-width parens and space (Japanese and Chinese style, bug 30149)", "<nowiki>[[Article （context）|Article]]\n[[Bar:Article （context）|Article]]\n[[:Bar:Article （context）|Article]]\n[[Article （context）]]\n[[Bar:X （Y） Z|X （Y） Z]]\n[[:Bar:X （Y） Z|X （Y） Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with parens and no space (Korean style, bug 30149)", "<nowiki>[[Article(context)|Article]]\n[[Bar:Article(context)|Article]]\n[[:Bar:Article(context)|Article]]\n[[Article(context)]]\n[[Bar:X(Y)Z|X(Y)Z]]\n[[:Bar:X(Y)Z|X(Y)Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with commas (bug 21660)", "<nowiki>[[Article (context), context|Article]]\n[[Article (context)，context|Article]]\n[[Bar:Article (context), context|Article]]\n[[Bar:Article (context)，context|Article]]\n[[:Bar:Article (context), context|Article]]\n[[:Bar:Article (context)，context|Article]]</nowiki>");
add("html2wt", "pre-save transform: Signature expansion", "<nowiki>* [[Special:Contributions/127.0.0.1|127.0.0.1]]\n*</nowiki> <noinclude><nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]</nowiki></noinclude>\n<nowiki>*</nowiki> <includeonly><nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]</nowiki></includeonly>\n<nowiki>*</nowiki> <onlyinclude><nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]</nowiki></onlyinclude>");
add("html2wt", "pre-save transform: Signature expansion in nowiki tags (bug 93)", "Shall not expand:\n\n<nowiki><nowiki>~~~~</nowiki></nowiki>\n\n<includeonly><nowiki><nowiki>~~~~</nowiki></nowiki></includeonly>\n\n<noinclude><nowiki><nowiki>~~~~</nowiki></nowiki></noinclude>\n\n<onlyinclude><nowiki><nowiki>~~~~</nowiki></nowiki></onlyinclude>\n\nFOO shall be converted to FOO\nAs well as inside noinclude/onlyinclude\n<noinclude>FOO</noinclude>\n<onlyinclude>FOO</onlyinclude>\n\nBut not inside includeonly\n<includeonly><nowiki>{{subst:Foo}}</nowiki></includeonly>");
add("html2wt", "message transform: magic variables", "MediaWiki");
add("html2wt", "message transform: should not transform wiki markup", "<nowiki>''test''</nowiki>");
add("html2wt", "message transform: <noinclude> in transcluded template (bug 4926)", "Foobar");
add("html2wt", "message transform: <onlyinclude> in transcluded template (bug 4926)", "Foo");
add("html2wt", "{{#special:}} page name, known", "Special:RecentChanges");
add("html2wt", "{{#special:}} page name with subpage, known", "Special:RecentChanges/param");
add("html2wt", "{{#special:}} page name, unknown", "Special:Foobar nonexistent");
add("html2wt", "{{#speciale:}} page name, known", "Special:RecentChanges");
add("html2wt", "{{#speciale:}} page name with subpage, known", "Special:RecentChanges/param");
add("html2wt", "{{#speciale:}} page name, unknown", "Special:Foobar_nonexistent");
add("html2wt", "Allow empty links in image captions (Bug 60753)", "[[File:Foobar.jpg|thumb|Caption [[Link1]]\n<nowiki>[[]]</nowiki>\n[[Link2]]\n]]");
add("html2wt", "Image with multiple attributes from the same template", "[[File:Foobar.jpg|right|Caption text]]\n");
add("html2wt", "Image with link tails", "123[[File:Foobar.jpg]]456\n123\n[[File:Foobar.jpg|right]]\n456\n123\n[[File:Foobar.jpg|thumb]]\n456");
add("html2wt", "Image with multiple captions -- only last one is accepted", "[[File:Foobar.jpg|right|Caption3 - accepted]]\n");
add("html2wt", "Image with multiple widths -- use last", "[[File:Foobar.jpg|300x300px|caption]]\n");
add("html2wt", "Image with multiple alignments -- use first (bug 48664)", "[[File:Foobar.jpg|left|thumb|caption]]\n[[File:Foobar.jpg|middle|caption]]\n");
add("html2wt", "Image with width attribute at different positions", "[[File:Foobar.jpg|right|200x200px|Caption]]\n[[File:Foobar.jpg|right|200x200px|Caption]]\n[[File:Foobar.jpg|right|200x200px|Caption]]\n");
add("html2wt", "Image with link parameter, wiki target", "[[File:Foobar.jpg|link=Main_Page]]\n");
add("html2wt", "Image with link parameter, wgExternalLinkTarget", "<a href=\"http://example.com/\" target=\"foobar\" rel=\"nofollow\">http://example.com/images/3/3a/Foobar.jpg</a>\n");
add("html2wt", "Image with link parameter, wgNoFollowLinks set to false", "http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Image with link parameter, wgNoFollowDomainExceptions", "http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Image with link parameter, wgExternalLinkTarget, unnamed parameter", "<a href=\"http://example.com/\" title=\"Title\" target=\"foobar\" rel=\"nofollow\">http://example.com/images/3/3a/Foobar.jpg</a>\n");
add("html2wt", "Link to image page- image page normally doesn't exists, hence edit link\nAdd test with existing image page\n#<p><a href=\"/wiki/File:Test\" title=\"Image:Test\">Image:test</a>", "<a href=\"/index.php?title=File:Test&action=edit&redlink=1\" class=\"new\" title=\"File:Test (page does not exist)\">Image:test</a>\n");
add("html2wt", "bug 18784  Link to non-existent image page with caption should use caption as link text", "<a href=\"/index.php?title=File:Test&action=edit&redlink=1\" class=\"new\" title=\"File:Test (page does not exist)\">caption</a>\n");
add("html2wt", "Redirected image", "<a href=\"/wiki/File:Barfoo.jpg\" title=\"File:Barfoo.jpg\">File:Barfoo.jpg</a>\n");
add("html2wt", "Missing image with uploads disabled", "<a href=\"/wiki/File:Foobaz.jpg\" title=\"File:Foobaz.jpg\">File:Foobaz.jpg</a>\n");
add("html2wt", "Parsoid-specific image handling - simple image with size and middle alignment", "[[File:Foobar.jpg|middle|50x50px]]\n");
add("html2wt", "Parsoid-specific image handling - thumbnail with specific size, halign, valign, and caption", "[[File:Foobar.jpg|right|middle|thumb|50x50px|caption]]\n");
add("html2wt", "Parsoid-specific image handling - caption with a template in it", "[[File:Foobar.jpg|thumb|200x200px|This caption has a {{echo|transclusion}} in it.]]\n");
add("html2wt", "Subpage link", "<a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">/subpage</a>\n");
add("html2wt", "Subpage noslash link", "<a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">subpage</a>\n");
add("html2wt", "Render invalid page names as plain text (bug 51090)", "<nowiki>[[./../foo|bar]][[foo�|bar]][[foo/.|bar]][[foo/..|bar]][[foo~~~bar]][[foo>bar]][[foo[bar]][[.]][[..]][[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]][[{{echo|foo/.}}|bar]][[{{echo|foo/..}}|bar]][[{{echo|foo~~~~bar}}]][[{{echo|foo>bar}}]][[{{echo|foo././bar}}]][[{{echo|foo{bar}}]][[{{echo|foo}bar}}]][[{{echo|<nowiki>foo[bar</nowiki>}}]][[{{echo|<nowiki>foo]bar</nowiki>}}]][[{{echo|foo<bar}}]]\n");
add("html2wt", "Disabled subpages", "<a href=\"/index.php?title=/subpage&action=edit&redlink=1\" class=\"new\" title=\"/subpage (page does not exist)\">/subpage</a>\n");
add("html2wt", "BUG 561: {{/Subpage}}", "<a href=\"/index.php?title=Page/Subpage&action=edit&redlink=1\" class=\"new\" title=\"Page/Subpage (page does not exist)\">Page/Subpage</a>\n");
add("html2wt", "Link to category", "<a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">Category:MediaWiki User's Guide</a>\n");
add("html2wt", "Simple category", "<a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">MediaWiki User's Guide</a>");
add("html2wt", "PAGESINCATEGORY invalid title fatal (r33546 fix)", "0\n");
add("html2wt", "Category with different sort key", "<a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">MediaWiki User's Guide</a>");
add("html2wt", "Category with identical sort key", "<a href=\"/wiki/Category:MediaWiki_User%27s_Guide\" title=\"Category:MediaWiki User's Guide\">MediaWiki User's Guide</a>");
add("html2wt", "Category with empty sort key", "<nowiki>[[Category:MediaWiki User's Guide|MediaWiki User's Guide]]</nowiki>");
add("html2wt", "Category with empty sort key and parentheses", "<nowiki>[[Category:Foo (bar)|Foo]]</nowiki>");
add("html2wt", "Category with link tail", "123<nowiki>[[Category:Foo]]</nowiki>456");
add("html2wt", "Category with template", "<nowiki>[[Category:{{echo|Foo}}]]</nowiki>");
add("html2wt", "Category with template in sort key", "<nowiki>[[Category:Foo|{{echo|Bar}}]]</nowiki>");
add("html2wt", "Category with template in sort key and title", "<nowiki>[[Category:{{echo|Foo}}|{{echo|Bar}}]]</nowiki>");
add("html2wt", "Category / paragraph interactions", "Foo Bar\n\nFoo\nBar\n\nFoo\nBar\n\nFoo Bar\n\nFoo\nBar\n");
add("html2wt", "Inter-language links", "es:Alimento fr:Nourriture zh:食品");
add("html2wt", "Duplicate interlanguage links (bug 24502)", "es:1 fr:1");
add("html2wt", "Basic section headings", "== <span class=\"mw-headline\" id=\"Headline_1\">Headline 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Headline 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nSome text\n\n== <span class=\"mw-headline\" id=\"Headline_2\">Headline 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Headline 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nMore\n\n=== <span class=\"mw-headline\" id=\"Smaller_headline\">Smaller headline</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: Smaller headline\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\nBlah blah\n");
add("html2wt", "Section headings with TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Headline_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Headline 1</span>]\n\n** [#Subheadline_1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Subheadline 1</span>]\n\n*** [#Skipping_a_level <span class=\"tocnumber\">1.1.1</span> <span class=\"toctext\">Skipping a level</span>]\n\n**** [#Skipping_a_level_2 <span class=\"tocnumber\">1.1.1.1</span> <span class=\"toctext\">Skipping a level</span>]\n* [#Headline_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">Headline 2</span>]\n\n** [#Another_headline <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Another headline</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Headline_1\">Headline 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Headline 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Subheadline_1\">Subheadline 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Subheadline 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n===== <span class=\"mw-headline\" id=\"Skipping_a_level\">Skipping a level</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: Skipping a level\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =====\n\n====== <span class=\"mw-headline\" id=\"Skipping_a_level_2\">Skipping a level</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: Skipping a level\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n\n== <span class=\"mw-headline\" id=\"Headline_2\">Headline 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: Headline 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nSome text\n\n=== <span class=\"mw-headline\" id=\"Another_headline\">Another headline</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=6\" title=\"Edit section: Another headline\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n");
add("html2wt", "Handling of sections up to level 6 and beyond", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Level_1_Heading <span class=\"tocnumber\">1</span> <span class=\"toctext\">Level 1 Heading</span>]\n\n** [#Level_2_Heading <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Level 2 Heading</span>]\n\n*** [#Level_3_Heading <span class=\"tocnumber\">1.1.1</span> <span class=\"toctext\">Level 3 Heading</span>]\n\n**** [#Level_4_Heading <span class=\"tocnumber\">1.1.1.1</span> <span class=\"toctext\">Level 4 Heading</span>]\n\n***** [#Level_5_Heading <span class=\"tocnumber\">1.1.1.1.1</span> <span class=\"toctext\">Level 5 Heading</span>]\n\n****** [#Level_6_Heading <span class=\"tocnumber\">1.1.1.1.1.1</span> <span class=\"toctext\">Level 6 Heading</span>]\n****** [#.3D_Level_7_Heading.3D <span class=\"tocnumber\">1.1.1.1.1.2</span> <span class=\"toctext\">= Level 7 Heading=</span>]\n****** [#.3D.3D_Level_8_Heading.3D.3D <span class=\"tocnumber\">1.1.1.1.1.3</span> <span class=\"toctext\">== Level 8 Heading==</span>]\n****** [#.3D.3D.3D_Level_9_Heading.3D.3D.3D <span class=\"tocnumber\">1.1.1.1.1.4</span> <span class=\"toctext\">=== Level 9 Heading===</span>]\n****** [#.3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D <span class=\"tocnumber\">1.1.1.1.1.5</span> <span class=\"toctext\">==== Level 10 Heading====</span>]\n\n</div>\n\n= <span class=\"mw-headline\" id=\"Level_1_Heading\">Level 1 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Level 1 Heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n\n== <span class=\"mw-headline\" id=\"Level_2_Heading\">Level 2 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Level 2 Heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Level_3_Heading\">Level 3 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: Level 3 Heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"Level_4_Heading\">Level 4 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: Level 4 Heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ====\n\n===== <span class=\"mw-headline\" id=\"Level_5_Heading\">Level 5 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: Level 5 Heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =====\n\n====== <span class=\"mw-headline\" id=\"Level_6_Heading\">Level 6 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=6\" title=\"Edit section: Level 6 Heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D_Level_7_Heading.3D\">= Level 7 Heading=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=7\" title=\"Edit section: = Level 7 Heading=\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D.3D_Level_8_Heading.3D.3D\">== Level 8 Heading==</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=8\" title=\"Edit section: == Level 8 Heading==\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D.3D.3D_Level_9_Heading.3D.3D.3D\">=== Level 9 Heading===</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=9\" title=\"Edit section: === Level 9 Heading===\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D\">==== Level 10 Heading====</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=10\" title=\"Edit section: ==== Level 10 Heading====\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n");
add("html2wt", "TOC regression (bug 9764)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#title_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">title 1</span>]\n\n** [#title_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">title 1.1</span>]\n\n*** [#title_1.1.1 <span class=\"tocnumber\">1.1.1</span> <span class=\"toctext\">title 1.1.1</span>]\n** [#title_1.2 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">title 1.2</span>]\n* [#title_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">title 2</span>]\n\n** [#title_2.1 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">title 2.1</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"title_1\">title 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: title 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_1.1\">title 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: title 1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"title_1.1.1\">title 1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: title 1.1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ====\n\n=== <span class=\"mw-headline\" id=\"title_1.2\">title 1.2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: title 1.2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"title_2\">title 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: title 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_2.1\">title 2.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=6\" title=\"Edit section: title 2.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n");
add("html2wt", "TOC with wgMaxTocLevel=3 (bug 6204)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#title_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">title 1</span>]\n\n** [#title_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">title 1.1</span>]\n** [#title_1.2 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">title 1.2</span>]\n* [#title_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">title 2</span>]\n\n** [#title_2.1 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">title 2.1</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"title_1\">title 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: title 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_1.1\">title 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: title 1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"title_1.1.1\">title 1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: title 1.1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ====\n\n=== <span class=\"mw-headline\" id=\"title_1.2\">title 1.2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: title 1.2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"title_2\">title 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: title 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_2.1\">title 2.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=6\" title=\"Edit section: title 2.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n");
add("html2wt", "TOC with wgMaxTocLevel=3 and two level four headings (bug 6204)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Section_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Section 1</span>]\n\n** [#Section_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Section 1.1</span>]\n* [#Section_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">Section 2</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Section 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Section_1.1\">Section 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Section 1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"Section_1.1.1\">Section 1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: Section 1.1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ====\n\n==== <span class=\"mw-headline\" id=\"Section_1.1.1.1\">Section 1.1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: Section 1.1.1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ====\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: Section 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Resolving duplicate section names", "== <span class=\"mw-headline\" id=\"Foo_bar\">Foo bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Foo bar\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Foo_bar_2\">Foo bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Foo bar\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Resolving duplicate section names with differing case (bug 10721)", "== <span class=\"mw-headline\" id=\"Foo_bar\">Foo bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Foo bar\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Foo_Bar_2\">Foo Bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Foo Bar\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Template with sections, __NOTOC__", "== <span class=\"mw-headline\" id=\"Section_0\">Section 0</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Section 0\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Template:Sections&action=edit&section=T-1\" title=\"Template:Sections\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Template:Sections&action=edit&section=T-2\" title=\"Template:Sections\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_4\">Section 4</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Section 4\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "__NOEDITSECTION__ keyword", "== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span> ==\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span> ==\n");
add("html2wt", "Link inside a section heading", "== <span class=\"mw-headline\" id=\"Section_with_a_link_in_it\">Section with a <a href=\"/wiki/Main_Page\" title=\"Main Page\">link</a> in it</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Section with a link in it\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "TOC regression (bug 12077)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#title_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">title 1</span>]\n\n** [#title_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">title 1.1</span>]\n* [#title_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">title 2</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"title_1\">title 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: title 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_1.1\">title 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: title 1.1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"title_2\">title 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: title 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "BUG 1219 URL next to image (good)", "[http://example.com http://example.com] http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)", "= <span class=\"mw-headline\" id=\".3D\">=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: =\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\nThe line above must have a trailing space!\n\n= <span class=\"mw-headline\" id=\".3D_2\">=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: =\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\nBut just in case it doesn't...\n");
add("html2wt", "Header with special characters (bug 25462)", "The tooltips shall not show entities to the user (ie. be double escaped)\n\n<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#text_.3E_text <span class=\"tocnumber\">1</span> <span class=\"toctext\">text > text</span>]\n* [#text_.3C_text <span class=\"tocnumber\">2</span> <span class=\"toctext\">text < text</span>]\n* [#text_.26_text <span class=\"tocnumber\">3</span> <span class=\"toctext\">text & text</span>]\n* [#text_.27_text <span class=\"tocnumber\">4</span> <span class=\"toctext\">text ' text</span>]\n* [#text_.22_text <span class=\"tocnumber\">5</span> <span class=\"toctext\">text \" text</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"text_.3E_text\">text > text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: text > text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 1\n\n== <span class=\"mw-headline\" id=\"text_.3C_text\">text < text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: text < text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 2\n\n== <span class=\"mw-headline\" id=\"text_.26_text\">text & text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: text & text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 3\n\n== <span class=\"mw-headline\" id=\"text_.27_text\">text ' text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: text ' text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 4\n\n== <span class=\"mw-headline\" id=\"text_.22_text\">text \" text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: text &quot; text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 5\n");
add("html2wt", "Headers with excess '=' characters\n(Are similar tests necessary beyond the 1st level?)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#foo.3D <span class=\"tocnumber\">1</span> <span class=\"toctext\">foo=</span>]\n* [#.3Dfoo <span class=\"tocnumber\">2</span> <span class=\"toctext\">=foo</span>]\n* [#italic_heading.3D <span class=\"tocnumber\">3</span> <span class=\"toctext\">''italic'' heading=</span>]\n* [#.3Ditalic_heading <span class=\"tocnumber\">4</span> <span class=\"toctext\">=''italic'' heading</span>]\n\n</div>\n\n= <span class=\"mw-headline\" id=\"foo.3D\">foo=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: foo=\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n\n= <span class=\"mw-headline\" id=\".3Dfoo\">=foo</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: =foo\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n\n= <span class=\"mw-headline\" id=\"italic_heading.3D\">''italic'' heading=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: italic heading=\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n\n= <span class=\"mw-headline\" id=\".3Ditalic_heading\">=''italic'' heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: =italic heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n");
add("html2wt", "HTML headers vs TOC (bug 23393)\n(__NOEDITSECTION__ for clearer output, doesn't matter here)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Header_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Header 1</span>]\n\n** [#Header_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Header 1.1</span>]\n** [#Header_1.2 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">Header 1.2</span>]\n* [#Header_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">Header 2</span>]\n\n** [#Header_2.1 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Header 2.1</span>]\n** [#Header_2.2 <span class=\"tocnumber\">2.2</span> <span class=\"toctext\">Header 2.2</span>]\n\n</div>\n\n= <span class=\"mw-headline\" id=\"Header_1\">Header 1</span> =\n\n== <span class=\"mw-headline\" id=\"Header_1.1\">Header 1.1</span> ==\n\n== <span class=\"mw-headline\" id=\"Header_1.2\">Header 1.2</span> ==\n\n= <span class=\"mw-headline\" id=\"Header_2\">Header 2</span> =\n\n== <span class=\"mw-headline\" id=\"Header_2.1\">Header 2.1</span> ==\n\n== <span class=\"mw-headline\" id=\"Header_2.2\">Header 2.2</span> ==\n");
add("html2wt", "BUG 1219 URL next to image (broken)", "[http://example.com http://example.com]http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Bug 1186 news: in the middle of text", "[http://en.wikinews.org/wiki/Wikinews:Workplace http://en.wikinews.org/wiki/Wikinews:Workplace]\n");
add("html2wt", "Namespaced link must have a title", "<nowiki>[[Project:]]</nowiki>\n");
add("html2wt", "Namespaced link must have a title (bad fragment version)", "<nowiki>[[Project:#fragment]]</nowiki>\n");
add("html2wt", "div with single-quoted attribute", "<div id=\"rock\">HTML rocks</div>\n");
add("html2wt", "div with unquoted attribute", "<div id=\"rock\">HTML rocks</div>\n");
add("html2wt", "div with illegal double attributes", "<div id=\"b\">HTML rocks</div>\n");
add("html2wt", "div with empty attribute value, space before equals", "<div class=\"\">HTML rocks</div>\n");
add("html2wt", "div with empty attribute value, no space before equals", "<div class=\"\">HTML rocks</div>\n");
add("html2wt", "HTML multiple attributes correction", "Awesome!\n");
add("html2wt", "Table multiple attributes correction", "{|\n\n! class=\"awesome\" | status\n|}\n");
add("html2wt", "DIV IN UPPERCASE", "<div id=\"x\">HTML ROCKS</div>\n");
add("html2wt", "Pseudo-tag with URL 'name' renders as url link", "<[http://example.com/ http://example.com/]>\n");
add("html2wt", "text with character entity: eacute", "I always thought é was a cute letter.\n");
add("html2wt", "Media link", "<a href=\"http://example.com/images/3/3a/Foobar.jpg\" class=\"internal\" title=\"Foobar.jpg\">Media:Foobar.jpg</a>\n");
add("html2wt", "Media link with text", "<a href=\"http://example.com/images/3/3a/Foobar.jpg\" class=\"internal\" title=\"Foobar.jpg\">A neat file to look at</a>\n");
add("html2wt", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "<a href=\"http://example.com/images/3/3a/Foobar.jpg\" class=\"internal\" title=\"Foobar.jpg\">Safe Link<nowiki><div style=\"display:none\">\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div></nowiki></a>\n");
add("html2wt", "Media link to nonexistent file (bug 1702)", "<a href=\"/index.php?title=Special:Upload&wpDestFile=No_such.jpg\" class=\"new\" title=\"No such.jpg\">Media:No such.jpg</a>\n");
add("html2wt", "Image link to nonexistent file (bug 1850 - good)", "<a href=\"/index.php?title=Special:Upload&wpDestFile=No_such.jpg\" class=\"new\" title=\"File:No such.jpg\">File:No such.jpg</a>\n");
add("html2wt", ":Image link to nonexistent file (bug 1850 - bad)", "<a href=\"/index.php?title=File:No_such.jpg&action=edit&redlink=1\" class=\"new\" title=\"File:No such.jpg (page does not exist)\">Image:No such.jpg</a>\n");
add("html2wt", "Character reference normalization in link text (bug 1938)", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">this&that</a>\n");
add("html2wt", "(bug 19451) Links should refer to the normalized form.", "<a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ</a>\n<a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ</a>\n<a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ</a>\n<a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ</a>\n<a href=\"/wiki/%D7%90%D6%B7\" title=\"אַ\">אַ</a>\n");
add("html2wt", "Empty attribute crash test single-quotes (bug 2067)", "<font color=\"\">foo</font>\n");
add("html2wt", "Attribute test: equals, then nothing", "<font>foo</font>\n");
add("html2wt", "Attribute test: unquoted value", "<font color=\"x\">foo</font>\n");
add("html2wt", "Attribute test: unquoted but illegal value (hash)", "<font color=\"#x\">foo</font>\n");
add("html2wt", "Attribute test: no value", "<font color=\"color\">foo</font>\n");
add("html2wt", "Bug 2095: link with pipe and three closing brackets, version 2", "[[Main Page|<nowiki>[http://example.com/]</nowiki>]]\n");
add("html2wt", "Bug 2304: HTML attribute safety (safe template; regression bug 2309)", "<div title=\"This is a test template\"></div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (dangerous template; 2309)", "<div title=\"\"></div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (dangerous style template; 2309)", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (safe parameter; 2309)", "<div style=\"float: right; width: 200px\">Magic div</div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (unsafe parameter; 2309)", "<div style=\"/* insecure input */\">Magic div</div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (unsafe breakout parameter; 2309)", "<div style=\"float: right;\"><script>alert(document.cookie)</script>\">Magic div</div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (unsafe breakout parameter 2; 2309)", "<div style=\"float: right;\"><script>alert(document.cookie)</script>\">Magic div</div>\n");
add("html2wt", "Bug 3244: HTML attribute safety (extension; safe)", "<div style=\"background:blue\"></div>\n");
add("html2wt", "Bug 3244: HTML attribute safety (extension; unsafe)", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "MSIE CSS safety test: spurious slash", "<div style=\"/* insecure input */\">evil</div>\n");
add("html2wt", "MSIE CSS safety test: hex code", "<div style=\"/* insecure input */\">evil</div>\n");
add("html2wt", "MSIE CSS safety test: comment in url", "<div style=\"background-image:u rl(javascript:alert('boo'))\">evil</div>\n");
add("html2wt", "MSIE CSS safety test: comment in expression", "<div style=\"background-image:expres sion(alert('boo4'))\">evil4</div>\n");
add("html2wt", "CSS safety test (all browsers): vertical tab (bug 55332 / CVE-2013-4567)", "A\n");
add("html2wt", "MSIE 6 CSS safety test: Fullwidth (bug 55332)", "A\n<div style=\"/* insecure input */\">B</div>\n");
add("html2wt", "MSIE 6 CSS safety test: IPA extensions (bug 55332)", "<div style=\"/* insecure input */\">A</div>\nB\n");
add("html2wt", "MSIE 6 CSS safety test: sup/sub script (bug 55332)", "<div style=\"/* insecure input */\">A</div>\n<div style=\"/* insecure input */\">B</div>\nC\n");
add("html2wt", "Opera -o-link CSS", "<div title=\"data:text/html,<img src=1 onerror=alert(1)>\" style=\"/* insecure input */\">X</div>\n");
add("html2wt", "MSIE 6 CSS safety test: Repetition markers (bug 55332)", "A\n\nB\n\nC\n\nD\n\nE\n\nF\n\nG\n");
add("html2wt", "Table attribute legitimate extension", "{|\n\n! style=\"color:blue\" | status\n|}\n");
add("html2wt", "Table attribute safety", "{|\n\n! style=\"/* insecure input */\" | status\n|}\n");
add("html2wt", "CSS line continuation 1", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "CSS line continuation 2", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "Expansion of multi-line templates in attribute values (bug 6255)", "<div style=\"background: #00FF00\">-</div>\n");
add("html2wt", "Expansion of multi-line templates in attribute values (bug 6255 sanity check)", "<div style=\"background: #00FF00\">-</div>\n");
add("html2wt", "Expansion of multi-line templates in attribute values (bug 6255 sanity check 2)", "<div style=\"background: \n#00FF00\">-</div>\n");
add("html2wt", "Parser hook: empty input", " <nowiki>''\n array (\n )</nowiki>\n");
add("html2wt", "Parser hook: empty input using terminated empty elements", " NULL\n array (\n )\n");
add("html2wt", "Parser hook: empty input using terminated empty elements (space before)", " NULL\n array (\n )\n");
add("html2wt", "Parser hook: basic input", " 'input'\n array (\n )\n");
add("html2wt", "Parser hook: case insensitive", " 'input'\n array (\n )\n");
add("html2wt", "Parser hook: case insensitive, redux", " 'input'\n array (\n )\n");
add("html2wt", "Parser hook: nested tags", " '<tag>'\n array (\n )\n </tag>\n</tag>\n");
add("html2wt", "Parser hook: basic arguments", " <nowiki>''\n array (\n  </nowiki> 'width' => '200',\n <nowiki> </nowiki> 'height' => '100',\n <nowiki> </nowiki> 'depth' => '50',\n <nowiki> </nowiki> 'square' => 'square',\n )\n");
add("html2wt", "Parser hook: argument containing a forward slash (bug 5344)", " <nowiki>''\n array (\n  </nowiki> 'filename' => '/tmp/bla',\n )\n");
add("html2wt", "Parser hook: empty input using terminated empty elements (bug 2374)", " NULL\n array (\n   'foo' => 'bar',\n )\ntext\n");
add("html2wt", "Parser hook: basic arguments using terminated empty elements (bug 2374)", " NULL\n array (\n   'width' => '200',\n   'height' => '100',\n   'depth' => '50',\n   'square' => 'square',\n )\n\nother stuff\n</tag>\n");
add("html2wt", "Parser hook: static parser hook not inside a comment", "hello, world\n");
add("html2wt", "Parser hook: static parser hook inside a comment", "\n");
add("html2wt", "Nested template calls", "(My parameter is: param)\n");
add("html2wt", "Sanitizer: Closing of open tags", "<s></s>\n{|\n|}\n");
add("html2wt", "Sanitizer: Closing of open but not closed tags", "<s>foo</s>\n");
add("html2wt", "Sanitizer: Closing of closed but not open tags", "<nowiki></s></nowiki>\n");
add("html2wt", "Sanitizer: Closing of closed but not open table tags", "Table not started<nowiki></td></tr></table></nowiki>\n");
add("html2wt", "Sanitizer: Escaping of spaces, multibyte characters, colons & other stuff in id=\"\"", "<span id=\".C3.A6:_v\">byte</span>[#.C3.A6:_v backlink]\n");
add("html2wt", "Sanitizer: Validating the contents of the id attribute (bug 4515)", "Something, but definitely not <br>\n...");
add("html2wt", "Sanitizer: Validating id attribute uniqueness (bug 4515, bug 6301)", "Something need to be done. foo-2 ? ");
add("html2wt", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"itemscope\">\n\t<meta itemprop=\"hello\" content=\"world\" />\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" content=\"5\" />\n\n\t<link itemprop=\"hello\" href=\"http://example.org\" />\n\t<link rel=\"stylesheet\" href=\"[http://example.org http://example.org]\">\n\t<link itemprop=\"hello\" href=\"http://example.org\" />\n</div>\n");
add("html2wt", "Language converter: output gets cut off unexpectedly (bug 5757)", "this bit is safe: }-\n\nbut if we add a conversion instance: xxx\n\nthen we get cut off here: }-\n\nall additional text is vanished\n");
add("html2wt", "Self closed html pairs (bug 5487)", "<center><nowiki><font id=\"bug\" /></nowiki>Centered text</center>\n<div><nowiki><font id=\"bug2\" /></nowiki>In div text</div>\n");
add("html2wt", "Punctuation: nbsp before exclamation", "C'est grave !\n");
add("html2wt", "HTML bullet list, closed tags (bug 5497)", "* One\n* Two\n");
add("html2wt", "HTML bullet list, unclosed tags (bug 5497)", "* One\n* Two\n");
add("html2wt", "HTML ordered list, closed tags (bug 5497)", "# One\n# Two\n");
add("html2wt", "HTML ordered list, unclosed tags (bug 5497)", "# One\n# Two\n");
add("html2wt", "HTML nested bullet list, closed tags (bug 5497)", "* One\n* Two:\n** Sub-one\n** Sub-two\n");
add("html2wt", "HTML nested bullet list, open tags (bug 5497)", "* One\n* Two:\n** Sub-one\n** Sub-two\n");
add("html2wt", "HTML nested ordered list, closed tags (bug 5497)", "# One\n# Two:\n## Sub-one\n## Sub-two\n");
add("html2wt", "HTML nested ordered list, open tags (bug 5497)", "# One\n# Two:\n## Sub-one\n## Sub-two\n");
add("html2wt", "HTML ordered list item with parameters oddity", "# One\n");
add("html2wt", "Fuzz testing: Parser13", "{|\n\n|\n\n|}\n");
add("html2wt", "Fuzz testing: Parser14", "== <span class=\"mw-headline\" id=\"onmouseover.3D\">onmouseover=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: onmouseover=\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\nhttp://<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#onmouseover.3D <span class=\"tocnumber\">1</span> <span class=\"toctext\">onmouseover=</span>]\n\n</div>\n");
add("html2wt", "Fuzz testing: Parser14-table", "== <span class=\"mw-headline\" id=\"a\">a</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: a\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n{| style=\"__TOC__\"\n|\n|}\n");
add("html2wt", "Fuzz testing: Parser16", "{|\n\n!https://\n!\n!\n!\n\n|}\n");
add("html2wt", "Fuzz testing: Parser21", "{|\n\n! [irc://{{ftp://a <nowiki>irc://{{ftp://a</nowiki>]\" onmouseover=\"alert('hello world');\"\n\n|\n\n|}\n");
add("html2wt", "Fuzz testing: Parser22", "[http://===r:::https://b http://===r:::https://b]\n\n{|\n|\n|}\n");
add("html2wt", "Fuzz testing: Parser24", "\n<nowiki>{{{</nowiki>|\n<u class=\"|\"><nowiki>}}}</nowiki>} >\n<br>\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n</u>\n{|\n|\n\n|}\n<u class=\"|\"></u>");
add("html2wt", "Fuzz testing: Parser25 (bug 6055)", "<LI CLASS=blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE'''\n");
add("html2wt", "Fuzz testing: URL adjacent extension (with space, clean)", "[http://example.com http://example.com] junk\n");
add("html2wt", "Fuzz testing: URL adjacent extension (no space, dirty; nowiki)", "[http://example.com http://example.com]junk\n");
add("html2wt", "Fuzz testing: URL adjacent extension (no space, dirty; pre)", "[http://example.com http://example.com]\n junk\n");
add("html2wt", "Fuzz testing: encoded newline in generated HTML replacements (bug 6577)", " \n");
add("html2wt", "Parsing optional HTML elements (Bug 6171)", "{|\n  \n    | Some tabular data\n    | More tabular data ...\n    | And yet som tabular data\n  \n|}\n");
add("html2wt", "Correct handling of <td>, <tr> (Bug 6171)", "{|\n  \n    | Some tabular data\n    | More tabular data ...\n    | And yet som tabular data\n  \n|}\n");
add("html2wt", "Inline wiki vs wiki block nesting", "'''Bold paragraph'''\n\nNew wiki paragraph\n");
add("html2wt", "Inline HTML vs wiki block nesting", "'''Bold paragraph'''\n\nNew wiki paragraph\n");
add("html2wt", "Mixing markup for italics and bold", "'''<nowiki>bold'</nowiki>'''''bold''bolditalics'''''\n");
add("html2wt", "Special page transclusion", "{| class=\"mw-prefixindex-list-table\"\n|<a href=\"/wiki/Xyzzyx\" title=\"Xyzzyx\">Xyzzyx</a>\n|}\n");
add("html2wt", "Special page transclusion twice (bug 5021)", "{| class=\"mw-prefixindex-list-table\"\n|<a href=\"/wiki/Xyzzyx\" title=\"Xyzzyx\">Xyzzyx</a>\n|}\n{| class=\"mw-prefixindex-list-table\"\n|<a href=\"/wiki/Xyzzyx\" title=\"Xyzzyx\">Xyzzyx</a>\n|}\n");
add("html2wt", "Transclusion of default MediaWiki message", "Main Page\n");
add("html2wt", "Transclusion of nonexistent MediaWiki message", "<a href=\"/index.php?title=MediaWiki:Mainpagexxx&action=edit&redlink=1\" class=\"new\" title=\"MediaWiki:Mainpagexxx (page does not exist)\">MediaWiki:Mainpagexxx</a>\n");
add("html2wt", "Transclusion of MediaWiki message with underscore", "History\n");
add("html2wt", "Transclusion of MediaWiki message with space", "History\n");
add("html2wt", "Section extraction test (section 0)", "start");
add("html2wt", "Section extraction test (section 1)", "<nowiki>==a==\n===aa===\n====aaa====</nowiki>");
add("html2wt", "Section extraction test (section 2)", "<nowiki>===aa===\n====aaa====</nowiki>");
add("html2wt", "Section extraction test (section 3)", "<nowiki>====aaa====</nowiki>");
add("html2wt", "Section extraction test (section 4)", "<nowiki>==b==\n===ba===\n===bb===\n====bba====\n===bc===</nowiki>");
add("html2wt", "Section extraction test (section 5)", "<nowiki>===ba===</nowiki>");
add("html2wt", "Section extraction test (section 6)", "<nowiki>===bb===\n====bba====</nowiki>");
add("html2wt", "Section extraction test (section 7)", "<nowiki>====bba====</nowiki>");
add("html2wt", "Section extraction test (section 8)", "<nowiki>===bc===</nowiki>");
add("html2wt", "Section extraction test (section 9)", "<nowiki>==c==\n===ca===</nowiki>");
add("html2wt", "Section extraction test (section 10)", "<nowiki>===ca===</nowiki>");
add("html2wt", "Section extraction test (nonexistent section 11)", "");
add("html2wt", "Section extraction test with bogus heading (section 1)", "<nowiki>==a==\n==bogus== not a legal section</nowiki>");
add("html2wt", "Section extraction test with bogus heading (section 2)", "<nowiki>==b==</nowiki>");
add("html2wt", "Section extraction test with comment after heading (section 1)", "<nowiki>==a==</nowiki>");
add("html2wt", "Section extraction test with comment after heading (section 2)", "<nowiki>==b==</nowiki> <!-- -->");
add("html2wt", "Section extraction test with bogus <nowiki> heading (section 1)", "<nowiki>==a==\n==bogus==</nowiki> <nowiki>not a legal section</nowiki>");
add("html2wt", "Section extraction test with bogus <nowiki> heading (section 2)", "<nowiki>==b==</nowiki>");
add("html2wt", "Section extraction prefixed by comment (section 1)", "<nowiki>==sec2==</nowiki>");
add("html2wt", "Section extraction prefixed by comment (section 2)", "");
add("html2wt", "Section extraction, mixed wiki and html (section 1)", "<nowiki>==1==\none</nowiki>");
add("html2wt", "Section extraction, mixed wiki and html (section 2)", "<nowiki>==2==\ntwo</nowiki>");
add("html2wt", "Section extraction, heading surrounded by <noinclude>", "<nowiki>==marked==</nowiki>");
add("html2wt", "Sectiion with all-equals", "=== <!--\n--> <!-- -->\nBut just in case it doesn't...");
add("html2wt", "Section replacement test (section 0)", "xxx\n\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 1)", "start\nxxx\n\n<nowiki>==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 2)", "start\n<nowiki>==a==\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 3)", "start\n<nowiki>==a==\n===aa===\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 4)", "start\n<nowiki>==a==\n===aa===\n====aaa====\nxxx\n\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 5)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\nxxx\n\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 6)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\nxxx\n\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 7)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\nxxx\n\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 8)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\nxxx\n\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 9)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\nxxx</nowiki>");
add("html2wt", "Section replacement test (section 10)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\nxxx</nowiki>");
add("html2wt", "Section replacement test with initial whitespace (bug 13728)", "<nowiki> </nowiki>Preformatted initial line\n<nowiki>==a==\nxxx</nowiki>");
add("html2wt", "Section extraction, heading followed by pre with 20 spaces (bug 6398)", "<nowiki>==a==\n </nowiki>                   a");
add("html2wt", "Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)", "<nowiki>==a==\n </nowiki>                  a");
add("html2wt", "Section extraction, <pre> around bogus header (bug 10309)", "<nowiki>== Section Two ==\nstuff</nowiki>");
add("html2wt", "Section replacement, <pre> around bogus header (bug 10309)", "== Section One ==\n =======\n\nxxx");
add("html2wt", "Special:Search page linking.", "<a href=\"/wiki/Special:Search\" title=\"Special:Search\">Special:Search</a>\n");
add("html2wt", "Say the magic word", "* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Talk:Parser test\n* Talk:Parser_test\n* Parser test\n* Parser_test\n* \n* \n* 0\n* Talk\n* Talk\n* \n* \n* <a href=\"/index.php?title=Template:Dynamic&action=edit&redlink=1\" class=\"new\" title=\"Template:Dynamic (page does not exist)\">Template:Dynamic</a>\n");
add("html2wt", "Gallery", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image1.png</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image2.gif</div>\n\t\t\t<div class=\"gallerytext\">\n||||\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image3</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image4</div>\n\t\t\t<div class=\"gallerytext\">\n300px| centre\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image5.svg</div>\n\t\t\t<div class=\"gallerytext\">\n[http:///////// http://///////]\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\"><nowiki>* image6</nowiki></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery (with options)", "\t* Foo <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\">Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\">Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\"><div style=\"margin:31px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nsome '''caption''' <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\"><div style=\"margin:31px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\"><div style=\"margin:31px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nBlabla|blabla.\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery with link that has fragment", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery with wikitext inside caption", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\n<a href=\"/wiki/File:Foobar.jpg\" class=\"image\" title=\"desc\">http://example.com/images/thumb/3/3a/Foobar.jpg/20px-Foobar.jpg</a>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nThis is a test template\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "gallery (with showfilename option)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\">\n<a href=\"/wiki/File:Nonexistant.jpg\" title=\"File:Nonexistant.jpg\">Nonexistant.jpg</a>\ncaption\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\">\n<a href=\"/wiki/File:Nonexistant.jpg\" title=\"File:Nonexistant.jpg\">Nonexistant.jpg</a>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\n<a href=\"/wiki/File:Foobar.jpg\" title=\"File:Foobar.jpg\">Foobar.jpg</a>\nsome '''caption''' <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\n<a href=\"/wiki/File:Foobar.jpg\" title=\"File:Foobar.jpg\">Foobar.jpg</a>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery (with namespace-less filenames)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistant.jpg</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "__FORCETOC__ override", "\n");
add("html2wt", "ISBN code coverage", "[/wiki/Special:BookSources/9780123456 ISBN 978-0-1234-56] 789\n");
add("html2wt", "Double ISBN", "ISBN [/wiki/Special:BookSources/1234567890 ISBN 1234567890]\n");
add("html2wt", "ISBN with an X", "[/wiki/Special:BookSources/346204561X ISBN 3-462-04561-X]\n");
add("html2wt", "Bug 22905: <abbr> followed by ISBN followed by </a>", "<abbr>(fr)</abbr> [/wiki/Special:BookSources/2753300917 ISBN 2753300917] [http://www.example.com example.com]\n");
add("html2wt", "Double RFC", "RFC [//tools.ietf.org/html/rfc1234 RFC 1234]\n");
add("html2wt", "Double RFC with a wiki link", "RFC <a href=\"/index.php?title=RFC_1234&action=edit&redlink=1\" class=\"new\" title=\"RFC 1234 (page does not exist)\"><nowiki>RFC 1234</nowiki></a>\n");
add("html2wt", "RFC code coverage", "[//tools.ietf.org/html/rfc983 RFC 983] 987\n");
add("html2wt", "Centre-aligned image", "<div class=\"center\"><div class=\"floatnone\">http://example.com/images/3/3a/Foobar.jpg</div></div>\n");
add("html2wt", "None-aligned image", "<div class=\"floatnone\">http://example.com/images/3/3a/Foobar.jpg</div>\n");
add("html2wt", "Width + Height sized image (using px) (height is ignored)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Width-sized image (using px, no following whitespace)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Width-sized image (using px, with following whitespace - test regression from r39467)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Width-sized image (using px, with preceding whitespace - test regression from r39467)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Image with page parameter", "http://example.com/images/thumb/5/5f/LoremIpsum.djvu/page2-2480px-LoremIpsum.djvu.jpg\n");
add("html2wt", "dt/dd/dl test", "\n:;;;::\n");
add("html2wt", "HTML with raw HTML ($wgRawHtml==true)", "<script>alert(1);</script>\n");
add("html2wt", "Parents of subpages, one level up", "<a href=\"/index.php?title=Subpage_test/L1/L2&action=edit&redlink=1\" class=\"new\" title=\"Subpage test/L1/L2 (page does not exist)\">L2</a>\n");
add("html2wt", "Parents of subpages, one level up, not named", "<a href=\"/index.php?title=Subpage_test/L1/L2&action=edit&redlink=1\" class=\"new\" title=\"Subpage test/L1/L2 (page does not exist)\">Subpage test/L1/L2</a>\n");
add("html2wt", "Parents of subpages, two levels up", "<a href=\"/index.php?title=Subpage_test/L1&action=edit&redlink=1\" class=\"new\" title=\"Subpage test/L1 (page does not exist)\">L1</a>2\n\n<a href=\"/index.php?title=Subpage_test/L1&action=edit&redlink=1\" class=\"new\" title=\"Subpage test/L1 (page does not exist)\">L1l</a>\n");
add("html2wt", "Parents of subpages, two levels up, without trailing slash or name.", "<nowiki>[[../..]]</nowiki>\n");
add("html2wt", "Parents of subpages, two levels up, with lots of extra trailing slashes.", "<a href=\"/index.php?title=Subpage_test/L1////&action=edit&redlink=1\" class=\"new\" title=\"Subpage test/L1//// (page does not exist)\">///</a>\n");
add("html2wt", "Transclusion of a sibling page (one level up)", "Sibling article\n");
add("html2wt", "Transclusion of a child page", "Sibling article\n");
add("html2wt", "Non-transclusion because of too many up levels", "<nowiki>{{../../../../More than parent}}</nowiki>\n");
add("html2wt", "Definition list code coverage", "; title   \n: def\n; title \n: def\n; title\n: def\n");
add("html2wt", "Don't fall for the self-closing div", "<div>hello world</div>\n");
add("html2wt", "MSGNW magic word", "<nowiki>[[:Template:Msg]]</nowiki>\n");
add("html2wt", "RAW magic word", "<a href=\"/index.php?title=Template:QUERTY&action=edit&redlink=1\" class=\"new\" title=\"Template:QUERTY (page does not exist)\">Template:QUERTY</a>\n");
add("html2wt", "Template caching", "This is a test template\nThis is a test template\n");
add("html2wt", "Inclusion of !userCanEdit() content", "== <span class=\"mw-headline\" id=\"header\">header</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=MediaWiki:Fake&action=edit&section=T-1\" title=\"MediaWiki:Fake\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Out-of-order TOC heading levels", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#2 <span class=\"tocnumber\">1</span> <span class=\"toctext\">2</span>]\n\n** [#6 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">6</span>]\n** [#3 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">3</span>]\n* [#1 <span class=\"tocnumber\">2</span> <span class=\"toctext\">1</span>]\n\n** [#5 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">5</span>]\n** [#2_2 <span class=\"tocnumber\">2.2</span> <span class=\"toctext\">2</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"2\">2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n====== <span class=\"mw-headline\" id=\"6\">6</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: 6\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ======\n\n=== <span class=\"mw-headline\" id=\"3\">3</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: 3\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ===\n\n= <span class=\"mw-headline\" id=\"1\">1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =\n\n===== <span class=\"mw-headline\" id=\"5\">5</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: 5\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> =====\n\n== <span class=\"mw-headline\" id=\"2_2\">2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=6\" title=\"Edit section: 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "ISBN with space-delimited number", "[/wiki/Special:BookSources/9290170328 ISBN 92 9017 032 8]\n");
add("html2wt", "ISBN length", "ISBN 123456789\n\n[/wiki/Special:BookSources/1234567890 ISBN 1234567890]\n\nISBN 12345678901\n");
add("html2wt", "ISBN with trailing year (bug 8110)", "[/wiki/Special:BookSources/1234567890 ISBN 1-234-56789-0] - 2006\n\n[/wiki/Special:BookSources/1234567890 ISBN 1 234 56789 0] - 2006\n");
add("html2wt", "anchorencode", "foo_bar.C2.A9.23.25n\n");
add("html2wt", "anchorencode trims spaces", "pretty_please\n");
add("html2wt", "anchorencode deals with links", "world_hi\n");
add("html2wt", "anchorencode deals with templates", "FOO\n");
add("html2wt", "anchorencode encodes like the TOC generator: (bug 18431)", "=== <span class=\"mw-headline\" id=\".2B:.3A.253A.26.26.5D.5D\">_ +:.3A%3A&&]]</span> ===\n.2B:.3A.253A.26.26.5D.5D\n");
add("html2wt", "Bug 6200: blockquotes and paragraph formatting", "<blockquote>\nfoo\n\n</blockquote>\nbar\n\n baz\n");
add("html2wt", "Bug 8293: Use of center tag ruins paragraph formatting", "<center>\nfoo\n\n</center>\nbar\n\n baz\n");
add("html2wt", "Parsing of overlapping (improperly nested) inline html tags", "<span><s>x</s></span>\n");
add("html2wt", "Self-link in language variants", "Both <strong class=\"selflink\">Dunav</strong> and <strong class=\"selflink\">Дунав</strong> are names for this river.\n");
add("html2wt", "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title", "<a href=\"/wiki/%D0%94%D1%83%D0%BD%D0%B0\" title=\"Дуна\">Дуна</a> is not a self-link while <strong class=\"selflink\">Duna</strong> and <strong class=\"selflink\">Dуна</strong> are still self-links.\n");
add("html2wt", "Link to a section of a variant of this title shouldn't be parsed as self-link", "<strong class=\"selflink\">Dуна</strong> is a self-link while <a href=\"/wiki/%D0%94%D1%83%D0%BD%D0%B0\" title=\"Дуна\">Dunа#Foo</a> and <a href=\"/wiki/%D0%94%D1%83%D0%BD%D0%B0\" title=\"Дуна\">Dуна#Foo</a> are not self-links.\n");
add("html2wt", "Link to pages in language variants", "Main Page can be written as <a href=\"/wiki/Main_Page\" title=\"Main Page\">Маин Паге</a>\n");
add("html2wt", "Multiple links to pages in language variants", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a> can be written as <a href=\"/wiki/Main_Page\" title=\"Main Page\">Маин Паге</a> same as <a href=\"/wiki/Main_Page\" title=\"Main Page\">Маин Паге</a>.\n");
add("html2wt", "Simple template in language variants", "This is a test template\n");
add("html2wt", "Template with explicit namespace in language variants", "This is a test template\n");
add("html2wt", "Basic test for template parameter in language variants", "This is a test template with parameter foo\n");
add("html2wt", "Simple category in language variants", "<a href=\"/wiki/%D0%9A%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D1%98%D0%B0:MediaWiki_User%27s_Guide\" title=\"Категорија:MediaWiki User's Guide\">MediaWiki User's Guide</a>");
add("html2wt", "Don't convert blue categorylinks to another variant (bug 33210)", "<a href=\"/wiki/Category:%E5%88%86%E7%B1%BB\" title=\"Category:分类\">分类</a>");
add("html2wt", "Stripping -{}- tags (language variants)", "Latin proverb: Ne nuntium necare\n");
add("html2wt", "Prevent conversion with -{}- tags (language variants)", "Латински: Ne nuntium necare\n");
add("html2wt", "Prevent conversion of text with -{}- tags (language variants)", "Латински: Ne nuntium necare\n");
add("html2wt", "Prevent conversion of links with -{}- tags (language variants)", "<a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a>\n");
add("html2wt", "-{}- tags within headlines (within html for parserConvert())", "== <span class=\"mw-headline\" id=\"-.7BNaslov.7D-\">Naslov</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Уредите одељак „Naslov“\">уреди</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Explicit definition of language variant alternatives", "Taiwan, not China\n");
add("html2wt", "Conversion around HTML tags", "\n<span title=\"ЛаCтин\">ски</span>\n");
add("html2wt", "Explicit session-wise language variant mapping (A flag and - flag)", "Taiwan is not China.\nBut Taiwan is Taiwan,\n(This should be stripped!)\nand China is China.\n");
add("html2wt", "Explicit session-wise language variant mapping (H flag for hide)", "(This should be stripped!)\nTaiwan is Taiwan.\n");
add("html2wt", "Adding explicit conversion rule for title (T flag)", "Taiwan\n\nShould be stripped!\n");
add("html2wt", "Testing that changing the language variant here in the tests actually works", "China\n\nShould be stripped!\n");
add("html2wt", "Recursive conversion of alt and title attrs shouldn't clear converter state", "China\n\nShould be stripped<span title=\"Exclamation\">!</span>\n");
add("html2wt", "Bug 24072: more test on conversion rule for title", "Taiwan\n\nThis should be stripped!\nThis won't take interferes with the title rule.\n");
add("html2wt", "Partly disable title conversion if variant == main language code", "ZH\n");
add("html2wt", "Partly disable title conversion if variant == main language code, more", "ZH\n");
add("html2wt", "Raw output of variant escape tags (R flag)", "Raw: zh:China;zh-tw:Taiwan\n");
add("html2wt", "Nested using of manual convert syntax", "Nested: Hello Hong Kong!\n");
add("html2wt", "Proper conversion of text in external links", "[http://www.google.com http://www.google.com]\n[gopher://www.google.com gopher://www.google.com]\n[http://www.google.com http://www.google.com]\n[gopher://www.google.com gopher://www.google.com]\n[https://www.google.com irc://www.google.com]\n[ftp://www.google.com www.гоогле.цом/фтп://дир]\n[//www.google.com www.гоогле.цом]\n");
add("html2wt", "Do not convert roman numbers to language variants", "Фридрих IV је цар.\n");
add("html2wt", "Don't convert raw rule \"-{R|=&gt;}-\" to \"=>\"", "=>\n");
add("html2wt", "Don't break link parsing if language converter markup is in the caption.", "<a href=\"/wiki/Main_Page\" title=\"Маин Паге\">main page</a>\n");
add("html2wt", "Don't break image parsing if language converter markup is in the caption.", "<a href=\"/wiki/File:Foobar.jpg\" class=\"image\" title=\"caption\">http://example.com/images/3/3a/Foobar.jpg</a>\n");
add("html2wt", "Don't break list handling if language converter markup is in the item.", "; AAA\n");
add("html2wt", "Don't break table handling if language converter markup is in the cell.", "{|\n\n| B\n|}\n");
add("html2wt", "Bug 529: Uncovered bullet", "* Foo \n* Bar\n");
add("html2wt", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy", "******* Foo \n* Bar\n");
add("html2wt", "Bug 529: Uncovered table already at line-start", "x\n\n{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\ny\n");
add("html2wt", "Bug 529: Uncovered bullet in parser function result", "* Foo \n* bar\n");
add("html2wt", "Bug 5678: Double-parsed template argument", "<nowiki>{{{1}}}</nowiki>\n");
add("html2wt", "Bug 5678: Double-parsed template invocation", "<nowiki>{{paramtest | param = hello }}</nowiki>\n");
add("html2wt", "Case insensitivity of parser functions for non-ASCII characters (bug 8143)", "Ěščř\nĚščř\něščř\něščř\něščř\něščř\nĚŠČŘ\nĚŠČŘ\n");
add("html2wt", "Morwen/13: Unclosed link followed by heading", "[[link\n\n== <span class=\"mw-headline\" id=\"heading\">heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "HHP2.1: Heuristics for headings in preprocessor parenthetical structures", "<nowiki>{{</nowiki>foo|\n\n= <span class=\"mw-headline\" id=\"heading\">heading</span> =\n");
add("html2wt", "HHP2.2: Heuristics for headings in preprocessor parenthetical structures", "<nowiki>{{</nowiki>foo|\n\n== <span class=\"mw-headline\" id=\"heading\">heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: heading\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Paragraphs inside divs (no extra line breaks)", "<div>Line one\nLine two</div>\n");
add("html2wt", "Paragraphs inside divs (extra line break on close)", "<div>Line one\nLine two\n\n</div>\n");
add("html2wt", "Paragraphs inside divs (extra line break on open and close)", "<div>\nLine one\n\nLine two\n\n</div>\n");
add("html2wt", "Nesting tags, paragraphs on lines which begin with <div>", "<div></div>\n<strong>A\nB</strong>\n");
add("html2wt", "Bug 6200: paragraphs inside blockquotes (no extra line breaks)", "<blockquote>Line one\nLine two</blockquote>\n");
add("html2wt", "Bug 6200: paragraphs inside blockquotes (extra line break on close)", "<blockquote>Line one\nLine two\n\n</blockquote>\n");
add("html2wt", "Bug 6200: paragraphs inside blockquotes (extra line break on open and close)", "<blockquote>\nLine one\n\nLine two\n\n</blockquote>\n");
add("html2wt", "Paragraphs inside blockquotes/divs (no extra line breaks)", "<blockquote><div>Line one\nLine two</div></blockquote>\n");
add("html2wt", "Paragraphs inside blockquotes/divs (extra line break on close)", "<blockquote><div>Line one\nLine two\n\n</div></blockquote>\n");
add("html2wt", "Paragraphs inside blockquotes/divs (extra line break on open and close)", "<blockquote><div>\nLine one\n\nLine two\n\n</div></blockquote>\n");
add("html2wt", "Interwiki links trounced by replaceExternalLinks after early LinkHolderArray expansion", "<a href=\"http://www.usemod.com/cgi-bin/mb.pl?1\" class=\"extiw\" title=\"meatball:1\">meatball:1</a>\n<a href=\"http://www.usemod.com/cgi-bin/mb.pl?2\" class=\"extiw\" title=\"meatball:2\">meatball:2</a>\n<a href=\"http://www.usemod.com/cgi-bin/mb.pl?3\" class=\"extiw\" title=\"meatball:3\">meatball:3</a>\n");
add("html2wt", "Free external link invading image caption", "<div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:182px;\">http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg  <div class=\"thumbcaption\"><div class=\"magnify\"><a href=\"/wiki/File:Foobar.jpg\" class=\"internal\" title=\"Enlarge\">[[/skins/common/images/magnify-clip.png|link=|alt=|15x15px]]</a></div>hello</div></div></div>\n");
add("html2wt", "Multibyte character in padleft", "Æ-Hello\n");
add("html2wt", "Multibyte character in padright", "Hello-Æ\n");
add("html2wt", "formatdate parser function", "<span class=\"mw-formatted-date\" title=\"2009-03-24\">2009-03-24</span>\n");
add("html2wt", "formatdate parser function, with default format", "<span class=\"mw-formatted-date\" title=\"2009-03-24\">March 24, 2009</span>\n");
add("html2wt", "Spacing of numbers in formatted dates", "<span class=\"mw-formatted-date\" title=\"01-15\">January 15</span>\n");
add("html2wt", "formatdate parser function, with default format and on a page of which the content language is always English and different from the wiki content language", "<span class=\"mw-formatted-date\" title=\"2009-03-24\">24 March 2009</span>\n");
add("html2wt", "Edit comment with link", "I like the <a href=\"/wiki/Main_Page\" title=\"Main Page\">Main Page</a> a lot");
add("html2wt", "Edit comment with link and link text", "I like the <a href=\"/wiki/Main_Page\" title=\"Main Page\">best pages</a> a lot");
add("html2wt", "Edit comment with link and link text with suffix", "I like the <a href=\"/wiki/Main_Page\" title=\"Main Page\">best pages</a> a lot");
add("html2wt", "Edit comment with section link (non-local, eg in history list)", "<a href=\"/wiki/Main_Page#External_links\" title=\"Main Page\">→</a>‎<span dir=\"auto\"><span class=\"autocomment\">External links: </span> removed bogus entries</span>");
add("html2wt", "Edit comment with section link and text before it (non-local, eg in history list)", "pre-comment text <a href=\"/wiki/Main_Page#External_links\" title=\"Main Page\">→</a>‎<span dir=\"auto\"><span class=\"autocomment\">External links: </span> removed bogus entries</span>");
add("html2wt", "Edit comment with section link (local, eg in diff view)", "[#External_links →]‎<span dir=\"auto\"><span class=\"autocomment\">External links: </span> removed bogus entries</span>");
add("html2wt", "Edit comment with subpage link (bug 14080)", "Poked at a <a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">/subpage</a> here...");
add("html2wt", "Edit comment with subpage link and link text (bug 14080)", "Poked at a <a href=\"/wiki/Subpage_test/subpage\" title=\"Subpage test/subpage\">neat little page</a> here...");
add("html2wt", "Edit comment with bogus subpage link in non-subpage NS (bug 14080)", "Poked at a <a href=\"/index.php?title=/subpage&action=edit&redlink=1\" class=\"new\" title=\"/subpage (page does not exist)\">/subpage</a> here...");
add("html2wt", "Edit comment with bare anchor link (local, as on diff)", "[#section #section]");
add("html2wt", "Edit comment with bare anchor link (non-local, as on history)", "<a href=\"/wiki/Main_Page#section\" title=\"Main Page\">#section</a>");
add("html2wt", "Anchor starting with underscore", "[#_ref One]\n");
add("html2wt", "Space normalisation on autocomment (bug 22784)", "<a href=\"/wiki/Main_Page#hello_world\" title=\"Main Page\">→</a>‎<span dir=\"auto\"><span class=\"autocomment\">__hello__world__</span></span>");
add("html2wt", "percent-encoding and + signs in comments (Bug 26410)", "<a href=\"/index.php?title=ABC3D%25_%2B%2B&action=edit&redlink=1\" class=\"new\" title=\"ABC3D% ++ (page does not exist)\">ABC3D% ++</a> <a href=\"/index.php?title=ABC3D%25_%2B%2B&action=edit&redlink=1\" class=\"new\" title=\"ABC3D% ++ (page does not exist)\">+%20</a>");
add("html2wt", "Bad images - basic functionality", "");
add("html2wt", "Bad images - bug 16039: text after bad image disappears", "Foo bar\n\nBar foo\n");
add("html2wt", "Verify that displaytitle works (bug #22501) no displaytitle", "Parser test\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false", "whatever\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch", "Screen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching", "screen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false", "Screen\n\nthis is not the the title\n<a href=\"/index.php?title=Template:DISPLAYTITLE:screen&action=edit&redlink=1\" class=\"new\" title=\"Template:DISPLAYTITLE:screen (page does not exist)\">Template:DISPLAYTITLE:screen</a>\n");
add("html2wt", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE", "Screen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value", "<span style=\"/* attempt to bypass $wgRestrictDisplayTitle */\">s</span>creen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value", "<span style=\"color: red;\">s</span>creen\n\nthis is not the the title\n");
add("html2wt", "preload: check <noinclude> and <includeonly>", "Hello kind world.");
add("html2wt", "preload: check <onlyinclude>", "Hello world");
add("html2wt", "preload: can pass tags through if we want to", "<includeonly>Hello world</includeonly>");
add("html2wt", "preload: check that it doesn't try to do tricks", "<nowiki>*</nowiki> <!-- Hello --> <nowiki>''{{world}}'' {{subst:How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}</nowiki>");
add("html2wt", "Play a bit with r67090 and bug 3158", "<div style=\"width:50% !important\"> </div>\n<div style=\"width:50% !important\"> </div>\n<div style=\"width:50% !important\"> </div>\n<div style=\"border : solid;\"> </div>\n");
add("html2wt", "HTML5 data attributes", "<span data-foo=\"bar\">Baz</span>\n\nQuuz\n");
add("html2wt", "percent-encoding and + signs in internal links (Bug 26410)", "<a href=\"/index.php?title=User:%2B%25&action=edit&redlink=1\" class=\"new\" title=\"User:+% (page does not exist)\">User:+%</a> <a href=\"/index.php?title=Page%2Btitle%25&action=edit&redlink=1\" class=\"new\" title=\"Page+title% (page does not exist)\">Page+title%</a>\n<a href=\"/index.php?title=%25%2B&action=edit&redlink=1\" class=\"new\" title=\"%+ (page does not exist)\">%+</a> <a href=\"/index.php?title=%25%2B&action=edit&redlink=1\" class=\"new\" title=\"%+ (page does not exist)\">%20</a> <a href=\"/index.php?title=%25%2B&action=edit&redlink=1\" class=\"new\" title=\"%+ (page does not exist)\">%+ </a> <a href=\"/index.php?title=%25%2Br&action=edit&redlink=1\" class=\"new\" title=\"%+r (page does not exist)\">%+r</a>\n<a href=\"/index.php?title=%25&action=edit&redlink=1\" class=\"new\" title=\"% (page does not exist)\">%</a> <a href=\"/index.php?title=%2B&action=edit&redlink=1\" class=\"new\" title=\"+ (page does not exist)\">+</a> <a href=\"/index.php?title=Special:Upload&wpDestFile=%25%2Babc9\" class=\"new\" title=\"File:%+abc9\">bar</a>\n<a href=\"/index.php?title=3E&action=edit&redlink=1\" class=\"new\" title=\"3E (page does not exist)\">3E</a> <a href=\"/index.php?title=3E%2B&action=edit&redlink=1\" class=\"new\" title=\"3E+ (page does not exist)\">3E+</a>\n");
add("html2wt", "Special characters in embedded file links (bug 27679)", "<a href=\"/index.php?title=Special:Upload&wpDestFile=Contains_%26_ampersand.jpg\" class=\"new\" title=\"File:Contains & ampersand.jpg\">File:Contains & ampersand.jpg</a>\n<a href=\"/index.php?title=Special:Upload&wpDestFile=Does_not_exist.jpg\" class=\"new\" title=\"File:Does not exist.jpg\">Title with & ampersand</a>\n");
add("html2wt", "Confirm that 'apos' named character reference doesn't make it to output (not legal in HTML 4)", "Text's been normalized?\n");
add("html2wt", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate free external links", "[http://www.example.org/ http://www.example.org/]　<-- U+3000 (vim: ^Vu3000)\n");
add("html2wt", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links", "[http://www.example.org/ ideograms]\n");
add("html2wt", "Bug 31098 Template which includes system messages which includes the template", "<span class=\"error\">Template loop detected: <a href=\"/wiki/Template:Identical\" title=\"Template:Identical\">Template:Identical</a></span>\n<span class=\"error\">Template loop detected: <a href=\"/wiki/Template:Identical\" title=\"Template:Identical\">Template:Identical</a></span>\n");
add("html2wt", "Bug31490 Turkish: ucfirst 'blah'", "Blah\n");
add("html2wt", "Bug31490 Turkish: ucfirst 'ix'", "İx\n");
add("html2wt", "Bug31490 Turkish: lcfirst 'BLAH'", "bLAH\n");
add("html2wt", "Bug31490 Turkish: ucfırst (with a dotless i)", "<a href=\"/index.php?title=%C5%9Eablon:Ucf%C4%B1rst:blah&action=edit&redlink=1\" class=\"new\" title=\"Şablon:Ucfırst:blah (sayfa mevcut değil)\">Şablon:Ucfırst:blah</a>\n");
add("html2wt", "Bug31490 ucfırst (with a dotless i) with English language", "<a href=\"/index.php?title=Template:Ucf%C4%B1rst:blah&action=edit&redlink=1\" class=\"new\" title=\"Template:Ucfırst:blah (page does not exist)\">Template:Ucfırst:blah</a>\n");
add("html2wt", "Bug 26375: TOC with italics", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Lost_episodes <span class=\"tocnumber\">1</span> <span class=\"toctext\">''Lost'' episodes</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Lost_episodes\">''Lost'' episodes</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Main_Page&action=edit&section=1\" title=\"Edit section: Lost episodes\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 26375: TOC with bold", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#should_be_bold_then_normal_text <span class=\"tocnumber\">1</span> <span class=\"toctext\">'''should be bold''' then normal text</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"should_be_bold_then_normal_text\">'''should be bold''' then normal text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Main_Page&action=edit&section=1\" title=\"Edit section: should be bold then normal text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 33845: Headings become cursive in TOC when they contain an image", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Image <span class=\"tocnumber\">1</span> <span class=\"toctext\">Image</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Image\">Image http://example.com/images/3/3a/Foobar.jpg</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Main_Page&action=edit&section=1\" title=\"Edit section: Image\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 33845 (2): Headings become bold in TOC when they contain a blockquote", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Quote <span class=\"tocnumber\">1</span> <span class=\"toctext\">Quote</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Quote\"><blockquote>Quote</blockquote></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Main_Page&action=edit&section=1\" title=\"Edit section: Quote\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Unclosed tags in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Proof:_2_.3C_3 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Proof: 2 < 3</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Proof:_2_.3C_3\">Proof: 2 < 3</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Main_Page&action=edit&section=1\" title=\"Edit section: Proof: 2 < 3\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n<small>Hanc marginis exiguitas non caperet.</small>\nQED\n");
add("html2wt", "Multiple tags in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Foo_Bar <span class=\"tocnumber\">1</span> <span class=\"toctext\">''Foo'' '''Bar'''</span>]\n* [#Foo_Bar_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">''Foo'' Bar</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Foo_Bar\">''Foo'' '''Bar'''</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Foo Bar\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Foo_Bar_2\">''Foo'' <blockquote>Bar</blockquote></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Foo Bar\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Tags with parameters in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Hello <span class=\"tocnumber\">1</span> <span class=\"toctext\"><sup>Hello</sup></span>]\n* [#b.22.3EEvilbye <span class=\"tocnumber\">2</span> <span class=\"toctext\"><sup> b\">Evilbye</sup></span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Hello\"><sup class=\"in-h2\">Hello</sup></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Hello\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"b.22.3EEvilbye\"><sup> b\">Evilbye</sup></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: b&quot;>Evilbye\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "span tags with directionality in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#C.2B.2B <span class=\"tocnumber\">1</span> <span class=\"toctext\"><span dir=\"ltr\">C++</span></span>]\n* [#.D7.96.D7.91.D7.A0.D7.92.21 <span class=\"tocnumber\">2</span> <span class=\"toctext\"><span dir=\"rtl\">זבנג!</span></span>]\n* [#The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\">3</span> <span class=\"toctext\"><span>The attributes on these span tags must be deleted from the TOC</span></span>]\n* [#All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\">4</span> <span class=\"toctext\"><span>All attributes on these span tags must be deleted from the TOC</span></span>]\n* [#Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\">5</span> <span class=\"toctext\"><span dir=\"ltr\">Attributes after dir on these span tags must be deleted from the TOC</span></span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"C.2B.2B\"><span dir=\"ltr\">C++</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: C++\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\".D7.96.D7.91.D7.A0.D7.92.21\"><span dir=\"rtl\">זבנג!</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: זבנג!\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\"><span style=\"font-style: italic\">The attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: The attributes on these span tags must be deleted from the TOC\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\"><span style=\"font-style: italic\" dir=\"ltr\">All attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: All attributes on these span tags must be deleted from the TOC\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC\"><span dir=\"ltr\" style=\"font-style: italic\">Attributes after dir on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: Attributes after dir on these span tags must be deleted from the TOC\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 32057: Title needed when expanding <h> nodes.", "== <span class=\"mw-headline\" id=\"Headline_text\">Headline text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Main_Page&action=edit&section=1\" title=\"Edit section: Headline text\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Strip marker in urlencode", "xy\nxy\nxy\n");
add("html2wt", "Strip marker in lc", "xy\n");
add("html2wt", "Strip marker in uc", "XY\n");
add("html2wt", "Strip marker in formatNum", "12\n12\n");
add("html2wt", "Check noCommafy in formatNum", "123 456,78\n123456.78\n");
add("html2wt", "Wrong option for formatNum (bug 56199)", "1,234.56\n1,234.56\n1,234.56\n");
add("html2wt", "Strip marker in grammar", "foobarista\n");
add("html2wt", "Strip marker in padleft", "xy\n");
add("html2wt", "Strip marker in padright", "xy\n");
add("html2wt", "Strip marker in anchorencode", "xy\n");
add("html2wt", "nowiki inside link inside heading (bug 18295)", "== <span class=\"mw-headline\" id=\"xyz\"><a href=\"/index.php?title=Foo&action=edit&redlink=1\" class=\"new\" title=\"Foo (page does not exist)\">xyz</a></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: xyz\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "new support for bdi element (bug 31817)", "ולדימיר לנין (ברוסית: <bdi lang=\"ru\">Владимир Ленин</bdi>, 24 באפריל 1870–22 בינואר 1924) הוא מנהיג פוליטי קומוניסטי רוסי.\n");
add("html2wt", "Ignore pipe between table row attributes", "{|\n\n| quux\n\n|- id=\"foo\" style=\"color: red\"\n| bar\n|}\n");
add("html2wt", "Gallery override link with WikiLink (bug 34852)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery override link with absolute external link (bug 34852)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery override link with malicious javascript (bug 34852)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery with invalid title as link (bug 43964)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Language parser function", "العربية\n");
add("html2wt", "Padleft and padright as substr", "abc\nabc\n");
add("html2wt", "Special parser function", "Special:Random\nSpecial:Badtitle\nSpecial:Foobar\n");
add("html2wt", "Disable TOC", "Lead\n\n== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=1\" title=\"Edit section: Section 1\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=2\" title=\"Edit section: Section 2\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_3\">Section 3</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=3\" title=\"Edit section: Section 3\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_4\">Section 4</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=4\" title=\"Edit section: Section 4\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_5\">Section 5</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/index.php?title=Parser_test&action=edit&section=5\" title=\"Edit section: Section 5\">edit</a><span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Ref: 3. spaces in ref-names should be ignored", "A <ref name=\"x\">foo</ref>\nB <ref name=\"x\" />\nC <ref name=\"x\" />\n");
add("html2wt", "Ref: 5. body should accept generic wikitext", "A <ref>This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("html2wt", "Ref: 6. indent-pres should not be output in ref-body", "A <ref>foo\n bar\n baz\n</ref>\n\n<references />");
add("html2wt", "Ref: 7. No p-wrapping in ref-body", "A <ref>foo\nbar\nbaz\nbooz\n</ref>\n\n<references />");
add("html2wt", "Ref: 8. transclusion wikitext has lower precedence", "A <ref>foo {{echo|</ref> B C<nowiki>}}</nowiki>\n<references />");
add("html2wt", "Ref: 9. unclosed comments should not leak out of ref-body", "A <ref>foo <!----></ref> B C\n<references />");
add("html2wt", "Ref: 10. Unclosed HTML tags should not leak out of ref-body", "A <ref><b> foo </ref> B C\n\n<references />");
add("html2wt", "References: 5. ref tags in references should be processed while ignoring all other content", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\n</references>");
add("html2wt", "Entities in ref name", "<ref name=\"test & me\">hi</ref>\n");
add("html2wt", "Lists: 1. Nested inside html", "* <nowiki>*foo</nowiki>\n\n* <nowiki>#foo</nowiki>\n\n* <nowiki>:foo</nowiki>\n\n* <nowiki>;foo</nowiki>\n# <nowiki>*foo</nowiki>\n\n# <nowiki>#foo</nowiki>\n\n# <nowiki>:foo</nowiki>\n\n# <nowiki>;foo</nowiki>\n");
add("html2wt", "Lists: 2. Inside definition lists", "; <nowiki>;foo</nowiki>\n\n; <nowiki>:foo</nowiki>\n\n; <nowiki>:foo</nowiki>\n: bar\n\n: <nowiki>:foo</nowiki>\n");
add("html2wt", "Lists: 3. Only bullets at start of text should be escaped", "* <nowiki>*foo*bar</nowiki>\n\n* <nowiki>*foo</nowiki>''it''*bar\n");
add("html2wt", "Lists: 4. No escapes needed", "* foo*bar\n\n* ''foo''*bar\n\n* [[Foo]]: bar\n\n* [[Foo]]*bar\n");
add("html2wt", "Lists: 5. No unnecessary escapes", "* bar <span><nowiki>[[foo]]</nowiki></span>\n\n* =bar <span><nowiki>[[foo]]</nowiki></span>\n\n* [[bar <span><nowiki>[[foo]]</nowiki></span>\n\n* ]]bar <span><nowiki>[[foo]]</nowiki></span>\n\n* =bar <span>foo]]</span>=\n\n* <s></s>: a\n");
add("html2wt", "1. Leading whitespace in SOL context should be escaped", "<nowiki> </nowiki>a\n\n<nowiki> </nowiki> a\n\n\ta(tab)\n\n \ta\n\n<!--cmt--><nowiki> </nowiki> a\n\na\n<nowiki> </nowiki>b\n\na\n\tb\n\na\n\t b\n");
add("html2wt", "HTML tag with 'unnecessary' entity encoding in attributes", "<span title=\"&\">foo</span>\n");
add("html2wt", "HTML tag with broken attribute value quoting", "<span>Foo</span>\n");
add("html2wt", "Parsoid-only: HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("html2wt", "Table with broken attribute value quoting", "{|\n\n|Foo\n|}\n");
add("html2wt", "Table with broken attribute value quoting on consecutive lines", "{|\n\n|Foo\n\n|Bar\n|}\n");
add("html2wt", "Parsoid-only: Table with broken attribute value quoting on consecutive lines", "{|\n\n| title=\"Hello world\" |Foo\n| style=\"color: red\" |Bar\n|}\n");
add("html2wt", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<nowiki>{{}}</nowiki>");
add("html2wt", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<nowiki>}}{{</nowiki>");
add("html2wt", "Accept empty td cell attribute", "{|\n\n| align=\"center\" | foo \n|\n|}\n");
add("html2wt", "Non-empty attributes in th-cells", "{|\n\n! Foo \n! style=\"color: red\" | Bar\n|}\n");
add("html2wt", "Accept empty attributes in th-cells", "{|\n\n! foo \n! bar\n|}\n");
add("html2wt", "Empty table rows go away", "{|\n\n| Hello\n\n| there\n\n|}\n");
add("html2wt", "RT-ed inter-element separators should be valid separators", "{|\n\n|}\n");
add("html2wt", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out\n(Parsoid-only since PHP parser relies on Tidy for correct output)", "");
add("html2wt", "Empty TD followed by TD with tpl-generated attribute", "{|\n\n|\n\n|foo\n|}\n");
add("html2wt", "Indented table with an empty td", "{|\n\n|\n\n|foo\n|}\n");
add("html2wt", "Empty TR followed by a template-generated TR\n(Parsoid-specific since PHP parser doesn't handle this mixed tbl-wikitext)", "{|\n\n{{echo|<tr><td>foo</td></tr>}}\n|}\n");
add("html2wt", "Empty TR followed by mixed-ws-comment line should RT correctly", "{|\n\n\n <!--c-->|-\n<!--c--> <!--d-->\n|}\n");
add("html2wt", "Multi-line image caption generated by templates with/without trailing newlines", "<div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:182px;\"><a href=\"/index.php?title=Special:Upload&wpDestFile=Foo.jpg\" class=\"new\" title=\"File:Foo.jpg\">File:Foo.jpg</a>  <div class=\"thumbcaption\">foo\\nA\\nB\\nC</div></div></div>\n<div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:182px;\"><a href=\"/index.php?title=Special:Upload&wpDestFile=Foo.jpg\" class=\"new\" title=\"File:Foo.jpg\">File:Foo.jpg</a>  <div class=\"thumbcaption\">foo\\nA\\nB\\nC\\n\\n</div></div></div>\n");
add("html2wt", "Improperly nested inline or quotes tags with whitespace in between", "<span> <s>x</s></span><s> </s>\n''' ''x'''''<nowiki/>'' ''\n");
add("html2wt", "Image: Block level image should have \\n before and after", "123\n[[File:Foobar.png|right|thumb|150x150px]]\n456\n");
add("html2wt", "Image: upright option (parsoid)", "[[File:Foobar.jpg|thumb|caption]]\n[[File:Foobar.jpg|thumb|caption]]\n[[File:Foobar.jpg|thumb|500x500px|caption]]\n");
add("html2wt", "Image: upright option is ignored on inline and frame images (parsoid)", "[[File:Foobar.jpg|500x500px|caption]]\n");


// Blacklist for selser
add("selser", "Extra newlines followed by heading [1,2,1,3,0,4,0,4,1,3,4]", "a\n\n40z1qdji2lfskyb9\n\n\n\n=b=\n9h4x5nzjh28rggb9\n\n[[a]]\n\nkup4bo01iztzkt9\n\n\n\nzlbbwe36wkrcnmi\n");
add("selser", "Parsing an URL [[[2]],2,0]", "[[:fr:🍺|blv27e9oigmpwrk9http://fr.wikipedia.org/wiki/🍺]]\n\n7vcz2sjoo733ow29\n<!-- EasterEgg we love beer, better be able be able to link to it -->");
add("selser", "Italics and bold [[[4],0,2,0,[0,0,0,4,4],0,2,0,3,3,3,0,3,0,[0,4,0],4,4,0,3,2,4,2,[0,2,0],4,2,0,[0,[3],3],0,[2,0,0]]]", "*fdm1z2nu9oyfogvi\n* 9rk532hnb1g1ra4i\n* plain''italic''plain\n* plain''italic''plainh3d7wpoy60vk7qfrxtl3fz0otl2z9f6r\n* im4inh0saiyeqaor\n* plain'''bold'''plain\n* plaintra00su3g7pkfbt9plain\n* 53vrpobutgoxn7b9\n* 9ps3908hcebwewmi\n* kg2hwqxx6ynidx6r\n* g5zpsm64tusj1yvi\n* 1iyb1z2jzigj5rk9\n* plainc33t32n6qc5fjemi''italic'''bold-italic'''''plain\n* 504n4cf7nawtgldi\n* ncqb4f6hdlxo5hfr\n* plain'''bold''bold-italic'''''plain\n* plain l'''<nowiki/>''\n*<nowiki>gxpo9oo9keimgqfr plain l'</nowiki>'''bold''' plain");
add("selser", "Italics and bold [[[3],0,3,2,4,0,3,0,[2,3,0,1,4],0,[0,3,3,0,3],0,[0,0,0,0,4],0,1,2,[4,[0,2,3],4],0,[2,[0,3],4],0,[4,1,0],0,4,0,[4,4,2],0,[2,0,0],0,[2,[2],0]]]", "*\n* r2sztd0g2ca6ecdi\n* 7wwgz5995u6xn7b9\n*quzy6d4uxlayvi plainplain'''bold'''q5h9nby6h7fa8aor\n* plain'''bold'''\n* plain'''bold'''plain''italic''dun73vi0pmn29\n* plain''italic'''bold-italic'''italic''plain\n* wlaemerzsfijatt9\n*maj1sq8shfewb3xr'''boldndcp5dr4exnipb9''bold-italic'''''hhzqoosxw1cyp66r\n*1x0xv7m7f7qlg14i plain'''''bold-italic'''''5lnbtdgpfb4bzkt9\n*cy1yjqdedd3g14i'''''bold-italic''bold'''plain\n* jlxdvzkddjzwipb9\n*3l24g3m3jd9dlsor9b5crd2xtl2z9f6rlq4bd39nkdnasjorplain\n*<nowiki>qyzfbpcahismunmi plain l'</nowiki>''italic''plain\n*<nowiki>wk8jfkq5xhn9izfr plain l'</nowiki>'''4ah971c5t75sif6rbold''' plain");
add("selser", "Italics and possessives (1) [1]", "obtained by ''[[Lunar Prospector]]'''s gamma-ray spectrometer");
add("selser", "Italics and possessives (1) [[4,[1,0],4]]", "djoseugy5fvibe29''[[Lunar Prospector]]'''x311gyuas8twqaor");
add("selser", "Italics and possessives (1) [2]", "mylboba6mj3v7vi\n\nobtained by ''[[Lunar Prospector]]'''s gamma-ray spectrometer");
add("selser", "Italics and possessives (1) [[0,1,0]]", "obtained by ''[[Lunar Prospector]]'''s gamma-ray spectrometer");
add("selser", "Italics and possessives (1) [[4,[[4],0],0]]", "3qjw0d07plo6flxr''[[Lunar Prospector|xlnul8e6fpbhjjor]]'''s gamma-ray spectrometer");
add("selser", "Italics and possessives (1) [[2,2,3]]", "uqrnj4w22jqkhuxrobtained by abdihwdsev7ycik9''[[Lunar Prospector]]'''\n");
add("selser", "Italics and possessives (1) [[0,2,4]]", "obtained by 1ogogu3w5yhf47vi''[[Lunar Prospector]]'''k3yv8gcdd8lu9pb9");
add("selser", "Italics and possessives (1) [[2,[[3],0],0]]", "gf5cs1kl0pki6bt9obtained by ''[[Lunar Prospector|<nowiki/>]]'''s gamma-ray spectrometer");
add("selser", "Italics and possessives (1) [[0,1,4]]", "obtained by ''[[Lunar Prospector]]'''llfx48dg1149ggb9");
add("selser", "Italics and possessives (1) [[4,1,4]]", "nahe6nth1skedn29''[[Lunar Prospector]]'''tw799rbafavsfw29");
add("selser", "Italics and possessives (1) [[3,0,0]]", "''[[Lunar Prospector]]'''s gamma-ray spectrometer");
add("selser", "Italics and possessives (2) [1]", "'''''Flaming Pie''''' is ... released in 1997. In ''Flaming Pie'''s liner notes");
add("selser", "Italics and possessives (2) [[2,3,0,0]]", "0zb8t8umky2pgb9'''''Flaming Pie'''''''Flaming Pie'''s liner notes");
add("selser", "Italics and possessives (2) [[[[4]],4,0,3]]", "'''''d312q2axy1fw29'''''5w7rrd5xccndygb9''Flaming Pie'''\n");
add("selser", "Italics and possessives (2) [[[[4]],0,0,0]]", "'''''1qqtc3s8ljl9pb9''''' is ... released in 1997. In ''Flaming Pie'''s liner notes");
add("selser", "Italics and possessives (2) [2]", "tci84mu6dedpwrk9\n\n'''''Flaming Pie''''' is ... released in 1997. In ''Flaming Pie'''s liner notes");
add("selser", "Italics and possessives (2) [[[[2]],3,2,0]]", "'''''brlbkt3xozx2mx6rFlaming Pie'''''s566hxp012srwwmi''Flaming Pie'''s liner notes");
add("selser", "Italics and possessives (2) [[4,0,0,2]]", "97l4x4c02fkcsor is ... released in 1997. In ''Flaming Pie'''g16yfq5x2tv2huxrs liner notes");
add("selser", "Italics and possessives (3) [1]", "The first monolingual dictionary written in a Romance language was ''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the ''Vocabolario dell'[[Accademia della Crusca]]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.");
add("selser", "Italics and possessives (3) [[3,0,0,1,0,2,0,0,0]]", "''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the 5tvfu8jb1lkdquxr''Vocabolario dell'[[Accademia della Crusca]]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.");
add("selser", "Italics and possessives (3) [2]", "y1z50d22dwqdj9k9\n\nThe first monolingual dictionary written in a Romance language was ''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the ''Vocabolario dell'[[Accademia della Crusca]]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.");
add("selser", "Italics and possessives (3) [[0,2,2,2,0,3,3,4,0]]", "The first monolingual dictionary written in a Romance language was m0zdrix825wxw29''Sebastián Covarrubias'''uyoh7ao7utm7k3xr sj75fcn6bccba9k9''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the 298jcuxw70e5qaor.\n");
add("selser", "Italics and possessives (3) [[0,2,0,[3],4,[4,1],0,0,0]]", "The first monolingual dictionary written in a Romance language was 86ftvkdoog5vcxr''Sebastián Covarrubias''' ''<nowiki/>''kv0ucinbbogpsyvi''d5zldg7paex6flxr[[Accademia della Crusca]]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.");
add("selser", "Italics and possessives (3) [[0,2,0,1,3,2,0,2,0]]", "The first monolingual dictionary written in a Romance language was jojl0grg3oc4n29''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española''ezphtpwtiq9f6r''Vocabolario dell'[[Accademia della Crusca]]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the lhz9qfdq9eh4cxr''Dictionnaire Universel''.");
add("selser", "Italics and possessives (3) [[0,0,0,[3],4,[0,1],3,4,3]]", "The first monolingual dictionary written in a Romance language was ''Sebastián Covarrubias''' ''<nowiki/>''zlam3qm2v92xd2t9''Vocabolario dell'[[Accademia della Crusca]]''nz6g2ndeiaw9izfr\n");
add("selser", "Italics and possessives (3) [[0,2,0,0,2,3,3,0,0]]", "The first monolingual dictionary written in a Romance language was g2q5y8qe0r2lz0k9''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española''e2wdru4i4ulhm2t9, published in 1611 in Madrid. In 1612 the first edition of the ''Dictionnaire Universel''.");
add("selser", "Italics and possessives (3) [[0,0,0,1,3,4,0,0,0]]", "The first monolingual dictionary written in a Romance language was ''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española''is1s406juryeqaor, for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.");
add("selser", "Italics and bold: 3-quote opening sequence: (3,2) [[2,0]]", "<nowiki>mbb3jhw1h0gousor'</nowiki>''foo''");
add("selser", "Italics and bold: 3-quote opening sequence: (3,2) [[2,[2]]]", "<nowiki>i2s9o2x1sr5uq5mi'</nowiki>''lmhgh5js382xogvifoo''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,3) [[2,[3]]]", "<nowiki>clp4sm1my2yphkt9'</nowiki>'''<nowiki/>'''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,3) [[2,1]]", "<nowiki>v8qat370m4gc766r'</nowiki>'''foo'''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,3) [[2,[4]]]", "<nowiki>9u2ur1qcqcdz33di'</nowiki>'''qp9dgphb79cnmi'''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,3) [[2,0]]", "<nowiki>4apwsiqdi5imgqfr'</nowiki>'''foo'''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,4) w/ nowiki [[2,1]]", "<nowiki>a7o9l74xp65bqpvi'</nowiki>'''<nowiki>foo'</nowiki>'''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,4) w/ nowiki [[2,[1]]]", "<nowiki>3d08rebh4oomkj4i'</nowiki>'''<nowiki>foo'</nowiki>'''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,5+2) w/ nowiki [[2,0,[4]]]", "<nowiki>28da7ns2ijhy3nmi'</nowiki>'''foo'''''0fxs3asvctnmte29''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,5+2) w/ nowiki [[2,0,[1]]]", "<nowiki>eryhk8z6d730udi'</nowiki>'''foo'''''<nowiki/>''");
add("selser", "Italics and bold: 4-quote opening sequence: (4,5+2) w/ nowiki [[2,0,2]]", "<nowiki>e2xxjsknzmpldi'</nowiki>'''foo'''m1lsz3n8b0uow29''<nowiki/>''");
add("selser", "Italics and bold: other quote tests: (3,2,3,3) [[2,1,3,2]]", "<nowiki>4gf1ejjye6wasjor'</nowiki>''this is about ''y4b56j8rgmpwrk9'''s family'''");
add("selser", "Italics and bold: other quote tests: (3,2,3,3) [[2,0,0,4]]", "<nowiki>zj7e7oj50icnmi'</nowiki>''this is about ''foo4txary7kt162yb9\n");
add("selser", "Italicized possessive [1]", "The ''[[Main Page]]'''s talk page.");
add("selser", "Italicized possessive [2]", "niydmvd0qbk2o6r\n\nThe ''[[Main Page]]'''s talk page.");
add("selser", "Italicized possessive [[0,[1,0],0]]", "The ''[[Main Page]]'''s talk page.");
add("selser", "Italicized possessive [[4,2,0]]", "m0rqww0bssg4lsorqiktajpfq7cfpqfr''[[Main Page]]'''s talk page.");
add("selser", "Italicized possessive [[0,1,0]]", "The ''[[Main Page]]'''s talk page.");
add("selser", "Italicized possessive [[4,0,0]]", "0yn4in3gnrti6bt9''[[Main Page]]'''s talk page.");
add("selser", "Italicized possessive [[0,2,4]]", "The k6y9yuwwjka3v7vi''[[Main Page]]'''jn2ruuln73rw9udi");
add("selser", "Italicized possessive [[2,2,3]]", "7thn58qxaqg833diThe ohrojwfdf6jvpldi''[[Main Page]]'''\n");
add("selser", "Italicized possessive [[3,2,0]]", "8c21she6jphc9pb9''[[Main Page]]'''s talk page.");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [1]", "{| data-foobar=\"pl7el6nksli8uxr\"\n!''a!!''b\n|''a||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[4,[[4,0,2,[1],0],4]]]", "{|<!--44rbogtlx8hncdi-->\n!5oylcgfssnfav2t9!!''b\n!qcinqswgq2r9t3xr\n|''a''||''b<!--b7ncx26rmqiu23xr-->\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[[4],2,2,[1],3],3]]]", "{|\n!1dfhixwwz1pjh5mi\n!prh1yloryheel8fr!!''b\n!bnbtnusotswwb3xr\n|''a''\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[0,[3],0,1,0],0]]]", "{|\n!''a!!\n| data-foobar=\"1gt3i3g1jbeghkt9\" |''a||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[[2],2,0,3,4],3]]]", "{|\n!1wucy9fx99y3c8fr''a\n!n5303dc1uwkzw7b9!!''b\n!3q48ji1k3h74lsor\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [2]", "w4wro8m98b6jq0k9\n{|\n!''a!!''b\n|''a||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[4,2,3,0,2],0]]]", "{|\n!4hvneujbci0be29\n!dlmqv8ltd9lfpqfr!!''b\n|''a\n|1pz8cymf9xm9529||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[1,2,0,1,[[2]]],0]]]", "{|\n! data-foobar=\"t5yzsleh3tprpb9\" |''a\n!39y1a3cg7nyrdx6r!!''b\n| data-foobar=\"e4eryq6zjlaexw29\" |''a||''ud4ocn5ppv3rf6rb''\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[1,4]]]", "{|\n!''a!!''b\n|''a||''b<!--kstn821po5cgcik9-->\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[4,1]]", "{|<!--etpqkkwhhxhl4n29-->\n!''a!!''b\n|''a||''b\n|}");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [2,0,2]", "z891efuj2rcnmi\n\n</b>\n\n9qly4qmk3ya7zaor\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,0,[3]]", "</b>\n");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,3,2]", "</b>\n\n042kzd02zerejyvi\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,4,3]", "</b>\n\n6nfy9ptzgl2tke29\n");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,0,1]", "</b>\n\n<s.foo>s");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [3,3,2]", "r2hqo7bkxona5rk9\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [4,0,0]", "i8usmsqui9kke29\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,3,[2]]", "</b>\n\n0ney71whmww2ke29<s.foo>s");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,4,0]", "</b>\n\n58gdsjzi4x36usor\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [2,3,4]", "gp99ff4yre3lerk9\n\n</b>\n\nfm00ft3j60a7cik9\n");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [4,3,0]", "5i7vly53h06q1tt9\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [4,4,0]", "rlgikte5ibyphkt9\n\nslzi238qa874lsor\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,0,[4]]", "</b>\n\ne3pnvnm7idgta9k9");
add("selser", "Comment semantics: unclosed comment at end 5", "<!--This comment will run out to the end of the document-->");
add("selser", "Block tag on one line (<div>) [4,[3],3,0]", "soda22bkc5deipb9\n<div></div>\n\nb");
add("selser", "Block tag on one line (<blockquote>) [4,1,3,0]", "zrp4kwlveokr19k9\n<blockquote data-foobar=\"q1y64unbore8kt9\">foo</blockquote>\n\nb");
add("selser", "Empty lines between lines with block tags [1,0,2,3,3,0,[2],0,0,0,0,4,3,2,[2]]", "<div data-foobar=\"kzd1s0zl9mgqfr\"></div>\n\n3qjj0hsw80itqpvi\n\na\n\ngyi1jr1ud3elv7vib\n<div>a</div>b\n\n<div>b</div>\num29an78foopf1or\n\nm1kxrkqtf8sbrzfr\n<div>gsymydy3qqmjwcdie</div>");
add("selser", "<nowiki> inside <pre> (bug 13238) [4,2,2,0,0]", "ptjux9vq9zarlik9\n\ny7rebotz1jo1dcxr\n\nnb7mtl9jj0jm7vi\n<pre>\n<nowiki></nowiki>\n</pre>\n<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [3,0,3,3,2]", "\np32i6amoddb9y66r\n<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [0,3,3,0,2]", "<pre>\n<nowiki>\n</pre>\nf1s3by12sbw97ldi\n<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [[3],0,[0,3],3,[4,0,1,2]]", "<pre></pre>\n<pre>\n\n<nowiki></nowiki></pre><pre>8snncrntp84ims4iFoo<nowiki></nowiki>vdl3ymz68paurf6r</nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [4,0,0,0,2]", "lfad62yj247psyvi\n<pre>\n<nowiki></nowiki>\n</pre>\ns668bavo8x4rt3xr\n<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [0,0,[1,3],4,2]", "<pre>\n<nowiki>\n</pre>\n<pre>\n\n<nowiki></nowiki></pre>\nh5z9mczgkhzx5hfr\n\n4x2g6badu0udi\n<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [[3],0,[0,4],2,[3,0,0,2]]", "<pre></pre>\n<pre>\n\n<nowiki></nowiki>al0hy3rs2h11c3di</pre>\nh5p8fkiwu373c8fr\n<pre>Foo<nowiki></nowiki>zicqb9fw1mkotj4i</nowiki></pre>");
add("selser", "<nowiki> and <pre> preference (first one wins) [3,0,2,0,1,2]", "\nuuvq56wkejc3di\n\n</nowiki>\n</pre>\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n\n00flm86bxtzhyqfr\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [[4],0,3,0,0,0]", "<pre>\nhtov4vvjzewdygb9</pre>\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [3,4,3,0,2,0]", "u20jle5jk0hvkj4i\n\nn067pn35sxjsv2t9\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [[2],0,1,0,2,4]", "<pre>\n8ko393dqfxxvquxr<nowiki>\n</pre>\n</nowiki>\n</pre>\n\nmgac8wudaavy4x6r\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n\n1js1f9r56vl5wmi\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [4,0,2,0,[0,4],4]", "tdqftxhs7bsxlxr\n\nup3ot7cx78sq0k9\n\n</nowiki>\n</pre>\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>57nnl6navsmaq0k9\n\nops9m7gl3ee1att9\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [0,0,[2,2],0,2,0]", "<pre>\n<nowiki>\n</pre>\nayl0rt9j2rvvlsor</nowiki>ku5wz6d4oixjemi\n</pre>\n\naoia6vijp7722o6r\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,4,0,0,0,0,0,3,0,0,0,4,0,0,[3]]", "{{echo| }}a\nxyuf8omjvhxv42t9{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\nrnjrx8un9rvsra4i\n\n{{echo|a\n}} ");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,4,0,0,0,0,0,4,0,0,0,0,0,0,0]", "{{echo| }}a\nm07scp5u1omq85mi{{echo|\n }}a\n\n{{echo|\n b}}\nsjwwihyngffxbt9\n\n{{echo|a\n }}b\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,4,0,0,0,0,0,0,[4]]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\nr44i0xvr0xzs38fr\n\n{{echo|a\n }}b\n\n{{echo|a\n}} niup05a8topyzaor");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,4,0,0,0,0,0,0,0,0,0,2,0,0,[3]]", "{{echo| }}a\nzltw944t54abrzfr{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\npzz1c4eezymvlsor\n\n{{echo|a\n}} ");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,0,0,0,0,2,0,0,[3]]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\nlso7s6s9c8oajor\n\n{{echo|a\n}} ");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,3,0,0,0,4,0,0,0]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\nwe04a84hhxnzsemi\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,3,0,0,0,3,0,0,0]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,0,0,0,2,0,0,0,0,0,0,1]", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\ng2842z4sedlmzpvi\n\n{{echo|a\n }}b\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,2,0,0,0,0,0,3,0,0,0,0,0,0,1]", "{{echo| }}a\nkiw1kzcd7gddvx6r\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,0,0,0,0,0,0,0,4,0,0,0]", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\nbt5yrxqcb1d78pvi\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,4,0,0,0,0,0,0,0,0,0,[2]]", "{{echo| }}a\n\n{{echo|\n }}a\n4kifb531krdd9529{{echo|\n b}}\n\n{{echo|a\n }}b\n\n{{echo|a\n}} 7ujkiku3nn7mn29b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,0,0,0,0,0,0,0,0,0,0,[4]]", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\n\n{{echo|a\n}} f2d99w4cya7zaor");
add("selser", "Templates: Handle comments in the target [0,0,0,3,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,3,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,2,0,0,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n9ncpho3wpuhoxbt9\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,3,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\nl9rw5g1g22hs38fr\n\n{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,0,0,2,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n9v9mkbqum3brcnmi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,0,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\neffd0wpcayca0pb9\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,2,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\nhwwntyagv9a1nhfr\n\n{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,0,0,2,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n07oxlbecbt4q85mi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,2,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\ndt51r00wxqjmj9k9\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,3,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\nv8be2ljmu606n7b9\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,0,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n1w4nz3fu3tc8r529\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,2,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\ng3h399i2371wz5mi\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,0,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\nwaq51k3tb7wuerk9\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,2,0,2,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\nxc73m35mloy74x6r\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n6ur51wfou1munmi\n\n{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,2,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\n67x59k75tpo561or\n\n{{echo<!-- should be ignored -->|foo}}\n\nwvrzv7ijo9k3ayvi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,4,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\npmnvitmjwlzhncdi\n\n{{echo<!-- should be ignored -->\n|foo}}\n\nwe3f5jnl8pczncdi\n\n{{echo<!-- should be ignored -->|foo}}\n\nziylnllihba3v7vi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,4,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\npk398lfm3w1rwwmi\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,3,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,0,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\nhlr2vnanjhflayvi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "2f. Indent-pre started by table-line syntax 5", "a\n<nowiki> </nowiki><nowiki>| b\n | c</nowiki>");
add("selser", "3a. Indent-Pre and block tags (single-line html) [0,4,0,[2],3,0,0,1]", "<nowiki> </nowiki>a \n\nhmd1uuv6du7ynwmi\n b <div>2pj3mev87yi7ldi foo </div><blockquote> foo </blockquote>\n \n  <span> foo </span>");
add("selser", "3a. Indent-Pre and block tags (single-line html) [4,2,0,1,0,0,0,1]", "jb885lmgpwj0pb9\n\nocbdwy8wkkl6jemi\n<p> foo </p>\n b <div data-foobar=\"xscsp0q9pzzlrf6r\"> foo </div>\n c <blockquote> foo </blockquote>\n \n  <span> foo </span>");
add("selser", "4. Indent-Pre and extension tags [2]", "z2q1uxsvdja9vn29\n a <gallery>\nFile:foobar.jpg\n</gallery>");
add("selser", "Leading pipes outside of tables 2 [[3],0,1]", "\n| foo\nb");
add("selser", "Leading pipes outside of tables 2 [2,0,1]", "u7zh29lm6ea8m2t9\n\na\n| foo\nb");
add("selser", "Leading pipes outside of tables 3 [[3],0,0]", "\n| class=\"foo bar\" | baz\nb");
add("selser", "Leading pipes outside of tables 3 [1,0,0]", "a\n| class=\"foo bar\" | baz\nb");
add("selser", "Leading pipes outside of tables 3 [[2],0,1]", "2nvql11psqbyb9a\n| class=\"foo bar\" | baz\nb");
add("selser", "5a. White-space in indent-pre [[0,0,4]]", " a<br />\n 7tmueg6dyhqia4i");
add("selser", "5a. White-space in indent-pre [1]", " a<br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[3,0,0]]", " <br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[3,2,0]]", " ghzkfux2q7pynwmi<br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[0,2,2]]", " avnpy3yvtyhh93sor<br />\n tryc19803p4lsor\n \n b");
add("selser", "5a. White-space in indent-pre [[0,0,2]]", " a<br />\n m7led9fbke8nnrk9\n \n b");
add("selser", "5a. White-space in indent-pre [[2,0,4]]", " d3ppdqvqzdxi529a<br />\n 82567nb6q9hbmx6r");
add("selser", "5a. White-space in indent-pre [[2,0,0]]", " 9blj98gpz0py14ia<br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[0,2,0]]", " am3m3vd8oxzu84cxr<br />\n \n \n b");
add("selser", "Definition lists: self-closed tag [2]", "x14l42v2vh392j4i\n;one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [1]", ";one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [[[4,2,4,0],[2]]]", ";hfmudey4je6u5wmi18aco6b1yahy3nmi<br/>199ekjza5e7phkt9 :b3ubf9dln2x7ds4i two-line fun");
add("selser", "Definition lists: self-closed tag [[[4,0,2,0],4]]", ";6gd5x9ujq93sor<br/>osyb2ye446q7iuditwo \n: gxhzecj78bzqia4i");
add("selser", "Definition lists: self-closed tag [[[2,2,0,3],[3]]]", ";uc5f3pstdod8ia4ione9cv4uwjoqoscerk9<br/>two:");
add("selser", "Definition lists: self-closed tag [[[0,0,0,[3]],0]]", ";one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [[[0,0,0,1],0]]", ";one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [[[3,0,0,1],2]]", ";<br/>two \n: ous26d8paeqrrudi: two-line fun");
add("selser", "Definition lists: self-closed tag [[2,3]]", ": cqu8ibre3a73z0k9\n;one<br/>two ");
add("selser", "Definition lists: self-closed tag [[[0,0,2,[4]],3]]", ";one<br/>5uc0qhljlo4aq0k9two ");
add("selser", "Definition lists: self-closed tag [[1,0]]", ";one<br/>two : two-line fun");
add("selser", "Definition Lists: Indentation: Missing 1st level [[[2]]]", ":ipc7lq41c2ua0pb9\n:i2\n:::i3");
add("selser", "Definition Lists: Indentation: Missing 1st level [[1]]", ":i2\n:::i3");
add("selser", "Definition Lists: Indentation: Missing 1st level [[[1]]]", ":i2\n:::i3");
add("selser", "Definition Lists: Indentation: Missing 1st level [[[[2]]]]", ":: 6mzc14cfh232fbt9\n:i2\n:::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[1]]", "::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[[1]]]]", ":i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[[2]]]]", ":: gvi8dh2tni6swcdi\n::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[1]]]", "::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[2]]]", ":hsmmdr82kzyc766r\n::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[[[2]]]]]", "::akd7ny1k2mrhpvi\n:i3");
add("selser", "Definition Lists: Hacky use to indent tables [[1],4,[2]]", ":{|\n|foo\n|bar\n|}\n5yb2io9xvv4pldi\n\nrmhaiuvnu5bz9f6rthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables [[[1]],0,[2]]", ":{|\n|foo\n|bar\n|}\n32agybb4zixm9529this text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables [[[[2]]],0,0]", ":: 8vyka9uv140wwmi\n:{|\n|foo\n|bar\n|}\nthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables [[1],3,0]", ":{|\n|foo\n|bar\n|}\nthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables, with comments (bug 63979) [0,0,2,2,4]", "<!-- foo -->\nfdln2n8jwta6pqfr\n::{|\n|foo\n|bar\n|}<!-- bar -->\ny7158cfk5escq5mi\n\ng4unkrlrlf03sor\n");
add("selser", "Definition Lists: Hacky use to indent tables, with comments (bug 63979) [2,2,2,4,2]", "vdckjjyh70ou5wmi\n\n<!-- foo -->5lh0sneax7vkuik9\n\nx4giy8cm27pq4cxr\n::{|\n|foo\n|bar\n|}<!-- bar -->\n336guoo8fk249529\n\nu2dght8belndygb9\n\nthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables, with comments (bug 63979) [3,0,[[[2]]],0,[2]]", "\n:: wpfjo8soowpqr529\n:{|\n|foo\n|bar\n|}<!-- bar -->\nl7uxnt9yt0h5xw29this text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[1]]", ":<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[[2]]]", ":7cfvho5x3l3di\n:<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[[1]]]", ":<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[[[2]]]]", ":: s8pfbp6j93vj9k9\n:<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Nesting: Multi-level (Parsoid only) [[[3,2],[3],0,1]]", ";9mvwgsrbe5gbvs4i :\n;t2 ::d2\n;;;t3 :::d3");
add("selser", "Definition Lists: Nesting: Multi-level (Parsoid only) [[2,2,0,1]]", ": 30qwj9nju0widx6r\n;t1 \n: 9n4rno4f9st9be29:d1\n;t2 ::d2\n;;;t3 :::d3");
add("selser", "Definition Lists: Nesting: Multi-level (Parsoid only) [[[4,1],[4],0,[2]]]", ";w3qyijm7oai9hpvi :mva9ar37ti3haor\n;0ia6286tbc6m9529\n;t2 ::d2\n;;;t3 :::d3");
add("selser", "Definition Lists: Nesting: Test 2 (Parsoid only) [[[4],0,[2]]]", ";oy19o5rbcmzpvi\n:b58j1xlitzsn61or\n:d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,4,3]]]]", ";t1\n:: zdqna9olh5ixusor\n");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[1]]", ";t1\n::::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[2]]]", ":ttexzhp9gaz1714i\n;t1\n::::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,0,1]]]]", ";t1\n::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,0,[1]]]]]", ";t1\n::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,0,[3]]]]]", ";t1\n::");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[1,0,[[[1]]]]]]]", ":;t1\n:d2");
add("selser", "Definition Lists: Nesting: Test 4 [[[[2]]]]", ":: 2ffrjazvaniv0a4i\n:;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[1]]", ":;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[2]]]", ":8wu4am1ln89f6r\n:;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[[1]]]]", ";t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[1]]]", ":;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[[[2]]]]]", "::jlvy4ainkafywrk9\n;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[[[1]]]]]", ";t3\n:::d3");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[[1],0,1,3,3]]]]", "* foo\n* bar\n");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[[2],4,3,0,2]]]]", ":;9zs68u3vhj3ba9k9\n* foo\n:: h0cckr3trldkuik9\n:: eziqp1u1mxuyds4i\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[1]]", ";* foo\n::* bar\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[2]]]", ":jagnpnrmaolayvi\n;* foo\n::* bar\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[1]]]", ";* foo\n::* bar\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[0,0,0,4,[3]]]]]", ";* foo\n::* bar\n:: 3twbjzdjxl84cxr\n:;");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[[[2]],0,1,3,[2]]]]]", ":;* ufcn0yv2rdq2gldi\n* foo\n* bar\n:;zone6ej9s2x1or baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[2,0,2,4,4]]]]", ":: jkptzuqtthd50zfr\n;* foo\n:: 4m5ewdtci6q1tt9\n::* bar\n:: rrc6a3k5842yy14i\n:: 3ecgk61qhgxpqfr\n");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[1]]", ": d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[2]]]", "*ghcxyofq2pujtt9\n: d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[[0,3,1]]]]", ": d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[[2,2,0]]]]", "*: lzoy3ctglqbbj4i\n: d1\n*: ptg8l09b57hnnrk9\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[1]]]", ": d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[1]]", "::: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[2]]]", "*aioo1mfyfeuvunmi\n::: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[1]]]", "::: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[[1]]]]]", ":: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[[2]]]]]", "*:tscp1yg1h03vj9k9\n:: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[1]]]]", ":: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[[[1]]]]]]", ": d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 4 [[[2]]]", "*6mu8sv5g21s5g66r\n;d1 :d2\n*;d3 :d4");
add("selser", "Definition Lists: Mixed Lists: Test 4 [[1]]", ";d1 :d2\n*;d3 :d4");
add("selser", "Definition Lists: Mixed Lists: Test 4 [[[1]]]", ";d1 :d2\n*;d3 :d4");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[[1]]]", ":d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[1]]", ":d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[[[2]]]]", "*: gjoeoqdsebzz1tt9\n:d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[[2]]]", "*zmjdj3txx8figgb9\n:d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[1]]]", "*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[1]]", "*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[2]]]", "#gy1zv9olxz0bpgb9\n*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[[1]]]]", ":d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[[2]]]]", "#* 7874eth0w4okcsor\n*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[2]]]", ":768ls4wzt49529\n* d1\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[1]]", "* d1\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[2,2,0]]]]", ":* jl7l11bxkgpn9udi\n* d1\n:* 7cu8eq4coxublnmi\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[1]]]", "* d1\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[0,4,3]]]]", "* d1\n:* mve2eyx0y8bmx6r\n");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[0,2,4]]]]", "* d1\n:* s9flo7ozh9ztzkt9\n:* u0h78yb6xikq33di\n");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[2,0,3]]]]", ":* lvom8bcinxy74x6r\n* d1\n");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[1]]", "* d1\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,2,1]]]", "* d18p71r17qkqehfr\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,4,[2]]]]", "* d1p00sd2ve34ohia4i\n:: waos5kb13d8qto6r\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,2,[[[[4]]]]]]]", "* d1zrb7mejr5l45z5mi\n::*ll71mwfvepn6zuxr");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[[3],2,[1]]]]", ":*2j7qe095hdm42t9\n* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[0,3,[2]]]]", "* d1\n:: 1lcvy03rlwmf5hfr\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,0,3]]]", "* d1\n");
add("selser", "Definition Lists: Mixed Lists: Test 9 [[1]]", ";foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 9 [[[[2,0]]]]", "*: keupt1egajq69a4i\n;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 9 [[[1]]]", ";foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[1]]", "#;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[[[[2,0]]]]]]", "*#: axsmplr1g6x39pb9\n;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[1]]]", "#;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[[1]]]]", ";foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[[[[2,[3]]]]]]]", "*#: jbg2gvphsydp9zfr\n;foo :");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[[[2]]]]]", "*#h1ete8g4k5f561or\n*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[1]]]", "#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[[2]]]]", "*# 8x9qpkn5qaor\n#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[1]]", "#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[2]]]", "*e226ryeea76tj4i\n#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[[[1]]]]]", "*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[1]]]]", ";*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[1]]]", "#;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[1]]", "#;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[[2]]]]]", "*#zp1c712f0jzqto6r\n;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[2]]]", "*aaa153pk181fko6r\n#;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[[[2]]]]]]", "*#: m79ersaiyeqaor\n;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[[[[2]]]]]]]", "*#;q93hogh7bi2ro1or\n*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[2]]]]", "*# mug1j4xbiskprpb9\n#;*::;; foo : bar (who uses this?)");
add("selser", "BUG 289: \">\"-token in bracketed URL [2]", "ll0lxyd1rfgpsyvi\n\n[http://www.example.com/<hello> stuff]");
add("selser", "BUG 289: \">\"-token in bracketed URL [1]", "[http://www.example.com/<hello> stuff]");
add("selser", "BUG 289: \">\"-token in bracketed URL [[2]]", "kemi29jie4b1emi[http://www.example.com/<hello> stuff]");
add("selser", "BUG 289: literal \">\"-token in bracketed URL [1]", "[http://www.example.com/<b>html</b> stuff]");
add("selser", "BUG 289: literal \">\"-token in bracketed URL [2]", "yzdq7arbkyj2x1or\n\n[http://www.example.com/<b>html</b> stuff]");
add("selser", "BUG 289: literal \">\"-token in bracketed URL [[2]]", "qg5zzmwudapaxlxr[http://www.example.com/<b>html</b> stuff]");
add("selser", "BUG 289: literal double quote in bracketed URL [2]", "n54iktr2flygmn29\n\n[http://www.example.com/\"hello\" stuff]");
add("selser", "BUG 289: literal double quote in bracketed URL [[2]]", "pxlv6lwcjjug14i[http://www.example.com/\"hello\" stuff]");
add("selser", "BUG 289: literal double quote in bracketed URL [1]", "[http://www.example.com/\"hello\" stuff]");
add("selser", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081) [2]", "y24x21nq2i0ms4i\n\n[http://www.example.com  test]");
add("selser", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081) [1]", "[http://www.example.com  test]");
add("selser", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081) [[2]]", "u4ly6ay2j8257b9[http://www.example.com  test]");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,0,2]]", "[http://example.com [[wikilink]] embedded in ext link]56lgcoywrk9\n");
add("selser", "External links: wiki links within external link (Bug 3695) [2]", "rfn3et25sei885mi\n\n[http://example.com [[wikilink]] embedded in ext link]");
add("selser", "External links: wiki links within external link (Bug 3695) [[1,0,[3]]]", "[http://example.com]<span></span>\n");
add("selser", "External links: wiki links within external link (Bug 3695) [1]", "[http://example.com [[wikilink]] embedded in ext link]\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,[2],4]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink|tfm4924utjjg7gb9wikilink]]4pudhm2cxjchm2t9");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,1,0]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink]]\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,[4],2]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink|7228zsz9jdbihpvi]]<nowiki/>wflnk0qix68hncdi\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,[3],4]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink|<nowiki/>]]5cq8i4zuavo647vi");
add("selser", "External links: wiki links within external link (Bug 3695) [[2,0,2]]", "293cbx0l3sg7gb9[http://example.com [[wikilink]] embedded in ext link]8w2h9t6x2k2o6r\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,2,4]]", "[http://example.com [[wikilink]] embedded in ext link]rc54l2ht7oh9qkt9<nowiki/>rdih6467tz6ko6r");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,0,4]]", "[http://example.com [[wikilink]] embedded in ext link]<nowiki/>sqtg3ksvvgta9k9");
add("selser", "External links: wiki links within external link (Bug 3695) [[2,3,[4]]]", "ajav6f9s210dx6r[http://example.com [[wikilink]] embedded in ext link]<span>l42uxett0a1nhfr</span>\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,2,0]]", "[http://example.com [[wikilink]] embedded in ext link]pj9l2glwx6sf9a4i\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,4,0]]", "[http://example.com [[wikilink]] embedded in ext link]2zzejaf2y9nc23xr\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[3,2,0]]", "0uk611ztql8wu3di\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,0,[2],0,3,4,3,[0,[0,[1]],4],0,1]]", "\n[http://example.com 4n2162e1fd730udi'''text''']'''rgd08hyitua0pb9''Something [http://example.com mixed''''', even bold''''']l55strlralri19k9''\n'''''Now [http://example.com both'''''<nowiki/>''''']'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [1]", "''[http://example.com text'']\n[http://example.com '''text]'''\n''Something [http://example.com in italic'']\n''Something [http://example.com mixed''''', even bold]'''\n'''''Now [http://example.com both''''']");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [2]", "ypjgrwin4revcxr\n\n''[http://example.com text'']\n[http://example.com '''text]'''\n''Something [http://example.com in italic'']\n''Something [http://example.com mixed''''', even bold]'''\n'''''Now [http://example.com both''''']");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[[[0,1]],0,3,1,4,1,3,[0,[0,[[3]]],3],4,3]]", "''[http://example.com text''<nowiki/>'']''\n'''<nowiki/>'''7qwqa9229ey7gb9''Something [http://example.com in italic'']''''Something [http://example.com mixed'''''<nowiki/>''''']''counvgra3151xlxr\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,0,4,4,2,1,0,3,0,4]]", "fxsbmxalr8f9wwmi''[http://example.com text'']\ng1cxmyk709vygb9kr3b7p92rmg0t3xrc6f6w79eiwfjemi\n''Something [http://example.com in italic''<nowiki/>'']''\n\nxqwjvsy7ltvgqfr\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[4,0,0,0,0,4,4,4,0,[3]]]", "0zdw3pkk57hnnrk9\n[http://example.com '''text]'''\nizanpf6huff20529vfp1wv58jce1xlxry331mymvx0cc8fr\n'''<nowiki/>'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[1,3,2,2,0,1,4,[0,3,0],0,[4]]]", "''[http://example.com text'']''9ois0yoxiebfbt9[http://example.com '''text]saoppxketkic0udi'''\n''Something [http://example.com in italic'']''o0hyqnpaq38cwhfr''<nowiki>Something '</nowiki>''\n'''hyq0ggqn4hzadcxr'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,0,3,3,4,[3,[4,0]],0,[0,1,3],0,[[3,[0,2]]]]]", "\nsjft3sgyl0i9t3xr''[http://example.com spz6gumbba84zpvi''<nowiki/>'']''\n''Something [http://example.com mixed''''', even bold]''\n'''''[http://example.com bothi78rcmgoegtoi529'''''<nowiki/>''''']'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[[3],0,[2],0,4,1,0,4,3,3]]", "''<nowiki/>''\n[http://example.com rgkc3a28h38cwhfr'''text]'''fuoqrsdna64dkj4i''Something [http://example.com in italic'']''\nmsb55932ah7rdx6r\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,0,3,1,0,2,4,3,3,[[0,[0,1]]]]]", "\n'''<nowiki/>'''\nz032w7z1kdo0f6r''Something [http://example.com in italic'']o88q9qaoc6ljif6r'''''Now [http://example.com both'''''<nowiki/>''''']'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,2,[2],1,0,[3,0],3,[3,[0,[[4]]],0],0,3]]", "o9nab4h230tnvcxr''[http://example.com text'']u5sfhyznivd3g14i\n[http://example.com isdro1map7qa1yvi'''text]'''<nowiki/>'''\n''[http://example.com in italic'']''''[http://example.com mixed'''''o08ug21d18h3erk9''''']'''\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[[2],4,[[4]],0,4,[0,4],2,2,3,[4]]]", "''kndlu276kxz5b3xr[http://example.com text'']''66fz4jk56gtd42t9[http://example.com '''hbtqecdqt5oecdi''']'''sr9o6vidsk5u3di''Something 81gi1py5yann4s4i''i1h0s35lu287iudi\nr1c3unvdylanhfr''Something [http://example.com mixed''''', even bold]''''''cwiw4wazt6kfn7b9'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,0,3,0,3,2,0,[3,2,0],2,[3]]]", "rxaa2sxf4o8yqfr''[http://example.com text'']\n'''mtebxw1xl4x11yvi''Something [http://example.com in italic'']\n''vt2hxx23uta3v7vi[http://example.com mixed''''', even bold]'''fr3tlqbb4piizfr\n'''<nowiki/>'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[4,2,0,0,4,[2,[4,1]],0,1,2,1]]", "uypp3nxnupst6gvi5lixlomwktb4vx6r\n[http://example.com '''text]'''1euo2nqbj6mvx6r''s5ucqw1bludz33diSomething [http://example.com iqi27jd7nxoxyldi''<nowiki/>'']''\n''Something [http://example.com mixed''''', even bold]'''3rrma1jx3c70hpvi\n'''''Now [http://example.com both''''']'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,2,[4],0,0,1,2,3,4,[3]]]", "8co7ywkausb81tt9\n[http://example.com 85zbd3drbz8pk3xr]'''\n''Something [http://example.com in italic'']''kce2gq57vem9ggb9\ni16rg8p39nj6ecdi'''<nowiki/>'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[0,3,[4],2,0,[0,[0,1]],0,[3,[3,4],3],2,[[0,4]]]]", "''[http://example.com text''][http://example.com utcl2r0fq8lac3di]3qd60yxh5otakyb9'''\n''Something [http://example.com in italic''<nowiki/>'']''\n''[http://example.com dc0yjx5wecvaq0k9]''gbmw7avnratf0f6r\n'''''Now ozt1j409a2d42t9'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,4,0,4,0,1,2,1,0,2]]", "pv9ge46otv86w29''[http://example.com text'']t24xqdq7y0la0pb9[http://example.com '''text]10amjvk8ra1nhfr\n''Something [http://example.com in italic''<nowiki/>'']''l4tfdpdshpqilik9\n''Something [http://example.com mixed''''', even bold]'''\nziz3awxqv8lu9pb9'''''Now [http://example.com both''''']");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[0,0,4,4,0,[3,4],0,[4,[4,0],0],2,3]]", "''[http://example.com text'']\nxh33ebkbpr639pb9ikqa3l7jkhrdlsor\n''h327flpc5pbsxlxr''\n''3icsd821v6de7b9[http://example.com 2cukbor10uanhfr''''', even bold]'''3cf3j98c7sfnipb9\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[0,1,1]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].][[Museo Picasso (París)|Museo Picasso]]<span data-foobar=\"w3fg9p5998n3tyb9\">.</span>\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [2]", "pl3umz8dotsdobt9\n\n[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [1]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[2,0,[2]]]", "3owjotpl28qqto6r[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]<span>2hhu1hny1kvgqfr.</span>\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[[4],4],2,0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''epe48j1yfhcl3di''5qs8nipyh55ewmi]362rfc9jrfab57b9\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[2,[3],[3]]]", "76vwlxnsrpyqr529[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].][[Museo Picasso (París)|<nowiki/>]]<span></span>\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[0,0,4]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]<nowiki/>gjnm2n9a52tn8kt9");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[4,0],0,2]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm m80ag44dkvxtj4i (1901) en el sitio de ]<nowiki/>iu8ii4xb76i529\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[3,3],[4],0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm][[Museo Picasso (París)|d9nzrdjvb4sd1jor]]\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[[2],0],2,0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''3wxnc8ynyul92j4iLa muerte de Casagemas'' (1901) en el sitio de ]tgyf4bef1x450zfr\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[0,[3],2]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].][[Museo Picasso (París)|<nowiki/>]]5mwu7vqu5pv0wwmi\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[3,[3],2]]", "[[Museo Picasso (París)|<nowiki/>]]34gxy654qfmq85mi\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[1,3,0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas'' (1901) en el sitio de ]\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[4,0,3]]", "s7cmk1ocalpd5cdi\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[1,2],2,4]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas''wvn1dm0gv694fgvi (1901) en el sitio de ]bizwk64e6yfogvi3d9bhvaaeq8jv2t9");
add("selser", "IPv6 urls (bug 21261) [2]", "siez6hyksbjfw29\n\nhttp://[2404:130:0:1000::187:2]/index.php");
add("selser", "IPv6 urls (bug 21261) [1]", "http://[2404:130:0:1000::187:2]/index.php");
add("selser", "IPv6 urls (bug 21261) [[2]]", "fr2jqh7diyj02j4i<nowiki/>http://[2404:130:0:1000::187:2]/index.php");
add("selser", "Unclosed and unmatched quotes [[[0,0,4]],2,3,3,[1],0,4,0,1,2,[[2]],3,3,3,2,0,3,4,1,2,2]", "'''''Bold italic text '''with bold deactivated0bet2nehr3gl23xr''\n\nmveau9dj2krl766r\n\n'''Bold text..'''\n\ny75pk6fh55lba9k9\n\n'''Bold tag left open\n\nivecp7jd69h8semi\n\n''939vypv7nzalwhfrItalic tag left open''\n\n4jx8l4e2s9kymn29\n<!-- Unmatching number of opening, closing tags: -->\nftnac0njf7i1wcdi\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nwv6k36cpnikbuik9\n\nvtz1rewhs7i7ldi\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[1],0,[1],0,[3],0,[2,2],0,4,0,4,2,4,0,3,0,4,0,[[0,[4]],0,3],0,4]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\ny4h85lgdrtacerk9..spanning two paragraphs (should not work).3gnmqbeuuymbo6r'''\n\n3m9bvegcf03sor\n\nskw0gib981xde7b9\n\ndjjwoysazbvgqfr\n\nqcokvvv9z09kke29\n\nvmtyprts14m9rudi\n\n''Tom'''1qr9kmif90ox0f6r''''''''Susan'''\n\n5e2ez0in4um78pvi\n");
add("selser", "Unclosed and unmatched quotes [[[3,0,[3]]],0,[1],0,2,2,3,0,[4],4,[4],0,0,3,0,4,[2,3,3,4,3,0],0,4,2,[0,3,4]]", "''with bold deactivated'''<nowiki/>'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\nuimy0isfyrykfbt9\n\n'''Bold text..\n\nhl888wghmewxw29\n\n4yq4z49x86ywrk9\n\nomsddcwsglihehfr\n\nmumepxtpar0vbo6r\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->dska41gwjbwyu8fr\n\n508yy8ogfxd8ia4i'''<nowiki>This year'</nowiki>'''0o13pli3vxojq0k9s.\n\n12et9k2znm5wb3xr\n\nl97w0g61j6rvbo6r\n\nPlain iahdy1xbdbjwz5mi");
add("selser", "Unclosed and unmatched quotes [4,0,3,0,2,0,0,2,4,0,[4],2,[4],2,4,0,[0,0,2,0,0,0],4,1,0,[0,2,0]]", "p51yt1t1l2rfi529\n\nrhoigk26dmkg9zfr\n\n'''Bold text..\n\n..spanning two paragraphs (should not work).'''\n\n0d622p6w2fenrk9\n\nurr17dfxaytd42t9\n\nt29ejiu69b0jatt9\n\nimupp3pckiq9f6r\n\n92qds57sy49ozuxr\n\nueel0927jmo8yqfr\n\nngdgm7xfofg8pvi\n\n'''<nowiki>This year'</nowiki>'''s election cx7g7aolgz4a38fr''should'' beat '''<nowiki>last year'</nowiki>'''s.\n\n5swpjnt4bod5nrk9\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nPlain bktidt0kwhr529''<nowiki>italic'</nowiki>''s plain");
add("selser", "Unclosed and unmatched quotes [[1],4,[2],3,3,3,1,2,2,0,2,0,2,3,4,2,[[2],3,3,0,[4],2],0,3,3,[0,4,0]]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\npvym8fwuqk1hh0k9\n\nqxfz5g7yx7ehr529'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\nimm43yv5xicw61or\n\nqf82msyi498me7b9\n\n'''Bold tag left open\n\nh20k7bi0nzdgf1or\n\n''Italic tag left open\n\n4bg7ac36siztzkt9\n\nNormal text.\n\nvo6dn3vgrv0a4i\n\newzcuf80f1l6usor\n\n'''<nowiki>tbfhcj88z2w97ldiThis year'</nowiki>''' beat '''m3gmfr9sp4cjif6r'''npe02pgi9a8rrudis.\n\nPlain lg1x7859rhdrt3xrs plain");
add("selser", "Unclosed and unmatched quotes [4,2,2,2,4,4,[0,1],0,1,2,2,0,3,0,0,0,[1,0,1,0,3,3],3,3,4,4]", "sxp631t0lu4pwrk9\n\nuiov8qw0vsegsyvi\n\ns5pdb3gqeq5pcik9\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n0im0vx321sv2t9\n\nw84opzg7rvpwrk9\n\na10san19w6a8aor\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\n'''Bold tag left open'''\n\nzmakc4arcm78pvi\n\nskau1bd5191qncdi\n\n''Italic tag left open\n\n\n<!-- Unmatching number of opening, closing tags: -->'''<nowiki>This year'</nowiki>'''s election ''should'' beat \n\nfg0el0revo5el8fr\n\n29zcwcjdje0fi529\n");
add("selser", "Unclosed and unmatched quotes [[[0,4,[2]]],4,[[3,0,1]],0,3,2,0,0,[[3]],3,3,3,0,0,0,0,3,0,[3,[4],0],0,2]", "'''''Bold italic text '''frylpuwwxz9kvs4i'''si2oklqrxelmobt9 in between.'''''\n\n4b0fwpx8i4yousor\n\n'''with italic deactivated'' in between.'''''\n\n4y74tj37ci7fogvi\n\n..spanning two paragraphs (should not work).'''\n\n'''<nowiki/>'''\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\n'''955t9gdexkbdfgvi'''s.\n\n7vsge66w9ew2ke29\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[[4],0,0]],0,1,0,2,4,[0,1],0,2,4,4,2,0,0,0,0,[[3],3,0,0,[3],3],0,2,2,3]", "'''''g25w0ee1muat6gvi'''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n978osfsmlz9tfbt9\n\n'''Bold text..\n\n6va1z48gd8wipb9\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\npap02f80lg8yf1or\n\n'''Bold tag left open\n\nrc9woq2unjnhfr\n\nvwn5ww762sft7qfr\n\n4tvj8y1sqzg2e29\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\n'''<nowiki/>'''''should'' beat '''<nowiki/>'''\n\ngo0uih65ed841jor\n\n''Tom'''s car is bigger than ''Susan'''s.\n\ngxolomlzomtsatt9\n");
add("selser", "Unclosed and unmatched quotes [[1],2,3,3,0,0,2,0,[[2]],0,[3],0,3,3,0,0,1,0,[3,0,4],4,3]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\no48k8kitkr8dunmi\n\n'''Bold text..\n\njg529j0bl3c2qpvi\n\n..spanning two paragraphs (should not work).'''\n\n'''86igisuev2sjdcxrBold tag left open'''\n\n\n<!-- Unmatching number of opening, closing tags: -->'''<nowiki>This year'</nowiki>'''s election ''should'' beat '''<nowiki>last year'</nowiki>'''s.\n\nSusan'''9gtumj4ocnomvx6r\n\nprfakduhs9gousor\n");
add("selser", "Unclosed and unmatched quotes [2,0,[[2,2,[3]]],3,1,3,3,0,3,4,[[4]],2,4,4,2,0,3,0,1,2,[3,4,3]]", "pw5zq7ljhfy4aemi\n\n'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''fbtby3wxdli0be29''Bold italic text ''hosaxi984a9n3ik9with italic deactivated''<nowiki/>'''''\n\n'''Bold text..'''\n\nc74033tc8r529\n\n''crya5qg6h10mgqfr''\n\n97y6epfwllsaif6r\n\nv4ny06vgjpvkuik9\n\npybvt95p8bzqia4i\n\nf4w0i3lwoafez5mi<!-- Unmatching number of opening, closing tags: -->\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\n35ggkj027wuerk9\n\n5akp3n5k0fk9y66r");
add("selser", "Unclosed and unmatched quotes [2,0,[1],0,[2],0,[3,0],0,0,2,3,4,[2],2,0,3,[2,3,4,0,[4],0],0,3,3,[3,1,0]]", "z4argjbmeescq5mi\n\n'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n947x1e69qode7b9'''Bold text..\n\n'''\n\n'''Bold tag left open\n\n3ki8ayg0o64xi529\n\n79eq5ijnx56rbe29\n\ndxlh1ogra88jv2t9Normal text.\n\nxi7td8h5z9pv6lxr\n\n<!-- Unmatching number of opening, closing tags: -->23dgn6ecyq281tt9'''<nowiki>This year'</nowiki>'''39sqeg7p7m0a4i beat '''oiu6lbk4gnrn3ik9'''s.\n\n''<nowiki>italic'</nowiki>''s plain");
add("selser", "Unclosed and unmatched quotes [[2],0,4,3,[2],3,3,4,[[2]],0,0,2,3,4,0,0,4,2,[[3,[4]],2,0],3,2]", "4yw4wxjunjtw3ik9'''''Bold italic text '''with bold deactivated''' in between.'''''\n\nis7cyalf54su4n29\n\nmpbxmb8jpqlg14i'''Bold text..'''\n\nalbr13x2jt273nmi\n\n'''6g5d8o738wave7b9Bold tag left open'''\n\n''Italic tag left open\n\nteulxe8k1ma0dx6r\n\nxou6as0vzir7ldi\n<!-- Unmatching number of opening, closing tags: -->\nujbw98y12pxecdi\n\nis2fqvz346byy14i\n\n'''''kzqmouenkvz8semi'''''9tj86gikh3j1c3di'''Susan'''s.\n\ni4wvgq117adobt9\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[4,4,3]],3,2,4,[[3]],2,[0,2],2,[2],0,[[3]],0,4,0,2,3,3,3,[2,0,2],4,2]", "''gy8y22wkl97iizfr3vp1tpvgny1ra4i''\n\n2z5tao7zttiysyvi\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\nn1gvzoucw3wstt9\n\n'''<nowiki/>'''\n\nseme2cv8cpwdbo6r\n\n..spanning two paragraphs (should not work).ywlyhq3qmuedbo6r'''<nowiki/>'''\n\nyzwdldacl7toi529\n\nzysevmqujc0izfr'''Bold tag left open'''\n\n''<nowiki/>''\n\nnb4nebwa78f72e29\n\nir83sjs0tzftuik9\n\n<!-- Unmatching number of opening, closing tags: -->ylwgmcxba5tp4x6r''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''hkjts07uua8j8aors.\n\nonqdpt0c24tsatt9\n\nfb2ui5co4fj0dx6r\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[0,4,[4]]],4,[[[3],0,0]],3,4,2,[0,3],0,2,4,1,3,0,3,0,2,[3,2,[4],0,2,0],0,3,0,2]", "'''''Bold italic text '''75o98j53ggyqr529'''dy2un1421co0qkt9'''''\n\nambk3df76pfrbe29\n\n'''''<nowiki/>''with italic deactivated'' in between.'''''\n\nmlan2o9gwrx2bj4i\n\n5ad1bsnc7xrvbo6r\n\n..spanning two paragraphs (should not work).\n\n7rqyhyinmtqvkj4i\n\n'''Bold tag left open\n\n6e1728i1rre019k9\n\n''Italic tag left open''\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->yrma779mh822csor\n\nzowg8vddfmxcg14is election ''bpl4hu1cvunmi'' beat mqxj0davy046xbt9'''<nowiki>last year'</nowiki>'''s.\n\nsrp1nabhht7ta9k9\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[1,0,1]],3,[4],2,2,0,0,2,0,0,3,2,0,2,0,0,[[2],0,[3],3,0,4],0,[1,0,0],0,4]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n44b370raypmk7qfr\n\ni211swg0nbpam7vi\n\nvavmabtdw75jyvi\n\n'''Bold text..\n\n..spanning two paragraphs (should not work).'''\n\n4p1evrnwbqd26gvi\n\n'''Bold tag left open\n\newqyg6brwjmrt3xr\n\nNormal text.\n\nah55m0efoatnjyvi\n\n<!-- Unmatching number of opening, closing tags: -->\n'''<nowiki>o7plzsqaknmte29This year'</nowiki>'''s election ''<nowiki/>'''''<nowiki>last year'</nowiki>'''2yo5fdbdlipy14i\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nllfjggl4suhgds4i\n");
add("selser", "Unclosed and unmatched quotes [[3],0,[1],0,3,2,1,4,4,4,4,3,[2],0,0,0,3,0,3,2,[4,3,3]]", "\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\nx1xcylcyh7gphkt9\n\n..spanning two paragraphs (should not work).'''\n\nnf1j27vv64unmi\n\n8gq7zshkmb49529\n\nequpikb2dtj1nhfr\n\n9qkbw2p05e6a8aor\n\nxmkojfga7ja1c3diNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\nrmvdbh91k72xzuxr\n\n2mzfijueenq4zpvi");
add("selser", "Unclosed and unmatched quotes [3,0,[2],0,[[2]],3,[3,0],0,4,4,0,0,3,2,0,3,[[4],2,4,0,3,0],2,3,3,[3,3,0]]", "\nt6n1bkvx9wq7u8fr'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n'''mdiwcalkyki6bt9Bold text..'''\n\n'''<nowiki/>'''\n\n1il337h4ozu84cxr\n\nowkwkmpgu45z5mi\n\n''Italic tag left open\n\n0jlauri2d7gjsjor\n\n<!-- Unmatching number of opening, closing tags: -->'''xapa2a5a6cdw8kt9'''lc002uv6d1dzpvis election fik23fdz9d89qkt9 beat s.\n\n8ykwjs7kuwg0hpvi\n\ns plain");
add("selser", "Unclosed and unmatched quotes [2,4,3,0,2,0,1,0,[3],0,[2],0,2,0,0,2,[2,2,4,0,1,0],2,4,3,4]", "re6gnnkhd1tnjyvi\n\n'''''Bold italic text '''with bold deactivated''' in between.'''''\n\nbdwnekfnkxei2j4i\n\nva244jbhttpdgqfr\n\n'''Bold text..\n\n..spanning two paragraphs (should not work).'''\n\nlrd6syi4ygugzaor''Italic tag left open\n\nknfaulivfgca0pb9\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->h8w8s0eci66tuik9\n\nu9daa8hfmgm5z5mi'''<nowiki>This year'</nowiki>'''s4k3bfthkfq1tt9s election am5ar352e2ltbj4i beat '''<nowiki>last year'</nowiki>'''s.\n\nrgsn8f7qx23p7gb9\n\nlhg77py8ot21emi\n\n7h6jcsa4wmzsq0k9\n");
add("selser", "Unclosed and unmatched quotes [[1],2,4,0,[4],0,[4,0],0,[[2]],3,2,0,2,0,0,2,[0,2,2,0,1,0],0,1,0,2]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n91y6zy5s4079zfr\n\nmkyoq2vkvt0jatt9\n\n8yeajt4jwaru23xr\n\nn2z6ghxy6lp7gb9'''<nowiki/>'''\n\n'''9c8lhwf3v6zgp66rBold tag left open'''\n\nootbfqoaxawi2j4i\n\n''Italic tag left open\n\nvv89fig83pst6gvi\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->73vckpnoy6s3v7vi\n\n'''<nowiki>This year'</nowiki>'''eedgwt17jt9be29s election gqta5jrflissjor''should'' beat '''<nowiki>last year'</nowiki>'''s.\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nz1mgwtgr2xjhh0k9\n\nPlain ''italic'''s plain");
add("selser", "A table with captions with non-default spaced attributes and a table row [[3,2,3,[4],4,[2,4]]]", "{|<!--90q42mbx340a4i-->\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\" |68x5dnp2q5xw29<!--msaci0wnxchgds4i--><!--fhl1z8tl9txu5wmi-->\n|-\n| foo<!--z5tecc0c7ynwmi-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,2,4,0,3,[4,0]]]", "{|\n<!--8folgr0kquboi529-->|+style=\"color: red;\"|caption2<!--9isvnh2z6j2it3xr-->\n|+ style=\"color: red;\"| caption3<!--cegg9qdr9hjgu8fr-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[2,0,2,3,3,3]]", "{|<!--69d5z7pa8iio1or-->\n|+style=\"color: red;\"|caption2<!--1r97810ys18j8aor-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [2]", "ogl2d411a038r529\n{|\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\"| caption3\n|-\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[4,[3],2,0,3,[[3,4],4]]]", "{|<!--glpyv8ws43elv7vi-->\n|+ style=\"color: red;\" |<!--977mpdg7bdg6i529-->\n|+ style=\"color: red;\"| caption3\n|-\n|vnlowwkt14hadcxr<!--tw8w8jwmz4p1fw29-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[2,2,0,4,2,[0,4]]]", "{|<!--hq2lymey7xxkcsor-->\n<!--q20r2b6ga9xry66r-->|+style=\"color: red;\"|caption2\n<!--kyojp7sr96v18aor--><!--bky3qng4ga2a9k9-->\n|-\n| foo<!--phpg9eaca86ez5mi-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,[2],0,0,0,[[0,2],0]]]", "{|\n|+ style=\"color: red;\" |rsk37teyuq22csorcaption2\n|+ style=\"color: red;\"| caption3\n|-\n|vefem1fh6g1ll3di\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[2,0,3,[2],0,[2,0]]]", "{|<!--8q7n7m2tbswwb3xr-->\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\" |lcnpzckjupgphkt9 caption3\n<!--px2ept6jeswnrk9-->|-\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [1]", "{| data-foobar=\"o9k0fan234k7qfr\"\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\"| caption3\n|-\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,[2],0,2,3,[[2,0],0]]]", "{|\n|+ style=\"color: red;\" |w96hfg740cm78pvicaption2\n<!--s66fh5bg5g1wz5mi-->|+ style=\"color: red;\"| caption3\n|-\n|i7akogjci8i4fgvi\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[3,4,3,0,0,1]]", "{|<!--xb57b1mfbeh77gb9-->\n|+ style=\"color: red;\"| caption3\n|-\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,0,0,1,4,3]]", "{|\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\" data-foobar=\"4n9ju8e6u4ayk3xr\" | caption3<!--8vitqxcwje89f6r-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,0,2,[3],3,[[0,4],0]]]", "{|\n|+style=\"color: red;\"|caption2<!--4865t93rr418aor-->\n|+ style=\"color: red;\" |\n|-\n|n2z1139bdvuc8fr\n|}");
add("selser", "Table td-cell syntax variations [2]", "sbzhcg70xtq8semi\n{|\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz\n|}");
add("selser", "Table td-cell syntax variations [[4,[1,4]]]", "{|<!--27awwjo3287iudi-->\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz<!--jkw3iop5lpcfpqfr-->\n|}");
add("selser", "Table td-cell syntax variations [1]", "{| data-foobar=\"ripzux1o66crf6r\"\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz\n|}");
add("selser", "Table td-cell syntax variations [[4,[[2,0,2,[3],4,0,3,[3],1],2]]]", "{|<!--mz3xyunmkehwu3di-->\n|w4c4887c9phnnrk9\n| foo bar foo | baz\n|l0hmwng5zji9hpvi\n| foo bar foo ||\n|si4mhwzz7p919k9\n| style='color:red;' | baz\n||| data-foobar=\"kxxz57fxsgbq33di\" | baz<!--ekzrdkkb8xopf1or-->\n|}");
add("selser", "Table td-cell syntax variations [[0,[[4,0,0,1,0,0,0,4,4],0]]]", "{|\n|juve1nh5fs4kuik9\n| foo bar foo || data-foobar=\"v00hdvjl3int57b9\" | baz\n| style='color:red;' | baz\n|6x3dng4d2qehfr\n|eow57cf1pgmn29\n|}");
add("selser", "Table td-cell syntax variations [[0,[1,4]]]", "{|\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz<!--tthr988c8d9ara4i-->\n|}");
add("selser", "Table td-cell syntax variations [[0,[[1,4,0,2,2,0,4,0,0],3]]]", "{|\n| data-foobar=\"yapr5vvoeskk2o6r\" foo bar | baz\n|n59kxzdkg0dg3nmi\n| foo bar foo \n|3uyod7tniwfjemi|| baz\n|mksz2gze2hjjor\n| style='color:red;' | baz\n|2n7mgtwagfzuxr\n| style='color:red;' || baz\n|}");
add("selser", "Table td-cell syntax variations [[0,2]]", "{|\n<!--uiyg1xnqf84u0udi-->| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[4,[[0,0,4,3],4,[2,4,[2],[3],2,[3],[2],1],3,4,0]]]", "{|<!--ey69w1huzxhl4n29-->\n|-\n|style='color:red;'|+1\n|9tw49jdk0u5o2yb9<!--kx0w31z2r3eg66r-->\n|-\n|pql3wifv5zouhaor\n|b17pm8krfbqehfr||y5j51k4ijfzme7b9 2 ||\n|agfkr8szrrb5ipb9\n|||jzz1rvd4y3bit3xr+2 || data-foobar=\"hz9jkr87n7co9a4i\" |-3<!--uomsfojpwyi4quxr-->\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [1]", "{| data-foobar=\"qni1jj96d8ia4i\"\n|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [2]", "pedhswzbj517zaor\n{|\n|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[0,1]]", "{|\n|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[0,2]]", "{|\n<!--xllkdkan97eyu8fr-->|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[0,[[3,2,0,0],0,[2,0,1,[2],0,0,0,2],0,[0,[4],0,0],0]]]", "{|\n|-\n|0bez83pg3gom9529\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n|sxirzpn3nq257b9\n| 1 || data-foobar=\"27xcharybvs4i\" | 2 ||lz04cejtja714i 3\n| 1 ||+2 \n|h7c5rmx7i8b0529||-3\n|-\n|kfu05heouun89f6r\n| -1\n|}");
add("selser", "Table rowspan [[3,2]]", "{| border=\"1\"<!--dw212cp9esif6r-->\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[0,1]]", "{| border=\"1\"\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [2]", "xb37vwsdil6gk3xr\n{| border=1\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [1]", "{| border=\"1\" data-foobar=\"xgpmrwgiugpbvs4i\"\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[0,[1,0,2,0]]]", "{| border=1\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[2,2]]", "{| border=\"1\"<!--c9eo96nqfmjthuxr-->\n<!--mdmpc8uzbgoxn7b9-->| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[0,[1,0,2,2]]]", "{| border=1\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2<!--houk9s548i3pu8fr-->\n|}");
add("selser", "Table rowspan [[0,[[4,0,4,0,1],0,1,2]]]", "{| border=1\n|aspxhnaofiqf47vi\n|73fyijt65nuerk9\n| data-foobar=\"t7trqii8bukp4x6r\" | Cell 3, row 1\n|- data-foobar=\"1pkfpcn5xq6t7qfr\"\n| Cell 1, row 2\n| Cell 3, row 2<!--sebb2ix3zzzadcxr-->\n|}");
add("selser", "Table rowspan [[4,1]]", "{| border=\"1\"<!--df20a6ug11ao47vi-->\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[0,[2,0,4,0]]]", "{| border=1\n<!--bz2zkuwgtbotj4i-->| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n<!--hynk9y1byaw6ogvi-->\n|}");
add("selser", "Nested table [[0,[1,4]]]", "{| border=1\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again<!--t5nreiu3qsxuhaor-->\n|}");
add("selser", "Nested table [[0,2]]", "{| border=\"1\"\n<!--262ep7u743gqr529-->| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [2]", "y38000xvz4vg3nmi\n{| border=1\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[4,1]]", "{| border=\"1\"<!--21kjc55zx2tbuik9-->\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [1]", "{| border=\"1\" data-foobar=\"z21mjbodw38lg14i\"\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[3,2]]", "{| border=\"1\"<!--55yjgfqukkv5cdi-->\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[0,[[[4,0],0,4,2,1],3]]]", "{| border=1\n|nnqydx4felt2zkt9&alpha;\n|krzzwsokfqen4s4i\n|crl4tbkmgl9xusor\n| data-foobar=\"hezkv4q5eb9ms4i\" |the original table again\n|}");
add("selser", "Nested table [[0,[[1,2,[3,4],0,4],2]]]", "{| border=1\n| data-foobar=\"rvxj3ybmjcl680k9\" | &alpha;\n|hk2lwgso9gvz33di\n|nqxaiu7b5cngsyvi\n|ymx715n666j62yb9<!--qegrhh8kob76i529-->\n|}");
add("selser", "Nested table [[0,[1,2]]]", "{| border=1\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again<!--4p9ui8hhwjy5vcxr-->\n|}");
add("selser", "Nested table [[0,1]]", "{| border=\"1\"\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[0,[[2,0,[4,[0,[0,0,[0,3],2]]],0,0],4]]]", "{| border=1\n|2cpkww5viwe45cdi\n| &alpha;\n|v3oai1u8e0j2a9k9\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n<!--2mk619dun1ocrf6r-->\n|}\n|the original table again<!--0kibvfd08qudte29-->\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [1]", "{| data-foobar=\"qjn3d6di3vcuwhfr\"\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[4,1]]", "{|<!--o94ty73s5301wcdi-->\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [2]", "ihzdqjdk01bp4x6r\n{|\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,2]]", "{|\n<!--0d7j9j0jsmj9k9-->|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,1]]", "{|\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,[2,0]]]", "{|\n<!--j29v67hfrufmvx6r-->|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[3,[[2],0]]]", "{|\n|otq3btd8klf2yb9\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,[1,3]]]", "{|\n|Cell:|broken\n|}");
add("selser", "Table attributes with empty value [2]", "ypqzbga8qxeqm2t9\n{|\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [1]", "{| data-foobar=\"s45owse4wvw5qaor\"\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[0,[1,3]]]", "{|\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[3,2]]", "{|<!--ynuvr3yn3awqm2t9-->\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[2,0]]", "{|<!--sk8j61brrtua0pb9-->\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[0,[1,2]]]", "{|\n| style=| hello<!--tehxphl52a2fyldi-->\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [1]", "{| data-foobar=\"urkrbb2r4vb49529\"\n|-\na\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [[4,1]]", "{|<!--6tca5pwj6b51m7vi-->\n|-\na\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,2]]", "{|\n<!--5prxj1nrukmaemi-->|-\na\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[0,3]]]", "{|\n|-\na\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [2]", "zgc1dev7biseb3xr\n{|\n|-\na\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [[4,2]]", "{|<!--zv525ykr93haor--><!--rf2grczivskvgqfr-->\n|-\na\n|}");
add("selser", "Implicit <td> after a |-\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[2,0]]]", "{|\n<!--zu50o91f8vpiizfr-->|-\na\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[1,2,0,4]]]", "{|\n|- data-foobar=\"d1r6qys00hfwp14i\"\n|\n a<!--lwq5636lzj2lnmi-->\n|-\n b<!--fggq2cll5tlkrzfr-->\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [1]", "{| data-foobar=\"l5dt1ck46gycik9\"\n|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [2]", "pn7gfz1i5krcnmi\n{|\n|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,1]]", "{|\n|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[[3,2],4,0,0]]]", "{|\n|-\n|r6a7omc2hbw6d2t9\n|\n a<!--495ysxcpobeasjor-->\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[4,1]]", "{|<!--qory4ujn4z8semi-->\n|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[3,2]]", "{|<!--r0v4n4mpzav5nrk9-->\n|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[1,0,1,4]]]", "{|\n|- data-foobar=\"wy8n23n8dfclq5mi\"\n|\n a\n|- data-foobar=\"m7bfyabxcusxajor\"\n b<!--7goev4fxhdh4obt9-->\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,2]]", "{|\n<!--t17mx7k8dxi529-->|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[4,3,0,0]]]", "{|\n<!--l4ql5c2l9946xbt9-->|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[4,2]]", "{|<!--ks41aelzdn6irudi--><!--uhis3hnwdwunb3xr-->\n|-\n|\n a\n|-\n b\n|}");
add("selser", "Pres should be recognized in an explicit <td> context, but not in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[[4,1],4,1,0]]]", "{|\n|-\n|ectud6rx3cdf5hfr\n| data-foobar=\"c3h7cj2x5owuq5mi\" |\n a<!--c8utms0gqi2akyb9-->\n|- data-foobar=\"40kdvh903qjv2t9\"\n b\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,2]]", "{|\n<!--cc2or5qghdvd9529-->|-\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [1]", "{| data-foobar=\"i7r6guo8owfry66r\"\n|-\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [2]", "j2gcfu0ymh0ejyvi\n{|\n|-\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[2,2]]]", "{|\n<!--f6bvpnmhoscerk9-->|-\n*a<!--kd1jttedpv5wb3xr-->\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[[2,0],0]]]", "{|\n|-\n|k009h0mllfnljtt9\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[0,[1,0]]]", "{|\n|- data-foobar=\"4tar0o5zbocg14i\"\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[2,2]]", "{|<!--ig3znv7ij2n2vs4i-->\n<!--jtqzi8gbyg8ehfr-->|-\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[4,[2,3]]]", "{|<!--aink9aerteyzxgvi--><!--mbjrk5mzl43u9pb9-->\n|-\n*a\n|}");
add("selser", "Lists should be recognized in an implicit <td> context\n(PHP parser relies on Tidy to add the missing <td> tags) [[3,2]]", "{|<!--wsug5awvrhjgu8fr-->\n|-\n*a\n|}");
add("selser", "Piped link with multiple pipe characters in link text [1]", "[[Main Page||The|Main|Page|]]");
add("selser", "Piped link with multiple pipe characters in link text [2]", "i30rvug3leeqxgvi\n\n[[Main Page||The|Main|Page|]]");
add("selser", "Piped link with multiple pipe characters in link text [[2]]", "1of1ixy9fexqd7vi[[Main Page||The|Main|Page|]]");
add("selser", "Link with 4 brackets [[0,2,0]]", "[[wg3updy6cg14i[[Main Page]]]]");
add("selser", "2. Interaction of linktrail and template encapsulation [1]", "{{echo|Some [[Fool]]}}\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,2,[[4,2]],3,4,3,2]", "lvdwytxnetye3ik9\n\n[[Foo|luagnevfg92otj4ike5xfi2sk2zkt9''bar'']]\n\n3id2voxy1r3pu8fr\n\nd5k1quqvir1wcdi\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [0,3,1,0,1,0,1]", "[[Foo|  bar]]\n\n[[Foo|  ''bar'']]\n\n[http://wp.org   foo]\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [[[2]],0,[[2,3]],3,4,4,0]", "[[Foo|f4xtfb3f5g0hpvi  bar]]\n\n[[Foo|g3c5aopr8zdxi529  ]]\n\n3w868b74qvakbj4i\n\nztyz2eochwefjemi\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [[[3]],4,2,2,2,4,0]", "[[Foo|<nowiki/>]]\n\ncv4nfitz5tfvquxr\n\nw2en4007hwk4kj4i\n\n[[Foo|  ''bar'']]\n\na89qb05wvudnp14i\n\nzpzwr06qh1moyldi\n\n[http://wp.org   foo]\n\nx4uyz0y7d74g3nmi\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [2,4,[2],4,2,0,4]", "qcfwzucvnhqfflxr\n\n[[Foo|  bar]]\n\nbinaypqkdl5wmi\n\nueg3tzxm6450zfr[[Foo|  ''bar'']]\n\nr16ewpwvzmo647vi\n\n86vkeemswfxn7b9\n\n[http://wp.org   foo]\n\nfq54bhoylv4bcsor\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,0,1,3,0,0,[[[2]]]]", "\n[[Foo|  ''bar'']]\n\n[http://wp.org   foo]\n\n[http://wp.org ''jk3t94whyskmx6rfoo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [2,4,2,0,[2],2,4]", "jabto7czzra1nhfr\n\n[[Foo|  bar]]\n\nfcjfudo38wha1yvi\n\np3c3mch7ff1aif6r\n\n[[Foo|  ''bar'']]\n\nv6wwdcn2rljzia4i[http://wp.org   foo]\n\nsrnsnslktd3d6lxr\n\nblujz39afugl23xr\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,4,2,2,2,0,4]", "q9c5unenvqtihpvi\n\nk8q51d5k1t7w4s4i\n\n[[Foo|  ''bar'']]\n\nl31jajvwag36jemi\n\np43tgo0r9n23ayvi\n\n[http://wp.org   foo]\n\nwffmswrjps0pb9\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [0,2,1,3,[[4]],3,0]", "[[Foo|  bar]]\n\ncpt8orwf0l26s9k9\n\n[[Foo|  ''bar'']]\n\n[http://wp.org e15bwsd59u73c8fr]\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,4,4,2,2,4,0]", "o3awmbfvt9fnu3di\n\nj0e1avrz9scvunmi\n\npvsdo8qneqe8w7b9\n\nou4krycgek8uayvi\n\n[http://wp.org   foo]\n\nu9e32ytur700ms4i\n\n[http://wp.org   ''foo'']");
add("selser", "Handling html with a div self-closing tag [0,0,4,0,1]", "<div title />\na2lmqbelulg6tj4i\n<div data-foobar=\"myfxsa4q14jf9a4i\" title/>\n<div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("selser", "Handling html with a div self-closing tag [0,2,3,0,1]", "<div title />\nhsvg8qvys3q8h0k9\n\n<div data-foobar=\"pmcyv89r6fq7iudi\" title/>\n<div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("selser", "Handling html with a div self-closing tag [0,2,0,2,[0,1,2,4,3,1]]", "<div title />\nhrkbg93g91mdkj4i\n<div title/>\nd24otck8en4s4i\n<div title/>\n<div title=\"bar\" data-foobar=\"m3try3iqp9fi529\" />40lnev3wvt4t2o6r\n5cg171a8bz7aatt9<div title=\"bar/\" data-foobar=\"ht3kiuub2yv6lxr\">");
add("selser", "Handling html with a div self-closing tag [4,0,0,0,[2,2,0,0,0,2]]", "m2l4sqf9jovzehfr\n<div title/>\n<div title/>wqgi12lyu5l8fr\n9qt8023po9smunmi<div title=bar />\n<div title=bar/>\n3komwccrkiysyvi<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,1,0,3]", "<div title />\n<div title=\"\" data-foobar=\"akdgg69qx6jvpldi\" />\n");
add("selser", "Handling html with a div self-closing tag [0,0,1,4,2]", "<div title />\n<div title=\"\" data-foobar=\"5h27qgatlrw9udi\" />\nbq5ubiyv65x3l3di\n\nf7wbxz7wtcblnmi\n<div title/ >\n<div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [3,3,0,3,[0,0,4,0,0,4]]", "<div title/><div title/>\n<div title=\"bar\" />nebjm3qen9l4bo6r<div title=\"bar\" />\npp3d9ptaj68ncdi");
add("selser", "Handling html with a div self-closing tag [0,4,0,2,2]", "<div title />\n0cxt91hns1c3di\n<div title/>\n5fmhlouu0049rudi\n\nzfddnll4v5s1c3di\n<div title/ >\n<div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,2,4,0,3]", "<div title />\neywpqn9mosd4e7b9\n\nrj74969g5jm26gvi\n");
add("selser", "Handling html with a div self-closing tag [0,0,4,3,3]", "<div title />\n3a2ar4hcg8s0dx6r\n");
add("selser", "Handling html with a div self-closing tag [0,0,0,2,4]", "<div title />\n<div title/>\n3yg021t2l4841jor\n\nrtcytjxmokw0o1or\n");
add("selser", "Handling html with a div self-closing tag [0,3,1,0,4]", "<div title /><div title=\"\" data-foobar=\"26b6vcigdn53ik9\" />\ncsd55mrpw7g8ehfr\n");
add("selser", "Handling html with a div self-closing tag [0,3,0,4,1]", "<div title /><div title/>\n0z1eukxmytaz6w29\n<div data-foobar=\"jzl0rmosd4e7b9\" title/>\n<div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("selser", "Handling html with a div self-closing tag [2,4,0,0,[0,1,4,0,2,0]]", "y8e35sgnm62prpb9\n<div title />\ngdi8pd4889pv6lxr\n<div title/>\n<div title/>\n<div title=\"bar\" data-foobar=\"yw0irzjxo48l4n29\" />r91jtf9r9lgfd2t9<div title=bar/>2vkbfb0puakmx6r\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,3,3,3,3]", "<div title />");
add("selser", "Handling html with a div self-closing tag [2,3,4,2,[2,0,0,0,0,3]]", "vqocw5cb4ax4unmi\n<div title />\ndvekdalavcygmn29\n\nl7myvzectyo2bj4i\n<div title/>h8p91en5mk4vx6r\n<div title=\"bar\" />\n<div title=\"bar\" />\n");
add("selser", "Handling html with a div self-closing tag [0,4,3,0,[3,0,0,0,0,0]]", "<div title />\ndmd8ofkx0b3dte29\n<div title/><div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("selser", "Handling html with a div self-closing tag [1,0,0,0,4]", "<div title=\"\" data-foobar=\"s9is41y68ko9lik9\" />\n<div title/>\n6ra1fmqrs0s5rk9\n");
add("selser", "Handling html with a div self-closing tag [0,0,4,0,0]", "<div title />\nhzdq9cp5d0zr529\n<div title/ >\n<div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,3,0,2]", "<div title />\n\n0ay5a9dpj8m2t9\n<div title/ >\n<div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,2,2,0,0,3,0,4,0,0,0]]", "<br title />ca3n9qal18yw4s4i\nqj9uz1bwmfbw3ik9<br title/>\n<br title/ ><br title=bar />b6yshcv3dptx1or<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [2]", "zikmxl9l7vte29\n\n<br title />\n<br title/>\n<br title/ >\n<br title=bar />\n<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [1]", "<br title />\n<br title/>\n<br title/ >\n<br title=bar />\n<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,2,2,3,0,2,1,0,4,2,2]]", "<br title />dk9vt5nrbfublnmi\ncq1v4zaldnvfs9k9<br title/><br title/ >d3zvjq60vdt2o6r\n<br title=\"bar\" data-foobar=\"k0onegfucba9k9\" />\ni233ltumi0ctbj4i7r06nbekdqi4fgvi\nr6h30sbilgfd2t9<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,4,4,4,3,0,4,2,0,2,0]]", "<br title />2t1m81vrbufpqfrx94k8em4qntgldibqwxzp9tipjsjor\nbnjj097e97ldijilzhs8iuoj8xgvi\n<br title=bar/>qh4wp3iisjgx2yb9\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,0,2,4,0,2,3,2,0,4,0]]", "<br title />\n97qdfbkc1d8nz5mi<br title/>51ea25u22napp66r<br title/ >ao31pgxz80ti6bt9\niczt3hqwep5e9udi\n<br title=bar/>hyg2ncqmqe7gy14i<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[2,0,0,3,0,0,0,4,0,0,0]]", "0ubgji48lso1dcxr<br title />\n<br title/><br title/ >\n<br title=bar />bnkuwblgntf647vi<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[3,0,0,2,4,4,0,0,0,3,2]]", "\n<br title/>tak6jp65ijsmj9k9\n5dyugkaawpd86w29tsl2xmucx9k3ayvi<br title=bar />\n<br title=bar/>dqcr689mput2zkt9<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,4,1,4,1,0,0,0,0,3,0]]", "<br title />33x6padp4n7y14i<br title=\"\" data-foobar=\"s32ku8ygk5d0a4i\" />2r1tqohm9vxqolxr<br data-foobar=\"s21sk2l9fiuow29\" title/>\n<br title=bar />\n<br title=bar/><br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[2,2,0,2,0,0,0,0,0,0,1]]", "4mon4sx8d75vcxr<br title />cq9odu9ftnxhto6r\n<br title/>mllazr81dckxogvi\n<br title/ >\n<br title=bar />\n<br title=bar/>\n<br title=\"bar/\" data-foobar=\"azit67rektb4vx6r\">");
add("selser", "Handling html with a br self-closing tag [[0,0,0,4,2,4,1,0,3,0,0]]", "<br title />\n<br title/>xxxx2l29fkmrhpvihskx3wdt3p11nhfr<br title/ >7z6kganc7xrvbo6r<br title=\"bar\" data-foobar=\"oqi7lfhelkpujtt9\" />\n\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[1,0,4,0,0,4,0,2,0,0,0]]", "<br title=\"\" data-foobar=\"2imakz3vrgam7vi\" />\nky2cjkk76dc2fbt9\n<br title/ >xl4j77qpveso47vi<br title=bar />65xmmggrk28iwwmi\n<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,0,0,2,1,0,0,2,4,0,0]]", "<br title />\n<br title/>ijzdh4uerc8oajor\n<br data-foobar=\"i9otejvc98eka9k9\" title/>\n<br title=bar />puumi6qcjg3w61or\ntw74kiaxwe6a8aor\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,0,0,4,0,0,2,0,3,0,4]]", "<br title />\n<br title/>5obz7gcvgrv0a4i<br title/ >\n1zf4ljohfm0lik9<br title=bar />\n\n766rcon9lcbzw7b9\n");
add("selser", "Handling html with a br self-closing tag [[0,3,0,2,0,4,0,2,0,3,3]]", "<br title /><br title/>irxhfbe46ofg8pvi\n<br title/ >jlxc4655va38fr<br title=bar />ok12d02ne9udi\n<br title=bar/>\n");
add("selser", "Handling html with a br self-closing tag [[1,3,0,0,4,0,2,0,0,3,0]]", "<br title=\"\" data-foobar=\"qk9iqlffataqncdi\" /><br title/>\nyut18a54lpu8fr\nv0kplvxcj8gds4i<br title=bar />\n<br title=bar/><br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[4,0,0,0,3,2,0,3,0,3,0]]", "78hnxpa0vt43g14i\n<br title/>\n3mhsjjj42k68byb9\n<br title=bar /><br title=bar/><br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[3,0,3,0,2,0,3,3,0,2,0]]", "\nap9gafnt44vaemi<br title/ >\n<br title=bar/>n091fz5rxf4unmi\n<br title=bar/ >");
add("selser", "Horizontal ruler (should it add that extra space?) [2,2,0,2,0,3]", "mfej6cl2tvlpu8fr\n<hr>\ng7w5lx5r4xz85mi\n<hr >\nn8aj1jq5r9e5qaor\nfoo <hr\n>");
add("selser", "Horizontal ruler (should it add that extra space?) [3,0,4,2,0,2]", "\nty5x5smcqwbl0udi\n\noa9aihfpscmlhaor\nfoo <hr\n>\n5c6e23fkntxogvi bar");
add("selser", "Horizontal ruler (should it add that extra space?) [0,4,3,4,2,0]", "<hr>\nefqnkd9nqlwel8fr\n\nxmvwrb0llpz7u8fr\n\njplm7w9i7t10dx6r\n<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [2,0,0,2,4,3]", "zxpf8ei52ttn8kt9\n<hr>\n<hr >\nf75t6r98vikn8kt9\nfoo \n\n16a3ff1niy7m0a4i\n");
add("selser", "Horizontal ruler (should it add that extra space?) [1,4,3,0,0,0]", "<hr data-foobar=\"qfpralo677722o6r\">\n8h8j72eegp1wz5mi\nfoo <hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [1,0,0,0,2,0]", "<hr data-foobar=\"zbky74okstc5wmi\">\n<hr >\nfoo \n\n1cdauyobybltbj4i\n<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [2,3,0,0,0,4]", "o5rwiutljxjsv2t9\n<hr><hr >\nfoo <hr\n>\nd35ei25187b0ggb9\n");
add("selser", "Horizontal ruler (should it add that extra space?) [0,4,1,4,0,0]", "<hr>\nbd1fbirckdkg9zfr\n<hr data-foobar=\"p7mw3becxflxr\">\nziabhrhonumlhaor\n<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [3,3,1,0,0,0]", "<hr data-foobar=\"lf04si3r3323xr\">\nfoo <hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [4,0,0,3,2,3]", "x425cn04w3y833di\n<hr >\nw1vtj40el2x4j9k9\n<hr\n>");
add("selser", "Horizontal ruler (should it add that extra space?) [1,3,0,3,0,0]", "<hr data-foobar=\"l0b3o734w50o1or\"><hr ><hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,0,0,0,4]", "<hr>\n<hr >\nfoo <hr\n>\n2bhtkpyrargj5rk9\n");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,1,0,0,3]", "<hr>\n<hr data-foobar=\"h3lfecmid64unmi\">\nfoo <hr\n>");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,0,4,0,0]", "<hr>\n<hr >\n3nksf5u6o17nwmi\n<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,0,3,4,2]", "<hr>\n<hr >\nd13gtt9304e1m7vi\n\nfbu9qf9y7h7aatt9 bar");
add("selser", "Mixed list [3,0,0]", "#** Level 3, but ordered");
add("selser", "Mixed list [[[2,2,0,0,0,[[4]]],3,4,4,3],0,[1]]", "*0rgjqgna0dqs38frMixed list\nsywz38l1bbsdobt9\n*# with numbers\n** and bullets\n*#hp6659esrmrevcxr\n* ophghpovfih5xw29\n* vd100tazmwpnwmi\n** Level 3, but ordered");
add("selser", "Mixed list [1,0,[1]]", "*Mixed list\n*# with numbers\n** and bullets\n*# and numbers\n*bullets again\n**bullet level 2\n***bullet level 3\n***#Number on level 4\n**bullet level 2\n**#Number on level 3\n**#Number on level 3\n*#number level 2\n*Level 1\n*** Level 3\n** Level 3, but ordered");
add("selser", "Nested lists 2 [[[2],2,0]]", "*7xz2f7b8pzld6lxr\n*foo\n* jbywv3eu6ctk2o6r\n*bar");
add("selser", "Nested lists 2 [[[[2]],0,[3]]]", "** 27spaaa6upu8fr\n*foo\n*");
add("selser", "Nested lists 2 [[1,0,0]]", "*foo\n*bar");
add("selser", "Nested lists 2 [[1,4,[3]]]", "*foo\n* ypy2c48uvfpf1or\n*");
add("selser", "Nested lists 2 [[1,2,[2]]]", "*foo\n* wj6jlmpbcoy74x6r\n*ktkliizqynl8frbar");
add("selser", "Nested lists 2 [[[2],0,2]]", "*1bq5212h7fzuxr\n*foo\n* 9stqmxp6g4zbmx6r\n*bar");
add("selser", "Nested lists 2 [[[1],0,0]]", "*foo\n*bar");
add("selser", "Nested lists 3 (first element empty) [2]", "wdyx85jiz95xko6r\n*\n**bar");
add("selser", "Nested lists 3 (first element empty) [1]", "*\n**bar");
add("selser", "Nested lists 3 (first element empty) [[2]]", "* ipaxm1uzpiv34n29\n*\n**bar");
add("selser", "Nested lists 4 (first element empty) [[1,2,0]]", "*\n* m38mywrsk4y22o6r\n*bar");
add("selser", "Nested lists 4 (first element empty) [[1,0,0]]", "*\n*bar");
add("selser", "Nested lists 4 (first element empty) [[1,3,4]]", "*\n* 24vpk4xqnt3s1yvi");
add("selser", "Nested lists 4 (first element empty) [[1,0,[3]]]", "*\n*");
add("selser", "Nested lists 5 (both elements empty) [[[[2]],4,4]]", "** ueeyl2x71d7ycik9\n*\n* fsp2um1ow5t57b9\n* 5vyklxoa6ttsxlxr");
add("selser", "Nested lists 5 (both elements empty) [[1,0,3]]", "*\n");
add("selser", "Nested lists 5 (both elements empty) [[1,0,0]]", "*\n*");
add("selser", "Nested lists 5 (both elements empty) [[[1],0,0]]", "*\n*");
add("selser", "Nested lists 5 (both elements empty) [[[2],0,4]]", "*zoa7f616cni885mi\n*\n* setbq3uoibai3sor");
add("selser", "Nested lists 6 (both elements empty) [1]", "*\n**");
add("selser", "Nested lists 6 (both elements empty) [2]", "xm8c79kac1y8pvi\n*\n**");
add("selser", "Nested lists 6 (both elements empty) [[2]]", "* tmc5x74vyp7m0a4i\n*\n**");
add("selser", "Nested lists 7 (skip initial nesting levels) [[1]]", "** foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[1]]]", "** foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[[[2]]]]]", "**9q6447gwwogh9f6r\n* foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[2]]]", "*tg28w4nd7g0kke29\n** foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[[[1]]]]]", "* foo");
add("selser", "2. Lists with start-of-line-transparent tokens before bullets: Template close [0,0,1]", "*foo {{echo|bar\n}}*baz");
add("selser", "2. Lists with start-of-line-transparent tokens before bullets: Template close [0,0,2]", "*foo {{echo|bar\n}}\n9uqf8ew08p2b7qfr\n\n*baz");
add("selser", "List interrupted by empty line or heading [[1],0,[1],2,3,0,0]", "* foo\n\n* bar\nxmkdz1mzo88e61or\n\n* Another list item");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [1,2,[3,2,[3],0]]", "* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\n6gpem64rni3yds4i\n\n<ul><li>krszh4s8vdl8r529</li><li><li></li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[1,0,0,0,0,0,[0,2,2],2],2,[2,0,[4],4]]", "* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* 9aw17w0fg4zbmx6r<!--foo-->v30z49wya60tfbt9 \n* 4eqflerlr270t3xr<li> unsupported li-hack with preceding comments\n1whrzdhrauhgds4i\n\n<ul><li>2nzz987o06n7b9</li>\n<li><li>87c6ey7vxhfflxr</li><li>gs746b3gjwgn9udi</li></ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[4,2,[3],0,0,0,[4,2,3],3],0,2]", "* 3snwnj5c00nhr529\n* mfkpew81wvrvygb9\n* <li></li>\n* {{echo|<li>templated li-hack}}\n*kbtd2envs0rg4x6rrdmeyz7tc016pqfr<!--foo-->\n\nvygyuzctg43zyqfr\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[3,0,0,0,0,0,[2,0,0],0],0,[0,0,1,0]]", "* <li>li-hack\n* {{echo|<li>templated li-hack}}\n*9irufodzdrt3xr <!--foo--> <li> unsupported li-hack with preceding comments\n\n<ul>\n<li><li data-foobar=\"apbhpw1eacpfzuxr\">not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[4,3,2,0,0,0,3,4],4,2]", "* heew4bmxhynl8fr\n* jxmnsyhftuik9* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* ut2i94jm55sfko6r\nx0q9zelof75y7gb9\n\nu5hls1u63x72e29\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[0,2,0,2,0,0,4,4],0,[2,0,0,0]]", "* foo\n* e9pz8g9s5urkvs4i\n* <li>li-hack* 88uxy4iag0v8to6r\n* {{echo|<li>templated li-hack}}\n* 7liw9g5hwshpk3xr\n* 3c6cjbi2xoagu8fr\n\n<ul><li>85y3plf128hhncdi</li>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[0,4,[4],4,0,0,4,1],2,1]", "* foo\n* 06p0h25k869zr529* <li>ck3o9hquxu7bvs4i</li>* av6idg5yinyu8fr* {{echo|<li>templated li-hack}}\n* vpxn77vta2359udi<li data-foobar=\"36vyqhh4blp1ra4i\"> unsupported li-hack with preceding comments</li>\n6t739sww9i9t3xr\n\n<ul data-foobar=\"vipn4uvetdquxr\">\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[2,0,1,2,0,4,4,[2]],0,[2,1,3,4]]", "* 4fcfg01itfbt9\n* foo\n* <li data-foobar=\"0z6ozqqgcuhj8aor\">li-hack</li>* j7zcorwdpqcwhfr\n* {{echo|<li>templated li-hack}}* bokpqklqw8doyldi\n* 9w0icw4mbv4mquxr<li>wknfoz3exkhs38fr unsupported li-hack with preceding comments</li>\n\n<ul><li>n98t8h34r5m6lxr</li>\n<li data-foobar=\"0oq8zfsydnobhuxr\"><li>pdivy8meuxt4vx6r</li></ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[4,0,2,4,0,2,3,3],4,4]", "* c3l5ffzv0jwwb3xr\n* p6p7595foquayvi* <li>li-hack* wy3enk6r0pmn29* {{echo|<li>templated li-hack}}* yxtwd1qrc4xqolxr\n9ua2ar70knle4s4i\n\nnkt86ylgawwb3xr\n");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[1,3,[4],2,0,4,[0,0,4],0],4,1]", "* foo* <li>ry12r5fojmt8d7vi</li>* yksxp7g11dvg3nmi\n* {{echo|<li>templated li-hack}}* 3c5qjoexwrvn29\n* <!--foo-->r8ffzehvrnewmi<li> unsupported li-hack with preceding comments\ng87527axiqf47vi\n<ul data-foobar=\"hq405qjopr5dn29\">\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[1,0,[4],0,0,0,1,2],0,0]", "* foo\n* <li>pm72fwa3theka9k9</li>\n* {{echo|<li>templated li-hack}}\n* <!--foo--> \n* 3tj3q66km52ep14i<li> unsupported li-hack with preceding comments\n\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [1,0,3]", "* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\n");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[[4],3,1,0,0,0,[2,2,4],0],4,3]", "*cn76ap9tripgy14i* <li data-foobar=\"oracqmygc1tyy14i\">li-hack</li>\n* {{echo|<li>templated li-hack}}\n*hn5qq2d950nc23xr so80nmz3ozz7iudi<!--foo-->zla2a4bxr4zehfr<li> unsupported li-hack with preceding comments\nzlauq3hv36f4unmi\n");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[3,4,4,0,0,4,[2,4,4],0],0,3]", "* fxkmu1c9q5omvx6r\n* y6x6k3okfdlblnmi\n* {{echo|<li>templated li-hack}}* rnkwtsd7b4deu3di\n*mtpmswpvciz77gb9 xur0tfk2l2mg3nmiw03ly5i7pc26s9k9<li> unsupported li-hack with preceding comments\n");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [2,0,2]", "v63uarsscvo8yqfr\n* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\n\nfl0wa30cmdndn29\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [2,2,1]", "phdtjgrh0wvwvcxr\n* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\ne3qh364hiowasjor\n\n<ul data-foobar=\"q20dntdz62p22o6r\">\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[[3],3,1,0,0,3,[2,0,0],4],0,[3,0,1,2]]", "** <li data-foobar=\"49afghrf0njw0zfr\">li-hack</li>\n* {{echo|<li>templated li-hack}}*12sgn2zg2no8ncdi <!--foo--> \n* ayqvyg3gs800be29\n\n<ul><li><li data-foobar=\"5ybbamd7x0gm0a4i\">not a li-hack\n</li><li>wxxylvwx7t9jxlxr</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [1,3,2]", "* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\n6ek4pedeypynwmi\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(Cannot test this with PHP parser since it relies on Tidy for the hack) [[0,0,[3],0,0,0,[4,0,0],0],0,2]", "* foo\n* <li></li>\n* {{echo|<li>templated li-hack}}\n*3184cjzfvml5wmi<!--foo--> <li> unsupported li-hack with preceding comments\n\ntrnueoijug7j5rk9\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up) [1,3,2]", "<span>\n\n3jk9x10ktgtx1or\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up) [2,3,[2,0,0]]", "rnfnpskpq3nb3xr\n\n<span>\n* hmsx2w3nrnt57b9\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up) [4,0,[0,4,0]]", "jqby6yf3jmijxlxr\n*a</span><span>\n* wo2hhzq2sp2e29\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up) [[1],0,1]", "<span data-foobar=\"1miryz5dj8ht1emi\">\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(Parsoid-only since php parser generates broken html -- relies on Tidy to fix up) [1,0,2]", "<span>\n\n1y79ib1a8bksatt9\n*a</span><span>\n*b</span>");
add("selser", "Table with missing opening <tr> tag [[2,[[4,3],3]]]", "<table><!--x5lw2ikhl5cow29-->\n<td>v9n71rpyucvxi529</td></tr>\n</table>");
add("selser", "Table with missing opening <tr> tag [[2,[0,3]]]", "<table><!--okhghfhpithgp66r-->\n<td>foo</td>\n</tr>\n</table>");
add("selser", "Template with invalid target containing tags [2]", "ki3gc6j34165stt9\n\n{{a<b>b</b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing tags [[3,3,3,0,4,0,2,0,0]]", "{{echo|foo}}jauo06zjihi1kyb9{{echo|a}}9h10iqritlwvobt9={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[3,[4],2,0,0,0,3,0,0]]", "<b>5q0b9wq3qgu5l8fr</b>gs6mp3pt36vibe29|{{echo|foo}}|{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [1]", "<nowiki>{{</nowiki>a<b>b</b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[2,[2],4,0,2,0,0,0,0]]", "39bd8s5z5cw0cnmi<nowiki>{{</nowiki>a<b>7k1tfg6lot1brzfrb</b>lri8gc4zecmr6bt9{{echo|foo}}5m3n5xzvi6893sor|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[0,[2],2,0,0,0,3,0,0]]", "<nowiki>{{</nowiki>a<b>dny163izhm9xjemib</b>ogbwlk7h7di5p14i|{{echo|foo}}|{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[0,2,0,0,0,0,4,0,0]]", "<nowiki>{{</nowiki>a9doy5ksflltprpb9<b>b</b>|{{echo|foo}}|{{echo|a}}zsy6zc95znyfzuxr{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[2,0,0,0,4,0,0,0,0]]", "xu2vb4mmpkhgp66r<nowiki>{{</nowiki>a<b>b</b>|{{echo|foo}}78hbshfbw6pw4s4i{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[0,0,4,0,0,0,0,0,0]]", "<nowiki>{{</nowiki>a<b>b</b>lvadzdcjhmcs1yvi{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[4,1,0,0,4,0,3,0,0]]", "05laxsak396swcdi<b data-foobar=\"q4h81dcojfc4n29\">b</b>|{{echo|foo}}vr4d4w51gvnp14i{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [1]", "<nowiki>{{</nowiki>a<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing unclosed tag [[0,1]]", "<nowiki>{{</nowiki>a<b data-foobar=\"ah4i6emv4j6pqfr\">|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [[4,2]]", "d7d6vni91sfez5mio7di35eq9ubd42t9<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing unclosed tag [[0,[4,0,0,0,3,0,0]]]", "<nowiki>{{</nowiki>a<b>n6rra5yl19i442t9{{echo|foo}}|{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [[3,[4,0,0,0,0,0,0]]]", "<b>98je9r0hl43u9pb9{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [2]", "n9yqgp0xjbf647vi\n\n{{a<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing unclosed tag [[0,[3,0,0,0,2,0,0]]]", "<nowiki>{{</nowiki>a<b>{{echo|foo}}|{{echo|a}}w3curdi6jgrdx6r={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [[2,2]]", "bbplai8we7j2x1or<nowiki>{{</nowiki>apfbr2blkhz146lxr<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing wikilink [2]", "zwc4e5r9fcz93sor\n\n{{[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [1]", "<nowiki>{{</nowiki>[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[3,0,0]]", "[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[2,0,0]]", "oqfrkey46zaaif6r<nowiki>{{</nowiki>[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[0,[2],0]]", "<nowiki>{{</nowiki>[[Main Page|g5dbrx85rnt57b9Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[4,2,0]]", "gb2u86grtumu0udigposn6eyae154s4i[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[3,[4],0]]", "[[Main Page|hah73egswvf2mx6r]]}}");
add("selser", "BUG 553: link with two variables in a piped link [1]", "{| data-foobar=\"sermfvbsbpujtt9\"\n|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[[[0,0,0,0,2]],2]]]", "{|\n|[[{{{1}}}|{{{2}}}67x19euoicw61or]]<!--jadn53w2sr79zfr-->\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[0,4]]]", "{|\n|[[{{{1}}}|{{{2}}}]]<!--5luam4tixnbl0udi-->\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[2,2]]]", "{|\n<!--2l9bvsosq2iq9f6r-->|[[{{{1}}}|{{{2}}}]]<!--f21xzcxsl9iwl8fr-->\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[2,0]]]", "{|\n<!--ekt298jbktjoflxr-->|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "BUG 553: link with two variables in a piped link [2]", "riybxbthicfskyb9\n{|\n|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,2]]", "{|\n<!--z79xd4wgjxphw7b9-->|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "Template with targets containing wikilinks [4,0,1,2,1]", "p8pza9iyg3yaxlxr\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]}}\n\ndf60zk0z1v8ia4i\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[2,1,0],0,[0,0,2],0,0]", "h2hv5x8klgom9529<nowiki>{{</nowiki>[[foo]]}}\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]<nowiki/>ncfzvzzr3mzpvi<nowiki>}}</nowiki>\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [0,3,2,0,2]", "{{[[foo]]}}\n\n8rx6djpk76ojq0k9\n\n{{[[{{echo|foo}}]]}}\n\n5oa9tnlujuivn29\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[4,0,4],0,1,2,4]", "340gvnbe2k7nl8fr[[foo]]<nowiki/>s33i9adwhcd9ggb9\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]}}\n\ny20i831f0qkt9\n\nbj9cw1q9ft6b6gvi\n");
add("selser", "Template with targets containing wikilinks [[0,[3],0],0,0,2,2]", "<nowiki>{{</nowiki>[[foo|<nowiki/>]]}}\n\n{{[[{{echo|foo}}]]}}\n\n1z50cb7dcf28olxr\n\n1ituto223xxenrk9\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[0,2,0],0,2,0,0]", "<nowiki>{{</nowiki>htu2qmdkzjkedn29[[foo]]}}\n\nfejf3xvsleopqfr\n\n{{[[{{echo|foo}}]]}}\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [1,4,0,2,0]", "<nowiki>{{</nowiki>[[foo]]}}\n\n1cd1vr2c1t9be29\n\n{{[[{{echo|foo}}]]}}\n\nkjsr70qifjx4unmi\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[3,4,0],0,2,0,3]", "25jsxi33dblc8fr<nowiki>}}</nowiki>\n\nxo4f2m9ziaawnrk9\n\n{{[[{{echo|foo}}]]}}\n");
add("selser", "Template with targets containing wikilinks [2,0,[4,0,3],0,0]", "jwj1clvcmw5qaor\n\n{{[[foo]]}}\n\na6sabnbx8xueg66r[[{{echo|foo}}]]\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [2,3,2,0,0]", "jn3l3gn2shlac3di\n\n{{[[foo]]}}\n\neps1xdvsq62vgqfr\n\n{{[[{{echo|foo}}]]}}\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Bug 6563: Section extraction for section shown by <includeonly> [3,0,2,2]", "\ndkza481pyak2zkt9\n\nvfmd114kki5m6lxr\n==Section T-2==");
add("selser", "Bug 6563: Section extraction for section suppressed by <includeonly> [3,0,2,3]", "\nuxbdtsn6wx7uv7vi\n");
add("selser", "2. includeonly in html attr value [[0,3,0]]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span><span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [[0,4,0]]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>3qendv6zaaif6r<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [2]", "u352zdrjeccsdcxr\n\n<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>\n<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [[0,2,0]]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>hkp7pfjmofde7b9\n<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [1]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>\n<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,3]]", "{{echo|}}{| width=\"100%\"\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[0,2]]]", "{{echo|}}{| width = '100%'\n|foo<!--7w2da44bn7idaemi-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,1]", "{{echo|}}{| width=\"100%\" data-foobar=\"t98xv1gnmkhp8pvi\"\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[[2]],3]]]", "{{echo|}}{| width = '100%'\n|5l8xeq1crrafw29foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[4,[4,2]]]", "{{echo|}}{| width=\"100%\"<!--913di70icp85xw29--><!--8ypcl8eh8xx8yqfr--><!--l2z1wp6p0xwxko6r-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[4,[2,0]]]", "{{echo|}}{| width=\"100%\"<!--8h981ha9l6myrpb9--><!--dnzxupmh4eptlnmi-->\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[4,[3,0]]]", "{{echo|}}{| width=\"100%\"<!--4w5gtskk09ou5wmi-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,2]", "{{echo|}}\nnbv262u96o3cjtt9\n{| width = '100%'\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,1]]", "{{echo|}}{| width=\"100%\"\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[3],0]]]", "{{echo|}}{| width = '100%'\n\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[1,4]]]", "{{echo|}}{| width = '100%'\n|foo<!--ls9rf79zvd8fflxr-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[3],3]]]", "{{echo|}}{| width = '100%'\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[2,0]]]", "{{echo|}}{| width = '100%'\n<!--gqnq56unxcu9pb9-->|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[[3]],3]]]", "{{echo|}}{| width = '100%'\n|\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[4,0]]]", "{{echo|}}{| width = '100%'\n<!--u3at1qt3epfd2t9-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[3,[1,0]]]", "{{echo|}}{| width=\"100%\"\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[1],4]]]", "{{echo|}}{| width = '100%'\n| data-foobar=\"pnyys77mkaxrms4i\" |foo<!--kok37wstwgbvs4i-->\n|}");
add("selser", "2. Table tag in SOL posn. should get reparsed correctly with valid TSR [2,0,0,0]", "l0wdv1rndfrjxlxr<includeonly>a</includeonly>{| {{{b}}}\n|c\n|}");
add("selser", "2. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,3,0,0]", "<includeonly>a</includeonly>{| {{{b}}}\n|c\n|}");
add("selser", "2. Table tag in SOL posn. should get reparsed correctly with valid TSR [4,0,2,0]", "qt5z98s8n21vpldi\nyifs82rawr5asjor{| {{{b}}}\n|c\n|}");
add("selser", "Templates: P-wrapping: 1d. Template preceded by comment-only line [2,0,0]", "i0wqqfgpkyjsjor\n<!-- foo -->\n{{echo|Bar}}");
add("selser", "Templates: P-wrapping: 1d. Template preceded by comment-only line [2,3,0]", "5x3qqz5k5wl2qpvi\n\n<!-- foo -->{{echo|Bar}}");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,4,3,3,0,0,3,1]", "\n00y7omltvljfko6r\n<table data-foobar=\"jmfnmukwsfko6r\"><tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,[3],0,0,3,0,4,2]", "<table></table>\n<!--Two categories (Bug 50330)-->\naa9zlufnr5nlv7vi\n\nq2pyl7rcb4e4gqfr\n<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [4,1,3,2,2,2,0,2]", "ixen0t4bgr8xs9k9\n<table data-foobar=\"srvdo6x0y0bb7qfr\"><tr><td>foo</td></tr></table>\nuzdg6q9o13xcrf6r\n\n<!--Two categories (Bug 50330)-->4qtzlqvafwyaatt9\n\nxof76nvw8xmkj4i\nmjznl60h5moenrk9\n<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,4,2,4,2,1,0,1]", "\nfvxtgp3ng3c8fr\n\nndpvbu6qrq2awcdi\n\nxvl7qedcdte29\n\nut1kj4t41ud6lxr\n[[Category:bar1]]<table data-foobar=\"bl3hi9ypv5d34n29\">[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [3,[[3]],3,2,0,4,0,4]", "<table></table>\nix0vd82hs81fko6r\n<!--Two categories (Bug 50330)-->\nk15lw873lct2zkt9\n3jhgi813c6av2t9\n");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [1,3,0,4,0,0,0,[[[[3]]]]]", "[[Category:foo1]]\n6jn116sfnaozjjor\n<table><tr><td></td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [3,2,3,2,2,0,0,[[[[2]]]]]", "isfe9nts88woecdi\n<table>[[Category:foo1]]<tr><td>foo</td></tr></table>\nqvw89yxvkoab57b9\n\n<!--Two categories (Bug 50330)-->u9lqrotjvqb0529\n<table><tr><td>gsvn66t5or5p14ifoo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [1,2,0,0,4,0,0,1]", "[[Category:foo1]]\n19pn73ihhorms4i\n<table>[[Category:foo1]]<tr><td>foo</td></tr></table>\n<!--Two categories (Bug 50330)-->uqp2nnbb6ueg66r<table data-foobar=\"dzahg5avpeyu8fr\">[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,1,4,0,0,0,1,[1]]", "<table data-foobar=\"0zy0k38eyyv0wwmi\">[[Category:foo1]]<tr><td>foo</td></tr></table>\n13pnkfecgawwb3xr<!--Two categories (Bug 50330)-->\n[[Category:bar2]]<table><tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [4,3,0,2,2,0,0,[2]]", "m9y118hycf6iggb9\n\nxvms1aht5ut0529\n\n<!--Two categories (Bug 50330)-->j909rng3dfopf1or\n<table><!--ndktasffvlcba9k9-->[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [2,3,4,2,3,0,0,0]", "pus64uq6ej4z33di\ng560va5z5cw0cnmi\n\nyykoaqbw7kbro1or<!--Two categories (Bug 50330)--><table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [4,1,0,2,0,0,3,2]", "jeue60f2n8eel8fr\n<table data-foobar=\"uib4z52061hmpldi\"><tr><td>foo</td></tr></table>\numehhf7e7cbfyldi<!--Two categories (Bug 50330)-->\n\n0v6iqx906hv3g14i\n<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,3,2,4,3,3,0,4]", "\nhdu8b5un73rw9udi\n\naxxk36cxrg0newmi\nl6db7w99encm1jor\n");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,2,4,4,4,4,2,0]", "\n3p6ds2cdy5geqaor\n<table>[[Category:foo1]]<tr><td>foo</td></tr></table>\nnf31cc8xo4leg66r\n\nirxbftzactprpb9\n\ndd21qg54ruw0cnmi\n\nv7gjnsdqspnqxgvi\n\nzg2izvkgtlu15rk9<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,3,2,0,2,4,0,2]", "\n5hat330odnmw8kt9\n\n<!--Two categories (Bug 50330)-->6ssl3a5gpeqaor\n\novgd20ux77722o6r\nkjuzhgsj82blz0k9\n<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [2,3,2,2,0,0,0,[[4]]]", "pr6u7tvu4zccjtt9\nbzwx5yz7n0y0hpvi\n\nsqg8knvzd26gvi<!--Two categories (Bug 50330)-->\n<table><!--igfmiz8r7rykfbt9--></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,1,4,0,0,0,1,[2]]", "<table data-foobar=\"16hnpb0od17l23xr\">[[Category:foo1]]<tr><td>foo</td></tr></table>\np0tte61pcmh7iudi<!--Two categories (Bug 50330)-->\n[[Category:bar2]]<table><!--8rm0h9nhoqkc5wmi-->[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,[2],0,2,2,0,0,[1]]", "<table><!--c0u2c9uer91cerk9-->[[Category:foo1]]<tr><td>foo</td></tr></table>\n8hyzimw3d00vbo6r\n\n<!--Two categories (Bug 50330)-->12c9zldofglj714i\n<table><tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,[[3]],2,0,0,4,0,[[[4]]]]", "<table></table>\nfrdce0reto2h85mi\n\n<!--Two categories (Bug 50330)-->\n3lz5b6rsfydjkyb9<table><tr><td>6xqvzsggdh392j4i</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,4,4,0,0,3,2,[3]]", "\n4izrbq79n79442t9\n\nnmwv8fylt48fflxr\n<!--Two categories (Bug 50330)-->\nzjdiwp9jubejc3di<table></table>");
add("selser", "pre-save transform: mixed tag case [2]", "rlq31ytw4um78pvi\n\n<NOwiki>'''not wiki'''</noWIKI>");
add("selser", "pre-save transform: mixed tag case [1]", "<NOwiki>'''not wiki'''</noWIKI>");
add("selser", "pre-save transform: mixed tag case [[2]]", "tkf7wn5an92lz0k9<NOwiki>'''not wiki'''</noWIKI>");
add("selser", "pre-save transform: Signature expansion [2]", "nhktqtqygncow29\n* ~~~\n* <noinclude>~~~</noinclude>\n* <includeonly>~~~</includeonly>\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[4,3,[3,3,0,4],4,4,0,2]]", "* m10zx9fp4jnstt9\n*<nowiki>~~~gmvcwt97dhzadcxr</nowiki>\n* ywa7bkfxtqs0dx6r\n* hli33ar0hb3p7gb9\n* e60vhz9g0s7wg66r\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [1]", "* ~~~\n* <noinclude>~~~</noinclude>\n* <includeonly>~~~</includeonly>\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[2,4,3,0,0,0,4]]", "* 32fknwefh04l5wmi\n* ~~~\n* azo82cwrwz478pvi\n* <includeonly>~~~</includeonly>\n* qs0xply9n5ng66r");
add("selser", "pre-save transform: Signature expansion [[2,0,[3,0,4,2],2,[4,0,0],0,3]]", "* hz1vd0iqjsepcik9\n* ~~~\n*<noinclude>0bktyo96eqyw4s4iw4otkymxoa40wwmi</noinclude>\n* gt7d0eqrg8axajor\n*1l3dqiqmo4ijxlxr<includeonly>~~~</includeonly>\n");
add("selser", "pre-save transform: Signature expansion [[3,0,2,3,3,0,[4,3,0,4]]]", "* itjoznribbkjra4i\n* <noinclude>~~~</noinclude>\n*<nowiki>5dhwnz8dwu434n29~~~qlz826yt4m4sfw29</nowiki>");
add("selser", "pre-save transform: Signature expansion [[[2],2,[0,0,4,4],4,[0,3,0],2,2]]", "*<nowiki>yk5lx11ir8u84cxr ~~~</nowiki>\n* qkk22lec4f8byb9\n* <noinclude>o7u03xu7j39v0a4inuzg1bvivq3680k9\n* qyf4g03bw2g4aemi\n* \n* i2lkm6kjld31sjor\n* jmnxq3vkjm4bcsor\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[0,4,[0,0,3,0],4,[2,0,2],3,[0,2,0,1]]]", "* ~~~\n* e8gh2f3hm17l23xr\n* <noinclude></noinclude>\n* roruz1ccua8j8aor\n*dzvry5w4yvz33di <includeonly>~~~</includeonly>2iob7q2qgz4zpvi\n* bdtv8j53yhp30udi<onlyinclude><nowiki>~~~</nowiki></onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[2,0,1,0,2,0,[4,4,3,0]]]", "* bqju9j481lg3z0k9\n* ~~~\n* <noinclude>~~~</noinclude>\n* jzrurxzih8semi\n* <includeonly>~~~</includeonly>\n*afwkn1acaje2ke291q2og25231cvunmi</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[2,0,3,0,[2,0,0],0,[0,4,0,0]]]", "* l8ywvav463s7nwmi\n* ~~~\n*pb665fdgs7tlnmi <includeonly>~~~</includeonly>\n*<nowiki> p0na21wtn019k9~~~</nowiki></onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[3,3,2,0,1,0,4]]", "* n4e6pky0yzdj9k9\n* <noinclude>~~~</noinclude>\n* <includeonly>~~~</includeonly>\n* ur7u96qiqwdpwrk9");
add("selser", "pre-save transform: Signature expansion [[0,3,3,0,[4,3,4],3,[3,4,0,1]]]", "* ~~~\n*yw1kct238p6kzkt909d84mjn1li8uxr\n*<nowiki>bs7omurjgiudi~~~</nowiki></onlyinclude>");
add("selser", "pre-save transform: Signature expansion in nowiki tags (bug 93) [0,0,[3],0,3,0,0,[0,2,1],0,[3,[4],0],2,0,0,[4,0,0,1,0,3,0,0],4,[3,2,3]]", "Shall not expand:\n\n\n\n<noinclude>c2c4kwfijsg4lsor<nowiki>~~~~</nowiki></noinclude>\n\n<nowiki>4rxqgyghmgiltyb9</nowiki></onlyinclude>\n\nijw0ouwglps3jtt9\n\n{{subst:Foo}} shall be converted to FOO\n\n9io5qwtljz5gsyvi<noinclude>{{subst:Foo}}</noinclude>\n{{subst:Foo}}</onlyinclude>\n\ney6fcvvjk72xzuxr\n\ne8eh1zy4guvxi529<includeonly>{{subst:Foo}}</includeonly>");
add("selser", "pre-save transform: Signature expansion in nowiki tags (bug 93) [4,4,2,0,3,0,0,[1,[3],0],0,4,3,0,0,2,0,[2,2,0]]", "la532wk34vfe0zfr\n\nsgczbmzbc3y58kt9\n\nui72q9h5qa5j0pb9\n\n<nowiki>~~~~</nowiki>\n\n\n\n<noinclude><nowiki></nowiki></noinclude>\n\nzyapvzaegzdj9k9\n\n{{subst:Foo}} shall be converted to FOO\n\n9bbv840o5gwj0pb9\n\nAs well as inside noinclude/onlyinclude\n<noinclude>{{subst:Foo}}</noinclude>\n<onlyinclude>{{subst:Foo}}</onlyinclude>\n\nhmtzylblbm0ftj4iBut not inside includeonly\npn3sgrv3a8w1m7vi<includeonly>{{subst:Foo}}</includeonly>");
add("selser", "pre-save transform: Signature expansion in nowiki tags (bug 93) [4,0,[1],0,3,0,3,3,2,[4,2,3],2,1,0,[0,2,0,1,2,2,0,0],0,2]", "sff9mhlwbsbjfw29\n\n<nowiki>~~~~</nowiki>\n\n\nerijjiybbrb8d7vi\n\nkj4p8rclyfk73nmieqq21r2doog5vcxr<nowiki>~~~~</nowiki>\n\n9wywqfz1fcnv1jor\n\n{{subst:Foo}} shall be converted to FOO\n\nAs well as inside noinclude/onlyinclude\n7wwg3o051xscerk9<noinclude>{{subst:Foo}}</noinclude>hclnm107k4ndn29\nmybdldirbwr0be29<onlyinclude>{{subst:Foo}}</onlyinclude>\n\nopb22yhskd4sfw29\n\nBut not inside includeonly\n<includeonly>{{subst:Foo}}</includeonly>");
add("selser", "Image with multiple widths -- use last [2]", "tyg28ph5bf5el8fr\n\n[[File:Foobar.jpg|200px|300px|caption]]");
add("selser", "Image with multiple widths -- use last [1]", "[[File:Foobar.jpg|200px|300px|caption]]");
add("selser", "Image with width attribute at different positions [0,2,[0,1],3,0]", "[[File:Foobar.jpg|200px|right|Caption]]\nxmu7d955jxmndn29\n[[File:Foobar.jpg|right|200px|Caption]]\n[[File:Foobar.jpg|right|Caption|200px]]");
add("selser", "Image with 'frame' first. [0,4,[0,1],3,0]", "[[File:Foobar.jpg|frame|caption]]\n7sa4l88rpsowp14i\n[[File:Foobar.jpg|frame|frameless|caption]]\n[[File:Foobar.jpg|frame|thumb|caption]]");
add("selser", "Render invalid page names as plain text (bug 51090) 5", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,1]", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [0,3,2]", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\ngkfu6gduolqmpldi\n\n\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [[2],0,[4,0,2,0,0,0,2,0,0,0,0,0,0,0,4,0,0,0,0,0,4,0,3]]", "8sctlarbskfswcdi<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\nfxzu21euibpgb9{{echo|./../foo}}k3i4gi7d5yst6gvi|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}<nowiki>7zyih9glwodmquxr|bar]]\n[[</nowiki>{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}3e27dqprn1k2zkt9{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}xof8d4gk7hw7b9{{echo|foo<bar}}\n");
add("selser", "Render invalid page names as plain text (bug 51090) [[3],0,2]", "\n\nf5t0h4865mrysyvi\n\n\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,2]", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\nff48sg2pipqwu3di\n\n\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [[4],3,[0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,4,0,0,0,0,0,2]]", "a8exokpi7bricnmi\n\n[[{{echo|./../foo}}<nowiki>yjmnkmy2satt9|bar]]\n[[</nowiki>{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}<nowiki>naobmwo11fnipb9]]\n[[</nowiki>{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}rksixalimh392j4i{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}<nowiki>xmch4v09b9m2huxr]]</nowiki>\n");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,[2,0,3,0,3,0,0,0,0,0,0,0,4,0,2,0,3,0,0,0,0,0,0]]", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\nfyvix8boaud6lxr[[{{echo|./../foo}}{{echo|foo/.}}{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}1uu7nk0ev1q3erk9{{echo|foo{bar}}<nowiki>4xb2zu4vmlipy14i]]\n[[</nowiki>{{echo|foo}bar}}{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [1,0,1]", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [4,0,[4,0,0,0,2,0,2,0,0,0,4,0,4,0,2,0,2,0,4,0,0,0,0]]", "vv8tb99g6m20rudi\n\nthyzb5llxhx8byb9{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}<nowiki>170xfo9mazsyk3xr|bar]]\n[[</nowiki>{{echo|foo/..}}<nowiki>82a3urjl4mpfogvi|bar]]\n[[</nowiki>{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}9no7cugeonf561or{{echo|foo././bar}}5jj2topgnr3vj9k9{{echo|foo{bar}}<nowiki>m5uekj6dh5154s4i]]\n[[</nowiki>{{echo|foo}bar}}<nowiki>zsh2d3o595tawcdi]]\n[[</nowiki>{{echo|<nowiki>foo[bar</nowiki>}}6ogkffdf3qyta9k9{{echo|<nowiki>foo]bar</nowiki>}}]]\n[[{{echo|foo<bar}}]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [2,0,[2,0,0,0,4,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,3,0,2]]", "ixtw0uq17iqtcsor\n\n<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\ncjgyt6cnj124kj4i[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}4i3f1qev8b5u3di{{echo|foo/..}}t26yvjmagszl4n29{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}3vx6jfw5gbvs4i{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}{{echo|foo<bar}}<nowiki>3vz7g6pd5lzhncdi]]</nowiki>\n");
add("selser", "Category / paragraph interactions [[0,3,2],0,2,4,[3,2,0],0,[2],3,0,[3],0,[3,3,4,1,4,2,3],0,3,4,0,4,3,0,0,2,0,0,0]", "Foo 83zrad4tpxxkcsor Bar\n\nysekf8brayr885mi\n\nFoo [[Category:Baz]]\nBar\n\nduknjpcnvnyzxgvi\n\nhroyapi5paqhncdi[[Category:Baz]]\nBar\n\nmsiv1cjc1q8e61orFoo\n[[Category:Baz]] \n\nljrvpzob03tedn29[[Category:Baz]]6bqrn9ug03npcik95jcarnywu55klnmi[[Category:Baz]]\n\nik3u2lqitfomkj4i[[Category:Baz]]\nn8wwykwa78f72e29\n\n[[Category:Baz]]\n9dl89xg0l57phkt9\n {{echo|[[Category:Baz]]}}\n[[Category:Baz]]");
add("selser", "Category / paragraph interactions [4,0,0,0,[4,1,0],3,3,0,0,0,2,[2,0,0,1,3,0,0],0,1,3,0,2,0,2,0,0,0,4,2]", "y2ksxygpidn7y14i\n\nFoo [[Category:Baz]]\nBar\n\ntqcbbea7bmiy66r[[Category:Baz]]\nBar\n[[Category:Baz]] Bar\nc42dqedyb3u6usor\n\ndjmvd61k80kymn29Foo\n[[Category:Baz]]\n [[Category:Baz]][[Category:Baz]]\nBar\n\n[[Category:Baz]]\n [[Category:Baz]]\nvyv3u18bgs4z33di\n[[Category:Baz]]\ne98vfkx1eqld6lxr\n\n[[Category:Baz]]\n {{echo|[[Category:Baz]]}}\nviznyhgcd9muz0k9\n\nd830mwe1qg1oflxr[[Category:Baz]]");
add("selser", "Category / paragraph interactions [1,0,1,0,1,0,1,0,0,0,2,[4,0,0,0,0,4,0],3,0,4,0,0,1,4,4,0,0,3,0]", "Foo [[Category:Baz]] Bar\n\nFoo [[Category:Baz]]\nBar\n\nFoo\n[[Category:Baz]]\nBar\n\nFoo\n[[Category:Baz]] Bar\nqyq2tw4tbcjfko6r\n\n8rsqjn6ahwoecdi[[Category:Baz]]\n [[Category:Baz]]\n7qub38k3od0od2t9\nBar\n\n[[Category:Baz]]\njml3cn3gxdt5ipb9[[Category:Baz]]\n[[Category:Baz]]\n7www48dkmtg74x6r\n\nfddlp7i37zwr8uxr\n {{echo|[[Category:Baz]]}}[[Category:Baz]]");
add("selser", "Section headings with TOC [3,4,0,0,3,2,[3],3,0,4,3,3,0]", "px8b3ng5n4lpu8fr\n=== Subheadline 1 ===\np64mngpetwfm9529\n======<nowiki/>======\n\n== Headline 2 ==\nzvfwz386e7xbhuxr\n===Another headline===");
add("selser", "Handling of sections up to level 6 and beyond [1,2,1,2,1,0,[3],2,2,4,[2],4,0,0,1,0,0,3,1]", "= Level 1 Heading=\n7e043zzvvtzf47vi\n== Level 2 Heading==\n0pp0pcwrmkakyb9\n=== Level 3 Heading===\n====<nowiki/>====\n253vnq49otg9zfr\n\nmncpvxste96vquxr\n===== Level 5 Heading=====\n91qmbb1e2vlpu8fr\n======ohqkkrlkoqi79zfr Level 6 Heading======\n6hv8gbhdqngn9udi\n======= Level 7 Heading=======\n======<nowiki>== Level 8 Heading==</nowiki>======\n========= Level 9 Heading=========\n======<nowiki>==== Level 10 Heading====</nowiki>======");
add("selser", "Handling of sections up to level 6 and beyond [1,0,1,0,0,3,2,3,0,0,4,0,[4],0,1,0,0,4,0]", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\n6fs6ykhv45nrk9\n==== Level 4 Heading====\n===== Level 5 Heading=====\njkvm1xjd1mw2vs4i\n======lrcthal0ujwnrk9======\n======<nowiki>== Level 8 Heading==</nowiki>======\n========= Level 9 Heading=========\n6uicqh73ey5bfbt9\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [1,0,1,4,3,2,3,4,0,0,0,0,0,0,[2],4,0,0,0]", "= Level 1 Heading=\n== Level 2 Heading==\n7fxsbs0ri50442t9\n\nvxty72ecymuw61or\n\njkw5wfqz4rj54s4i\n===== Level 5 Heading=====\n====== Level 6 Heading======\n======= Level 7 Heading=======\n======2ij10fqu45sqyqfr== Level 8 Heading========\nlglib2aveqj8aor\n========= Level 9 Heading=========\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [2,2,[4],3,[3],3,[2],3,0,2,3,0,[4],3,1,2,3,0,2]", "uujzhww35m4h1tt9\n= Level 1 Heading=\ng3pfm1sv4ewxw29\n==qqcvrts9jcyp66r==\n===<nowiki/>===\n====2d2xpp3585i885mi Level 4 Heading====\n===== Level 5 Heading=====\nb5xppeg19r0h33di\n\n======lmauxgcn4u2z9f6r======\n======<nowiki>== Level 8 Heading==</nowiki>======\ny5j5j02sc2nvcxr\n\nsmdwx127s9f9lik9\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [1,0,[4],0,4,0,0,0,0,2,0,0,0,3,2,3,3,0,3]", "= Level 1 Heading=\n==257whdvp60vk7qfr==\n8ctghzq3sqj2lnmi\n==== Level 4 Heading====\n===== Level 5 Heading=====\n0qnzy7sqr64oyldi\n====== Level 6 Heading======\n======= Level 7 Heading=======\n140t1u931jnbqpvi\n======== Level 8 Heading========\n");
add("selser", "Handling of sections up to level 6 and beyond [[3],0,4,4,[4],0,4,0,[2],2,1,0,0,2,2,2,[3],0,3]", "=<nowiki/>=\namb6kmkk4xvo0f6r\n\ntnpagw3ww154s4i\n===zafnpgazotl9dx6r===\ndmkvt9fm17xvfgvi\n=====d8qphiqtdlipy14i Level 5 Heading=====\n3fzlf6871b9h33di\n====== Level 6 Heading======\n======= Level 7 Heading=======\ns5uns2hl9cuqsemi\n\nsro32io5c3j714i\n======== Level 8 Heading========\nv1uy462lkbysc3di\n======<nowiki/>======\n");
add("selser", "Handling of sections up to level 6 and beyond [[4],4,2,0,0,3,2,4,[2],3,[3],0,[4],0,0,4,[2],4,3]", "=5xig4duxuijjdcxr=\nxi940ttg6owjc3di\n\nnsbmloj6iyynwmi\n== Level 2 Heading==\n=== Level 3 Heading===\ns2e0l8vojorpmn29\n==== Level 4 Heading====\ns4nunzajll9s5rk9\n=====xqq41rwqf1q69a4i Level 5 Heading=====\n======<nowiki/>======\n======ji3ewfid6kvb1emi======\n======== Level 8 Heading========\nba1ki76de2i96bt9\n======alx7j2n9e1mxi529=== Level 9 Heading=========\n6am7i00imcth85mi\n");
add("selser", "Handling of sections up to level 6 and beyond [4,0,[3],0,3,3,[2],2,4,0,4,4,3,4,0,0,2,2,2]", "juqe2j1drucsdcxr\n==<nowiki/>==\n====vdm88gzm0er35wmi Level 4 Heading====\n1koun0ht187u8fr\n\na6n0beetb5yd5cdi\n\n2ic6yzwgqfklc8fr\n\nkbum5p83he2hjjor\n\nuu16p407plo6flxr\n======== Level 8 Heading========\nd3nou2efkqog8pvi\n========= Level 9 Heading=========\navbve75qry919k9\n\n8opw9o1qr2xd2t9\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [1,3,1,0,0,0,4,0,0,3,[3],0,3,4,2,0,0,4,[4]]", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\nk7p2m2d9unaeb3xr\n===== Level 5 Heading=====\n======<nowiki/>======\nncttwl8dqx2mx6r\n\nz1b86umv7owxko6r\n======== Level 8 Heading========\n========= Level 9 Heading=========\n4p8d554k064oyldi\n======acgh0oiy5fiozuxr======");
add("selser", "Handling of sections up to level 6 and beyond [3,4,0,0,[3],0,2,2,0,3,1,0,2,2,[2],3,4,3,0]", "qwghp8a222tvs4i\n== Level 2 Heading==\n===<nowiki/>===\no6bh5pr15gvte29\n==== Level 4 Heading====\nucmug7jja4079zfr\n===== Level 5 Heading=====\n====== Level 6 Heading======\n0v8fi7n5klnmi\n======= Level 7 Heading=======\nqcilv966e8a4te29\n======65477y2p2aoiggb9== Level 8 Heading========\ng3i85dt8wfusor\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [0,0,4,0,1,2,[3],0,2,0,[4],3,[3],2,[4],0,2,2,[2]]", "= Level 1 Heading=\nb5aj5set52i96bt9\n=== Level 3 Heading===\nb9750g8tjnd5z5mi\n====<nowiki/>====\nomfmmn9e38lg14i\n===== Level 5 Heading=====\n======9td68c7cilunxw29======\n======<nowiki/>======\n8wi1wgmo7wah5mi\n======v3wyqid8bqnqm2t9======\nyqvikk10tjf6flxr\n========= Level 9 Heading=========\negw7u9tdpqw4gqfr\n======6xjs5xur737ynwmi==== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [3,0,3,0,4,4,2,0,1,4,0,3,[3],0,4,4,[4],0,2]", "\nocc9d3bm1n2hjjor\n\ni6vjyoypjo3i8uxr\n\nbygl3zmbmt3dte29\n==== Level 4 Heading====\n===== Level 5 Heading=====\nmztd25q7x1cnb3xr\n====== Level 6 Heading======\n======<nowiki/>======\nqysvicutlbit3xr\n\n213rie7m2n0qw7b9\n======d2kre63k85154s4i======\nx76zsbc53e42huxr\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [[2],0,3,0,[4],4,0,3,0,2,0,0,1,0,0,2,[4],3,0]", "=h5j8dqaqxhl4n29 Level 1 Heading=\n\n===gc0795sy30udi===\no9rlj7nwfai9hpvi\n==== Level 4 Heading====\n===== Level 5 Heading=====\n8mnm89glb1wf80k9\n====== Level 6 Heading======\n======<nowiki>= Level 7 Heading=</nowiki>======\n======== Level 8 Heading========\niy63mn21ahj5g66r\n======ojzn8txamb98jjor======\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [[3],0,2,0,[3],0,2,0,3,3,2,0,2,3,0,0,3,3,3]", "=<nowiki/>=\n77y86082ym3u9pb9\n== Level 2 Heading==\n===<nowiki/>===\njt55j8pgneak0529\n==== Level 4 Heading====\nq1182whvcflgnwmi\n====== Level 6 Heading======\nfz2hfc0laqbyb9\n======= Level 7 Heading=======\n======== Level 8 Heading========\n");
add("selser", "Handling of sections up to level 6 and beyond [0,0,1,3,1,3,4,2,[2],3,3,4,1,0,0,2,0,4,1]", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\n9vzolj02qqepzaor\n\nb09ymjngm4730udi\n=====56wtakel8yyzaor Level 5 Heading=====\nyiggx30v5j4z33di\n======<nowiki>= Level 7 Heading=</nowiki>======\n======== Level 8 Heading========\n068cf3hs8nuvunmi\n========= Level 9 Heading=========\nqpbi9sagcpbq33di\n======<nowiki>==== Level 10 Heading====</nowiki>======");
add("selser", "Handling of sections up to level 6 and beyond [0,0,4,0,4,0,0,0,4,0,0,2,[3],4,0,0,[3],0,3]", "= Level 1 Heading=\nhu2xawss5ze61or\n\n7euacpk0x86ywrk9\n==== Level 4 Heading====\n66btsq84yh0vn29\n====== Level 6 Heading======\n4ctl6u9fv9lfpqfr\n======<nowiki/>======\n9vstzsttpthdunmi\n======== Level 8 Heading========\n======<nowiki/>======\n");
add("selser", "Header with special characters (bug 25462) [1,2,2,0,3,4,0,4,[2],3,0,0,1,0,[3],0,0,2,4,0,1]", "The tooltips shall not show entities to the user (ie. be double escaped)\n\n8z7x1wcux3v26gvi\n\ns1o423l9ajg7gb9\n== text > text ==\n2whgc18x6v3d6lxr\n== text < text ==\nt5l87q61pf0z4cxr\n\n92ysy522qy28d7visection 2\n\n== text & text ==\nsection 3\n\n==<nowiki/>==\nsection 4\n\nozk2j78opgajdcxr\n\nw7mpykjqlaowp14i\n\nsection 5");
add("selser", "Single-line or multiline-comments can follow headings [2,4,3,1,0,4,[2],3]", "u9j9ywtzcjbawcdi\n==foo==\ndrrd423rrk1vpldi\n==bar==\n<!--c1-->z66d0aderf9lik9\n==nxo7we9vvk70t3xrbaz==<!--\nc2\nc3-->");
add("selser", "Bug 1186 news: in the middle of text [[[2]]]", "[[wikinews:Wikinews:Workplace|9el1tkd6tbne9udihttp://en.wikinews.org/wiki/Wikinews:Workplace]]");
add("selser", "Bug 1186 news: in the middle of text [[[4]]]", "[[wikinews:Wikinews:Workplace|qalth4rrg9q6ko6r]]");
add("selser", "div with single-quoted attribute [2]", "qu686umowmw8kt9\n<div id='rock'>HTML rocks</div>");
add("selser", "div with unquoted attribute [2]", "pmr3ap5nlf7833di\n<div id=rock>HTML rocks</div>");
add("selser", "div with illegal double attributes [2]", "ux9aplu6dksdobt9\n<div id=\"a\" id=\"b\">HTML rocks</div>");
add("selser", "div with empty attribute value, space before equals [2]", "atspk6wrqu2fbt9\n<div class =>HTML rocks</div>");
add("selser", "div with empty attribute value, no space before equals [2]", "mffj7knfxwtawcdi\n<div class=>HTML rocks</div>");
add("selser", "HTML multiple attributes correction [2]", "w1pqe1dx8ko9lik9\n<p class=\"error\" class=\"awesome\">Awesome!</p>");
add("selser", "Table multiple attributes correction [2]", "youym9yoyb8adcxr\n{|\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [1]", "{| data-foobar=\"z3k0ztwllao72e29\"\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[0,2]]", "{|\n<!--659x00mqf8b8olxr-->!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[0,[1,3]]]", "{|\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[4,1]]", "{|<!--hp0nnumivla6ecdi-->\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[3,2]]", "{|<!--42sj7fkd0anpzaor-->\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[0,[2,0]]]", "{|\n<!--k6lgk37x5g0hpvi-->!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "DIV IN UPPERCASE [2]", "qcqx475zv4c2fbt9\n<DIV ID=\"x\">HTML ROCKS</DIV>");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [[0,2]]", "[[Media:Foobar.jpg|Safe Link9pzzuxvaz3bx1or<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [2]", "ql7zctd0dv1v2t9[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [1]", "[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [[4,0]]", "[[Media:Foobar.jpg|pguukls32x4j9k9<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [[2,2]]", "[[Media:Foobar.jpg|jw59thhdhz3yp66rSafe Linkcm0utvw9yva62yb9<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [[4,2]]", "[[Media:Foobar.jpg|d6a1v0js6x14te29391bsxtira9hehfr<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [[3,0]]", "[[Media:Foobar.jpg|<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]");
add("selser", "Empty attribute crash test single-quotes (bug 2067) [1]", "<font color=''>foo</font>");
add("selser", "Empty attribute crash test single-quotes (bug 2067) [2]", "5kxneyilny2gwrk9\n\n<font color=''>foo</font>");
add("selser", "Empty attribute crash test single-quotes (bug 2067) [[2]]", "3338p71nnksrwwmi<font color=''>foo</font>");
add("selser", "Attribute test: equals, then nothing [1]", "<font color=>foo</font>");
add("selser", "Attribute test: equals, then nothing [[2]]", "87im60tsjjrlik9<font color=>foo</font>");
add("selser", "Attribute test: equals, then nothing [2]", "gvgrthbhrdlsor\n\n<font color=>foo</font>");
add("selser", "Attribute test: unquoted value [2]", "vl44x5rpkeyzxgvi\n\n<font color=x>foo</font>");
add("selser", "Attribute test: unquoted value [1]", "<font color=x>foo</font>");
add("selser", "Attribute test: unquoted value [[2]]", "v4v69fplnyfa8aor<font color=x>foo</font>");
add("selser", "Attribute test: unquoted but illegal value (hash) [[2]]", "auncq77bb1olayvi<font color=#x>foo</font>");
add("selser", "Attribute test: unquoted but illegal value (hash) [1]", "<font color=#x>foo</font>");
add("selser", "Attribute test: unquoted but illegal value (hash) [2]", "fj79gsc42q82rzfr\n\n<font color=#x>foo</font>");
add("selser", "Attribute test: no value [1]", "<font color>foo</font>");
add("selser", "Attribute test: no value [2]", "rt4a2sjdnqzlrf6r\n\n<font color>foo</font>");
add("selser", "Attribute test: no value [[2]]", "gas3vh1q0an0cnmi<font color>foo</font>");
add("selser", "Bug 2095: link with pipe and three closing brackets, version 2 [1]", "[[Main Page|[http://example.com/]]]");
add("selser", "Bug 2095: link with pipe and three closing brackets, version 2 [2]", "mfl7xqc4xioa8aor\n\n[[Main Page|[http://example.com/]]]");
add("selser", "Bug 2095: link with pipe and three closing brackets, version 2 [[2]]", "h4wq9ivlle1xlxr[[Main Page|[http://example.com/]]]");
add("selser", "Opera -o-link CSS [2]", "s1oe4611wh035wmi\n<div\ntitle=\"&#100;&#97;&#116;&#97;&#58;&#116;&#101;&#120;&#116;&#47;&#104;&#116;&#109;&#108;&#44;&#60;&#105;&#109;&#103;&#32;&#115;&#114;&#99;&#61;&#49;&#32;&#111;&#110;&#101;&#114;&#114;&#111;&#114;&#61;&#97;&#108;&#101;&#114;&#116;&#40;&#49;&#41;&#62;\"\nstyle=\"-o-link:attr(title);-o-link-source:current\">X</div>");
add("selser", "Table attribute legitimate extension [[0,1]]", "{|\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute legitimate extension [[0,[1,4]]]", "{|\n!+ style=\"<nowiki>color:blue</nowiki>\"| status<!--96xa8rclnmblc8fr-->\n|}");
add("selser", "Table attribute legitimate extension [2]", "ttlfw8y9so9wwmi\n{|\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute legitimate extension [[3,2]]", "{|<!--aj1x9jx74cjif6r-->\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute legitimate extension [1]", "{| data-foobar=\"ub4bg317e10v0a4i\"\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[4,1]]", "{|<!--12z3y8xniki96bt9-->\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[4,[0,2]]]", "{|<!--7gxbdcr5xko6r-->\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status<!--iq35z1foh53zncdi-->\n|}");
add("selser", "Table attribute safety [[3,2]]", "{|<!--1bcrn3xejw7e3ik9-->\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [1]", "{| data-foobar=\"na1gz9i5gxlgnwmi\"\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [2]", "zwfo2kxs5fa5g66r\n{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,2]]", "{|\n<!--8o73uov10ad1jor-->!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,[2,0]]]", "{|\n<!--hopuq8owdrv8to6r-->!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,[0,3]]]", "{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,[1,2]]]", "{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status<!--skyjeiq2kwr0be29-->\n|}");
add("selser", "Sanitizer: Closing of closed but not open tags [2]", "x9jj6me8631ve7b9\n\n</s>");
add("selser", "Sanitizer: Closing of closed but not open table tags 5", "Table not started");
add("selser", "Sanitizer: Validating the contents of the id attribute (bug 4515) [1]", "<br id=9 />");
add("selser", "Sanitizer: Validating the contents of the id attribute (bug 4515) [2]", "9bb5gr65gzqcl3di\n\n<br id=9 />");
add("selser", "Sanitizer: Validating the contents of the id attribute (bug 4515) [[2]]", "8nbwa5nnow53ik9<br id=9 />");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[2,0,2]]", "<div itemscope=\"\">1tq4nuxaexcu9pb9\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">kcbq6pis8m2t9\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [2]", "rcydl379jopkqpvi\n<div itemscope>\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[0,0,4]]", "<div itemscope=\"\">\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">ew3jgq2guzhncdi</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[0,[2],0]]", "<div itemscope>\n\tx3hbyea8xovtpgb9<nowiki><meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\"></nowiki>\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [1]", "<div itemscope=\"\" data-foobar=\"q8adwgvp6owjc3di\">\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[2,2,0]]", "<div itemscope=\"\">tphlnpjbn019k9\n\tzfr328x4l016pqfr\n<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[3,0,4]]", "<div itemscope=\"\">\n<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">aqpwsr7leatyy14i</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[0,2,0]]", "<div itemscope=\"\">\n\tq21hg5f5s2kxzuxr\n\n<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "HTML bullet list, closed tags (bug 5497) [[0,0,4,[2],3]]", "<ul>\n<li>One</li><li>ab23ovep569io1or</li><li>02xr3ap2i2euq5miTwo</li>\n</ul>");
add("selser", "HTML nested bullet list, open tags (bug 5497) [[4,[3],2,[0,4],3]]", "<ul><li>x7e4pzqkzu2fbt9</li><li><li>zz9wcy7ovlipy14i</li>\n<li>Two:\nz6aoj185m56ogvi\n</ul>");
add("selser", "HTML nested ordered list, closed tags (bug 5497) [[2,1,4,[0,4,3],3]]", "<ol><li>xkvf7lec17wg66r</li>\n<li data-foobar=\"lsd14sl7dm927qfr\">One</li><li>czwfizqug7vz33di</li><li>Two:\nu30q3qpwbmswz5mi</li>\n</ol>");
add("selser", "Fuzz testing: Parser13 [2]", "whfwe630sy8pvi\n{| \n| http://a|");
add("selser", "Fuzz testing: Parser13 [[0,[[1]]]]", "{|  \n| data-foobar=\"bz304nhr12359udi\" http://a ||}");
add("selser", "Fuzz testing: Parser13 [1]", "{| data-foobar=\"k83lm0w7lheyiudi\"  \n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[2,2]]", "{|  <!--ot0k5hk2dibe29-->\n<!--ddndi7e9wtlkrzfr-->| http://a||}");
add("selser", "Fuzz testing: Parser13 [[4,2]]", "{|  <!--5r0vu1d4d02akyb9--><!--kgfqc1jnmjyh9f6r-->\n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[0,1]]", "{|  \n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[0,2]]", "{|  \n<!--aox6m05qx79icnmi-->| http://a||}");
add("selser", "Fuzz testing: Parser13 [[0,[1]]]", "{|  \n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[2,[[1]]]]", "{|  <!--k7dytmk4x4fpf1or-->\n| data-foobar=\"6eljtbwlg39dx6r\" http://a ||}");
add("selser", "Fuzz testing: Parser13 [[4,[1]]]", "{|  <!--bc5lt7d97qcwhfr-->\n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[4,0]]", "{|  <!--bdcj5y141zcl3di-->\n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[2,0]]", "{|  <!--fk6xcjz25vc84cxr-->\n| http://a||}");
add("selser", "Fuzz testing: Parser14-table [1,0,0]", "==a==\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [4,4,0]", "u98ofogyawwb3xr\n\ntty3c40hu0gujtt9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [0,2,0]", "==a==\nu14a8f95rx8q6w29\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [4,0,0]", "afphpney2yj2x1or\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [1,0,2]", "==a==\n7kxiqxzt62tbuik9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [[3],0,0]", "==<nowiki/>==\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [3,0,0]", "\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [1,2,2]", "==a==\n52mwmg7whwnopqfr\n\njcno0pgai63zbyb9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [2,4,2]", "rcgqzcdc9d7k3xr\n==a==\nj4upxmk17deljtt9\n\nbb7usbd2xkdibe29\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [4,0,2]", "ev7gujtc4pdjkyb9\n\n0alush5m76re8kt9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [[2],3,0]", "==dez3bpht0ds7cik9a==\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [2,4,0]", "vgfhscuh77t4kj4i\n==a==\n9gtez3md9rhk6gvi\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [0,4,0]", "==a==\n9gdll0uf79orbe29\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser16 [2]", "s2rd5a1yeoim5cdi\n{|\n!https://||||||");
add("selser", "Fuzz testing: Parser16 [[0,[[0,2,0,0]]]]", "{|\n!https://\n!3vnog20h7550o1or|||||||}");
add("selser", "Fuzz testing: Parser16 [[0,[[3,4,0,0]]]]", "{|\n!mn06fxy5uvbfn7b9|||||}");
add("selser", "Fuzz testing: Parser16 [[3,2]]", "{|<!--4qmpsasspil4bo6r-->\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[0,1]]", "{|\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[3,[2]]]", "{|<!--fqa9lrr74yflmcxr-->\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[0,[[1,1,1,0]]]]", "{|\n! data-foobar=\"zu74dq5r4l5wmi\" |https://|| data-foobar=\"at9q2rxpkvivbo6r\" ||| data-foobar=\"knfvnx3swhppsyvi\" ||||}");
add("selser", "Fuzz testing: Parser16 [[0,[[0,2,4,2]]]]", "{|\n!https://\n!yojby2s147usdcxr||\n!v7e4oycgqkqehfr\n!k6xurl8iqpz257b9|||}");
add("selser", "Fuzz testing: Parser16 [1]", "{| data-foobar=\"rwdbutcm2hbprpb9\"\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[2,[1]]]", "{|<!--qd4b7r8tzb79cnmi-->\n!https://|||||||}");
add("selser", "Fuzz testing: Parser21 [[2,2]]", "{|<!--fqbthlkw80cf2yb9-->\n<!--5e3ophtbp1jg7gb9-->! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [1]", "{| data-foobar=\"kaeydswgfnxnipb9\"\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[4,[2]]]", "{|<!--kky0a6mymhwfusor--><!--we67bat81qlx47vi-->\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[3,[1]]]", "{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[0,[[[0,2,0],0,0]]]]", "{|\n! 6ro52eq6kkzf47vi<nowiki/>irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[2,[[3,0,0]]]]", "{|<!--91khydnxj2it3xr-->\n\n||}");
add("selser", "Fuzz testing: Parser21 [[0,[[[4,[4],0],0,0]]]]", "{|\n!1z6izy471osf9a4i<nowiki/>[irc://{{ftp://a 35m7cjzb2mrhpvi]\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [2]", "k8ttddjg2wxez5mi\n{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n|");
add("selser", "Fuzz testing: Parser21 [[2,[2]]]", "{|<!--10dd0n612botj4i-->\n<!--9woo9t4yzpmygb9-->! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[0,[2]]]", "{|\n<!--s2ilax302x6o5hfr-->! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[0,[[[2,1,2],4,1]]]]", "{|\n!7wl5fvufhdaq0k9 irc://{{ftp://a<nowiki/>bhnjk55ovtvuz0k9\" onmouseover=\"alert('hello world');\"\n!7wmp05ki8ophw7b9\n| data-foobar=\"1y26x0gu7tbotj4i\" ||}");
add("selser", "Fuzz testing: Parser21 [[3,[[2,0,0]]]]", "{|\n|bsnckhcoibai3sor\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[3,1]]", "{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser22 [[4],0,0]", "c1ceikq8lljqyqfr\n\n{|");
add("selser", "Fuzz testing: Parser22 [1,2,2]", "http://===r:::https://b\n\n7qw282utupi4quxr\n\nvrc74r6wmw8kt9\n{|");
add("selser", "Fuzz testing: Parser22 [1,3,0]", "http://===r:::https://b\n{|");
add("selser", "Fuzz testing: Parser22 [[1],0,0]", "http://===r:::https://b\n\n{|");
add("selser", "Fuzz testing: Parser22 [[[3]],0,0]", "[http://===r:::https://b]\n\n{|");
add("selser", "Fuzz testing: Parser22 [2,0,0]", "on5h3k2vm927qfr\n\nhttp://===r:::https://b\n\n{|");
add("selser", "Fuzz testing: Parser22 [3,2,2]", "lbrxp9m2enlv7vi\n\nmgpod3a4a9aa714i\n{|");
add("selser", "Fuzz testing: Parser22 [[4],0,2]", "1l587lsuf8aj1yvi\n\n4rx1j0v8ag7gb9\n{|");
add("selser", "Fuzz testing: Parser22 [[2],0,0]", "dif45ehb6ex0qkt9<nowiki/>http://===r:::https://b\n\n{|");
add("selser", "Fuzz testing: Parser22 [[1],4,2]", "http://===r:::https://b\n\nptlivvbl2mg3nmi\n\noxiqusjba1wqm2t9\n{|");
add("selser", "Fuzz testing: Parser22 [3,0,0]", "\n{|");
add("selser", "Fuzz testing: Parser22 [1,0,2]", "http://===r:::https://b\n\n3ql477um4peyu8fr\n{|");
add("selser", "Fuzz testing: Parser24 [[0,2,0],3,2]", "{{{g6r38jevgd37hkt9|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\n7yitay7jtsjdcxr\n{|\n{{{|\n<u CLASS=\n| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}} >\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n|");
add("selser", "Fuzz testing: Parser24 [[[4],3,0],0,[0,3]]", "<nowiki>aosym28xh3ibpgb9</nowiki><u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />{|\n\n|}");
add("selser", "Fuzz testing: Parser24 [[4,0,0],0,[4,[1]]]", "11sr1z4igrvpwrk9|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />{|<!--smnv2ch56iy919k9-->\n||}");
add("selser", "Fuzz testing: Parser24 [3,2,4]", "u39lbr4wb5ptlnmi\n\n\n\nng2zinxre265hfr\n");
add("selser", "Fuzz testing: Parser24 [[[3],0,0],2,3]", "<nowiki></nowiki>|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\naruqvd6sv8bvgqfr\n\n\n");
add("selser", "Fuzz testing: Parser24 [4,4,[2,1]]", "u2mgcfdhu9d7k3xr\n\nt2gfu2pam7vi\n{|<!--wl9sr7uggvjf9a4i-->\n\n||}");
add("selser", "Fuzz testing: Parser24 [[3,0,0],0,1]", "|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />{| data-foobar=\"gvuyg42a70y3c8fr\"\n\n||}");
add("selser", "Fuzz testing: Parser24 [2,4,[0,2]]", "zp55fn0uhjrio1or\n\n\n\nbywvnpoau9za1yvi\n{|\n\n<!--zezekrjhlor2uik9-->||}");
add("selser", "Fuzz testing: Parser24 [0,2,0]", "\n\n78ok5mnhx8icz0k9\n\n{|\n{{{|\n<u CLASS=\n| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}} >\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n|");
add("selser", "Fuzz testing: Parser24 [[1,0,0],0,3]", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n");
add("selser", "Fuzz testing: Parser24 [1,2,[0,[3]]]", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\n2ee2y1k6jblkrzfr\n\n{|\n\n|}");
add("selser", "Fuzz testing: Parser24 [[2,4,0],0,3]", "2h96h5bmgi2lz0k9{{{7nrcllfxlygmn29<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n");
add("selser", "Fuzz testing: Parser24 [4,4,[3,[2]]]", "vtpmggos1rxm9529\n\ntg1e2avwggbymn29\n{|<!--yi16pa7w3cv7vi-->\n||}");
add("selser", "Fuzz testing: Parser24 [[1,2,0],2,3]", "{{{6xvikssdmi4zehfr|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nwvwpzfhipqqfflxr\n\n\n");
add("selser", "Fuzz testing: Parser24 [[1,2,0],0,4]", "{{{sk3rl6utosgojemi|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\njzny1t7i47mygb9\n");
add("selser", "Fuzz testing: Parser24 [1,1,2]", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n\nwo1ljwyi3jlzbyb9\n{|\n{{{|\n<u CLASS=\n| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}} >\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n|");
add("selser", "Fuzz testing: Parser25 (bug 6055) [2]", "zstgbb6nw6nr8uxr\n\n{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [1]", "{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,2,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}4rrl98ny5zgaxlxrblah\" onmouseover=\"alert('hello world');\" align=\"left\"8i02syp6jkbj4i'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,3,0]]", "{{{\n| \n<LI CLASS=||\n >\n}}}'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,0,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"1y1dswlzouu40a4i'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,3,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}4kaxzxt0lciejyvi'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,4,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}xfilnfj1id89qkt9ugf2zkqtlng3c8fr'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,4,0]]", "{{{\n| \n<LI CLASS=||\n >\n}}}l2alwbk8ifab57b9'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [[0,2,0]]", "{{{\n| \n<LI CLASS=||\n >\n}}}ltl4kyjnfvoq1tt9blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Inline wiki vs wiki block nesting [2,0,1]", "y31p21pdfplgcik9\n\n'''Bold paragraph\n\nNew wiki paragraph");
add("selser", "Inline wiki vs wiki block nesting [1,3,[3]]", "'''Bold paragraph\n");
add("selser", "Inline wiki vs wiki block nesting [0,0,4]", "'''Bold paragraph\n\n1vaanv1vlmtb7qfr\n");
add("selser", "Inline wiki vs wiki block nesting [0,3,[4]]", "'''Bold paragraph\n\n9vm0nhnt86mt2o6r");
add("selser", "Inline wiki vs wiki block nesting [[2],4,2]", "gak5ppv6gqc6usor'''Bold paragraph\n\ny928724y2vi5p14i\n\nlh30qxid5s1c3di\n\nNew wiki paragraph");
add("selser", "Inline wiki vs wiki block nesting [0,0,2]", "'''Bold paragraph\n\na0b7wmk2l10s5rk9\n\nNew wiki paragraph");
add("selser", "Mixing markup for italics and bold [[4,2,3]]", "9n05ldcvhphz1tt9w0085ddh9e4b1emi''bold'''\n");
add("selser", "Mixing markup for italics and bold [1]", "'''bold''''''bold''bolditalics'''''");
add("selser", "Mixing markup for italics and bold [2]", "sype68ertrsbgldi\n\n'''bold''''''bold''bolditalics'''''");
add("selser", "Mixing markup for italics and bold [[2,[4],[0,[4]]]]", "<nowiki>ne3e1swbk9m2huxr'</nowiki>''zqhohp4ttevfs9k9'''''bold''l32tonmnru1eb3xr'''''");
add("selser", "Mixing markup for italics and bold [[0,0,[4,[4]]]]", "'''bold''''''ofte4w4zkeh77gb9''xbrpnwqlrllerk9'''''");
add("selser", "Mixing markup for italics and bold [[0,2,1]]", "'7hmry58pm8to6r''bold''''''bold''bolditalics'''''");
add("selser", "Mixing markup for italics and bold [[0,0,4]]", "'''bold'''vs6oe9iomie8kt9");
add("selser", "Mixing markup for italics and bold [[2,0,[3,[2]]]]", "<nowiki>9rfbagd91q44e7b9'</nowiki>''bold''''''''dwszs7lpqhvvx6rbolditalics'''''");
add("selser", "Mixing markup for italics and bold [[2,2,[3,0]]]", "3gqsk0fqzf6crf6r'asugzbokcr3323xr''bold''''''''bolditalics'''''");
add("selser", "Section extraction, <pre> around bogus header (bug 10309) [[2],2,[3],3,0,0,2]", "==0mqyujy54j1qbyb9 Section One ==\nyzn329uexnp3z0k9\n<pre></pre>\n\n== Section Two ==\nppzttjn4r8gp66r\n\nstuff");
add("selser", "Handling of &#x0A; in URLs [[[2]]]", "*a1yhylbtfjgrdx6r\n* irc://&#x0A;a");
add("selser", "Handling of &#x0A; in URLs [[[[2]]]]", "** 0r68g30euvbfn7b9\n* irc://&#x0A;a");
add("selser", "Handling of &#x0A; in URLs [[[1]]]", "* irc://&#x0A;a");
add("selser", "Handling of &#x0A; in URLs [[1]]", "* irc://&#x0A;a");
add("selser", "Handling of %0A in URLs [[1]]", "* irc://%0Aa");
add("selser", "Handling of %0A in URLs [[[1]]]", "* irc://%0Aa");
add("selser", "Handling of %0A in URLs [[[2]]]", "*evt41yj7atoz85mi\n* irc://%0Aa");
add("selser", "ISBN code coverage [2]", "v9jyhulo7jnka9k9\n\nISBN  978-0-1234-56&#x20;789");
add("selser", "ISBN code coverage [1]", "ISBN  978-0-1234-56&#x20;789");
add("selser", "ISBN code coverage [[0,0,3]]", "ISBN  978-0-1234-56&#x20;\n");
add("selser", "ISBN code coverage [[0,0,4]]", "ISBN  978-0-1234-56&#x20;zehty9qfs8umcxr");
add("selser", "ISBN code coverage [[2,0,4]]", "r17ittrbn6mbzkt9ISBN  978-0-1234-56&#x20;dpf8ccpk587aatt9");
add("selser", "ISBN code coverage [[2,0,0]]", "hak6gyichz2jfw29ISBN  978-0-1234-56&#x20;789");
add("selser", "RFC code coverage [2]", "zf4sabjzeusaif6r\n\nRFC   983&#x20;987");
add("selser", "RFC code coverage [[2,0,0]]", "3m8l2kyc9uanhfrRFC   983&#x20;987");
add("selser", "RFC code coverage [1]", "RFC   983&#x20;987");
add("selser", "RFC code coverage [[0,0,3]]", "RFC   983&#x20;\n");
add("selser", "RFC code coverage [[0,0,4]]", "RFC   983&#x20;ry0mhh5cy0fkzkt9");
add("selser", "RFC code coverage [[2,0,2]]", "8rmi32979htfn7b9RFC   983&#x20;4i0lf243q1j4te29987");
add("selser", "Another italics / bold test [[2,[2],2]]", " <nowiki>g3zpq0w1ofyr2j4i'</nowiki>''hkokburf7jtyy14i ''wjduo01g6x39pb9x'");
add("selser", "Another italics / bold test [[2,0,3]]", " <nowiki>jzlpwo82biroogvi'</nowiki>'' ''");
add("selser", "dt/dd/dl test [[1]]", ";;;::");
add("selser", "dt/dd/dl test [[[1]]]", ";;;::");
add("selser", "dt/dd/dl test [[[[[1]]]]]", ";;::");
add("selser", "dt/dd/dl test [[[[[[2]]]]]]", ":;: l3tvh33w0r2lz0k9\n;;::");
add("selser", "dt/dd/dl test [[[[1]]]]", ";;::");
add("selser", "dt/dd/dl test [[[2]]]", ":t3wvyu6l6aoo5hfr\n;;;::");
add("selser", "Don't fall for the self-closing div [2]", "03k36yoyy20jatt9\n<div>hello world</div/>");
add("selser", "Parsing of overlapping (improperly nested) inline html tags [2]", "y9cin9njblr6n7b9\n\n<span><s>x</span></s>");
add("selser", "Don't break table handling if language converter markup is in the cell. [2]", "ixer2na9oirudi\n{|\n|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[4,2]]", "{|<!--g1hlzg5fl3hrrudi--><!--x4cqrou87inyu8fr-->\n|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [1]", "{| data-foobar=\"ihw5lexd32uzncdi\"\n|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[4,[[4,0],0]]]", "{|<!--nuhfaguqghc9pb9-->\n|-\n|9qyto9ifqjsxxbt9\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[0,2]]", "{|\n<!--11c9cgnqpuys0pb9-->|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[0,1]]", "{|\n|-\n| -{R|B}-\n|}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[3]]],0]]", "**{{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[1,0]]", "****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[2,0]]", "* wzen8urjy55qaor\n******* Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [1]", "******* Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[1]]]],0]]", "**** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[4]]],0]]", "**1cf14jtvh392j4i{{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [2]", "vc74xk9rv4qb0529\n******* Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[[[1]]]]]],0]]", "*** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[2],0]]", "*vkl4nqq6z9kvs4i\n****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[1],0]]", "****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[1]],0]]", "***** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[3]]]],0]]", "***{{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[2]],0]]", "** y0slrsmmchjxxbt9\n****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[[4]]]]],0]]", "***u5i7s9pdlw8w7b9{{bullet}}");
add("selser", "Paragraphs inside divs (extra line break on open and close) [[0,0,4,0,0]]", "<div>\nLine onevdnnbqp8z32nvcxr\nLine two\n</div>");
add("selser", "Bug 6200: paragraphs inside blockquotes (extra line break on open and close) [[0,2,4,0,0]]", "<blockquote>\nfy1us3znnl5l8fr\n\nLine oner5d0vwnyqjhjv2t9\nLine two\n</blockquote>");
add("selser", "Bug 6200: paragraphs inside blockquotes (extra line break on open and close) [[3,0,4,0,0]]", "<blockquote>\nLine oneg37qx0hl1pccv7vi\nLine two\n</blockquote>");
add("selser", "Paragraphs inside blockquotes/divs (extra line break on open and close) [[[4,2,4,[2],0]]]", "<blockquote><div>02t4xrva64jz6w29s49felh3egclerk9\nLine oneq9js13lnl4cdte29\n37ps4x1fomqxs9k9Line two\n</div></blockquote>");
add("selser", "preload: check that it doesn't try to do tricks [[2]]", "* didei13ahu0afw29\n* <!-- Hello --> ''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [2]", "zkok5psclsnbqpvi\n* <!-- Hello --> ''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[4,0,0,1,4,0,3,4,0]]]", "*k6hkq40t99ysyvi<!-- Hello --> ''{{world}}''376wfwnsdhdxi529<includeonly>subst:</includeonly>49qrqx77b28iwwmi{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[2,0,0,4,0,4,0,3,0]]]", "*g54t5fk8giepnwmi <!-- Hello --> w66ayreu0vsra4i <nowiki>{{</nowiki>an4uep1sq6m3g14i{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,0,0,4,0,0,3,2,0]]]", "* <!-- Hello --> vejp9wbf8lx47vi <nowiki>{{</nowiki><includeonly>subst:</includeonly>sfulu9sikvs4iHow are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[4,3,2,0,0,4,0,4,0]]]", "*yo6p3q51vk95p14iil518g5qwctvgqfr ''{{world}}'' <nowiki>{{</nowiki>1mnziwrywsmoyldi4xv9w5emba4kuik9{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [1]", "* <!-- Hello --> ''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,0,4,0,0,0,0,0,0]]]", "* <!-- Hello -->u0xjgmx399all3di''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,0,0,2,0,1,0,2,0]]]", "* <!-- Hello --> n3v0l97htr7o80k9''{{world}}'' {{<includeonly>subst:</includeonly>9nppcb5ko6xenrk9How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[3,0,0,2,2,0,0,0,0]]]", "*<!-- Hello --> 67qjj5r4mrkke29''{{world}}''7xfyiutud3877gb9 <nowiki>{{</nowiki><includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,4,0,3,3,1,4,0,0]]]", "* 4kr28ty89a0xusor <includeonly>subst:</includeonly>u75y05y4e6s10pb9How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,4,0,2,0,2,4,0,0]]]", "* wqmpo0o441qt1emi 1g2tpa7dklslwhfr''{{world}}'' <nowiki>{{</nowiki>a56fhm13oi02uik9<includeonly>subst:</includeonly>t2zug3kbnz3hm2t9How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,2,2,0,3,3,3,0,0]]]", "* 7kybfjc13eo03sor<!-- Hello -->4iqqbqibzrxjemi ''{{world}}''How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,4,0,3,4,0,2,4,0]]]", "* bbaih410grpb9 twqfn0vri135l8fr<includeonly>subst:</includeonly>u7u93iafefxn7b9cdztl2lzvspuv7vi{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[2,4,2,3,0,2,1,4,0]]]", "*3y24zstipddvx6r qyowjr330i9t3xrhff2tego6oiara4i  <nowiki>{{</nowiki>dl79askga48qto6r<includeonly>subst:</includeonly>6bo8cka47ms1nhfr{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[4,0,3,1,0,0,0,0,0]]]", "*n536pnspuae89f6r<!-- Hello -->''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links [2]", "l0v2g46g9ipgy14i\n\n[http://www.example.org/　ideograms]");
add("selser", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links [1]", "[http://www.example.org/　ideograms]");
add("selser", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links [[2]]", "ersk3465d2rtqpvi[http://www.example.org/　ideograms]");
add("selser", "Ignore pipe between table row attributes [1]", "{| data-foobar=\"ze7tc8bvfxls1yvi\"\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[0,1]]", "{|\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [2]", "j703hesqpiv34n29\n{|\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[2,2]]", "{|<!--gysjycu8q2maemi-->\n<!--rdn05ipccn7jsjor-->| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[4,2]]", "{|<!--zrj0ish0maolayvi--><!--1o8f2hvwotgzm2t9-->\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[3,2]]", "{|<!--x3a9rrvp5j98uxr-->\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[4,2]]", "{|<!--gn1lczzf2clkgldi--><!--sj45zgz3zoetgldi-->\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [2]", "keebwlcmx4yxecdi\n{|\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[4,1]]", "{|<!--lm54mf3t63pd5cdi-->\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [1]", "{| data-foobar=\"n6n3ky5acvunmi\"\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[0,[[[4,0,4,[0,3],0,2]],4]]]", "{|\n|o1h396hpl7zdj9k9\n<small>hr00rscpueuerk9[[Image:Foobar.jpg|right]]\nnnzqv9qetemw8kt9\n\n</small><!--3n50lgdjaxwm6lxr-->\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[3,[[2],0]]]", "{|\n|87ilau7u3bjiqkt9\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[0,[[2],0]]]", "{|\n|18ezfpaoid8zd7vi\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[0,1]]", "{|\n|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[2,2]]", "{|<!--8lgbn9j1u8wu3di-->\n<!--fw5c108igudf5hfr-->|\n<small>\n[[Image:Foobar.jpg|right|Test]]\n</small>\n|}");
add("selser", "Bad treebuilder fixup of formatting elt is cleaned up [[0,[[[0,0,2,[0,[[4]]],0,0]],2]]]", "{|\n|\n<small>eudvbh1s9l51att9\n[[Image:Foobar.jpg|right|toacwados8bedn29]]\n</small><!--ltvomjx0whup7gb9-->\n|}");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,2,0,3,0]]", "A <ref name=\"x\">foo</ref>4e761xuztftlz0k9\nB <ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,2,0]]", "A <ref name=\"x\">foo</ref>3w7ovsl9a3fk1emi<ref name=\" x \" />0ge9uw9zjpk6s9k9\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,3,0,0,0]]", "A <ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,3,0,3,0]]", "9bipqi2pwdi2uik9<ref name=\"x\">foo</ref><ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [2]", "ygeccjbn41fez5mi\n\nA <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,4,0,0,0]]", "<ref name=\"x\">foo</ref>2mkm6z95yrx561or<ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [1]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,2,0,0,0]]", "bsstrf4asth5b3xr<ref name=\"x\">foo</ref>ykhvrcwh9cc8fr\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[2,0,0,0,0,0]]", "w0g5031j8wr8uxrA <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,3,0,0,0]]", "<ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,3,0]]", "A <ref name=\"x\">foo</ref>h81b8wtpyjznz5mi<ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,0,0,3,0]]", "9b0gpvrxsxetgldi<ref name=\"x\">foo</ref>\nB <ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,0,0]]", "A <ref name=\"x\">foo</ref>1i7un9k3kza4te29<ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,0,0,3,0]]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,2,0,0,0]]", "<ref name=\"x\">foo</ref>old27zbnsf7uv7vi\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,3,0,4,0]]", "A <ref name=\"x\">foo</ref><ref name=\" x \" />waf2vtqqnxjyk3xr<ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,0,0,4,0]]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />gzf0q2rm80hehfr<ref name= x  />");
add("selser", "Ref: 5. body should accept generic wikitext [0,2,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\ndwm4quuvdsjg7gb9\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[2,0],0,0]", "64pys175oa90be29A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[2,0],4,0]", "4jyox5aerj05dn29A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\ne8ivhnmx87uy2e29\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [2,3,0]", "qoeqwnbmi3qjv2t9\n\nA <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [1,0,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [1,2,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n6gjpondmwn67ds4i\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [0,3,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [2,0,0]", "38rn8yqn23hdj9k9\n\nA <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[4,0],0,0]", "779fr59c6rey7gb9<ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[3,0],0,0]", "<ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [0,4,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\nwcpd1emtigtu766r\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[3,0],3,0]", "<ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [1,4,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\nopb6dbabhj0grpb9\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[3,0],2,0]", "<ref>\n foo\n bar\n baz\n</ref>\n\nc9yzes7c4y3hxgvi\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[3,0],0,0]", "<ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[4,0],0,0]", "d39shok49xw7y14i<ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[2,0],3,0]", "csno6hudm6kihpviA <ref>\n foo\n bar\n baz\n</ref>\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [1,0,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [1,4,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n2covjp6eq4ghw7b9\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [2,2,0]", "toqw7sfzxluwhfr\n\nA <ref>\n foo\n bar\n baz\n</ref>\n\naxhh0g58eel8fr\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [0,4,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n76w3qizpu7jpp66r\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[4,0],2,0]", "eq3p1jsy2j8257b9<ref>\n foo\n bar\n baz\n</ref>\n\ncf0j98xgr3f5stt9\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [0,3,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[2,0],2,0]", "34ay886hc1ve7b9A <ref>\n foo\n bar\n baz\n</ref>\n\n4vfupz59fgw7mn29\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [2,3,0]", "vbah6nejqryynwmi\n\nA <ref>\n foo\n bar\n baz\n</ref>\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [1,2,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n2k397n91ucakmx6r\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[2,0],0,0]", "auk5t95qxlohto6rA <ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [2,4,0]", "izih4ttja0mgqfr\n\nA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\neh3q28gvbmxwdn29\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [1,0,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [2,0,0]", "n1ye9use3rn0o1or\n\nA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[4,0],3,0]", "0begyf0zmdo39pb9<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [0,4,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\nm971mm3izn83q5mi\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [2,3,0]", "4i848j6u4m67p66r\n\nA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [1,4,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\ng3njijxqqqto6r\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [0,2,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n6r812mhuxe6ogvi\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[4,0],0,0]", "huu8lpo8ozn3tyb9<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[3,0],0,0]", "<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [1,3,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[2,0],4,0]", "34x1kftp6cg14iA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\ngoqdfok6qfvzehfr\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[4,0],4,0]", "tewmryhpf1bxogvi<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n287sw295wn17zaor\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[3,0],3,0]", "<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[3,0,0,[2]],0,0]", "<ref> foo {{echo|</ref> B C<nowiki>cuv87u78i1kyb9}}</nowiki>\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,3,0]", "A <ref> foo {{echo|</ref> B C}}\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,1],0,0]", "A <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,2,1],3,0]", "A <ref> foo {{echo|</ref>5nkeu8bfbog06bt9 B C}}\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,[2]],4,0]", "A <ref> foo {{echo|</ref> B C<nowiki>4906wuz1hhjs8aor}}</nowiki>\n\nfc744f1ddc5zh0k9\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,2],2,0]", "A <ref> foo {{echo|</ref> B Cdhgm17wf65abgldi}}\n\nt5h5r7w3j9vn29\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,0,0],0,0]", "0xr2nac5pztwqaorA <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,4,0],2,0]", "8xs9gemyg9nc23xrA <ref> foo {{echo|</ref>klhu6j5nxparwwmi}}\n\nr2b4j4rnlba9k9\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,4],2,0]", "A <ref> foo {{echo|</ref> B Cvdm4ccld6aq3erk9\n\nk7nw1kt1jaotuik9\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,4,0]", "A <ref> foo {{echo|</ref> B C}}\n\n7na9u57xsprb2o6r\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [1,0,0]", "A <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[3,0,0,2],0,0]", "<ref> foo {{echo|</ref> B Cfhyq1oah4n9daemi}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,2,2],0,0]", "839ue3zrnclbx1or<ref> foo {{echo|</ref>5k7094p8ve4gqfr B Cslg3e0w3bb5ljtt9}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [2,0,0]", "ny3t8o4lcg39dx6r\n\nA <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,0,1],3,0]", "3zedmyrzf9don7b9A <ref> foo {{echo|</ref> B C}}\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,4,4],0,0]", "A <ref> foo {{echo|</ref>yv1uetyp3ynqxgvibep2v1t3tyugzaor\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,2,4],2,0]", "5967hka94mrkke29<ref> foo {{echo|</ref>4xuj8pifdagrdx6r B Cs0j38kel7db1emi\n\nzyoazm0bqyrv0a4i\n\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [2,3,0]", "lxg9r6yz398xs9k9\n\nA <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,0],4,0]", "ecjktuor793eg66r<ref> foo <!--</ref> B C\n\n8lwxeybnzep9o1or\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,4],3,0]", "A <ref> foo <!--</ref>5f3nac1cbffde7b9\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],2,0]", "3sn4sc1vqm7snhfrA <ref> foo <!--</ref> B C\n\nj5o46pvlyk6s9k9\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [1,0,0]", "A <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],0,0]", "fxia64zp12d42t9A <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,4],2,0]", "aei2lcuxrhmbcsor<ref> foo <!--</ref>k5nyzytzaku1h5mi\n\nqu8eu2zt56s10pb9\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[3,0,4],0,0]", "<ref> foo <!--</ref>55o1bbjyxmvx6r\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [1,2,0]", "A <ref> foo <!--</ref> B C\n\nrlw7cay5yyom9529\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],4,0]", "ysaumnz4fngkfbt9A <ref> foo <!--</ref> B C\n\nucdijondgarwwmi\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,0],3,0]", "wmhvz6tz5y8vkj4i<ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [2,0,0]", "lzt3civaqy77rpb9\n\nA <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,2],0,0]", "A <ref> foo <!--</ref>55lkdsrn1f9zr529 B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[3,0,3],4,0]", "<ref> foo <!--</ref>\n\nxa1yt1f2tgnidx6r\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,4],2,0]", "A <ref> foo <!--</ref>wim2nyc23kxogvi\n\nrbgc74z9xnhzolxr\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [1,3,0]", "A <ref> <b> foo </ref> B C\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [1,2,0]", "A <ref> <b> foo </ref> B C\n\n8ti6tkep9xnoecdi\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [2,0,0]", "kzo8v6bg4gta9k9\n\nA <ref> <b> foo </ref> B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[3,0,2],0,0]", "<ref> <b> foo </ref>enf22pahtanstt9 B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [2,3,0]", "ma3w6h5kt4q85mi\n\nA <ref> <b> foo </ref> B C\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[2,0,0],0,0]", "b50jt91ydnobhuxrA <ref> <b> foo </ref> B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[4,0,2],0,0]", "56flbe81qh44e7b9<ref> <b> foo </ref>0eubdxha4ldqjjor B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[0,0,2],0,0]", "A <ref> <b> foo </ref>2v2ffbsrhae2ke29 B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[3,0,4],0,0]", "<ref> <b> foo </ref>7pj1lrw5fsnstt9\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[4,0,0],0,0]", "fud0zu1kw6d2t9<ref> <b> foo </ref> B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [0,3,0]", "A <ref> <b> foo </ref> B C\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[2,0,0],2,0]", "3i2udpyjqgehr529A <ref> <b> foo </ref> B C\n\n04ufs7jtgivsra4i\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [0,4,0]", "A <ref> <b> foo </ref> B C\n\nexksatqzwpgsc3di\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[0,0,4],3,0]", "A <ref> <b> foo </ref>3ds74snl9wly2e29\n<references />");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [3,2,0]", "in8j4tbs99qz1tt9\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [4,3,0]", "meym79sw6mv7k3xr\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [4,2,0]", "pelj4uzr3bs2a9k9\n\nu67k5swfctk2o6r\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [0,4,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n9gvlpsnwcr7ctyb9\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,4,0],2,0]", "A <ref name=\"a\" />f2bltv6f7vkuik9<ref name=\"b\">bar</ref>\n\nqgma8vw3ztr19k9\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,4,0],0,0]", "A <ref name=\"a\" />8agyu1dos8bedn29<ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [1,0,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[4,0,2,0],3,0]", "agaxo99gru48to6r<ref name=\"a\" />eauxw4qefh9qkt9\nB <ref name=\"b\">bar</ref>\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [2,0,0]", "rqvtw2dhokc323xr\n\nA <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,4,0],3,0]", "A <ref name=\"a\" />au9ros1y1gs3jtt9<ref name=\"b\">bar</ref>\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,2,0],3,0]", "A <ref name=\"a\" />m4fi5czzigvz33di\nB <ref name=\"b\">bar</ref>\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,3,0],0,0]", "A <ref name=\"a\" /><ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [2,2,0]", "v24kh9xqwj24kj4i\n\nA <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n3cfszzxowmjf9a4i\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[2,0,0,0],0,0]", "3veeem4hy9j2a9k9A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [1,3,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[4,0,0,0],3,0]", "0sq4bz7lihehfr<ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [4,4,0]", "lfl5lazff7irizfr\n\nt2vlo1j32ipjsjor\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [3,4,0]", "nuwpe9pypyb3ayvi\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [0,2,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\nky16pugtafywrk9\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "Entities in ref name [2]", "72oie2a08o69wwmi\n\n<ref name=\"test &amp; me\">hi</ref>");
add("selser", "Entities in ref name [1]", "<ref name=\"test &amp; me\">hi</ref>");
add("selser", "Headings: 5. Empty headings [[2],3,2,0,4,4,0,2,1,3,0]", "=hnjo2713bjvjwcdi<nowiki/>=\nx2d05yq3dapaxlxr\n==<nowiki/>==\n\nkaovt9si227ta9k9\n\nb2688fvzpaocrf6r\n====<nowiki/>====\nljshl952j0emte29\n\n=====<nowiki/>=====\n\n======<nowiki/>======");
add("selser", "Headings: 6a. Heading chars in SOL context (with trailing spaces) [2,0,2,4,[0,4],0,[[3],2]]", "rtisxhigxkr19k9\n\n<nowiki>=a=</nowiki>\n\ngkd54mgkipjsjor\n\n<nowiki>=a=</nowiki> \n\n9at1sm4xa34vlsor\n\n<nowiki>=a=</nowiki>vxvickerp8ehfr\n\n<nowiki></nowiki>wjgkieb0et1n61or \t");
add("selser", "Headings: 6a. Heading chars in SOL context (with trailing spaces) [4,0,1,0,4,4,[2,3]]", "o4fu7yz6zedvlsor\n\n<nowiki>=a=</nowiki> \n\nfzi337zwgfmbzkt9\n\nrziif3qr3rspp66r\n\nzm9kz709iqpsnhfr<nowiki>=a=</nowiki> \t");
add("selser", "Headings: 6a. Heading chars in SOL context (with trailing spaces) [[2],2,0,4,[[2],4],0,[[3],0]]", "0kn8q0rv3xh1714i<nowiki>=a=</nowiki>\n\ngq9lpt08jzpeewmi\n\n<nowiki>=a=</nowiki> \n\nxmpuw8oo3u6561or\n\n<nowiki>cv84az37ev3oko6r=a=</nowiki>r0yhf1wj4694fgvi\n\n<nowiki></nowiki> \t");
add("selser", "Headings: 6a. Heading chars in SOL context (with trailing spaces) [3,0,2,0,2,4,[3,0]]", "\nnv12ilh4law0zfr\n\n<nowiki>=a=</nowiki> \n\njrf4jsqff94fgvi\n\n<nowiki>=a=</nowiki>\t\n\ndcribntlgrtl0udi \t\n");
add("selser", "Headings: 6d. Heading chars in SOL context (with interspersed comments) [2,0,3,1]", "phebkb5pgdx3whfr\n\n<!--c0--><nowiki>=a=</nowiki>\n\n<nowiki>=a=</nowiki> <!--c2-->\t <!--c3-->");
add("selser", "Lists: 6. Escape bullets in SOL position [2]", "zfvn44lf3sqvvx6r\n\n<!--cmt--><nowiki>*foo</nowiki>");
add("selser", "Tables: 1d. No escaping needed 5", "foo");
add("selser", "1. Quotes inside <b> and <i> [[2,3,[1],4,0,0,[3],0,2,2,0,4,0,0,4,1,0,0,0,0,3,2,4,3,3,3,0,0,0,0,0,0,2,2,0,2,0,2,[3,0],0,[[4],0]]]", "b9ve2r72aq44e7b9''<nowiki>'foo'</nowiki>''''<nowiki>''foo''</nowiki>''jduad2jvmauac3di''<nowiki>'''foo'''</nowiki>''\n''<nowiki/>''<nowiki/>hb7ucb9xukofajor's\nimf9p1zrvbbdfgvi'''<nowiki>'foo'</nowiki>'''\nd92wpym0cizwu3di\n'''<nowiki>'''foo'''</nowiki>'''4mia6l6nhzolxr'''<nowiki>foo'</nowiki>''<nowiki>bar'</nowiki>''baz'''\n'''foo'''<nowiki/>'s\n'ris26lje0lwstt9\n6wag5p5b648l4n29''foo''<nowiki/>'\n''''foo'''\n'''foo'''rs74ede4dxiuow29<nowiki/>s455j5uyzl0daemi'\n'<nowiki/>c9hosabzbqhbyb9'''foo'''<nowiki/><nowiki>9zoxx3yi7wl5l8fr'</nowiki>\n''<span> errand</span>''\n''<span>1yl4yeqhhtr19k9</span>'s errand''");
add("selser", "1. Quotes inside <b> and <i> [[4,2,4,0,[[3]],3,0,3,3,[1],0,3,0,[3],4,[0,[[4]],4],0,2,1,4,1,0,1,2,2,0,1,0,0,2,3,0,4,0,3,0,1,0,4,0,2]]", "hfzzqh4z896n7b9y9b5b0h3xt4vx6r\nzopywt5d4aacq5mi\n''<nowiki></nowiki>''''foo'''''<nowiki>'foo'</nowiki>'''\n\n'''<nowiki/>'''uqjub7vnyn45cdi'''<nowiki>foo'</nowiki>''<nowiki>83tn7m6x3eib2o6r</nowiki>''mtl1eup7hihyf1or'''\nxjlu6g9f7btn8kt9'''foo'''<nowiki/>p1oe0q0yue4s4i''foo''\n''foo''eojrt6m8f16y9zfr<nowiki/>m5ph5u0twa3mobt9'\n'<nowiki/>''foo''<nowiki/>'\n'n96yj3i9qz1tt9'''foo''''''foo'''<nowiki>ksi8t5exrcgi7ldi'\n'</nowiki>'''foo'''<nowiki/>'\n6bj2bwfnyer0be29\nbu3r2xksbpujtt9''<span>fool</span>'s errand''");
add("selser", "1. Quotes inside <b> and <i> [[[[4]],0,3,2,2,2,1,1,0,2,3,[[4]],4,[[2]],0,3,3,3,0,3,3,0,2,0,0,2,3,1,0,3,0,0,4,4,4,[2],1,3,4,2,[3,0]]]", "''<nowiki>av6ia62qlqj5g66r</nowiki>''\ndd67jgaznmcayvi\n9nxqxr9rsomq85mi''<nowiki>'''foo'''</nowiki>''2qbh5zutf82p4x6r\n''foo''<nowiki/>'s\nkvikr5b01zq41jor'''<nowiki>'foo'</nowiki>''''''<nowiki>u70g0hr9yg5jyvi</nowiki>'''hdyz8z5toahjv2t9'''<nowiki>ykgu26a711ao47vi'''foo'''</nowiki>'''\n<nowiki/>\nvi6ls290eteghkt9''foo''<nowiki/>'\n'ilyo093i3ipy14i<nowiki/><nowiki/><nowiki>'\n'</nowiki>\n'''foo'''8fh6lvjb5wxw29y9rq51gjn7gy14ie5tmcga6v927qfr'''t492w9pqm0urqkt9foo'''<nowiki/>ovhh9d5w53oywrk96gj1mm8uwmydgqfr\n''<nowiki>'s errand</nowiki>''\n");
add("selser", "1. Quotes inside <b> and <i> [[0,0,4,3,[4],4,2,0,3,[4],0,0,4,2,3,4,2,4,4,0,4,0,1,0,2,2,4,4,0,[4],0,3,2,3,3,[4],2,4,[4,4],0,3]]", "''<nowiki>'foo'</nowiki>''\n0dg3s14v6j9n3ik9''hdbn7hqzlmm6xbt9''90tm6vstptnsif6ry6zsov73fnryhkt9''foo''<nowiki/>'''emzbmuzootv86w29'''\n'''<nowiki>''foo''</nowiki>'''hiiyxrqd9qrxjemi5wlolf2fw3o9a4i'''<nowiki>'''foo'''</nowiki>'''ymi36ebiny4lsorfcyoasrgv694fgvi\nwlbuxyfz6icw61oryu6gxnq3t9r1wcdi's\n'snmiqhfzkqxpf1or\n''foo''<nowiki/>h8quse09hwa5rk9'\n'33bf4sjnwys3jtt9<nowiki/><nowiki>kclsioxw9a32qpvipuurk2czam9ara4i'\n'</nowiki>'''zsvkf59hfdh1tt9'''\nnujzeqqs04b73nmi<nowiki/>'''wi8atacph73w61or'''ubfqj8ev7wqumcxr<nowiki/>dfbc0i8b1qq6w29''bn9o6l9n4czvvx6r49zb1dh3pw0icnmi''\n");
add("selser", "1. Quotes inside <b> and <i> [[[2],0,3,0,[[3]],4,4,1,0,2,4,0,3,1,3,[2,2,0],0,2,3,0,[2],2,1,2,3,0,4,4,4,0,4,0,0,0,0,4,0,3,1,0,3]]", "''rou4oqqj45pwg66r<nowiki>'foo'</nowiki>''\n\n''<nowiki></nowiki>''6o82gwbgw9xxn7b9n4fc723rbxtg9zfr<nowiki/>'s\na2j82rc1askedn29'''<nowiki>'foo'</nowiki>'''8vtzkg2u8wnopqfr'''<nowiki>''foo''</nowiki>''''''<nowiki>'''foo'''</nowiki>''''''ipon7rm9iy0hpvi<nowiki>foo'</nowiki>jsehige2uxov42t9''<nowiki>bar'</nowiki>''baz'''\ndinfburnti0ms4i'''foo'''<nowiki>'s\n'</nowiki>''bximthck3qgaxlxrfoo''rbhllev1hoo2mx6r\n''foo''mans72mc33csdcxr<nowiki/><nowiki/>dnvvbq5ayqc6usor3mtgpe7obxirudi9293k6dvvmoq1tt9'''foo'''zs5z7v3q0qaug14i'''foo'''<nowiki/>'\n'<nowiki/>deu4ioyka97fogvi<nowiki/>''fools'<span> errand</span>''\n");
add("selser", "1. Quotes inside <b> and <i> [[3,0,[[3]],0,1,0,0,1,4,4,2,2,4,2,0,1,4,4,4,0,[4],4,0,3,0,0,2,0,0,0,3,3,0,4,0,2,0,3,3,0,2]]", "\n''<nowiki></nowiki>''\n''<nowiki>'''foo'''</nowiki>''\n''foo''<nowiki/>zn8e50rixfo2mx6rnwxcb0vltssmj9k971d5b4dgu6av2t9\nb5vbc2u00aoflxr'''<nowiki>''foo''</nowiki>'''2pmyruoajdjcerk9x1opqkhimg77rpb9'''<nowiki>'''foo'''</nowiki>'''\n'''<nowiki>foo'</nowiki>''<nowiki>bar'</nowiki>''baz'''<nowiki>q8wvj0qw43x47vio054hnv223wbqpvid0g2obid9akvgqfr's\n'</nowiki>''dj4fdj44116ecdi''qxeb9eikbg3krzfr''foo'''\n'<nowiki/>pnvdzbfba10pb9''foo''<nowiki/>'\n''''foo'''<nowiki/>0kybjloy4qf9wwmi<nowiki/>5h2hbokwkouyds4i'''foo'''<nowiki/>\ne7bgdd2wwqy6i529''<span>fool</span>'s errand''");
add("selser", "1. Quotes inside <b> and <i> [[3,0,[[4]],4,0,0,3,0,0,[2],0,3,0,2,0,[4,0,0],2,2,3,0,0,2,[2],1,0,0,[3],0,0,4,0,[3],0,2,2,4,3,4,[0,4],2,3]]", "\n''<nowiki>9du4tukpxr5p14i</nowiki>''a3oxn4o6xuoez5mi''<nowiki>'''foo'''</nowiki>''\n<nowiki/>'s\n'''zb6b8p4dsrgj5rk9<nowiki>'foo'</nowiki>'''\n\nn5g2nainzi9evcxr'''<nowiki>'''foo'''</nowiki>'''\n'''fjf9en2rxyw1xlxr''<nowiki>bar'</nowiki>''baz'''0epvoyu7k445nrk9\n3t058jjruq4wvcxr'''foo'''<nowiki>'s\n'</nowiki>''foo''w3assj8fjchm2t9\n''406bo4oovs3sdcxrfoo''<nowiki/>'\n'<nowiki/>''<nowiki/>''<nowiki/>'\n'l8ur9en9wqe8w7b9\n'''<nowiki/>'''<nowiki/>upyarw5tif1rlik9'\n'xf76q2gb9hmbcsor<nowiki/>zeaqonfmvysexw295dvwath003dqjjor''fools'q5arckx2cdk4vx6r''bofwi490po8q6w29\n");
add("selser", "1. Quotes inside <b> and <i> [[4,2,0,0,[2],0,1,0,4,0,3,2,0,[[2]],0,[3,0,2],0,3,0,0,[4],4,[2],2,0,0,2,0,0,1,0,[4],4,4,0,[4],0,2,[4,4],3,[4,4]]]", "acy673rinovfgviplr0nwpq14079zfr\n''<nowiki>''foo''</nowiki>''\n''x9s8roz7iecul3di<nowiki>'''foo'''</nowiki>''\n''foo''<nowiki/>ncaawjaqbiall3di'''<nowiki>'foo'</nowiki>'''7mofib93ncj714i'''<nowiki>''foo''</nowiki>'''\n'''<nowiki>a0h559r0kaf9a4i'''foo'''</nowiki>'''\n'''''<nowiki>bar'</nowiki>''u16dq127mnlgzaorbaz'''\n<nowiki/>'s\n'''265zz6wn68zg2e29''dcfy6wfyuuonipb9''htjvrgg81o47vifoo''n0so9m9gubthjjor<nowiki/>'\n'<nowiki/>5mx7467s2pe6d2t9''foo''<nowiki/>'\n''''foo'''\n'''enwlc3t7myt4kj4i'''x6ngpya7ros10pb9pil88s26p0mp9zfr<nowiki/>'''guy0jrmki6v18aor'''<nowiki/><nowiki>79cji1kde00jxlxr'</nowiki>\n''ce9yefc1ixp3nmiudh3zchhff94fgvi''''41nysayj1hsemi6nuqrvo7e9qtcsor''");
add("selser", "1. Quotes inside <b> and <i> [[1,2,2,3,0,0,0,0,0,4,3,[1],4,2,2,2,0,0,1,2,0,0,[3],1,0,0,0,4,3,3,2,4,0,0,0,[4],1,0,[4,0],0,3]]", "''<nowiki>'foo'</nowiki>''8mwsali9gk87iudi\npexq8y928svpldi''<nowiki>''foo''</nowiki>''''<nowiki>'''foo'''</nowiki>''\n''foo''<nowiki/>'s\n6l3n0isukyxbhuxr'''<nowiki>''foo''</nowiki>'''293if16rvbo6rya8ucw2l1ot4vx6r'''<nowiki>'''foo'''</nowiki>'''d3o8cb65amo8yqfr\nv76s1c9t27a2a9k9'''<nowiki>foo'</nowiki>''<nowiki>bar'</nowiki>''baz'''\n'''foo'''<nowiki/><nowiki>6au4ok542pv9ggb9's\n'</nowiki>''foo''\n''<nowiki/>''<nowiki/>'\n'<nowiki/>''foo''49byb5ksap096bt9gbi7s1g1j9ssjor\n0mei8fghvg2xzuxr<nowiki/>'\n'<nowiki/>'''h0tu65jvy6iuow29'''<nowiki/>'\n''k5w5t6fgn4uz0k9<span> errand</span>''\n");
add("selser", "1. Quotes inside <b> and <i> [[4,0,4,0,0,2,1,4,2,1,3,[3],3,[[2]],3,3,3,0,4,0,3,4,0,2,0,0,4,0,2,3,0,0,4,0,3,0,1,0,3,0,[0,4]]]", "bcv9t18xvahh0k9\n7j4ebaxa7o9ftj4i\n''<nowiki>'''foo'''</nowiki>''mry7gwh281tt9\n''foo''6z57b2fhe9yn9udi7d4vr8m4oxcivn29's\n'''<nowiki>'foo'</nowiki>''''''<nowiki/>''''''<nowiki>x4ljrkxn00jxlxr'''foo'''</nowiki>''''''foo'''eg408kyvbtck57b9's\n'72iu8q6iuihehfr''foo''hs9psbz3fcdw8kt9<nowiki/>'\n'<nowiki/>hpob0uhvs0885mi<nowiki/><nowiki>1ikpa9oovowghkt9'\n'</nowiki>\n'''foo'''<nowiki>qo14fsr5nx2vgqfr'\n'</nowiki>'''foo'''<nowiki/><nowiki>'</nowiki>\n\n''<span>fool</span>qgboi2cpqmovquxr''\n");
add("selser", "1. Quotes inside <b> and <i> [[3,0,0,0,0,4,4,0,3,1,3,0,3,1,3,4,4,4,0,3,4,3,2,3,0,0,3,4,0,4,0,1,0,0,0,[3],0,0,0,4,1]]", "\n''<nowiki>''foo''</nowiki>''\n''<nowiki>'''foo'''</nowiki>''948m22lf1cnb3xrbaoqjpy11p33ow29<nowiki/>'''<nowiki>'foo'</nowiki>''''''<nowiki>''foo''</nowiki>''''''<nowiki>'''foo'''</nowiki>'''425jab38ms32qpvibrv2d7nt35mnp14id7vrobs3yc01wcdi<nowiki/>cecami0l4gh6ko6rfuu53k5nxiw45cdi''foo'''\n'<nowiki/>qt7vtmu20tmg3nmi'\n'2j5316w7i0h33di\n'''foo'''<nowiki/>'\n'<nowiki/>'''<nowiki/>'''<nowiki/>'\n''fools'<span> errand</span>''9ivydae96nqj8aor''<span>fool</span>'s errand''");
add("selser", "1. Quotes inside <b> and <i> [[2,0,[4],0,[2],2,[2],3,0,1,3,1,0,1,0,[[3],[[4]],4],3,4,1,2,0,3,0,2,4,1,4,3,0,3,4,3,3,4,0,3,0,2,3,0,2]]", "sx87l4zay3dnp14i''<nowiki>'foo'</nowiki>''\n''0kml3vuceuerk9''\n''1sbtzk31mw9afw29<nowiki>'''foo'''</nowiki>''r93igyqh11vbcsor\n''y6sbapzqpstw3ik9foo''<nowiki/><nowiki>'s</nowiki>\n'''<nowiki>'foo'</nowiki>''''''<nowiki>''foo''</nowiki>'''\n'''<nowiki>'''foo'''</nowiki>'''\n'''<nowiki></nowiki>''<nowiki>fd4pwvqpwqumcxr</nowiki>''02j8cb0kd9rudi'''z6ecfej7h6r2uik9<nowiki/><nowiki>0lw8ky2w9e019k9's\n'</nowiki>''foo''''foo''jirdtfgbxlsrlik9<nowiki/>3vqeg2i0wsj4te29<nowiki/>rrjx6fkjajug14i'\n'c4sat7pg7k1sv2t9tm6j4e1wxicw61or<nowiki/><nowiki/>65nhx786limdvx6r'\nerpioh7szzjmj9k9''<span>fool</span>'s errand''");
add("selser", "1. Quotes inside <b> and <i> [[[1],0,4,2,4,0,0,0,3,[1],4,1,3,0,0,1,3,0,0,0,[4],3,1,3,0,1,4,3,2,3,4,1,1,4,4,0,4,0,[0,2],0,4]]", "''<nowiki>'foo'</nowiki>''\nw0pcxxar7ge3ik9bzleu526yptoi529\nib5hb5y8xz11c3di\n''foo''<nowiki/>'''<nowiki>'foo'</nowiki>'''0eetyhd3jbnpnwmi'''<nowiki>''foo''</nowiki>''''''<nowiki>'''foo'''</nowiki>'''\n'''<nowiki>foo'</nowiki>''<nowiki>bar'</nowiki>''baz''''''foo'''<nowiki/>'s\n'''t31umyu5wuibpgb9''''foo''<nowiki/>'\n'<nowiki/>5pfu21xak35zh0k9ilk7hsfpjl2l0udi'\n'uc4d486rno5stt9'''foo'''<nowiki/>6r4kpfl58n4jkyb9sxv0hu5752ck57b9'''foo'''<nowiki>d6wc89asddakbj4i'</nowiki>\n''fools'f8djolrdxwdn29<span> errand</span>''\n1gdahe5e9ecul3di\n");
add("selser", "HTML tag with broken attribute value quoting [1]", "<span title=\"Hello world>Foo</span>");
add("selser", "HTML tag with broken attribute value quoting [2]", "zlkpme7jgj76tj4i\n\n<span title=\"Hello world>Foo</span>");
add("selser", "HTML tag with broken attribute value quoting [[2]]", "19ydfukj49zoajor<span title=\"Hello world>Foo</span>");
add("selser", "Parsoid-only: HTML tag with broken attribute value quoting [1]", "<span title=\"Hello world>Foo</span>");
add("selser", "Parsoid-only: HTML tag with broken attribute value quoting [2]", "xn02lqvi91603sor\n\n<span title=\"Hello world>Foo</span>");
add("selser", "Parsoid-only: HTML tag with broken attribute value quoting [[2]]", "wqj1jgwdq3680k9<span title=\"Hello world>Foo</span>");
add("selser", "Table with broken attribute value quoting [2]", "mr20rqhubuwstt9\n{|\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,[2,0]]]", "{|\n<!--ntjtaez0pi0h33di-->| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[4,1]]", "{|<!--aai5lsutuhht1emi-->\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,1]]", "{|\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [1]", "{| data-foobar=\"pa0vp357jvr0ms4i\"\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,[[2],0]]]", "{|\n|wf125xn56rhsq0k9\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,[[2],2]]]", "{|\n|cp6e2iwuotkjra4i\n| title=\"Hello world|Foo<!--ndtyo6dy2iou5wmi-->\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[3,2]]", "{|<!--e45oiux5ebmg3nmi-->\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [1]", "{| data-foobar=\"r285ew8on06yldi\"\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[0,[1,0]]]", "{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [2]", "g4iu5aji4bwqaor\n{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[0,1]]", "{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[4,[[[3],0,0],0]]]", "{|<!--xx6pmaat1ma0dx6r-->\n| title=\"Hello world\" |\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[4,[[1,0,0],0]]]", "{|<!--nejaqckt9hmbcsor-->\n| title=\"Hello world\" data-foobar=\"bumvfdcvrbhme7b9\" |Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[4,2]]", "{|<!--7wm4bxgh5f0w9udi--><!--xv1dekuqzsiw9udi-->\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[0,[[2,0,3],3]]]", "{|\n|fk1rjyjbpej6ecdi\n| title=\"Hello world|Foo\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [[0,[2,0]]]", "{|\n<!--65b6dlogs124kj4i-->| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [1]", "{| data-foobar=\"xgsbz2z4izlg14i\"\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [2]", "wzsbqm5vh2pujtt9\n{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [[4,[[3,0,2],0]]]", "{|<!--jwixqiu7bck57b9-->\n|m43mcklikp0newmi\n| style=\"color:red|Bar\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [[2,2]]", "{|<!--p7jjy5nnfa5g66r-->\n<!--e7dbmj924nwv1jor-->| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [[0,2]]", "{|\n<!--10pgp40wu8035wmi-->| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Parsoid-only: Table with broken attribute value quoting on consecutive lines [[0,[1,0]]]", "{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [1]", "{| data-foobar=\"pjc22ppvxsn3766r\"\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,2]]", "{|\n<!--jqwe4sxcvdqxs9k9-->|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[0,3]]]", "{|\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[0,4]]]", "{|\n|- [[foo]]<!--t2u9971ezmj6pqfr-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,1]]", "{|\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [2]", "zpuyqbdlibj1nhfr\n{|\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[4,[0,2]]]", "{|<!--72wprvcrqcsxajor-->\n|- [[foo]]<!--fo1qvsdgv3xtuik9-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[4,2]]", "{|<!--j8hwklray6ekx1or--><!--p7v1guykesl9pb9-->\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[2,4]]]", "{|\n<!--illxemer9nrpy14i-->|- [[foo]]<!--sxxrpf8t8m48ia4i-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[0,2]]]", "{|\n|- [[foo]]<!--qyiayk5wxhn9izfr-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[4,0]]", "{|<!--a467voa6hewdygb9-->\n|- [[foo]]\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [1]", "{| data-foobar=\"jgkmcix8xedsra4i\"\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [2]", "r7gp18ucnccsdcxr\n{|\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,[[2,0,0,0],0]]]", "{|\n|-\n|1a4bk95i0u9885mi\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,[[0,4,0,0],3]]]", "{|\n|-\n|jnrkr7jn4o14te29\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,[1,4]]]", "{|\n|- data-foobar=\"0532xsqruk32fbt9\"\n|\n|{{echo|style='color:red'}}|foo<!--tn18t2s8bb6b6gvi-->\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,2]]", "{|\n<!--anfn90dygsvbcsor-->|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,2]]", "{|<!--3z7wqf2lpjdlhaor--><!--c7w2sjrg7jozjjor-->\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,[2,0]]]", "{|<!--2bvfx9ybokmrhpvi--><!--gyubsw35fbeasjor-->\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,1]]", "{|\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[3,[[0,2,0,0],0]]]", "{|\n|-\n|t1833l938cq2rzfr\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[3,[[4,0,0,0],4]]]", "{|\n|-\n|9vflhnc8lefgk3xr\n|\n|{{echo|style='color:red'}}|foo<!--w612epsbwkf8yqfr-->\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,[[0,0,4,0],0]]]", "{|<!--rjnlnc8a6rvbo6r-->\n|-\n|\n|gmtx9nekb777rpb9\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,1]]", "{|<!--sedhsf2n5lhoxbt9-->\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[0,2],2,0,1,2]]", "<span> aq2vwpb6wpqr529<s>x</span>hse4dnwv1jor </s>\n''' ''x'''4i8mmhfpdj84zpvi ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [1]", "<span> <s>x</span> </s>\n''' ''x''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[0,1,2,[0,2],0]]", "<span> <s>x</span> </s>l1n5yssmn9q3q5mi\n''' 8n4q6nzuib68byb9''x''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,[4],4,0,3]]", "gxqrla3gf9vhd7vi</s>3komtxorsccmobt9''' ''x'''\n");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [2]", "w13s9iorezt49529\n\n<span> <s>x</span> </s>\n''' ''x''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[1,4,2,2,3]]", "<span data-foobar=\"geissfhlrgsexw29\"> <s>x</span>ekui1pysh7kz9f6rtz3yg13acmlhaor\n0dzjx04e0eyx2yb9''' ''x'''\n");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[2,[4]],3,0,[0,4],0]]", "<span>ai65b12c016pqfr <s>k8xyu6adyimjkyb9</span>\n''' 70t7ju15bjll3di''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[3,1],4,3,2,1]]", "<span><s data-foobar=\"yujoodxazklf2yb9\">x</span>g5x4jefy4tmlsorj9qqbu42v12lnmi''' ''x'''<nowiki/>'' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[0,2],[3],0,3,0]]", "<span> fv4h62f72no8ncdi<s>x</span></s>\n ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,2,0,[3,2],4]]", "ulumx746u2vp9zfr </s>\n'''h2vjgubjh4wvcxr''x'''v1lll28j1b7c766r");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,0,4,3,0]]", " </s>x6kyvk2giu73c8fr ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[1,3,0,2,1]]", "<span data-foobar=\"y8ap084xozqnz5mi\"> <s>x</span>\no3kjpkzbf9od2t9''' ''x'''<nowiki/>'' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,4,4,0,2]]", "zspuuqxabmtmlsorhu9yn80lmnm6lxr''' ''x'''f278nrkbehwu3di ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[0,3],[3],0,3,0]]", "<span> </span></s>\n ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[2,1],[3],3,[0,3],0]]", "<span>i9p8te7ufdmquxr <s data-foobar=\"xoximjgruc95dn29\">x</span></s>''' ''' ''");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [[2],2]", "1ono4oiy8mukrzfr || ||\n\nmzcnsozlqz63l3di\n<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,[0,[3,3]]]", "<table>\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,2]", "\nccdliev3ts2zw7b9\n<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [[4],1]", "1cqp1we3vbyv6lxr<table data-foobar=\"aa9lqxou81if6r\">\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,[0,[[4],4]]]", "<table>\n<tr><td>eppdx87on0dd9529</td><!--rsvnvzp8z32nvcxr--></table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [[2],1]", "15phixjatjn0cnmi || ||\n<table data-foobar=\"ncg67wf6jpaxlxr\">\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,[0,[2,0]]]", "<table>\n<!--619ferqsrkmiy66r--><tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [2,1]", "zayftnru704wjyvi<table data-foobar=\"gy9c4jt9nejt6gvi\">\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [2,[0,3]]", "v4428ruthukxogvi<table></table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [4,2]", "neq7989ch1fko6r\n\nyd0lw8pmcff20529\n<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,[0,[1,0]]]", "<table>\n<tr data-foobar=\"5imhq6kivqfzjjor\"><td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,3]", "");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,[0,2]]", "<table>\n<!--5idqtjfqctgiizfr--><tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in spans (traps regressions around fostered marker on the span getting lost) [0,[2,4]]", "<table><!--3ufvfgjc3tinewmi--><!--08wyqwugw1r79zfr--></table>");
add("selser", "Table in fosterable position 5", "{{OpenTable}}\n<div>\n{|\n|}\n");
add("selser", "Image: upright option is ignored on inline and frame images (parsoid) [1]", "[[File:Foobar.jpg|500x500px|upright=0.5|caption]]");
add("selser", "Image: upright option is ignored on inline and frame images (parsoid) [2]", "kywu2qkfz9eh4cxr\n\n[[File:Foobar.jpg|500x500px|upright=0.5|caption]]");

// ### DO NOT REMOVE THIS LINE ### (end of automatically-generated section)


if (typeof module === 'object') {
	module.exports.testBlackList = testBlackList;
}
