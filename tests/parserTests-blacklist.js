/* A map of tests which we know Parsoid currently fails.
 *
 * New patches which fix previously-broken tests should also patch this
 * file to document which tests are now expected to succeed.
 *
 * This helps clean up 'npm test' output, documents known bugs, and helps
 * Jenkins make sense of the parserTest output.
 *
 * NOTE that the selser blacklist depends on tests/selser.changes.json
 * If the selser change list is modified, this blacklist should be refreshed.
 *
 * This blacklist can be automagically updated by running
 *    parserTests.js --rewrite-blacklist
 * You might want to do this after you fix some bug that makes more tests
 * pass.  It is still your responsibility to carefully review the blacklist
 * diff to ensure there are no unexpected new failures (lines added).
 */

/*
 * This should map test titles to an array of test types (wt2html, wt2wt,
 * html2html, html2wt, selser) which are known to fail.
 * For easier maintenance, we group each test type together, and use a
 * helper function to create the array if needed then append the test type.
 */
var testBlackList = {};
var add = function(testtype, title, raw) {
	if (typeof(testBlackList[title]) !== 'object') {
		testBlackList[title] = {
			modes: [],
			raw: raw
		};
	}
	testBlackList[title].modes.push(testtype);
};

// ### DO NOT REMOVE THIS LINE ### (start of automatically-generated section)

// Blacklist for wt2html
add("wt2html", "Extra newlines between heading and content are swallowed", "<h1 data-parsoid='{\"dsr\":[0,3,1,1]}'>b</h1>\n\n<p data-parsoid='{\"dsr\":[5,5,0,0]}'><br data-parsoid='{\"dsr\":[5,5,0,0]}'/></p>\n\n<p data-parsoid='{\"dsr\":[7,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./A\" title=\"A\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./A\"},\"sa\":{\"href\":\"a\"},\"dsr\":[7,12,2,2]}'>a</a></p>");
add("wt2html", "Isolated close tags should be treated as literal text (bug 52760)", "\n\n<p data-parsoid='{\"dsr\":[6,18,0,0]}'>&lt;s.foo>s</p>");
add("wt2html", "Comment on its own line post-expand", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'>a\n<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[2,11,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"blank\",\"href\":\"./Template:Blank\"},\"params\":{},\"i\":0}}]}'></span><!---->\nb</p>");
add("wt2html", "Comment on its own line post-expand with non-significant whitespace", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>a\n <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[3,12,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"blank\",\"href\":\"./Template:Blank\"},\"params\":{},\"i\":0}}]}'></span> <!----> \nb</p>");
add("wt2html", "Block tag on one line (<blockquote>)", "<p data-parsoid='{\"dsr\":[0,2,0,0]}'>a </p><blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[2,30,12,13]}'>foo</blockquote>\n\n<p data-parsoid='{\"dsr\":[32,33,0,0]}'>b</p>");
add("wt2html", "Block tag on both lines (<blockquote>)", "<p data-parsoid='{\"dsr\":[0,2,0,0]}'>a </p><blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[2,30,12,13]}'>foo</blockquote>\n\n<p data-parsoid='{\"dsr\":[32,34,0,0]}'>b </p><blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[34,62,12,13]}'>foo</blockquote>");
add("wt2html", "<pre> with <nowiki> inside (compatibility with 1.6 and earlier)", "<pre data-parsoid='{\"stx\":\"html\",\"dsr\":[0,45,5,6]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[5,39,8,9]}'>\n&lt;b>\n&lt;cite>\n&lt;em>\n</span></pre>");
add("wt2html", "Bug 52763: Preformatted in <blockquote>", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,74,12,13]}'>\n<p data-parsoid='{\"dsr\":[13,18,0,0]}'> Blah</p>\n<table data-parsoid='{\"dsr\":[19,60,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[22,58,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[22,57,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[22,57,1,0]}'>\n<pre data-parsoid='{\"dsr\":[24,57,1,0]}'>indented cell (no pre-wrapping!)</pre></td></tr>\n</tbody></table>\n</blockquote>");
add("wt2html", "Bug 15491: <ins>/<del> in blockquote (2)", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,64,12,13]}'>Foo <del data-parsoid='{\"stx\":\"html\",\"dsr\":[16,30,5,6]}'>bar</del> <ins data-parsoid='{\"stx\":\"html\",\"dsr\":[31,45,5,6]}'>baz</ins> quux\n</blockquote>");
add("wt2html", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content", "<pre about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,11,1,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\" \"}},\"i\":0}},\"a\"]}'>a</pre>\n\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[13,25,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n \"}},\"i\":0}},\"a\"]}'>\n</span><pre about=\"#mwt2\">a</pre>\n\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[27,39,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n b\"}},\"i\":0}}]}'>\n</span><pre about=\"#mwt3\">b</pre>\n\n<p about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[41,54,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\\n \"}},\"i\":0}},\"b\"]}'>a</p><span about=\"#mwt4\">\n</span><pre about=\"#mwt4\">b</pre>\n\n<p about=\"#mwt5\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[56,67,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\\n\"}},\"i\":0}}]}'>a</p><span about=\"#mwt5\">\n</span><pre data-parsoid='{\"dsr\":[67,69,1,0]}'>b</pre>");
add("wt2html", "Templates: Don't strip whitespace from positional-param values", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,11,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a \"}},\"i\":0}}]}'>a </p>\n\n<p about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[13,33,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"{{echo|b}} \"}},\"i\":0}}]}'>b </p>\n\n<pre about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[35,48,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\" c \\n\"}},\"i\":0}}]}'>c </pre><span about=\"#mwt4\">\n</span>\n\n<pre about=\"#mwt5\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[50,71,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\" {{echo|d}}\\n\"}},\"i\":0}}]}'>d</pre><span about=\"#mwt5\">\n</span>\n\n<span about=\"#mwt7\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[73,85,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n e\"}},\"i\":0}}]}'>\n</span><pre about=\"#mwt7\">e</pre>\n\n<span about=\"#mwt8\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[87,100,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n* f\"}},\"i\":0}}]}'>\n</span><p about=\"#mwt8\">* f</p>\n\n<span about=\"#mwt9\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[102,114,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n \"}},\"i\":0}},\"g\"]}'>\n</span><pre about=\"#mwt9\">g</pre>");
add("wt2html", "Templates: Other wikitext in parameter names (bug 67657)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[{\"k\":\"&#39;&#39;1&#39;&#39;\",\"named\":true,\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"&#39;&#39;1&#39;&#39;\":{\"wt\":\"foo\"}},\"i\":0}}]}'>foo</p>");
add("wt2html", "4. Indent-Pre and extension tags", " <p data-parsoid='{\"dsr\":[1,3,0,0]}'>a </p><div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:foobar.jpg\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[3,39,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:foobar.jpg\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:foobar.jpg\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:foobar.jpg\"}}'/></a></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,29,null,null]}'/></div>");
add("wt2html", "6. Pre-blocks should extend across lines with leading WS even when there is no wrappable content", "<pre data-parsoid='{\"dsr\":[0,26,1,0]}'>a\n\n <!-- continue -->\nb</pre>\n\n<pre data-parsoid='{\"dsr\":[28,30,1,0]}'>c</pre>\n \n<p data-parsoid='{\"dsr\":[33,34,0,0]}'>d</p>");
add("wt2html", "Definition Lists: colons occurring in tags", "<dl data-parsoid='{\"dsr\":[0,93,0,0]}'><dt data-parsoid='{\"dsr\":[0,2,1,0]}'>a</dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[2,4,1,0]}'>b</dd>\n<dt data-parsoid='{\"dsr\":[5,15,1,0]}'><b data-parsoid='{\"dsr\":[6,15,3,3]}'>a:b</b></dt>\n<dt data-parsoid='{\"dsr\":[16,27,1,0]}'><i data-parsoid='{\"stx\":\"html\",\"dsr\":[17,27,3,4]}'>a:b</i></dt>\n<dt data-parsoid='{\"dsr\":[28,45,1,0]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[29,45,6,7]}'>a:b</span></dt>\n<dt data-parsoid='{\"dsr\":[46,61,1,0]}'><div data-parsoid='{\"stx\":\"html\",\"dsr\":[47,61,5,6]}'>a:b</div></dt>\n<dt data-parsoid='{\"dsr\":[62,75,1,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[63,75,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a:b\"}},\"i\":0}}]}'>a:b</span></dt>\n<dt data-parsoid='{\"dsr\":[76,93,1,0]}'><i about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[77,93,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&#39;&#39;a:b&#39;&#39;\"}},\"i\":0}}]}'>a:b</i></dt></dl>");
add("wt2html", "Definition Lists: colons and tables 1", "<dl data-parsoid='{\"dsr\":[0,21,0,0]}'><dd data-parsoid='{\"dsr\":[0,10,1,0]}'><table data-parsoid='{\"dsr\":[1,10,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[4,8,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[4,7,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[4,7,1,0]}'> x</td></tr>\n</tbody></table></dd>\n<dd data-parsoid='{\"dsr\":[11,21,1,0]}'><table data-parsoid='{\"dsr\":[12,21,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[15,19,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[15,18,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[15,18,1,0]}'> y</td></tr>\n</tbody></table></dd></dl>");
add("wt2html", "External links: Free with trailing punctuation", "<p data-parsoid='{\"dsr\":[0,483,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a>,\n<a rel=\"mw:ExtLink\" href=\"http://example.com;\" data-parsoid='{\"stx\":\"url\",\"dsr\":[20,39,0,0]}'>http://example.com;</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\\\" data-parsoid='{\"stx\":\"url\",\"dsr\":[40,59,0,0]}'>http://example.com\\</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[60,78,0,0]}'>http://example.com</a>.\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[80,98,0,0]}'>http://example.com</a>:\n<a rel=\"mw:ExtLink\" href=\"http://example.com!\" data-parsoid='{\"stx\":\"url\",\"dsr\":[100,119,0,0]}'>http://example.com!</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com?\" data-parsoid='{\"stx\":\"url\",\"dsr\":[120,139,0,0]}'>http://example.com?</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[140,158,0,0]}'>http://example.com</a>)\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_(brackets)\" data-parsoid='{\"stx\":\"url\",\"dsr\":[160,198,0,0]}'>http://example.com/url_with_(brackets)</a>\n(<a rel=\"mw:ExtLink\" href=\"http://example.com/url_without_brackets\" data-parsoid='{\"stx\":\"url\",\"dsr\":[200,239,0,0]}'>http://example.com/url_without_brackets</a>)\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity \" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity \"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;nbsp;\"},\"dsr\":[241,281,0,0]}'>http://example.com/url_with_entity </a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity \" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity \"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;#xA0;\"},\"dsr\":[282,322,0,0]}'>http://example.com/url_with_entity </a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity \" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity \"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;#160;\"},\"dsr\":[323,363,0,0]}'>http://example.com/url_with_entity </a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity\" data-parsoid='{\"stx\":\"url\",\"dsr\":[364,398,0,0]}'>http://example.com/url_with_entity</a><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[398,402,null,null]}'>&lt;</span>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity&lt;\" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity&lt;\"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;#x3C;\"},\"dsr\":[403,443,0,0]}'>http://example.com/url_with_entity&lt;</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity&lt;\" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity&lt;\"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;#60;\"},\"dsr\":[444,483,0,0]}'>http://example.com/url_with_entity&lt;</a></p>");
add("wt2html", "External links: No preceding word characters allowed (bug 65278)", "<p data-parsoid='{\"dsr\":[0,87,0,0]}'>NOPE<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[4,22,0,0]}'>http://example.com</a>\nN0<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[25,43,0,0]}'>http://example.com</a>\nok:<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[47,65,0,0]}'>http://example.com</a>\nok-<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[69,87,0,0]}'>http://example.com</a></p>");
add("wt2html", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid", "<p data-parsoid='{\"dsr\":[0,204,0,0]}'><i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[0,29,2,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":22,\"contentOffsets\":[22,28],\"dsr\":[2,29,20,1]}'>text<i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[26,28,2,0]}'></i></a></i>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":50,\"contentOffsets\":[50,57],\"dsr\":[30,58,20,1]}'><b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[50,57,3,0]}'>text</b></a><b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[58,61,3,0]}'></b>\n<i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[62,106,2,0]}'>Something <a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":94,\"contentOffsets\":[94,105],\"dsr\":[74,106,20,1]}'>in italic<i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[103,105,2,0]}'></i></a></i>\n<i data-parsoid='{\"dsr\":[107,164,2,2]}'>Something <a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":139,\"contentOffsets\":[139,160],\"dsr\":[119,161,20,1]}'>mixed<b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[144,160,3,0]}'><i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[147,160,2,0]}'>, even bold</i></b></a>'</i>\n<b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[165,204,3,0]}'><i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[168,204,2,0]}'>Now <a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"targetOff\":194,\"contentOffsets\":[194,203],\"dsr\":[174,204,20,1]}'>both<b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[198,203,3,0]}'><i data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[201,203,2,0]}'></i></b></a></i></b></p>");
add("wt2html", "External link containing double-single-quotes in text embedded in italics (bug 4598 sanity check)", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'><i data-parsoid='{\"dsr\":[0,60,2,2]}'>Some <a rel=\"mw:ExtLink\" href=\"http://example.com/\" data-parsoid='{\"targetOff\":28,\"contentOffsets\":[28,56],\"dsr\":[7,57,21,1]}'>pretty <i data-parsoid='{\"dsr\":[35,46,2,2]}'>italics</i> and stuff</a>!</i></p>");
add("wt2html", "Template-generated table cell attributes and cell content (2)", "<table data-parsoid='{\"dsr\":[0,35,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,33,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,32,0,0]}'><td align=\"center\" style=\"color: red\" typeof=\"mw:Transclusion\" about=\"#mwt1\" data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,32,1,0],\"pi\":[[]]}' data-mw='{\"parts\":[\"|align=center \",{\"template\":{\"target\":{\"wt\":\"table_cells\",\"href\":\"./Template:Table_cells\"},\"params\":{},\"i\":0}}]}'> Foo<span> || Bar || Baz</span></td></tr>\n</tbody></table>");
add("wt2html", "Self-link to numeric title", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'><a rel=\"mw:WikiLink\" href=\"./0\" title=\"0\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./0\"},\"sa\":{\"href\":\"0\"},\"dsr\":[0,5,2,2]}'>0</a></p>");
add("wt2html", "<nowiki> inside a link", "<p data-parsoid='{\"dsr\":[0,96,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main&lt;nowiki> Page&lt;/nowiki>\"},\"dsr\":[0,30,2,2]}'>Main Page</a> <a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[31,96,12,2]}'>the main page <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[57,94,8,9]}'>[it's not very good]</span></a></p>");
add("wt2html", "2. Lists with start-of-line-transparent tokens before bullets: Template close", "<ul about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"src\":\"*foo {{echo|bar\\n}}\"}' data-mw='{\"parts\":[\"*foo \",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"bar\\n\"}},\"i\":0}}]}'><li>foo bar</li></ul><span about=\"#mwt1\">\n</span><p data-parsoid='{\"dsr\":[18,22,0,0]}'>*baz</p>");
add("wt2html", "Multiple list tags generated by templates", "<li about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[0,44,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;li>\"}},\"i\":0}},\"a\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;li>\"}},\"i\":1}},\"b\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;li>\"}},\"i\":2}},\"c\"]}'>a\n</li><li about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true}'>b\n</li><li about=\"#mwt1\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[null,44,null,0]}'>c</li>");
add("wt2html", "Test the li-hack\n(The PHP parser relies on Tidy for the hack)", "<ul data-parsoid='{\"dsr\":[0,114,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> foo</li>\n<li data-parsoid='{\"stx\":\"html\",\"dsr\":[6,19,6,null],\"liHackSrc\":\"* \"}'>li-hack</li>\n<li about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"dsr\":[20,52,2,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"liHackSrc\":\"* \"}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;li>templated li-hack\"}},\"i\":0}}]}'>templated li-hack</li>\n<li data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[53,66,1,0]}'> <!--foo--> </li><li data-parsoid='{\"stx\":\"html\",\"dsr\":[66,114,4,null]}'> unsupported li-hack with preceding comments</li></ul>\n\n<ul data-parsoid='{\"stx\":\"html\",\"dsr\":[116,154,4,5]}'>\n<li data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[121,125,4,0]}'></li><li data-parsoid='{\"stx\":\"html\",\"dsr\":[125,148,4,5]}'>not a li-hack\n</li>\n</ul>");
add("wt2html", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'><span data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[0,6,6,0]}'></span></p>\n<ul data-parsoid='{\"dsr\":[7,32,0,0]}'><li data-parsoid='{\"dsr\":[7,22,1,0]}'>a<span data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[16,22,6,0]}'></span></li>\n<li data-parsoid='{\"dsr\":[23,32,1,0]}'>b</li></ul>");
add("wt2html", "Magic Word: {{CURRENTMONTH1}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"CURRENTMONTH1\",\"href\":\"./Template:CURRENTMONTH1\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:CURRENTMONTH1</span></p>");
add("wt2html", "Magic Words LOCAL (UTC)", "<ul data-parsoid='{\"dsr\":[0,252,0,0]}'><li data-parsoid='{\"dsr\":[0,16,1,0]}'> <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[2,16,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTH\",\"function\":\"localmonth\"},\"params\":{},\"i\":0}}]}'>01</span></li>\n<li data-parsoid='{\"dsr\":[17,34,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt2\" id=\"mwt2\" data-parsoid='{\"dsr\":[19,34,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTH1\",\"href\":\"./Template:LOCALMONTH1\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:LOCALMONTH1</span></li>\n<li data-parsoid='{\"dsr\":[35,55,1,0]}'> <span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[37,55,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTHNAME\",\"function\":\"localmonthname\"},\"params\":{},\"i\":0}}]}'>January</span></li>\n<li data-parsoid='{\"dsr\":[56,79,1,0]}'> <span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[58,79,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTHNAMEGEN\",\"function\":\"localmonthnamegen\"},\"params\":{},\"i\":0}}]}'>January</span></li>\n<li data-parsoid='{\"dsr\":[80,102,1,0]}'> <span about=\"#mwt5\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[82,102,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALMONTHABBREV\",\"function\":\"localmonthabbrev\"},\"params\":{},\"i\":0}}]}'>Jan</span></li>\n<li data-parsoid='{\"dsr\":[103,117,1,0]}'> <span about=\"#mwt6\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[105,117,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDAY\",\"function\":\"localday\"},\"params\":{},\"i\":0}}]}'>1</span></li>\n<li data-parsoid='{\"dsr\":[118,133,1,0]}'> <span about=\"#mwt7\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[120,133,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDAY2\",\"function\":\"localday2\"},\"params\":{},\"i\":0}}]}'>01</span></li>\n<li data-parsoid='{\"dsr\":[134,152,1,0]}'> <span about=\"#mwt8\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[136,152,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDAYNAME\",\"function\":\"localdayname\"},\"params\":{},\"i\":0}}]}'>Thursday</span></li>\n<li data-parsoid='{\"dsr\":[153,168,1,0]}'> <span about=\"#mwt9\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[155,168,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALYEAR\",\"function\":\"localyear\"},\"params\":{},\"i\":0}}]}'>1970</span></li>\n<li data-parsoid='{\"dsr\":[169,184,1,0]}'> <span about=\"#mwt10\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[171,184,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALTIME\",\"function\":\"localtime\"},\"params\":{},\"i\":0}}]}'>00:02</span></li>\n<li data-parsoid='{\"dsr\":[185,200,1,0]}'> <span about=\"#mwt11\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[187,200,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALHOUR\",\"function\":\"localhour\"},\"params\":{},\"i\":0}}]}'>00</span></li>\n<li data-parsoid='{\"dsr\":[201,216,1,0]}'> <span about=\"#mwt12\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[203,216,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALWEEK\",\"function\":\"localweek\"},\"params\":{},\"i\":0}}]}'>1</span></li>\n<li data-parsoid='{\"dsr\":[217,231,1,0]}'> <span about=\"#mwt13\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[219,231,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALDOW\",\"function\":\"localdow\"},\"params\":{},\"i\":0}}]}'>4</span></li>\n<li data-parsoid='{\"dsr\":[232,252,1,0]}'> <span about=\"#mwt14\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[234,252,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"LOCALTIMESTAMP\",\"function\":\"localtimestamp\"},\"params\":{},\"i\":0}}]}'>19700101000203</span></li></ul>");
add("wt2html", "Magic Word: {{FULLPAGENAMEE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,17,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"FULLPAGENAMEE\",\"function\":\"fullpagenamee\"},\"params\":{},\"i\":0}}]}'>User:Ævar Arnfjörð Bjarmason</p>");
add("wt2html", "Magic Word: {{TALKSPACE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACE\",\"function\":\"talkspace\"},\"params\":{},\"i\":0}}]}'>Talk</p>");
add("wt2html", "Magic Word: {{TALKSPACE}}, same namespace", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACE\",\"function\":\"talkspace\"},\"params\":{},\"i\":0}}]}'>Talk</p>");
add("wt2html", "Magic Word: {{TALKSPACEE}}", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACEE\",\"href\":\"./Template:TALKSPACEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKSPACEE</span></p>");
add("wt2html", "Magic Word: {{SUBJECTSPACE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}'>Main</p>");
add("wt2html", "Magic Word: {{SUBJECTSPACE}}, same namespace", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}'>Main</p>");
add("wt2html", "Magic Word: {{SUBJECTSPACE}}, main namespace", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}'>Main</p>");
add("wt2html", "Magic Word: {{SUBJECTSPACEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACEE\",\"href\":\"./Template:SUBJECTSPACEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTSPACEE</span></p>");
add("wt2html", "Magic Word: {{NAMESPACE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACE\",\"function\":\"namespace\"},\"params\":{},\"i\":0}}]}'>Main</p>");
add("wt2html", "Magic Word: {{NAMESPACEE}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACEE\",\"function\":\"namespacee\"},\"params\":{},\"i\":0}}]}'>Main</p>");
add("wt2html", "Magic Word: {{NAMESPACENUMBER}}", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,19,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACENUMBER\",\"function\":\"namespacenumber\"},\"params\":{},\"i\":0}}]}'></span></p>");
add("wt2html", "Magic Word: {{SUBPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,15,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,15,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAME\",\"href\":\"./Template:SUBPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAME</span></p>");
add("wt2html", "Magic Word: {{SUBPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAMEE\",\"href\":\"./Template:SUBPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{ROOTPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAME\",\"href\":\"./Template:ROOTPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAME</span></p>");
add("wt2html", "Magic Word: {{ROOTPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAMEE\",\"href\":\"./Template:ROOTPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{BASEPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAME\",\"href\":\"./Template:BASEPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAME</span></p>");
add("wt2html", "Magic Word: {{BASEPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAMEE\",\"href\":\"./Template:BASEPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{TALKPAGENAME}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAME\",\"function\":\"talkpagename\"},\"params\":{},\"i\":0}}]}'>User:Ævar Arnfjörð Bjarmason</p>");
add("wt2html", "Magic Word: {{TALKPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAMEE\",\"href\":\"./Template:TALKPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{SUBJECTPAGENAME}}", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,19,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAME\",\"href\":\"./Template:SUBJECTPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAME</span></p>");
add("wt2html", "Magic Word: {{SUBJECTPAGENAMEE}}", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,20,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAMEE\",\"href\":\"./Template:SUBJECTPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAMEE</span></p>");
add("wt2html", "Magic Word: {{NUMBEROFFILES}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,17,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NUMBEROFFILES\",\"function\":\"numberoffiles\"},\"params\":{},\"i\":0}}]}'>2</p>");
add("wt2html", "Magic Word: {{PAGENAME}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,12,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAME\",\"function\":\"pagename\"},\"params\":{},\"i\":0}}]}'>User:Ævar Arnfjörð Bjarmason</p>");
add("wt2html", "Magic Word: {{PAGENAMEE}}", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAMEE\",\"function\":\"pagenamee\"},\"params\":{},\"i\":0}}]}'></span>");
add("wt2html", "Magic Word: {{PAGENAMEE}} with metacharacters (bug 26781)", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAMEE\",\"function\":\"pagenamee\"},\"params\":{},\"i\":0}}]}'></span>");
add("wt2html", "Magic Word: {{REVISIONID}}", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"REVISIONID\",\"href\":\"./Template:REVISIONID\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:REVISIONID</span></p>");
add("wt2html", "Magic Word: {{STYLEPATH}}", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"STYLEPATH\",\"href\":\"./Template:STYLEPATH\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:STYLEPATH</span></p>");
add("wt2html", "Case-sensitive magic words, when cased differently, should just be template transclusions", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"CurrentMonth\",\"href\":\"./Template:CurrentMonth\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:CurrentMonth</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt2\" id=\"mwt2\" data-parsoid='{\"dsr\":[17,31,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"currentday\",\"href\":\"./Template:Currentday\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:Currentday</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt3\" id=\"mwt3\" data-parsoid='{\"dsr\":[32,47,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"cURreNTweEK\",\"href\":\"./Template:CURreNTweEK\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:CURreNTweEK</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt4\" id=\"mwt4\" data-parsoid='{\"dsr\":[48,63,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"currentHour\",\"href\":\"./Template:CurrentHour\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:CurrentHour</span></p>");
add("wt2html", "Namespace 1 {{ns:1}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:1\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}'>1</p>");
add("wt2html", "Namespace 1 {{ns:01}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,9,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:01\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}'>01</p>");
add("wt2html", "Namespace 0 {{ns:0}} (bug 4783)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:0\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}'>0</p>");
add("wt2html", "Namespace 0 {{ns:00}} (bug 4783)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,9,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:00\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}'>00</p>");
add("wt2html", "Namespace -1 {{ns:-1}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,9,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:-1\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}'>-1</p>");
add("wt2html", "Namespace (lang=de) Benutzer Diskussion {{ns:3}}", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ns:3\",\"function\":\"ns\"},\"params\":{},\"i\":0}}]}'>3</p>");
add("wt2html", "Urlencode", "<p data-parsoid='{\"dsr\":[0,115,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[0,24,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{},\"i\":0}}]}'>hi%20world%3F!</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[25,54,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{\"1\":{\"wt\":\"WIKI\"}},\"i\":0}}]}'>hi%20world%3F!</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[55,84,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{\"1\":{\"wt\":\"PATH\"}},\"i\":0}}]}'>hi%20world%3F!</span>\n<span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[85,115,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"urlencode:hi world?!\",\"function\":\"urlencode\"},\"params\":{\"1\":{\"wt\":\"QUERY\"}},\"i\":0}}]}'>hi%20world%3F!</span></p>");
add("wt2html", "Magic links: RFC (bug 65278)", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'>This is <a href=\"//tools.ietf.org/html/rfc822\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[8,15,0,0]}'>RFC 822</a> but this<a href=\"//tools.ietf.org/html/rfc822\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[24,31,0,0]}'>RFC 822</a> is not <a href=\"//tools.ietf.org/html/rfc822\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[39,46,0,0]}'>RFC 822</a>linked.</p>");
add("wt2html", "Magic links: ISBN (bug 65278)", "<p data-parsoid='{\"dsr\":[0,98,0,0]}'>This is <a href=\"./Special:BookSources/9780316098113\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[8,30,0,0]}'>ISBN 978-0-316-09811-3</a> but this<a href=\"./Special:BookSources/9780316098113\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[39,61,0,0]}'>ISBN 978-0-316-09811-3</a> is not ISBN 978-0-316-09811-3linked.</p>");
add("wt2html", "Magic links: PMID (bug 65278)", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>This is <a href=\"//www.ncbi.nlm.nih.gov/pubmed/1234?dopt=Abstract\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[8,17,0,0]}'>PMID 1234</a> but this<a href=\"//www.ncbi.nlm.nih.gov/pubmed/1234?dopt=Abstract\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[26,35,0,0]}'>PMID 1234</a> is not <a href=\"//www.ncbi.nlm.nih.gov/pubmed/1234?dopt=Abstract\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[43,52,0,0]}'>PMID 1234</a>linked.</p>");
add("wt2html", "Nonexistent template", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,28,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"thistemplatedoesnotexist\",\"href\":\"./Template:Thistemplatedoesnotexist\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:Thistemplatedoesnotexist</span></p>");
add("wt2html", "Template with invalid target containing tags", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'>{{a<b data-parsoid='{\"stx\":\"html\",\"dsr\":[3,11,3,4]}'>b</b>|<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[12,24,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo\"}},\"i\":0}}]}'>foo</span>|<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[25,35,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\"}},\"i\":0}}]}'>a</span>=<span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[36,46,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b\"}},\"i\":0}}]}'>b</span>|a =b}}</p>");
add("wt2html", "Template with invalid target containing unclosed tag", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>{{a<b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[3,49,3,0]}'>|<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[7,19,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo\"}},\"i\":0}}]}'>foo</span>|<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[20,30,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\"}},\"i\":0}}]}'>a</span>=<span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[31,41,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b\"}},\"i\":0}}]}'>b</span>|a =b}}</b></p>");
add("wt2html", "Template with invalid target containing wikilink", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>{{<a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[2,15,2,2]}'>Main Page</a>}}</p>");
add("wt2html", "Template redirect", "<link rel=\"mw:PageProp/redirect\" href=\"./Template:Templatesimple\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"a\":{\"href\":\"./Template:Templatesimple\"},\"sa\":{\"href\":\"Template:templatesimple\"},\"dsr\":[0,20,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"templateredirect\",\"href\":\"./Template:Templateredirect\"},\"params\":{},\"i\":0}}]}'/>");
add("wt2html", "Template with complex arguments", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Template:Complextemplate\" title=\"Template:Complextemplate\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Template:Complextemplate\"},\"sa\":{\"href\":\"Template:complextemplate\"},\"dsr\":[0,106,null,null],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\\n  \",\" \",\"\",\"\"]},{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"complextemplate\",\"href\":\"./Template:Complextemplate\"},\"params\":{\"1\":{\"wt\":\"[[Template:complextemplate|link]]\"},\"param\":{\"wt\":\"{{ templateasargtest  |\\n templ = simple }}\"}},\"i\":0}}]}'>link</a><span about=\"#mwt1\"> This is a test template with parameter (test)</span></p>");
add("wt2html", "BUG 553: link with two variables in a piped link", "<table data-parsoid='{\"dsr\":[0,26,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,24,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,23,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,23,1,0]}'>[[<span about=\"#mwt5\" typeof=\"mw:Param\" data-parsoid='{\"dsr\":[6,13,null,null],\"src\":\"{{{1}}}\"}'>{{{1}}}</span>|<span about=\"#mwt2\" typeof=\"mw:Param\" data-parsoid='{\"dsr\":[14,21,null,null],\"src\":\"{{{2}}}\"}'>{{{2}}}</span>]]</td></tr>\n</tbody></table>");
add("wt2html", "Template infinite loop", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,9,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"loop1\",\"href\":\"./Template:Loop1\"},\"params\":{},\"i\":0}}]}'></span>");
add("wt2html", "Template with targets containing wikilinks", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>{{<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"foo\"},\"dsr\":[2,9,2,2]}'>foo</a>}}</p>\n\n<p data-parsoid='{\"dsr\":[13,33,0,0]}'>{{<a typeof=\"mw:ExpandedAttrs\" about=\"#mwt4\" rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"{{echo|foo}}\"},\"dsr\":[15,31,null,null]}' data-mw='{\"attribs\":[[{\"txt\":\"href\"},{\"html\":\"&lt;span about=\\\"#mwt3\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[17,29,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;foo&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">foo&lt;/span>\"}]]}'>foo</a>}}</p>\n\n<p data-parsoid='{\"dsr\":[35,55,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt5\" id=\"mwt5\" data-parsoid='{\"dsr\":[35,55,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"{{echo|[[foo}}]]\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:[[foo]]</span></p>");
add("wt2html", "msgnw keyword", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,20,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"msgnw:MSGNW test\",\"href\":\"./Msgnw:MSGNW_test\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Msgnw:MSGNW_test</span></p>");
add("wt2html", "int keyword", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,45,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"2\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"int:youhavenewmessages\",\"function\":\"int\"},\"params\":{\"1\":{\"wt\":\"lots of money\"},\"2\":{\"wt\":\"not!\"}},\"i\":0}}]}'>Parser function implementation for pf_int missing in Parsoid.</p>");
add("wt2html", "Self-closed noinclude, includeonly, onlyinclude tags", "<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude />\",\"dsr\":[0,13,null,null]}'/>\n<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly />\",\"dsr\":[14,29,null,null]}'/>\n<meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude />\",\"dsr\":[30,45,null,null]}'/>");
add("wt2html", "Bug 6563: Section extraction for section shown by <includeonly>", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>\\n==Includeonly section==\\n&lt;/includeonly>\",\"dsr\":[0,52,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[52,52,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[53,68,2,2]}'>Section T-2</h2>");
add("wt2html", "Bug 6563: Section extraction for section suppressed by <includeonly>", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>\\n==Includeonly section==\\n&lt;/includeonly>\",\"dsr\":[0,52,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[52,52,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[53,66,2,2]}'>Section 1</h2>");
add("wt2html", "2. includeonly in html attr value", "<p data-parsoid='{\"dsr\":[0,155,0,0]}'><span id=\"v1\" about=\"#mwt1\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"html\",\"a\":{\"id\":\"v1\"},\"sa\":{\"id\":\"&lt;noinclude>v1&lt;/noinclude>&lt;includeonly>v2&lt;/includeonly>\"},\"dsr\":[0,76,66,7]}' data-mw='{\"attribs\":[[{\"txt\":\"id\"},{\"html\":\"&lt;meta typeof=\\\"mw:Includes/NoInclude\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[10,21,null,null]}\\\">v1&lt;meta typeof=\\\"mw:Includes/NoInclude/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;/noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[23,35,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;includeonly>v2&lt;/includeonly>&amp;quot;,&amp;quot;dsr&amp;quot;:[35,64,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;dsr&amp;quot;:[64,64,null,null]}\\\">\"}]]}'>bar</span>\n<span id='\"v1\"' about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"html\",\"a\":{\"id\":\"\\\"v1\\\"\"},\"sa\":{\"id\":\"&lt;noinclude>\\\"v1\\\"&lt;/noinclude>&lt;includeonly>\\\"v2\\\"&lt;/includeonly>\"},\"dsr\":[77,155,68,7]}' data-mw='{\"attribs\":[[{\"txt\":\"id\"},{\"html\":\"&lt;meta typeof=\\\"mw:Includes/NoInclude\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[86,97,null,null]}\\\">\\\"v1\\\"&lt;meta typeof=\\\"mw:Includes/NoInclude/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;/noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[101,113,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;includeonly>\\\\&amp;quot;v2\\\\&amp;quot;&lt;/includeonly>&amp;quot;,&amp;quot;dsr&amp;quot;:[113,144,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;dsr&amp;quot;:[144,144,null,null]}\\\">\"}]]}'>bar</span></p>");
add("wt2html", "4. includeonly in table attributes", "<table data-parsoid='{\"dsr\":[0,77,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,75,0,0]}'><tr about=\"#mwt1\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"startTagSrc\":\"|-\",\"a\":{\"&lt;noinclude>\\n|-\\n|a\\n&lt;/noinclude>\":null},\"sa\":{\"&lt;noinclude>\\n|-\\n|a\\n&lt;/noinclude>\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[3,36,33,0]}' data-mw='{\"attribs\":[[{\"txt\":\"a\",\"html\":\"&lt;meta typeof=\\\"mw:Includes/NoInclude\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[6,17,null,null]}\\\">\\n|-\\n|a\\n&lt;meta typeof=\\\"mw:Includes/NoInclude/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;/noinclude>&amp;quot;,&amp;quot;dsr&amp;quot;:[24,36,null,null]}\\\">\"},{\"html\":\"\"}]]}'></tr>\n<tr about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"startTagSrc\":\"|-\",\"a\":{\"&lt;includeonly>\\n|-\\n|b\\n&lt;/includeonly>\":null},\"sa\":{\"&lt;includeonly>\\n|-\\n|b\\n&lt;/includeonly>\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[37,74,37,0]}' data-mw='{\"attribs\":[[{\"txt\":\"\",\"html\":\"&lt;meta typeof=\\\"mw:Includes/IncludeOnly\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&lt;includeonly>\\\\n|-\\\\n|b\\\\n&lt;/includeonly>&amp;quot;,&amp;quot;dsr&amp;quot;:[40,74,null,null]}\\\">&lt;meta typeof=\\\"mw:Includes/IncludeOnly/End\\\" data-parsoid=\\\"{&amp;quot;src&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;dsr&amp;quot;:[74,74,null,null]}\\\">\"},{\"html\":\"\"}]]}'></tr>\n</tbody></table>");
add("wt2html", "Templates: 2. Inside a block tag", "<div data-parsoid='{\"stx\":\"html\",\"dsr\":[0,23,5,6]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[5,17,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"Foo\"}},\"i\":0}}]}'>Foo</span></div>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[24,61,12,13]}'><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[36,48,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"Foo\"}},\"i\":0}}]}'>Foo</span></blockquote>");
add("wt2html", "Templates: HTML Tag: 2. Generation of HTML attr. value", "<div style=\"'color:red;'\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"&#39;color:red;&#39;\"},\"sa\":{\"style\":\"{{echo|&#39;color:red;&#39;}}\"},\"dsr\":[0,42,33,6]}' data-mw='{\"attribs\":[[{\"txt\":\"style\"},{\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[11,32,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;&#39;color:red;&#39;&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">&#39;color:red;&#39;&lt;/span>\"}]]}'>foo</div>");
add("wt2html", "Templates: HTML Tag: 3. Generation of HTML attr key and value", "<div style=\"'color:red;'\" about=\"#mwt3\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"&#39;color:red;&#39;\"},\"sa\":{\"style\":\"{{echo|&#39;color:red;&#39;}}\"},\"dsr\":[0,51,42,6]}' data-mw='{\"attribs\":[[{\"txt\":\"style\",\"html\":\"&lt;span about=\\\"#mwt2\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[5,19,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;style&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">style&lt;/span>\"},{\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[20,41,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;&#39;color:red;&#39;&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">&#39;color:red;&#39;&lt;/span>\"}]]}'>foo</div>");
add("wt2html", "Templates: Wiki Tables: 1a. Fostering of entire template content", "<p about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,16,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[\"{|\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\"}},\"i\":0}},\"\\n|}\"]}'>a</p><table about=\"#mwt2\">\n\n</table>");
add("wt2html", "Templates: Wiki Tables: 1b. Fostering of entire template content", "<div about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,40,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[\"{|\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;div>\"}},\"i\":0}},\"\\nfoo\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;/div>\"}},\"i\":1}},\"\\n|}\"]}'>\n<p>foo</p>\n</div><table about=\"#mwt3\">\n\n</table>");
add("wt2html", "Templates: Wiki Tables: 2. Fostering of partial template content", "<p about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,29,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[\"{|\\n\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a\\n&lt;div>b&lt;/div>\"}},\"i\":0}},\"\\n|}\"]}'>a</p><div about=\"#mwt2\" data-parsoid='{\"stx\":\"html\",\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,0]}'>b</div><table about=\"#mwt2\">\n\n\n</table>");
add("wt2html", "Templates: Wiki Tables: 4. Templated tags, no content", "<table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,25,null,null],\"pi\":[[],[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"tbl-start\",\"href\":\"./Template:Tbl-start\"},\"params\":{},\"i\":0}},\"\\n\",{\"template\":{\"target\":{\"wt\":\"tbl-end\",\"href\":\"./Template:Tbl-end\"},\"params\":{},\"i\":1}}]}'>\n</table>");
add("wt2html", "Templates: Lists: Multi-line list-items via templates", "<ul data-parsoid='{\"dsr\":[0,71,0,0]}'><li data-parsoid='{\"dsr\":[0,35,1,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[1,35,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"a {{nonexistent|\\nunused}}\"}},\"i\":0}}]}'>a </span><span typeof=\"mw:Placeholder\" about=\"#mwt1\" id=\"mwt2\">Warning: Page/template fetching disabled, and no cache for Template:Nonexistent</span><meta typeof=\"mw:Transclusion/End\" about=\"#mwt1\" data-parsoid=\"{}\"/></li>\n<li data-parsoid='{\"dsr\":[36,71,1,0]}'><span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[37,71,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b {{nonexistent|\\nunused}}\"}},\"i\":0}}]}'>b </span><span typeof=\"mw:Placeholder\" about=\"#mwt3\" id=\"mwt4\">Warning: Page/template fetching disabled, and no cache for Template:Nonexistent</span><meta typeof=\"mw:Transclusion/End\" about=\"#mwt3\" data-parsoid=\"{}\"/></li></ul>");
add("wt2html", "Templates: Ugly nesting: 1. Quotes opened/closed across templates (echo)", "<p data-parsoid='{\"dsr\":[0,40,0,0]}'><i about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,40,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}],[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&#39;&#39;a\"}},\"i\":0}},{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"b&#39;&#39;c&#39;&#39;d\"}},\"i\":1}},{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&#39;&#39;e\"}},\"i\":2}}]}'>ab</i><span about=\"#mwt1\">c</span><i about=\"#mwt1\">d</i><span about=\"#mwt1\">e</span></p>");
add("wt2html", "Templates: Ugly templates: 1. Navbox template parses badly leading to table misnesting\n(Parsoid-centric)", "<table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,32,2,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"src\":\"{|\\n|{{echo|foo&lt;/table>}}\\n|bar\\n|}\"}' data-mw='{\"parts\":[\"{|\\n|\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo&lt;/table>\"}},\"i\":0}},\"\\n|bar\\n|}\"]}'>\n<tbody><tr><td>foo</td></tr></tbody></table><span about=\"#mwt1\">\n|bar</span><span about=\"#mwt1\">\n</span>");
add("wt2html", "Templates: Ugly templates: 4. newline-only template parameter inconsistency", "<span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[0,10,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"\\n\"}},\"i\":0}}]}'>\n</span>");
add("wt2html", "pre-save transform: subst:", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:test\",\"href\":\"./Template:Test\"},\"params\":{},\"i\":0}}]}'>This is a test template</p>");
add("wt2html", "pre-save transform: normal template", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,8,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"test\",\"href\":\"./Template:Test\"},\"params\":{},\"i\":0}}]}'>This is a test template</p>");
add("wt2html", "pre-save transform: nonexistent template", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,28,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"thistemplatedoesnotexist\",\"href\":\"./Template:Thistemplatedoesnotexist\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:Thistemplatedoesnotexist</span></p>");
add("wt2html", "pre-save transform: subst magic variables", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:SITENAME\",\"function\":\"sitename\"},\"params\":{},\"i\":0}}]}'>MediaWiki</p>");
add("wt2html", "pre-save transform: subst: templates with parameters", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,42,0,0],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:paramtest\",\"href\":\"./Template:Paramtest\"},\"params\":{\"param\":{\"wt\":\"\\\"something else\\\"\"}},\"i\":0}}]}'>This is a test template with parameter \"something else\"</p>");
add("wt2html", "pre-save transform: nowiki in subst (bug 1188)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Transclusion mw:Nowiki\" about=\"#mwt1\" data-parsoid='{\"dsr\":[0,20,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:nowikitest\",\"href\":\"./Template:Nowikitest\"},\"params\":{},\"i\":0}}]}'>'''not wiki'''</span></p>");
add("wt2html", "pre-save transform: comment in subst (bug 1936)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,21,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:commenttest\",\"href\":\"./Template:Commenttest\"},\"params\":{},\"i\":0}}]}'>This template has <!-- a comment --> in it.</p>");
add("wt2html", "pre-save transform: unclosed tag", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;nowiki>\",\"dsr\":[0,8,null,0]}'>&lt;nowiki></span><b data-parsoid='{\"dsr\":[8,22,3,3]}'>not wiki</b></p>");
add("wt2html", "pre-save transform: mixed tag case", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,31,8,9]}'>'''not wiki'''</span></p>");
add("wt2html", "pre-save transform: unclosed comment in <nowiki>", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>wiki<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[4,37,8,9]}'>nowiki&lt;!--nowiki</span>wiki</p>");
add("wt2html", "pre-save transform: <noinclude> in subst (bug 3298)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Includes\",\"href\":\"./Template:Includes\"},\"params\":{},\"i\":0}}]}'>Foobar</p>");
add("wt2html", "pre-save transform: <onlyinclude> in subst (bug 3298)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,19,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:Includes2\",\"href\":\"./Template:Includes2\"},\"params\":{},\"i\":0}}]}'>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\"/></p>");
add("wt2html", "bug 22297: safesubst: works during PST", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[0,23,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"subst:SafeSubstTest\",\"href\":\"./Template:SafeSubstTest\"},\"params\":{},\"i\":0}}]}'>Foo</span><span about=\"#mwt1\">bar</span><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[23,46,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"safesubst:SubstTest\",\"href\":\"./Template:SubstTest\"},\"params\":{},\"i\":0}}]}'>Foo</span><span about=\"#mwt2\">bar</span></p>");
add("wt2html", "subst: does not work during normal parse", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SubstTest\",\"href\":\"./Template:SubstTest\"},\"params\":{},\"i\":0}}]}'>Foobar</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\")", "<p data-parsoid='{\"dsr\":[0,183,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article_(context)\" title=\"Article (context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_(context)\"},\"sa\":{\"href\":\"Article (context)\"},\"dsr\":[0,22,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article\" title=\"Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article\"},\"sa\":{\"href\":\"Bar:Article\"},\"dsr\":[23,39,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article\" title=\"Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article\"},\"sa\":{\"href\":\":Bar:Article\"},\"dsr\":[40,57,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)\" title=\"Bar:Article (context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)\"},\"sa\":{\"href\":\"Bar:Article (context)\"},\"dsr\":[58,84,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)\" title=\"Bar:Article (context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)\"},\"sa\":{\"href\":\":Bar:Article (context)\"},\"dsr\":[85,112,2,2]}'>Article</a>\n[[|Article]]\n[[|Article (context)]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_(Y)_Z\" title=\"Bar:X (Y) Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_(Y)_Z\"},\"sa\":{\"href\":\"Bar:X (Y) Z\"},\"dsr\":[149,165,2,2]}'>X (Y) Z</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_(Y)_Z\" title=\"Bar:X (Y) Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_(Y)_Z\"},\"sa\":{\"href\":\":Bar:X (Y) Z\"},\"dsr\":[166,183,2,2]}'>X (Y) Z</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with interwiki prefix", "<p data-parsoid='{\"dsr\":[0,101,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Interwiki:Article\" title=\"Interwiki:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Article\"},\"sa\":{\"href\":\"interwiki:Article\"},\"dsr\":[0,22,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Interwiki:Article\" title=\"Interwiki:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Article\"},\"sa\":{\"href\":\":interwiki:Article\"},\"dsr\":[23,46,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Interwiki:Bar:Article\" title=\"Interwiki:Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Bar:Article\"},\"sa\":{\"href\":\"interwiki:Bar:Article\"},\"dsr\":[47,73,2,2]}'>Bar:Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Interwiki:Bar:Article\" title=\"Interwiki:Bar:Article\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Interwiki:Bar:Article\"},\"sa\":{\"href\":\":interwiki:Bar:Article\"},\"dsr\":[74,101,2,2]}'>Bar:Article</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with parens in title", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with comma in title", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'>[[|Otherplace]]\n<a rel=\"mw:WikiLink\" href=\"./Otherplace,_Elsewhere\" title=\"Otherplace, Elsewhere\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Otherplace,_Elsewhere\"},\"sa\":{\"href\":\"Otherplace, Elsewhere\"},\"dsr\":[16,42,2,2]}'>Otherplace</a>\n<a rel=\"mw:WikiLink\" href=\"./Otherplace,_Elsewhere,_Anywhere\" title=\"Otherplace, Elsewhere, Anywhere\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Otherplace,_Elsewhere,_Anywhere\"},\"sa\":{\"href\":\"Otherplace, Elsewhere, Anywhere\"},\"dsr\":[43,79,2,2]}'>Otherplace</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with parens and comma", "<p data-parsoid='{\"dsr\":[0,50,0,0]}'>[[|Otherplace]]\n<a rel=\"mw:WikiLink\" href=\"./Otherplace_(place),_Elsewhere\" title=\"Otherplace (place), Elsewhere\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Otherplace_(place),_Elsewhere\"},\"sa\":{\"href\":\"Otherplace (place), Elsewhere\"},\"dsr\":[16,50,2,2]}'>Otherplace</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with comma and parens", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'>[[|Yes, you.]]\n<a rel=\"mw:WikiLink\" href=\"./Me,_Myself,_and_I_(1937_song)\" title=\"Me, Myself, and I (1937 song)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Me,_Myself,_and_I_(1937_song)\"},\"sa\":{\"href\":\"Me, Myself, and I (1937 song)\"},\"dsr\":[15,49,2,2]}'>Me, Myself, and I</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace and parens", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace and comma", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace, comma and parens", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with namespace, parens and comma", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>[[|Article]]</p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and no space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,127,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article（context）\" title=\"Article（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article（context）\"},\"sa\":{\"href\":\"Article（context）\"},\"dsr\":[0,21,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article（context）\" title=\"Bar:Article（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article（context）\"},\"sa\":{\"href\":\"Bar:Article（context）\"},\"dsr\":[22,47,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article（context）\" title=\"Bar:Article（context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article（context）\"},\"sa\":{\"href\":\":Bar:Article（context）\"},\"dsr\":[48,74,2,2]}'>Article</a>\n[[|Article（context）]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X（Y）Z\" title=\"Bar:X（Y）Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X（Y）Z\"},\"sa\":{\"href\":\"Bar:X（Y）Z\"},\"dsr\":[97,111,2,2]}'>X（Y）Z</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X（Y）Z\" title=\"Bar:X（Y）Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X（Y）Z\"},\"sa\":{\"href\":\":Bar:X（Y）Z\"},\"dsr\":[112,127,2,2]}'>X（Y）Z</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article_（context）\" title=\"Article （context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_（context）\"},\"sa\":{\"href\":\"Article （context）\"},\"dsr\":[0,22,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_（context）\" title=\"Bar:Article （context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_（context）\"},\"sa\":{\"href\":\"Bar:Article （context）\"},\"dsr\":[23,49,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_（context）\" title=\"Bar:Article （context）\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_（context）\"},\"sa\":{\"href\":\":Bar:Article （context）\"},\"dsr\":[50,77,2,2]}'>Article</a>\n[[|Article （context）]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_（Y）_Z\" title=\"Bar:X （Y） Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_（Y）_Z\"},\"sa\":{\"href\":\"Bar:X （Y） Z\"},\"dsr\":[101,117,2,2]}'>X （Y） Z</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X_（Y）_Z\" title=\"Bar:X （Y） Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X_（Y）_Z\"},\"sa\":{\"href\":\":Bar:X （Y） Z\"},\"dsr\":[118,135,2,2]}'>X （Y） Z</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with parens and no space (Korean style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,127,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article(context)\" title=\"Article(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article(context)\"},\"sa\":{\"href\":\"Article(context)\"},\"dsr\":[0,21,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article(context)\" title=\"Bar:Article(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article(context)\"},\"sa\":{\"href\":\"Bar:Article(context)\"},\"dsr\":[22,47,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article(context)\" title=\"Bar:Article(context)\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article(context)\"},\"sa\":{\"href\":\":Bar:Article(context)\"},\"dsr\":[48,74,2,2]}'>Article</a>\n[[|Article(context)]]\n<a rel=\"mw:WikiLink\" href=\"./Bar:X(Y)Z\" title=\"Bar:X(Y)Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X(Y)Z\"},\"sa\":{\"href\":\"Bar:X(Y)Z\"},\"dsr\":[97,111,2,2]}'>X(Y)Z</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:X(Y)Z\" title=\"Bar:X(Y)Z\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:X(Y)Z\"},\"sa\":{\"href\":\":Bar:X(Y)Z\"},\"dsr\":[112,127,2,2]}'>X(Y)Z</a></p>");
add("wt2html", "pre-save transform: context links (\"pipe trick\") with commas (bug 21660)", "<p data-parsoid='{\"dsr\":[0,206,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Article_(context),_context\" title=\"Article (context), context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_(context),_context\"},\"sa\":{\"href\":\"Article (context), context\"},\"dsr\":[0,31,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Article_(context)，context\" title=\"Article (context)，context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Article_(context)，context\"},\"sa\":{\"href\":\"Article (context)，context\"},\"dsr\":[32,62,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context),_context\" title=\"Bar:Article (context), context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context),_context\"},\"sa\":{\"href\":\"Bar:Article (context), context\"},\"dsr\":[63,98,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)，context\" title=\"Bar:Article (context)，context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)，context\"},\"sa\":{\"href\":\"Bar:Article (context)，context\"},\"dsr\":[99,133,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context),_context\" title=\"Bar:Article (context), context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context),_context\"},\"sa\":{\"href\":\":Bar:Article (context), context\"},\"dsr\":[134,170,2,2]}'>Article</a>\n<a rel=\"mw:WikiLink\" href=\"./Bar:Article_(context)，context\" title=\"Bar:Article (context)，context\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Bar:Article_(context)，context\"},\"sa\":{\"href\":\":Bar:Article (context)，context\"},\"dsr\":[171,206,2,2]}'>Article</a></p>");
add("wt2html", "pre-save transform: trim trailing empty lines", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>Empty lines are trimmed</p>\n\n<p data-parsoid='{\"dsr\":[25,25,0,0]}'><br data-parsoid='{\"dsr\":[25,25,0,0]}'/></p>\n\n");
add("wt2html", "pre-save transform: Signature expansion", "<ul data-parsoid='{\"dsr\":[0,100,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> ~~~</li>\n<li data-parsoid='{\"dsr\":[6,34,1,0]}'> <meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[8,19,null,null]}'/>~~~<meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[22,34,null,null]}'/></li>\n<li data-parsoid='{\"dsr\":[35,67,1,0]}'> <meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>~~~&lt;/includeonly>\",\"dsr\":[37,67,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[67,67,null,null]}'/></li>\n<li data-parsoid='{\"dsr\":[68,100,1,0]}'> <meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[70,83,null,null]}'/>~~~<meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[86,100,null,null]}'/></li></ul>");
add("wt2html", "message transform: magic variables", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,12,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SITENAME\",\"function\":\"sitename\"},\"params\":{},\"i\":0}}]}'>MediaWiki</p>");
add("wt2html", "message transform: should not transform wiki markup", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'><i data-parsoid='{\"dsr\":[0,8,2,2]}'>test</i></p>");
add("wt2html", "message transform: <noinclude> in transcluded template (bug 4926)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,12,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Includes\",\"href\":\"./Template:Includes\"},\"params\":{},\"i\":0}}]}'>Foobar</p>");
add("wt2html", "message transform: <onlyinclude> in transcluded template (bug 4926)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Includes2\",\"href\":\"./Template:Includes2\"},\"params\":{},\"i\":0}}]}'>Foo<meta typeof=\"mw:Includes/OnlyInclude/End\"/></p>");
add("wt2html", "{{#special:}} page name, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,26,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:Recentchanges\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#special missing in Parsoid.</p>");
add("wt2html", "{{#special:}} page name with subpage, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,32,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:Recentchanges/param\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#special missing in Parsoid.</p>");
add("wt2html", "{{#special:}} page name, unknown", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,31,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:foobar nonexistent\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#special missing in Parsoid.</p>");
add("wt2html", "{{#speciale:}} page name, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,27,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#speciale:Recentchanges\",\"function\":\"#speciale\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#speciale missing in Parsoid.</p>");
add("wt2html", "{{#speciale:}} page name with subpage, known", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,33,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#speciale:Recentchanges/param\",\"function\":\"#speciale\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#speciale missing in Parsoid.</p>");
add("wt2html", "{{#speciale:}} page name, unknown", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,32,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#speciale:foobar nonexistent\",\"function\":\"#speciale\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#speciale missing in Parsoid.</p>");
add("wt2html", "Image with link parameter, wgExternalLinkTarget", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"}],\"dsr\":[0,45,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with link parameter, wgNoFollowLinks set to false", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"}],\"dsr\":[0,45,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with link parameter, wgNoFollowDomainExceptions", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"}],\"dsr\":[0,45,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Image with link parameter, wgExternalLinkTarget, unnamed parameter", "<p data-parsoid='{\"dsr\":[0,51,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=http://example.com/\"},{\"ck\":\"caption\",\"ak\":\"Title\"}],\"dsr\":[0,51,null,null]}' data-mw='{\"user\":\"n00b\",\"caption\":\"Title\"}'><a href=\"http://example.com/\" data-parsoid=\"{}\"><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "SVG thumbnails with invalid language code", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"caption\"},{\"ck\":\"lang\",\"ak\":\"lang=invalid.language.code\"}],\"dsr\":[0,60,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.svg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.svg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.svg\" src=\"//example.com/images/thumb/f/ff/Foobar.svg/220px-Foobar.svg\" lang=\"invalid.language.code\" height=\"165\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.svg\",\"lang\":\"invalid.language.code\",\"height\":\"165\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.svg\",\"lang\":\"lang=invalid.language.code\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,58,null,null]}'>caption</figcaption></figure>");
add("wt2html", "BUG 561: {{/Subpage}}", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,12,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"/Subpage\",\"href\":\"./Template:/Subpage\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:/Subpage</span></p>");
add("wt2html", "Simple category", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,35,null,null]}'/>");
add("wt2html", "PAGESINCATEGORY invalid title fatal (r33546 fix)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,27,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGESINCATEGORY:&lt;bogus>\",\"function\":\"pagesincategory\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_pagesincategory missing in Parsoid.</p>");
add("wt2html", "Category with different sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide#Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,39,null,null]}'/>");
add("wt2html", "Category with identical sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide#MediaWiki%20User's%20Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,58,null,null]}'/>");
add("wt2html", "Category with empty sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:MediaWiki_User's_Guide#MediaWiki%20User's%20Guide\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,36,null,null]}'/>");
add("wt2html", "Category with empty sort key and parentheses", "<link rel=\"mw:PageProp/Category\" href=\"./Category:Foo_(bar)#Foo\" data-parsoid='{\"pipetrick\":true,\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Foo_(bar)\"},\"sa\":{\"href\":\"Category:Foo (bar)\"},\"dsr\":[0,23,null,null]}'/>");
add("wt2html", "Category with link tail", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>123<link rel=\"mw:PageProp/Category\" href=\"./Category:Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:Foo\"},\"dsr\":[3,19,null,null]}'/>456</p>");
add("wt2html", "Category with template", "<link typeof=\"mw:ExpandedAttrs\" about=\"#mwt2\" rel=\"mw:PageProp/Category\" href=\"./Category:Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:{{echo|Foo}}\"},\"dsr\":[0,25,null,null]}' data-mw='{\"attribs\":[[{\"txt\":\"href\"},{\"html\":\"Category:&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[11,23,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Foo&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">Foo&lt;/span>\"}]]}'/>");
add("wt2html", "Category with template in sort key", "<link rel=\"mw:PageProp/Category\" href=\"./Category:Foo#Bar\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:Foo\"},\"dsr\":[0,29,null,null]}' data-mw='{\"attribs\":[[{\"txt\":\"mw:sortKey\"},{\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[15,27,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Bar&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">Bar&lt;/span>\"}]]}'/>");
add("wt2html", "Category with template in sort key and title", "<link typeof=\"mw:ExpandedAttrs\" about=\"#mwt4\" rel=\"mw:PageProp/Category\" href=\"./Category:Foo#Bar\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Category:Foo\"},\"sa\":{\"href\":\"Category:{{echo|Foo}}\"},\"dsr\":[0,38,null,null]}' data-mw='{\"attribs\":[[{\"txt\":\"href\"},{\"html\":\"Category:&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[11,23,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Foo&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">Foo&lt;/span>\"}],[{\"txt\":\"mw:sortKey\"},{\"html\":\"&lt;span about=\\\"#mwt2\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=\\\"{&amp;quot;pi&amp;quot;:[[{&amp;quot;k&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;spc&amp;quot;:[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;]}]],&amp;quot;dsr&amp;quot;:[24,36,null,null]}\\\" data-mw=\\\"{&amp;quot;parts&amp;quot;:[{&amp;quot;template&amp;quot;:{&amp;quot;target&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;echo&amp;quot;,&amp;quot;href&amp;quot;:&amp;quot;./Template:Echo&amp;quot;},&amp;quot;params&amp;quot;:{&amp;quot;1&amp;quot;:{&amp;quot;wt&amp;quot;:&amp;quot;Bar&amp;quot;}},&amp;quot;i&amp;quot;:0}}]}\\\">Bar&lt;/span>\"}]]}'/>");
add("wt2html", "Category / paragraph interactions", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'>Foo <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[4,20,null,null]}'/> Bar</p>\n\n<p data-parsoid='{\"dsr\":[26,50,0,0]}'>Foo <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[30,46,null,null]}'/>\nBar</p>\n\n<p data-parsoid='{\"dsr\":[52,76,0,0]}'>Foo\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[56,72,null,null]}'/>\nBar</p>\n\n<p data-parsoid='{\"dsr\":[78,81,0,0]}'>Foo</p>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[82,98,null,null]}'/><pre data-parsoid='{\"dsr\":[98,102,1,0]}'>Bar</pre>\n\n<p data-parsoid='{\"dsr\":[104,163,0,0]}'>Foo\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[108,124,null,null]}'/>\n <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[126,142,null,null]}'/>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[143,159,null,null]}'/>\nBar</p>\n\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[165,181,null,null]}'/>\n <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[183,199,null,null]}'/>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[200,216,null,null]}'/>\n\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[218,234,null,null]}'/>\n <link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[236,261,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"[[Category:Baz]]\"}},\"i\":0}}]}'/>\n<link rel=\"mw:PageProp/Category\" href=\"./Category:Baz\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:Baz\"},\"sa\":{\"href\":\"Category:Baz\"},\"dsr\":[262,278,null,null]}'/>");
add("wt2html", "BUG 1219 URL next to image (good)", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a> <span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[19,39,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)", "<p data-parsoid='{\"dsr\":[0,100,0,0]}'>=== \nThe line above must have a trailing space!\n=== <!--\n--> <!-- -->\nBut just in case it doesn't...</p>");
add("wt2html", "Header with space, plus and underscore as entity", "<p data-parsoid='{\"dsr\":[0,34,0,0]}'>Id should not contain + for spaces</p>\n\n<h2 data-parsoid='{\"dsr\":[36,60,2,2]}'> Space between Text </h2>\n<p data-parsoid='{\"dsr\":[61,70,0,0]}'>section 1</p>\n\n<h2 data-parsoid='{\"dsr\":[72,111,2,2]}'> Space-Entity<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;#32;\",\"srcContent\":\" \",\"dsr\":[87,92,null,null]}'> </span>between<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;#32;\",\"srcContent\":\" \",\"dsr\":[99,104,null,null]}'> </span>Text </h2>\n<p data-parsoid='{\"dsr\":[112,121,0,0]}'>section 2</p>\n\n<h2 data-parsoid='{\"dsr\":[123,146,2,2]}'> Plus+between+Text </h2>\n<p data-parsoid='{\"dsr\":[147,156,0,0]}'>section 3</p>\n\n<h2 data-parsoid='{\"dsr\":[158,196,2,2]}'> Plus-Entity<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;#43;\",\"srcContent\":\"+\",\"dsr\":[172,177,null,null]}'>+</span>between<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;#43;\",\"srcContent\":\"+\",\"dsr\":[184,189,null,null]}'>+</span>Text </h2>\n<p data-parsoid='{\"dsr\":[197,206,0,0]}'>section 4</p>\n\n<h2 data-parsoid='{\"dsr\":[208,237,2,2]}'> Underscore_between_Text </h2>\n<p data-parsoid='{\"dsr\":[238,247,0,0]}'>section 5</p>\n\n<h2 data-parsoid='{\"dsr\":[249,293,2,2]}'> Underscore-Entity<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;#95;\",\"srcContent\":\"_\",\"dsr\":[269,274,null,null]}'>_</span>between<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;#95;\",\"srcContent\":\"_\",\"dsr\":[281,286,null,null]}'>_</span>Text </h2>\n<p data-parsoid='{\"dsr\":[294,303,0,0]}'>section 6</p>\n\n<p data-parsoid='{\"dsr\":[305,501,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main%20Page#Space_between_Text\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#Space_between_Text\"},\"sa\":{\"href\":\"#Space between Text\"},\"dsr\":[305,328,2,2]}'>#Space between Text</a>\n<a rel=\"mw:WikiLink\" href=\"./Main%20Page#Space-Entity_between_Text\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#Space-Entity_between_Text\"},\"sa\":{\"href\":\"#Space-Entity&amp;#32;between&amp;#32;Text\"},\"dsr\":[329,367,2,2]}'>#Space-Entity between Text</a>\n<a rel=\"mw:WikiLink\" href=\"./Main%20Page#Plus+between+Text\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#Plus+between+Text\"},\"sa\":{\"href\":\"#Plus+between+Text\"},\"dsr\":[368,390,2,2]}'>#Plus+between+Text</a>\n<a rel=\"mw:WikiLink\" href=\"./Main%20Page#Plus-Entity+between+Text\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#Plus-Entity+between+Text\"},\"sa\":{\"href\":\"#Plus-Entity&amp;#43;between&amp;#43;Text\"},\"dsr\":[391,428,2,2]}'>#Plus-Entity+between+Text</a>\n<a rel=\"mw:WikiLink\" href=\"./Main%20Page#Underscore_between_Text\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#Underscore_between_Text\"},\"sa\":{\"href\":\"#Underscore_between_Text\"},\"dsr\":[429,457,2,2]}'>#Underscore_between_Text</a>\n<a rel=\"mw:WikiLink\" href=\"./Main%20Page#Underscore-Entity_between_Text\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#Underscore-Entity_between_Text\"},\"sa\":{\"href\":\"#Underscore-Entity&amp;#95;between&amp;#95;Text\"},\"dsr\":[458,501,2,2]}'>#Underscore-Entity_between_Text</a></p>");
add("wt2html", "Single-line or multiline-comments can follow headings", "<h2 data-parsoid='{\"dsr\":[0,7,2,2]}'>foo</h2><!---->\n<h2 data-parsoid='{\"dsr\":[15,22,2,2]}'>bar</h2><!--c1-->\n<h2 data-parsoid='{\"dsr\":[32,39,2,2]}'>baz</h2><!--\nc2\nc3-->");
add("wt2html", "BUG 1219 URL next to image (broken)", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[18,38,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Namespaced link must have a title", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Base_MW:\" title=\"Base MW:\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Base_MW:\"},\"sa\":{\"href\":\"Project:\"},\"dsr\":[0,12,2,2]}'>Project:</a></p>");
add("wt2html", "Namespaced link must have a title (bad fragment version)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Base_MW:Main%20Page#fragment\" title=\"Base MW:Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Base_MW:Main%20Page#fragment\"},\"sa\":{\"href\":\"Project:#fragment\"},\"dsr\":[0,21,2,2]}'>Project:#fragment</a></p>");
add("wt2html", "Media link", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:Foobar.jpg\" title=\"Media:Foobar.jpg\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Media:Foobar.jpg\"},\"sa\":{\"href\":\"Media:Foobar.jpg\"},\"dsr\":[0,20,2,2]}'>Media:Foobar.jpg</a></p>");
add("wt2html", "Media link with text", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:Foobar.jpg\" title=\"Media:Foobar.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Media:Foobar.jpg\"},\"sa\":{\"href\":\"Media:Foobar.jpg\"},\"dsr\":[0,43,19,2]}'>A neat file to look at</a></p>");
add("wt2html", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:Foobar.jpg\" title=\"Media:Foobar.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Media:Foobar.jpg\"},\"sa\":{\"href\":\"Media:Foobar.jpg\"},\"dsr\":[0,106,19,2]}'>Safe Link<div style=\"display:none\" data-parsoid='{\"stx\":\"html\",\"dsr\":[28,104,24,6]}'>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div></a></p>");
add("wt2html", "Media link to nonexistent file (bug 1702)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Media:No_such.jpg\" title=\"Media:No such.jpg\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Media:No_such.jpg\"},\"sa\":{\"href\":\"Media:No such.jpg\"},\"dsr\":[0,21,2,2]}'>Media:No such.jpg</a></p>");
add("wt2html", "(bug 19451) Links should refer to the normalized form.", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><a rel=\"mw:WikiLink\" href=\"./אַ\" title=\"אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"&amp;#xFB2E;\"},\"dsr\":[0,12,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" title=\"אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"&amp;#x5d0;&amp;#x5b7;\"},\"dsr\":[13,31,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" title=\"אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"&amp;#x5d0;ַ\"},\"dsr\":[32,44,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" title=\"אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"א&amp;#x5b7;\"},\"dsr\":[45,57,2,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./אַ\" title=\"אַ\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./אַ\"},\"sa\":{\"href\":\"אַ\"},\"dsr\":[58,64,2,2]}'>אַ</a></p>");
add("wt2html", "Attribute test: equals, then nothing", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><font color=\"\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,23,13,7]}'>foo</font></p>");
add("wt2html", "Attribute test: no value", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><font color=\"\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,22,12,7]}'>foo</font></p>");
add("wt2html", "Bug 2304: HTML attribute safety (unsafe breakout parameter; 2309)", "<div style=\"float: right;  >alert(document.cookie)\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"float: right;  >alert(document.cookie)\"},\"sa\":{\"style\":\"float: right; {{{1}}}\"},\"dsr\":[0,55,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"div style\",\"href\":\"./Template:Div_style\"},\"params\":{\"1\":{\"wt\":\"\\\">&lt;script>alert(document.cookie)&lt;/script>\"}},\"i\":0}}]}'>Magic div</div>");
add("wt2html", "Bug 2304: HTML attribute safety (unsafe breakout parameter 2; 2309)", "<div style=\"float: right;   >alert(document.cookie)\" about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"float: right;   >alert(document.cookie)\"},\"sa\":{\"style\":\"float: right; {{{1}}}\"},\"dsr\":[0,56,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"div style\",\"href\":\"./Template:Div_style\"},\"params\":{\"1\":{\"wt\":\"\\\" >&lt;script>alert(document.cookie)&lt;/script>\"}},\"i\":0}}]}'>Magic div</div>");
add("wt2html", "CSS safety test (all browsers): vertical tab (bug 55332 / CVE-2013-4567)", "<p style=\"/* insecure input */\" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\"/* insecure input */\"},\"sa\":{\"style\":\"font-size: 100px; background-image:url\\\\b(https://www.google.com/images/srpr/logo6w.png)\"},\"dsr\":[0,104,99,4]}'>A</p>");
add("wt2html", "MSIE 6 CSS safety test: Fullwidth (bug 55332)", "<p style=\"font-size: 100px; color: ｅｘｐｒｅｓｓｉｏｎ((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,70,4]}'>A</p>\n<div style=\"top:ＥＸＰＲＥＳＳＩＯＮ(alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[76,120,37,6]}'>B</div>");
add("wt2html", "MSIE 6 CSS safety test: IPA extensions (bug 55332)", "<div style=\"background-image:uʀʟ(javascript:alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,61,54,6]}'>A</div>\n<p style=\"font-size: 100px; color: expʀessɪoɴ((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,137,70,4]}'>B</p>");
add("wt2html", "MSIE 6 CSS safety test: sup/sub script (bug 55332)", "<div style=\"background-image:url⁽javascript:alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,61,54,6]}'>A</div>\n<div style=\"background-image:url₍javascript:alert())\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,123,54,6]}'>B</div>\n<p style=\"font-size: 100px; color: expressioⁿ((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[124,199,70,4]}'>C</p>");
add("wt2html", "Opera -o-link CSS", "<div title=\"data:text/html,&lt;img src=1 onerror=alert(1)>\" style=\"-o-link:attr(title);-o-link-source:current\" data-parsoid='{\"stx\":\"html\",\"a\":{\"title\":\"data:text/html,&lt;img src=1 onerror=alert(1)>\"},\"sa\":{\"title\":\"&amp;#100;&amp;#97;&amp;#116;&amp;#97;&amp;#58;&amp;#116;&amp;#101;&amp;#120;&amp;#116;&amp;#47;&amp;#104;&amp;#116;&amp;#109;&amp;#108;&amp;#44;&amp;#60;&amp;#105;&amp;#109;&amp;#103;&amp;#32;&amp;#115;&amp;#114;&amp;#99;&amp;#61;&amp;#49;&amp;#32;&amp;#111;&amp;#110;&amp;#101;&amp;#114;&amp;#114;&amp;#111;&amp;#114;&amp;#61;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#49;&amp;#41;&amp;#62;\"},\"dsr\":[0,313,306,6]}'>X</div>");
add("wt2html", "MSIE 6 CSS safety test: Repetition markers (bug 55332)", "<p style=\"font-size: 100px; color: expres〱ion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,70,4]}'>A</p>\n<p style=\"font-size: 100px; color: expresゝion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[76,151,70,4]}'>B</p>\n<p style=\"font-size: 100px; color: expresーion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[152,227,70,4]}'>C</p>\n<p style=\"font-size: 100px; color: expresヽion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[228,303,70,4]}'>D</p>\n<p style=\"font-size: 100px; color: expresﹽion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[304,379,70,4]}'>E</p>\n<p style=\"font-size: 100px; color: expresﹼion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[380,455,70,4]}'>F</p>\n<p style=\"font-size: 100px; color: expresｰion((title='XSSed'),'red')\" data-parsoid='{\"stx\":\"html\",\"dsr\":[456,531,70,4]}'>G</p>");
add("wt2html", "Parser hook: empty input", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>&lt;tag>&lt;/tag></p>");
add("wt2html", "Parser hook: empty input using terminated empty elements", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>&lt;tag/></p>");
add("wt2html", "Parser hook: empty input using terminated empty elements (space before)", "<p data-parsoid='{\"dsr\":[0,7,0,0]}'>&lt;tag /></p>");
add("wt2html", "Parser hook: basic input", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'>&lt;tag>input&lt;/tag></p>");
add("wt2html", "Parser hook: case insensitive", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'>&lt;TAG>input&lt;/TAG></p>");
add("wt2html", "Parser hook: case insensitive, redux", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'>&lt;TaG>input&lt;/TAg></p>");
add("wt2html", "Parser hook: nested tags", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>&lt;tag>&lt;tag>&lt;/tag>&lt;/tag></p>");
add("wt2html", "Parser hook: basic arguments", "<p data-parsoid='{\"dsr\":[0,56,0,0]}'>&lt;tag width=200 height = \"100\" depth = '50' square>&lt;/tag></p>");
add("wt2html", "Parser hook: argument containing a forward slash (bug 5344)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>&lt;tag filename='/tmp/bla'>&lt;/tag></p>");
add("wt2html", "Parser hook: empty input using terminated empty elements (bug 2374)", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'>&lt;tag foo=bar/>text</p>");
add("wt2html", "Parser hook: basic arguments using terminated empty elements (bug 2374)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'>&lt;tag width=200 height = \"100\" depth = '50' square/>\nother stuff\n&lt;/tag></p>");
add("wt2html", "Parser hook: static parser hook not inside a comment", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>&lt;statictag>hello, world&lt;/statictag>\n&lt;statictag action=flush/></p>");
add("wt2html", "Parser hook: static parser hook inside a comment", "<!-- <statictag>hello, world</statictag> -->\n<p data-parsoid='{\"dsr\":[45,70,0,0]}'>&lt;statictag action=flush/></p>");
add("wt2html", "Sanitizer: Closing of closed but not open tags", "");
add("wt2html", "Sanitizer: Closing of closed but not open table tags", "Table not started");
add("wt2html", "Sanitizer: Escaping of spaces, multibyte characters, colons & other stuff in id=\"\"", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span id=\"æ: v\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,27,16,7]}'>byte</span><a rel=\"mw:WikiLink\" href=\"./Main%20Page#æ:_v\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main%20Page#æ:_v\"},\"sa\":{\"href\":\"#æ: v\"},\"dsr\":[27,45,8,2]}'>backlink</a></p>");
add("wt2html", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,308,15,6]}'>\n\t<p data-parsoid='{\"dsr\":[17,301,0,0]}'>&lt;meta itemprop=\"hello\" content=\"world\">\n\t&lt;meta http-equiv=\"refresh\" content=\"5\">\n\t&lt;meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t&lt;link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t&lt;link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t&lt;link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\"></p>\n</div>");
add("wt2html", "Language converter: output gets cut off unexpectedly (bug 5757)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'>this bit is safe: }-</p>\n\n<p data-parsoid='{\"dsr\":[22,82,0,0]}'>but if we add a conversion instance: -{zh-cn:xxx;zh-tw:yyy}-</p>\n\n<p data-parsoid='{\"dsr\":[84,112,0,0]}'>then we get cut off here: }-</p>\n\n<p data-parsoid='{\"dsr\":[114,145,0,0]}'>all additional text is vanished</p>");
add("wt2html", "Self closed html pairs (bug 5487)", "<center data-parsoid='{\"stx\":\"html\",\"dsr\":[0,47,8,9]}'><font id=\"bug\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[8,25,17,0]}'></font>Centered text</center>\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[48,88,5,6]}'><font id=\"bug2\" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[53,71,18,0]}'></font>In div text</div>");
add("wt2html", "Fuzz testing: Parser13", "<table data-parsoid='{\"a\":{\" \":null},\"sa\":{\" \":\"\"},\"autoInsertedEnd\":true,\"dsr\":[0,15,3,0]}'>\n<tbody data-parsoid='{\"dsr\":[4,15,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[4,15,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[4,15,1,0]}'> <a rel=\"mw:ExtLink\" href=\"http://a|\" data-parsoid='{\"stx\":\"url\",\"dsr\":[6,15,0,0]}'>http://a|</a></td></tr></tbody></table>");
add("wt2html", "Fuzz testing: Parser14", "<h2 data-parsoid='{\"dsr\":[0,18,2,2]}'> onmouseover= </h2>\n<p data-parsoid='{\"dsr\":[19,33,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://__TOC__\" data-parsoid='{\"stx\":\"url\",\"dsr\":[19,33,0,0]}'>http://__TOC__</a></p>");
add("wt2html", "Fuzz testing: Parser14-table", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<table style=\"__TOC__\" data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,22,16,0]}'></table>");
add("wt2html", "Fuzz testing: Parser24", "<p data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"{{{\",\"dsr\":[3,6,0,0]}'>{{{</span>|\n<u class=\"|\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"html\",\"a\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":null},\"sa\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[8,0,74,0]}' data-mw='{\"attribs\":[[{\"txt\":\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->}}}}\",\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Param\\\" data-parsoid=\\\"{&amp;quot;dsr&amp;quot;:[20,79,null,null],&amp;quot;src&amp;quot;:&amp;quot;{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}&amp;quot;}\\\">{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--&amp;gt;}}}&lt;/span>}\"},{\"html\":\"\"}]]}'>\n<br style=\"onmouseover='alert(document.cookie);' \" data-parsoid='{\"stx\":\"html\",\"selfClose\":true,\"dsr\":[83,0,53,0]}'/></u></p><p data-parsoid='{\"fostered\":true,\"autoInsertedEnd\":true,\"dsr\":[0,0]}'><u class=\"|\" about=\"#mwt2\" typeof=\"mw:ExpandedAttrs\" data-parsoid='{\"stx\":\"html\",\"a\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":null},\"sa\":{\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}}\":\"\"},\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[-37,0,0,0]}' data-mw='{\"attribs\":[[{\"txt\":\"{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->}}}}\",\"html\":\"&lt;span about=\\\"#mwt1\\\" typeof=\\\"mw:Param\\\" data-parsoid=\\\"{&amp;quot;dsr&amp;quot;:[20,79,null,null],&amp;quot;src&amp;quot;:&amp;quot;{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx-->&lt;noinclude>}}}&amp;quot;}\\\">{{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--&amp;gt;}}}&lt;/span>}\"},{\"html\":\"\"}]]}'>MOVE YOUR MOUSE CURSOR OVER THIS TEXT</u></p><table data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[0,177,2,0]}'>\n\n\n\n<tbody data-parsoid='{\"dsr\":[176,177,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[176,177,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[176,177,1,0]}'></td></tr></tbody></table>");
add("wt2html", "Fuzz testing: Parser25 (bug 6055)", "<span about=\"#mwt1\" typeof=\"mw:Param\" data-parsoid='{\"dsr\":[0,26,null,null],\"src\":\"{{{\\n| \\n&lt;LI CLASS=||\\n >\\n}}}\"}'></span><p data-parsoid='{\"dsr\":[26,110,0,0]}'>blah\" onmouseover=\"alert('hello world');\" align=\"left\"<b data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[80,110,3,0]}'>MOVE MOUSE CURSOR OVER HERE</b></p>");
add("wt2html", "Inline HTML vs wiki block nesting", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[0,17,3,0]}'>Bold paragraph</b></p><b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[17,37,0,0]}'>\n\n<p data-parsoid='{\"dsr\":[19,37,0,0]}'>New wiki paragraph</p></b>");
add("wt2html", "Special page transclusion", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,30,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:Prefixindex/Xyzzyx\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_special missing in Parsoid.</p>");
add("wt2html", "Special page transclusion twice (bug 5021)", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[0,30,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:Prefixindex/Xyzzyx\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_special missing in Parsoid.</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[31,61,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:Prefixindex/Xyzzyx\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_special missing in Parsoid.</span></p>");
add("wt2html", "Transclusion of default MediaWiki message", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,22,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:Mainpage\",\"href\":\"./MediaWiki:Mainpage\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:Mainpage</span></p>");
add("wt2html", "Transclusion of nonexistent MediaWiki message", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,25,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:Mainpagexxx\",\"href\":\"./MediaWiki:Mainpagexxx\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:Mainpagexxx</span></p>");
add("wt2html", "Transclusion of MediaWiki message with underscore", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,27,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:history_short\",\"href\":\"./MediaWiki:History_short\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:History_short</span></p>");
add("wt2html", "Transclusion of MediaWiki message with space", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,27,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MediaWiki:history short\",\"href\":\"./MediaWiki:History_short\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for MediaWiki:History_short</span></p>");
add("wt2html", "Section extraction test (section 0)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 1)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 2)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 3)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 4)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 5)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 6)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 7)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 8)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 9)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (section 10)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test (nonexistent section 11)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section extraction test with bogus heading (section 1)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,35,0,0]}'>==bogus== not a legal section</p>\n<h2 data-parsoid='{\"dsr\":[36,41,2,2]}'>b</h2>");
add("wt2html", "Section extraction test with bogus heading (section 2)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,35,0,0]}'>==bogus== not a legal section</p>\n<h2 data-parsoid='{\"dsr\":[36,41,2,2]}'>b</h2>");
add("wt2html", "Section extraction test with comment after heading (section 1)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>b</h2> <!-- -->\n<h2 data-parsoid='{\"dsr\":[21,26,2,2]}'>c</h2>");
add("wt2html", "Section extraction test with comment after heading (section 2)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>b</h2> <!-- -->\n<h2 data-parsoid='{\"dsr\":[21,26,2,2]}'>c</h2>");
add("wt2html", "Section extraction test with bogus <nowiki> heading (section 1)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,52,0,0]}'>==bogus== <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[16,52,8,9]}'>not a legal section</span></p>\n<h2 data-parsoid='{\"dsr\":[53,58,2,2]}'>b</h2>");
add("wt2html", "Section extraction test with bogus <nowiki> heading (section 2)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<p data-parsoid='{\"dsr\":[6,52,0,0]}'>==bogus== <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[16,52,8,9]}'>not a legal section</span></p>\n<h2 data-parsoid='{\"dsr\":[53,58,2,2]}'>b</h2>");
add("wt2html", "Section extraction prefixed by comment (section 1)", "<!-- --><h2 data-parsoid='{\"dsr\":[8,16,2,2]}'>sec1</h2>\n<h2 data-parsoid='{\"dsr\":[17,25,2,2]}'>sec2</h2>");
add("wt2html", "Section extraction prefixed by comment (section 2)", "<!-- --><h2 data-parsoid='{\"dsr\":[8,16,2,2]}'>sec1</h2>\n<h2 data-parsoid='{\"dsr\":[17,25,2,2]}'>sec2</h2>");
add("wt2html", "Section extraction, mixed wiki and html (section 1)", "<h2 data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,4,5]}'>unmarked</h2>\n<p data-parsoid='{\"dsr\":[18,26,0,0]}'>unmarked</p>\n<h2 data-parsoid='{\"dsr\":[27,32,2,2]}'>1</h2>\n<p data-parsoid='{\"dsr\":[33,36,0,0]}'>one</p>\n<h2 data-parsoid='{\"dsr\":[37,42,2,2]}'>2</h2>\n<p data-parsoid='{\"dsr\":[43,46,0,0]}'>two</p>");
add("wt2html", "Section extraction, mixed wiki and html (section 2)", "<h2 data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,4,5]}'>unmarked</h2>\n<p data-parsoid='{\"dsr\":[18,26,0,0]}'>unmarked</p>\n<h2 data-parsoid='{\"dsr\":[27,32,2,2]}'>1</h2>\n<p data-parsoid='{\"dsr\":[33,36,0,0]}'>one</p>\n<h2 data-parsoid='{\"dsr\":[37,42,2,2]}'>2</h2>\n<p data-parsoid='{\"dsr\":[43,46,0,0]}'>two</p>");
add("wt2html", "Section extraction, heading surrounded by <noinclude>", "<meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[0,11,null,null]}'/><h2 data-parsoid='{\"dsr\":[11,23,2,2]}'>unmarked</h2><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[23,35,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[36,46,2,2]}'>marked</h2>");
add("wt2html", "Sectiion with all-equals", "<p data-parsoid='{\"dsr\":[0,99,0,0]}'>=== \nThe line above must have a trailing space\n=== <!--\n--> <!-- -->\nBut just in case it doesn't...</p>");
add("wt2html", "Section replacement test (section 0)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 1)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 2)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 3)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 4)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 5)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 6)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 7)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 8)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 9)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test (section 10)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>\n<h2 data-parsoid='{\"dsr\":[6,11,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[12,20,3,3]}'>aa</h3>\n<h4 data-parsoid='{\"dsr\":[21,32,4,4]}'>aaa</h4>\n<h2 data-parsoid='{\"dsr\":[33,38,2,2]}'>b</h2>\n<h3 data-parsoid='{\"dsr\":[39,47,3,3]}'>ba</h3>\n<h3 data-parsoid='{\"dsr\":[48,56,3,3]}'>bb</h3>\n<h4 data-parsoid='{\"dsr\":[57,68,4,4]}'>bba</h4>\n<h3 data-parsoid='{\"dsr\":[69,77,3,3]}'>bc</h3>\n<h2 data-parsoid='{\"dsr\":[78,83,2,2]}'>c</h2>\n<h3 data-parsoid='{\"dsr\":[84,92,3,3]}'>ca</h3>");
add("wt2html", "Section replacement test with initial whitespace (bug 13728)", "<pre data-parsoid='{\"dsr\":[0,26,1,0]}'>Preformatted initial line</pre>\n<h2 data-parsoid='{\"dsr\":[27,32,2,2]}'>a</h2>\n<h3 data-parsoid='{\"dsr\":[33,40,3,3]}'>a</h3>");
add("wt2html", "Section extraction, heading followed by pre with 20 spaces (bug 6398)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<pre data-parsoid='{\"dsr\":[6,27,1,0]}'>                   a</pre>");
add("wt2html", "Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)", "<h2 data-parsoid='{\"dsr\":[0,5,2,2]}'>a</h2>\n<pre data-parsoid='{\"dsr\":[6,26,1,0]}'>                  a</pre>");
add("wt2html", "Section extraction, <pre> around bogus header (bug 10309)", "<h2 data-parsoid='{\"dsr\":[0,17,2,2]}'> Section One </h2>\n<pre data-parsoid='{\"stx\":\"html\",\"strippedNL\":true,\"dsr\":[18,38,5,6]}'>=======\n</pre>\n\n<h2 data-parsoid='{\"dsr\":[40,57,2,2]}'> Section Two </h2>\n<p data-parsoid='{\"dsr\":[58,63,0,0]}'>stuff</p>");
add("wt2html", "Section replacement, <pre> around bogus header (bug 10309)", "<h2 data-parsoid='{\"dsr\":[0,17,2,2]}'> Section One </h2>\n<pre data-parsoid='{\"stx\":\"html\",\"strippedNL\":true,\"dsr\":[18,38,5,6]}'>=======\n</pre>\n\n<h2 data-parsoid='{\"dsr\":[40,57,2,2]}'> Section Two </h2>\n<p data-parsoid='{\"dsr\":[58,63,0,0]}'>stuff</p>");
add("wt2html", "Special:Search page linking.", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,18,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Special:search\",\"function\":\"special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_special missing in Parsoid.</p>");
add("wt2html", "Say the magic word", "<ul data-parsoid='{\"dsr\":[0,544,0,0]}'><li data-parsoid='{\"dsr\":[0,14,1,0]}'> <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[2,14,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAME\",\"function\":\"pagename\"},\"params\":{},\"i\":0}}]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[15,30,1,0]}'> <span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[17,30,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PAGENAMEE\",\"function\":\"pagenamee\"},\"params\":{},\"i\":0}}]}'></span></li>\n<li data-parsoid='{\"dsr\":[31,49,1,0]}'> <span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[33,49,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"FULLPAGENAME\",\"function\":\"fullpagename\"},\"params\":{},\"i\":0}}]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[50,69,1,0]}'> <span about=\"#mwt4\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[52,69,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"FULLPAGENAMEE\",\"function\":\"fullpagenamee\"},\"params\":{},\"i\":0}}]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[70,88,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt5\" id=\"mwt5\" data-parsoid='{\"dsr\":[72,88,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAME\",\"href\":\"./Template:BASEPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[89,108,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt6\" id=\"mwt6\" data-parsoid='{\"dsr\":[91,108,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"BASEPAGENAMEE\",\"href\":\"./Template:BASEPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:BASEPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[109,126,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt7\" id=\"mwt7\" data-parsoid='{\"dsr\":[111,126,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAME\",\"href\":\"./Template:SUBPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[127,145,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt8\" id=\"mwt8\" data-parsoid='{\"dsr\":[129,145,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBPAGENAMEE\",\"href\":\"./Template:SUBPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[146,164,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt9\" id=\"mwt9\" data-parsoid='{\"dsr\":[148,164,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAME\",\"href\":\"./Template:ROOTPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[165,184,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt10\" id=\"mwt10\" data-parsoid='{\"dsr\":[167,184,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ROOTPAGENAMEE\",\"href\":\"./Template:ROOTPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:ROOTPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[185,203,1,0]}'> <span about=\"#mwt11\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[187,203,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAME\",\"function\":\"talkpagename\"},\"params\":{},\"i\":0}}]}'>Parser test</span></li>\n<li data-parsoid='{\"dsr\":[204,223,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt12\" id=\"mwt12\" data-parsoid='{\"dsr\":[206,223,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKPAGENAMEE\",\"href\":\"./Template:TALKPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[224,245,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt13\" id=\"mwt13\" data-parsoid='{\"dsr\":[226,245,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAME\",\"href\":\"./Template:SUBJECTPAGENAME\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAME</span></li>\n<li data-parsoid='{\"dsr\":[246,268,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt14\" id=\"mwt14\" data-parsoid='{\"dsr\":[248,268,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTPAGENAMEE\",\"href\":\"./Template:SUBJECTPAGENAMEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTPAGENAMEE</span></li>\n<li data-parsoid='{\"dsr\":[269,285,1,0]}'> <span about=\"#mwt15\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[271,285,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACEE\",\"function\":\"namespacee\"},\"params\":{},\"i\":0}}]}'>Main</span></li>\n<li data-parsoid='{\"dsr\":[286,301,1,0]}'> <span about=\"#mwt16\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[288,301,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACE\",\"function\":\"namespace\"},\"params\":{},\"i\":0}}]}'>Main</span></li>\n<li data-parsoid='{\"dsr\":[302,323,1,0]}'> <span about=\"#mwt17\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[304,323,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"NAMESPACENUMBER\",\"function\":\"namespacenumber\"},\"params\":{},\"i\":0}}]}'></span></li>\n<li data-parsoid='{\"dsr\":[324,339,1,0]}'> <span about=\"#mwt18\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[326,339,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACE\",\"function\":\"talkspace\"},\"params\":{},\"i\":0}}]}'>Talk</span></li>\n<li data-parsoid='{\"dsr\":[340,356,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt19\" id=\"mwt19\" data-parsoid='{\"dsr\":[342,356,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"TALKSPACEE\",\"href\":\"./Template:TALKSPACEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:TALKSPACEE</span></li>\n<li data-parsoid='{\"dsr\":[357,375,1,0]}'> <span about=\"#mwt20\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[359,375,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACE\",\"function\":\"subjectspace\"},\"params\":{},\"i\":0}}]}'>Main</span></li>\n<li data-parsoid='{\"dsr\":[376,395,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt21\" id=\"mwt21\" data-parsoid='{\"dsr\":[378,395,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"SUBJECTSPACEE\",\"href\":\"./Template:SUBJECTSPACEE\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:SUBJECTSPACEE</span></li>\n<li data-parsoid='{\"dsr\":[396,544,1,0]}'> <span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt22\" id=\"mwt22\" data-parsoid='{\"dsr\":[398,544,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"2\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"3\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"4\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"5\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"6\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"7\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Dynamic\",\"href\":\"./Template:Dynamic\"},\"params\":{\"1\":{\"wt\":\"{{NUMBEROFUSERS}}\"},\"2\":{\"wt\":\"{{NUMBEROFPAGES}}\"},\"3\":{\"wt\":\"{{CURRENTVERSION}}\"},\"4\":{\"wt\":\"{{CONTENTLANGUAGE}}\"},\"5\":{\"wt\":\"{{DIRECTIONMARK}}\"},\"6\":{\"wt\":\"{{CURRENTTIMESTAMP}}\"},\"7\":{\"wt\":\"{{NUMBEROFARTICLES}}\"}},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:Dynamic</span></li></ul>");
add("wt2html", "Gallery", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nimage1.png |\\nimage2.gif|||||\\n\\nimage3|\\nimage4    |300px| centre\\n image5.svg| http://///////\\n[[x|xx]]]]\\n* image6\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,131,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nimage1.png |\\nimage2.gif|||||\\n\\nimage3|\\nimage4    |300px| centre\\n image5.svg| http://///////\\n[[x|xx]]]]\\n* image6\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nimage1.png |\\nimage2.gif|||||\\n\\nimage3|\\nimage4    |300px| centre\\n image5.svg| http://///////\\n[[x|xx]]]]\\n* image6\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"image1.png |\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"image2.gif|||||\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"image3|\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"image4    |300px| centre\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\" image5.svg| http://///////\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"[[x|xx]]]]\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"* image6\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,121,null,null]}'/></div>");
add("wt2html", "Gallery (with options)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery widths=\\\"70px\\\" heights=\\\"40px\\\" perrow=\\\"2\\\" caption=\\\"Foo [[Main Page]]\\\">\\nFile:Nonexistent.jpg|caption\\nFile:Nonexistent.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nimage:foobar.jpg\\nimage:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.\\n&lt;/gallery>\",\"tagWidths\":[77,10],\"dsr\":[0,260,77,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery widths=\\\"70px\\\" heights=\\\"40px\\\" perrow=\\\"2\\\" caption=\\\"Foo [[Main Page]]\\\">\\nFile:Nonexistent.jpg|caption\\nFile:Nonexistent.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nimage:foobar.jpg\\nimage:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{\"widths\":\"70px\",\"heights\":\"40px\",\"perrow\":\"2\",\"caption\":\"Foo [[Main Page]]\"},\"body\":{\"extsrc\":\"\\nFile:Nonexistent.jpg|caption\\nFile:Nonexistent.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nimage:foobar.jpg\\nimage:foobar.jpg|Blabla|alt=This is a foo-bar.|blabla.\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"File:Nonexistent.jpg|caption\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"File:Nonexistent.jpg\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">some <b data-parsoid='{\"dsr\":[150,163,3,3]}'>caption</b> <a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[164,177,2,2]}'>Main Page</a></figcaption></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"bogus\",\"ak\":\"Blabla\"},{\"ck\":\"alt\",\"ak\":\"alt=This is a foo-bar.\"},{\"ck\":\"caption\",\"ak\":\"blabla.\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img alt=\"This is a foo-bar.\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"alt\":\"This is a foo-bar.\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"alt\":\"alt=This is a foo-bar.\",\"resource\":\"image:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">blabla.</figcaption></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,250,null,null]}'/></div>");
add("wt2html", "Gallery with link that has fragment", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nimage:foobar.jpg|link=Main_Page\\nimage:foobar.jpg|link=Main_Page#section\\nimage:foobar.jpg|link=Main Page#section|caption\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,140,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nimage:foobar.jpg|link=Main_Page\\nimage:foobar.jpg|link=Main_Page#section\\nimage:foobar.jpg|link=Main Page#section|caption\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nimage:foobar.jpg|link=Main_Page\\nimage:foobar.jpg|link=Main_Page#section\\nimage:foobar.jpg|link=Main Page#section|caption\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=Main_Page\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./Main_Page\" data-parsoid='{\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"link=Main_Page\"}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=Main_Page#section\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./Main_Page#section\" data-parsoid='{\"a\":{\"href\":\"./Main_Page#section\"},\"sa\":{\"href\":\"link=Main_Page#section\"}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=Main Page#section\"},{\"ck\":\"caption\",\"ak\":\"caption\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./Main_Page#section\" data-parsoid='{\"a\":{\"href\":\"./Main_Page#section\"},\"sa\":{\"href\":\"link=Main Page#section\"}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">caption</figcaption></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,130,null,null]}'/></div>");
add("wt2html", "Gallery with wikitext inside caption", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\\nFile:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,156,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\\nFile:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\\nFile:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"[[File:foobar.jpg|20px|desc|alt=inneralt]]\"},{\"ck\":\"alt\",\"ak\":\"alt=galleryalt\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img alt=\"galleryalt\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"alt\":\"galleryalt\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"alt\":\"alt=galleryalt\",\"resource\":\"File:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\"><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"20px\"},{\"ck\":\"caption\",\"ak\":\"desc\"},{\"ck\":\"alt\",\"ak\":\"alt=inneralt\"}],\"dsr\":[26,68,null,null]}' data-mw='{\"user\":\"n00b\",\"caption\":\"desc\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img alt=\"inneralt\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/20px-Foobar.jpg\" height=\"2\" width=\"20\" data-parsoid='{\"a\":{\"alt\":\"inneralt\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"2\",\"width\":\"20\"},\"sa\":{\"alt\":\"alt=inneralt\",\"resource\":\"File:foobar.jpg\"}}'/></a></span></figcaption></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"{{Test|unamedParam|alt=param}}\"},{\"ck\":\"alt\",\"ak\":\"alt=galleryalt\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img alt=\"galleryalt\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"alt\":\"galleryalt\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"alt\":\"alt=galleryalt\",\"resource\":\"File:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">This is a test template</figcaption></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,146,null,null]}'/></div>");
add("wt2html", "gallery (with showfilename option)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery showfilename=\\\"\\\">\\nFile:Nonexistent.jpg|caption\\nFile:Nonexistent.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nFile:Foobar.jpg\\n&lt;/gallery>\",\"tagWidths\":[25,10],\"dsr\":[0,152,25,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery showfilename=\\\"\\\">\\nFile:Nonexistent.jpg|caption\\nFile:Nonexistent.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nFile:Foobar.jpg\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{\"showfilename\":\"\"},\"body\":{\"extsrc\":\"\\nFile:Nonexistent.jpg|caption\\nFile:Nonexistent.jpg\\nimage:foobar.jpg|some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\\nFile:Foobar.jpg\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"File:Nonexistent.jpg|caption\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"File:Nonexistent.jpg\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"some &#39;&#39;&#39;caption&#39;&#39;&#39; [[Main Page]]\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">some <b data-parsoid='{\"dsr\":[98,111,3,3]}'>caption</b> <a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[112,125,2,2]}'>Main Page</a></figcaption></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,142,null,null]}'/></div>");
add("wt2html", "Gallery (with namespace-less filenames)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:Nonexistent.jpg\\nNonexistent.jpg\\nimage:foobar.jpg\\nfoobar.jpg\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,85,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:Nonexistent.jpg\\nNonexistent.jpg\\nimage:foobar.jpg\\nfoobar.jpg\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:Nonexistent.jpg\\nNonexistent.jpg\\nimage:foobar.jpg\\nfoobar.jpg\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"File:Nonexistent.jpg\"}'/>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"Nonexistent.jpg\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"image:foobar.jpg\"}}'/></a></figure>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":false}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:foobar.jpg\"}}'/></a></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,75,null,null]}'/></div>");
add("wt2html", "__FORCETOC__ override", "<meta property=\"mw:PageProp/newsectionlink\" data-parsoid='{\"src\":\"__NEWSECTIONLINK__\",\"magicSrc\":\"__NEWSECTIONLINK__\",\"dsr\":[0,18,null,null]}'/>\n<meta property=\"mw:PageProp/forcetoc\" data-parsoid='{\"src\":\"__FORCETOC__\",\"magicSrc\":\"__FORCETOC__\",\"dsr\":[19,31,null,null]}'/>");
add("wt2html", "Centre-aligned image", "<figure class=\"mw-default-size mw-halign-center\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"center\",\"ak\":\"centre\"}],\"dsr\":[0,27,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,25,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></figure>");
add("wt2html", "None-aligned image", "<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"none\",\"ak\":\"none\"}],\"dsr\":[0,25,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,23,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></figure>");
add("wt2html", "Width + Height sized image (using px) (height is ignored)", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"640x480px\"}],\"dsr\":[0,30,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Width-sized image (using px, no following whitespace)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"640px\"}],\"dsr\":[0,26,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Width-sized image (using px, with following whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\"640px \"}],\"dsr\":[0,27,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Width-sized image (using px, with preceding whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"width\",\"ak\":\" 640px\"}],\"dsr\":[0,27,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" height=\"73\" width=\"640\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"73\",\"width\":\"640\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "HTML with raw HTML ($wgRawHtml==true)", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'>&lt;html>&lt;script>alert(1);&lt;/script>&lt;/html></p>");
add("wt2html", "Parents of subpages, one level up, not named", "<p data-parsoid='{\"dsr\":[0,7,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Subpage_test/L1/L2\" title=\"Subpage test/L1/L2\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Subpage_test/L1/L2\"},\"sa\":{\"href\":\"../\"},\"dsr\":[0,7,2,2]}'>Subpage_test/L1/L2</a></p>");
add("wt2html", "Parents of subpages, two levels up, without trailing slash or name.", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Subpage_test/L1/L2/..\" title=\"Subpage test/L1/L2/..\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Subpage_test/L1/L2/..\"},\"sa\":{\"href\":\"../..\"},\"dsr\":[0,9,2,2]}'>Subpage_test/L1/L2/..</a></p>");
add("wt2html", "Parents of subpages, two levels up, with lots of extra trailing slashes.", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Subpage_test/L1\" title=\"Subpage test/L1\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Subpage_test/L1\"},\"sa\":{\"href\":\"../../////\"},\"dsr\":[0,14,2,2]}'>Subpage_test/L1</a></p>");
add("wt2html", "Transclusion of a sibling page (one level up)", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"../L3Sibling\",\"href\":\"./Template:../L3Sibling\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:../L3Sibling</span></p>");
add("wt2html", "Transclusion of a child page", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"/L3Sibling\",\"href\":\"./Template:/L3Sibling\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:/L3Sibling</span></p>");
add("wt2html", "Non-transclusion because of too many up levels", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,32,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"../../../../More than parent\",\"href\":\"./Template:../../../../More_than_parent\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:../../../../More_than_parent</span></p>");
add("wt2html", "MSGNW magic word", "<p data-parsoid='{\"dsr\":[0,13,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,13,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MSGNW:msg\",\"href\":\"./MSGNW:Msg\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for MSGNW:Msg</span></p>");
add("wt2html", "RAW magic word", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,14,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"RAW:QUERTY\",\"href\":\"./RAW:QUERTY\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for RAW:QUERTY</span></p>");
add("wt2html", "anchorencode", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,28,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode:foo bar©#%n\",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}'>foo bar©#%n</p>");
add("wt2html", "anchorencode trims spaces", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,36,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode: __pretty__please__\",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}'>__pretty__please__</p>");
add("wt2html", "anchorencode deals with links", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,40,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode: [[hello|world]] [[hi]]\",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}'>world hi</p>");
add("wt2html", "anchorencode encodes like the TOC generator: (bug 18431)", "<h3 data-parsoid='{\"dsr\":[0,26,3,3]}'> _ +:.3A%3A&amp;<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;amp;\",\"srcContent\":\"&amp;\",\"dsr\":[15,20,null,null]}'>&amp;</span>]] </h3>\n<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[27,64,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"anchorencode: _ +:.3A%3A&amp;&amp;amp;]] \",\"function\":\"anchorencode\"},\"params\":{},\"i\":0}}]}'>_ +:.3A%3A&amp;&amp;]]</p>\n<meta property=\"mw:PageProp/noeditsection\" data-parsoid='{\"src\":\"__NOEDITSECTION__\",\"magicSrc\":\"__NOEDITSECTION__\",\"dsr\":[65,82,null,null]}'/>");
add("wt2html", "Self-link in language variants", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'>Both <a rel=\"mw:WikiLink\" href=\"./Dunav\" title=\"Dunav\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dunav\"},\"sa\":{\"href\":\"Dunav\"},\"dsr\":[5,14,2,2]}'>Dunav</a> and <a rel=\"mw:WikiLink\" href=\"./Дунав\" title=\"Дунав\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дунав\"},\"sa\":{\"href\":\"Дунав\"},\"dsr\":[19,28,2,2]}'>Дунав</a> are names for this river.</p>");
add("wt2html", "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title", "<p data-parsoid='{\"dsr\":[0,77,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\"},\"sa\":{\"href\":\"Дуна\"},\"dsr\":[0,8,2,2]}'>Дуна</a> is not a self-link while <a rel=\"mw:WikiLink\" href=\"./Duna\" title=\"Duna\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Duna\"},\"sa\":{\"href\":\"Duna\"},\"dsr\":[34,42,2,2]}'>Duna</a> and <a rel=\"mw:WikiLink\" href=\"./Dуна\" title=\"Dуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dуна\"},\"sa\":{\"href\":\"Dуна\"},\"dsr\":[47,55,2,2]}'>Dуна</a> are still self-links.</p>");
add("wt2html", "Link to a section of a variant of this title shouldn't be parsed as self-link", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Dуна\" title=\"Dуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dуна\"},\"sa\":{\"href\":\"Dуна\"},\"dsr\":[0,8,2,2]}'>Dуна</a> is a self-link while <a rel=\"mw:WikiLink\" href=\"./Dunа#Foo\" title=\"Dunа\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dunа#Foo\"},\"sa\":{\"href\":\"Dunа#Foo\"},\"dsr\":[30,42,2,2]}'>Dunа#Foo</a> and <a rel=\"mw:WikiLink\" href=\"./Dуна#Foo\" title=\"Dуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dуна#Foo\"},\"sa\":{\"href\":\"Dуна#Foo\"},\"dsr\":[47,59,2,2]}'>Dуна#Foo</a> are not self-links.</p>");
add("wt2html", "Link to pages in language variants", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>Main Page can be written as <a rel=\"mw:WikiLink\" href=\"./Маин_Паге\" title=\"Маин Паге\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Маин_Паге\"},\"sa\":{\"href\":\"Маин Паге\"},\"dsr\":[28,41,2,2]}'>Маин Паге</a></p>");
add("wt2html", "Multiple links to pages in language variants", "<p data-parsoid='{\"dsr\":[0,68,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,13,2,2]}'>Main Page</a> can be written as <a rel=\"mw:WikiLink\" href=\"./Маин_Паге\" title=\"Маин Паге\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Маин_Паге\"},\"sa\":{\"href\":\"Маин Паге\"},\"dsr\":[32,45,2,2]}'>Маин Паге</a> same as <a rel=\"mw:WikiLink\" href=\"./Маин_Паге\" title=\"Маин Паге\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Маин_Паге\"},\"sa\":{\"href\":\"Маин Паге\"},\"dsr\":[54,67,2,2]}'>Маин Паге</a>.</p>");
add("wt2html", "Simple template in language variants", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,8,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"тест\",\"href\":\"./Шаблон:тест\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Шаблон:тест</span></p>");
add("wt2html", "Template with explicit namespace in language variants", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,17,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Template:тест\",\"href\":\"./Template:Тест\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:Тест</span></p>");
add("wt2html", "Basic test for template parameter in language variants", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,23,null,null],\"pi\":[[{\"k\":\"param\",\"named\":true,\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"парамтест\",\"href\":\"./Шаблон:парамтест\"},\"params\":{\"param\":{\"wt\":\"foo\"}},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Шаблон:парамтест</span></p>");
add("wt2html", "Simple category in language variants", "<link rel=\"mw:PageProp/Category\" href=\"./Категорија:МедиаWики_Усер'с_Гуиде\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Категорија:МедиаWики_Усер&#39;с_Гуиде\"},\"sa\":{\"href\":\"Category:МедиаWики Усер&#39;с Гуиде\"},\"dsr\":[0,35,null,null]}'/>");
add("wt2html", "Don't convert blue categorylinks to another variant (bug 33210)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'><a rel=\"mw:WikiLink\" href=\"./A\" title=\"A\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./A\"},\"sa\":{\"href\":\"A\"},\"dsr\":[0,5,2,2]}'>A</a></p><link rel=\"mw:PageProp/Category\" href=\"./Category:分类\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Category:分类\"},\"sa\":{\"href\":\"Category:分类\"},\"dsr\":[5,20,null,null]}'/>");
add("wt2html", "Stripping -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'>Latin proverb: -{Ne nuntium necare}-</p>");
add("wt2html", "Prevent conversion with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Latinski: -{Ne nuntium necare}-</p>");
add("wt2html", "Prevent conversion of text with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Latinski: -{Ne nuntium necare}-</p>");
add("wt2html", "Prevent conversion of links with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>-{<a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[2,15,2,2]}'>Main Page</a>}-</p>");
add("wt2html", "-{}- tags within headlines (within html for parserConvert())", "<h2 data-parsoid='{\"dsr\":[0,16,2,2]}'> -{Naslov}- </h2>");
add("wt2html", "Explicit definition of language variant alternatives", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'>-{zh:China;zh-tw:Taiwan}-, not China</p>");
add("wt2html", "Conversion around HTML tags", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>-{H|span=>sr-ec:script;title=>sr-ec:src;}-\n<span title=\"La-{sr-el:L;sr-ec:C;}-tin\" data-parsoid='{\"stx\":\"html\",\"dsr\":[43,93,40,7]}'>ski</span></p>");
add("wt2html", "Explicit session-wise language variant mapping (A flag and - flag)", "<p data-parsoid='{\"dsr\":[0,140,0,0]}'>Taiwan is not China.\nBut -{A|zh:China;zh-tw:Taiwan}- is China,\n(This-{-|zh:China;zh-tw:Taiwan}- should be stripped!)\nand -{China}- is China.</p>");
add("wt2html", "Explicit session-wise language variant mapping (H flag for hide)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'>(This-{H|zh:China;zh-tw:Taiwan}- should be stripped!)\nTaiwan is China.</p>");
add("wt2html", "Adding explicit conversion rule for title (T flag)", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>Should be stripped-{T|zh:China;zh-tw:Taiwan}-!</p>");
add("wt2html", "Testing that changing the language variant here in the tests actually works", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>Should be stripped-{T|zh:China;zh-tw:Taiwan}-!</p>");
add("wt2html", "Recursive conversion of alt and title attrs shouldn't clear converter state", "<p data-parsoid='{\"dsr\":[0,125,0,0]}'>-{H|zh-cn:Exclamation;zh-tw:exclamation;}-\nShould be stripped-{T|zh-cn:China;zh-tw:Taiwan}-<span title=\"exclamation\" data-parsoid='{\"stx\":\"html\",\"dsr\":[91,125,26,7]}'>!</span></p>");
add("wt2html", "Bug 24072: more test on conversion rule for title", "<p data-parsoid='{\"dsr\":[0,128,0,0]}'>This should be stripped-{T|zh:China;zh-tw:Taiwan}-!\nThis won't take interferes with the title rule-{H|zh:Beijing;zh-tw:Taipei}-.</p>");
add("wt2html", "Partly disable title conversion if variant == main language code", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>-{T|zh-cn:CN;zh-tw:TW}-</p>");
add("wt2html", "Partly disable title conversion if variant == main language code, more", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'>-{T|TW}-</p>");
add("wt2html", "Raw output of variant escape tags (R flag)", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>Raw: -{R|zh:China;zh-tw:Taiwan}-</p>");
add("wt2html", "Nested using of manual convert syntax", "<p data-parsoid='{\"dsr\":[0,113,0,0]}'>Nested: -{zh-hans:Hi -{zh-cn:China;zh-sg:Singapore;}-;zh-hant:Hello -{zh-tw:Taiwan;zh-hk:H-{ong}- K-{}-ong;}-;}-!</p>");
add("wt2html", "Proper conversion of text in external links", "<p data-parsoid='{\"dsr\":[0,269,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://www.google.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,21,0,0]}'>http://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"gopher://www.google.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[22,45,0,0]}'>gopher://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"http://www.google.com\" data-parsoid='{\"targetOff\":69,\"contentOffsets\":[69,90],\"dsr\":[46,91,23,1]}'>http://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"gopher://www.google.com\" data-parsoid='{\"targetOff\":117,\"contentOffsets\":[117,140],\"dsr\":[92,141,25,1]}'>gopher://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"https://www.google.com\" data-parsoid='{\"targetOff\":166,\"contentOffsets\":[166,186],\"dsr\":[142,187,24,1]}'>irc://www.google.com</a>\n<a rel=\"mw:ExtLink\" href=\"ftp://www.google.com\" data-parsoid='{\"targetOff\":210,\"contentOffsets\":[210,234],\"dsr\":[188,235,22,1]}'>www.google.com/ftp://dir</a>\n<a rel=\"mw:ExtLink\" href=\"//www.google.com\" data-parsoid='{\"targetOff\":254,\"contentOffsets\":[254,268],\"dsr\":[236,269,18,1]}'>www.google.com</a></p>");
add("wt2html", "Do not convert roman numbers to language variants", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'>Fridrih IV je car.</p>");
add("wt2html", "Don't convert raw rule \"-{R|=&gt;}-\" to \"=>\"", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>-{R|=<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[5,9,null,null]}'>></span>}-</p>");
add("wt2html", "Don't break link parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,29,12,2]}'>-{R|main page}-</a></p>");
add("wt2html", "Don't break image parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,33,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"bogus\",\"ak\":\"-{R\"},{\"ck\":\"caption\",\"ak\":\"caption}-\"}],\"dsr\":[0,33,null,null]}' data-mw='{\"user\":\"n00b\",\"caption\":\"caption}-\"}'><a href=\"./Датотека:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./Датотека:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./Датотека:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./Датотека:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></span></p>");
add("wt2html", "Don't break list handling if language converter markup is in the item.", "<dl data-parsoid='{\"dsr\":[0,24,0,0]}'><dt data-parsoid='{\"dsr\":[0,8,1,0]}'>-{zh-cn</dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[8,24,1,0]}'>AAA;zh-tw:BBB}-</dd></dl>");
add("wt2html", "Don't break table handling if language converter markup is in the cell.", "<table data-parsoid='{\"dsr\":[0,18,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,16,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[3,15,2,0]}'>\n<td data-parsoid='{\"a\":{\"-{R\":null},\"sa\":{\"-{R\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[6,15,6,0]}'>B}-</td></tr>\n</tbody></table>");
add("wt2html", "Bug 529: Uncovered bullet in parser function result", "<ul data-parsoid='{\"dsr\":[0,24,0,0]}'><li data-parsoid='{\"dsr\":[0,24,1,0]}'> Foo <span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[6,24,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"lc:{{bullet}} \",\"function\":\"lc\"},\"params\":{},\"i\":0}}]}'> bar</span></li></ul>");
add("wt2html", "Bug 5678: Double-parsed template invocation", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,42,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"lc:{{paramtest {{!}} param = hello }} \",\"function\":\"lc\"},\"params\":{},\"i\":0}}]}'>{{paramtest  param = hello }}</p>");
add("wt2html", "Case insensitivity of parser functions for non-ASCII characters (bug 8143)", "<p data-parsoid='{\"dsr\":[0,135,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,19,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PRVNÍVELKÉ:ěščř\",\"href\":\"./PRVNÍVELKÉ:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for PRVNÍVELKÉ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt2\" id=\"mwt2\" data-parsoid='{\"dsr\":[20,39,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"prvnívelké:ěščř\",\"href\":\"./Prvnívelké:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Prvnívelké:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt3\" id=\"mwt3\" data-parsoid='{\"dsr\":[40,58,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"PRVNÍMALÉ:ěščř\",\"href\":\"./PRVNÍMALÉ:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for PRVNÍMALÉ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt4\" id=\"mwt4\" data-parsoid='{\"dsr\":[59,77,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"prvnímalé:ěščř\",\"href\":\"./Prvnímalé:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Prvnímalé:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt5\" id=\"mwt5\" data-parsoid='{\"dsr\":[78,91,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"MALÁ:ěščř\",\"href\":\"./MALÁ:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for MALÁ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt6\" id=\"mwt6\" data-parsoid='{\"dsr\":[92,105,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"malá:ěščř\",\"href\":\"./Malá:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Malá:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt7\" id=\"mwt7\" data-parsoid='{\"dsr\":[106,120,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"VELKÁ:ěščř\",\"href\":\"./VELKÁ:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for VELKÁ:ěščř</span>\n<span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt8\" id=\"mwt8\" data-parsoid='{\"dsr\":[121,135,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"velká:ěščř\",\"href\":\"./Velká:ěščř\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Velká:ěščř</span></p>");
add("wt2html", "Nesting tags, paragraphs on lines which begin with <div>", "<div data-parsoid='{\"stx\":\"html\",\"dsr\":[0,11,5,6]}'></div><p data-parsoid='{\"dsr\":[11,20,0,0]}'><strong data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[11,20,8,0]}'>A</strong></p>\n<p data-parsoid='{\"dsr\":[21,31,0,0]}'><strong data-parsoid='{\"stx\":\"html\",\"autoInsertedStart\":true,\"dsr\":[21,31,0,9]}'>B</strong></p>");
add("wt2html", "Bug 6200: paragraphs inside blockquotes (no extra line breaks)", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,43,12,13]}'>Line one\n\nLine two</blockquote>");
add("wt2html", "Bug 6200: paragraphs inside blockquotes (extra line break on close)", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,44,12,13]}'>Line one\n\n<p data-parsoid='{\"dsr\":[22,30,0,0]}'>Line two</p>\n</blockquote>");
add("wt2html", "Free external link invading image caption", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"bogus\",\"ak\":\"http://x\"},{\"ck\":\"caption\",\"ak\":\"hello\"}],\"dsr\":[0,41,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"Image:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,39,null,null]}'>hello</figcaption></figure>");
add("wt2html", "formatdate parser function", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,26,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:2009-03-24\",\"function\":\"#formatdate\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "formatdate parser function, with default format", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,30,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:2009-03-24\",\"function\":\"#formatdate\"},\"params\":{\"1\":{\"wt\":\"mdy\"}},\"i\":0}}]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "Spacing of numbers in formatted dates", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,26,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:January 15\",\"function\":\"#formatdate\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "formatdate parser function, with default format and on a page of which the content language is always English and different from the wiki content language", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,30,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#formatdate:2009-03-24\",\"function\":\"#formatdate\"},\"params\":{\"1\":{\"wt\":\"dmy\"}},\"i\":0}}]}'>Parser function implementation for pf_#formatdate missing in Parsoid.</p>");
add("wt2html", "Edit comment with link", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[11,24,2,2]}'>Main Page</a> a lot</p>");
add("wt2html", "Edit comment with link and link text", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[11,35,12,2]}'>best pages</a> a lot</p>");
add("wt2html", "Edit comment with link and link text with suffix", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[11,35,12,3],\"tail\":\"s\"}'>best pages</a> a lot</p>");
add("wt2html", "Edit comment with section link (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'>/* External links */ removed bogus entries</p>");
add("wt2html", "Edit comment with section link and text before it (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>pre-comment text /* External links */ removed bogus entries</p>");
add("wt2html", "Edit comment with section link (local, eg in diff view)", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'>/* External links */ removed bogus entries</p>");
add("wt2html", "Edit comment with subpage link (bug 14080)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\"./Subpage_test/subpage\" title=\"Subpage test/subpage\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Subpage_test/subpage\"},\"sa\":{\"href\":\"/subpage\"},\"dsr\":[11,23,2,2]}'>/subpage</a> here...</p>");
add("wt2html", "Edit comment with subpage link and link text (bug 14080)", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\"./Subpage_test/subpage\" title=\"Subpage test/subpage\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Subpage_test/subpage\"},\"sa\":{\"href\":\"/subpage\"},\"dsr\":[11,40,11,2]}'>neat little page</a> here...</p>");
add("wt2html", "Edit comment with bogus subpage link in non-subpage NS (bug 14080)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\".//subpage\" title=\"/subpage\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\".//subpage\"},\"sa\":{\"href\":\"/subpage\"},\"dsr\":[11,23,2,2]}'>/subpage</a> here...</p>");
add("wt2html", "Edit comment with bare anchor link (local, as on diff)", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main%20Page#section\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#section\"},\"sa\":{\"href\":\"#section\"},\"dsr\":[0,12,2,2]}'>#section</a></p>");
add("wt2html", "Edit comment with bare anchor link (non-local, as on history)", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main%20Page#section\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main%20Page#section\"},\"sa\":{\"href\":\"#section\"},\"dsr\":[0,12,2,2]}'>#section</a></p>");
add("wt2html", "Space normalisation on autocomment (bug 22784)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>/* __hello__world__ */</p>");
add("wt2html", "percent-encoding and + signs in comments (Bug 26410)", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'><a rel=\"mw:WikiLink\" href=\"./ABC3D%25_++\" title=\"ABC3D% ++\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./ABC3D%25_++\"},\"sa\":{\"href\":\"ABC%33D% ++\"},\"dsr\":[0,15,2,2]}'>ABC3D% ++</a> <a rel=\"mw:WikiLink\" href=\"./ABC3D%25_++\" title=\"ABC3D% ++\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./ABC3D%25_++\"},\"sa\":{\"href\":\"ABC%33D% ++\"},\"dsr\":[16,36,14,2]}'>+%20</a></p>");
add("wt2html", "Bad images - basic functionality", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Error mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[0,16,null,null]}' data-mw='{\"errors\":[{\"key\":\"missing-image\",\"message\":\"This image does not exist.\"}]}'><a href=\"./File:Bad.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Bad.jpg\"},\"sa\":{}}'><img resource=\"./File:Bad.jpg\" src=\"./Special:FilePath/Bad.jpg\" height=\"220\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Bad.jpg\",\"height\":\"220\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Bad.jpg\"}}'/></a></span></p>");
add("wt2html", "Bad images - bug 16039: text after bad image disappears", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>Foo bar\n<span class=\"mw-default-size\" typeof=\"mw:Error mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[8,24,null,null]}' data-mw='{\"errors\":[{\"key\":\"missing-image\",\"message\":\"This image does not exist.\"}]}'><a href=\"./File:Bad.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Bad.jpg\"},\"sa\":{}}'><img resource=\"./File:Bad.jpg\" src=\"./Special:FilePath/Bad.jpg\" height=\"220\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Bad.jpg\",\"height\":\"220\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Bad.jpg\"}}'/></a></span>\nBar foo</p>");
add("wt2html", "Verify that displaytitle works (bug #22501) no displaytitle", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>");
add("wt2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>\n<meta property=\"mw:PageProp/displaytitle\" content=\"whatever\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:whatever}}\",\"dsr\":[26,51,null,null]}'/>");
add("wt2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>\n<meta property=\"mw:PageProp/displaytitle\" content=\"whatever\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:whatever}}\",\"dsr\":[26,51,null,null]}'/>");
add("wt2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:screen}}\",\"dsr\":[26,49,null,null]}'/>");
add("wt2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:screen}}\",\"dsr\":[26,49,null,null]}'/>");
add("wt2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>");
add("wt2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:&lt;span style=\\\"display: none;\\\">s&lt;/span>creen}}\",\"a\":{\"content\":\"screen\"},\"sa\":{\"content\":\"&lt;span style=\\\"display: none;\\\">s&lt;/span>creen\"},\"dsr\":[26,85,null,null]}'/>");
add("wt2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>this is not the the title</p>\n<meta property=\"mw:PageProp/displaytitle\" content=\"screen\" data-parsoid='{\"src\":\"{{DISPLAYTITLE:&lt;span style=\\\"color: red;\\\">s&lt;/span>creen}}\",\"a\":{\"content\":\"screen\"},\"sa\":{\"content\":\"&lt;span style=\\\"color: red;\\\">s&lt;/span>creen\"},\"dsr\":[26,82,null,null]}'/>");
add("wt2html", "preload: check <noinclude> and <includeonly>", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>Hello <meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[6,17,null,null]}'/>cruel<meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[22,34,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>kind&lt;/includeonly>\",\"dsr\":[34,65,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[65,65,null,null]}'/> world.</p>");
add("wt2html", "preload: check <onlyinclude>", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>Goodbye <meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[8,21,null,null]}'/>Hello world</p><meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[32,46,null,null]}'/>");
add("wt2html", "preload: can pass tags through if we want to", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;&lt;/includeonly>\",\"dsr\":[0,28,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[28,28,null,null]}'/><p data-parsoid='{\"dsr\":[28,92,0,0]}'>includeonly>Hello world<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;&lt;/includeonly>\",\"dsr\":[51,79,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[79,79,null,null]}'/>/includeonly></p>");
add("wt2html", "preload: check that it doesn't try to do tricks", "<ul data-parsoid='{\"dsr\":[0,111,0,0]}'><li data-parsoid='{\"dsr\":[0,111,1,0]}'> <!-- Hello --> <i data-parsoid='{\"dsr\":[17,30,2,2]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[19,28,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"world\",\"href\":\"./Template:World\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Template:World</span></i> {{<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>subst:&lt;/includeonly>\",\"dsr\":[33,66,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[66,66,null,null]}'/>How are you}}<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]},{\"k\":\"2\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[79,111,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"{{{|safesubst:}}} #if:1\",\"function\":\"#if\"},\"params\":{\"1\":{\"wt\":\"2\"},\"2\":{\"wt\":\"3\"}},\"i\":0}}]}'>2</span></li></ul>");
add("wt2html", "Bug 31098 Template which includes system messages which includes the template", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,13,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"Identical\",\"href\":\"./Template:Identical\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_int missing in Parsoid.\nParser function implementation for pf_int missing in Parsoid.</p>");
add("wt2html", "Bug31490 Turkish: ucfirst 'ix'", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ucfirst:ix\",\"function\":\"ucfirst\"},\"params\":{},\"i\":0}}]}'>Ix</p>");
add("wt2html", "Bug31490 Turkish: ucfırst (with a dotless i)", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ucfırst:blah\",\"href\":\"./Ucfırst:blah\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Ucfırst:blah</span></p>");
add("wt2html", "Bug31490 ucfırst (with a dotless i) with English language", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span typeof=\"mw:Transclusion mw:Placeholder\" about=\"#mwt1\" id=\"mwt1\" data-parsoid='{\"dsr\":[0,16,null,null],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"ucfırst:blah\",\"href\":\"./Ucfırst:blah\"},\"params\":{},\"i\":0}}]}'>Warning: Page/template fetching disabled, and no cache for Ucfırst:blah</span></p>");
add("wt2html", "Bug 33845: Headings become cursive in TOC when they contain an image", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,40,2,2]}'> Image <span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[17,37,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"Image:foobar.jpg\"}}'/></a></span> </h2>");
add("wt2html", "Bug 33845 (2): Headings become bold in TOC when they contain a blockquote", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,44,2,2]}'> <blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[11,41,12,13]}'>Quote</blockquote> </h2>");
add("wt2html", "Multiple tags in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,35,2,2]}'> <i data-parsoid='{\"stx\":\"html\",\"dsr\":[11,21,3,4]}'>Foo</i> <b data-parsoid='{\"stx\":\"html\",\"dsr\":[22,32,3,4]}'>Bar</b> </h2>\n\n<h2 data-parsoid='{\"dsr\":[37,82,2,2]}'> <i data-parsoid='{\"stx\":\"html\",\"dsr\":[40,50,3,4]}'>Foo</i> <blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[51,79,12,13]}'>Bar</blockquote> </h2>");
add("wt2html", "Tags with parameters in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,44,2,2]}'> <sup class=\"in-h2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[11,41,19,6]}'>Hello</sup> </h2>\n\n<h2 data-parsoid='{\"dsr\":[46,84,2,2]}'> <sup class=\"a > b\" data-parsoid='{\"stx\":\"html\",\"dsr\":[49,81,19,6]}'>Evilbye</sup> </h2>");
add("wt2html", "span tags with directionality in TOC", "<meta property=\"mw:PageProp/toc\" data-parsoid='{\"src\":\"__TOC__\",\"magicSrc\":\"__TOC__\",\"dsr\":[0,7,null,null]}'/>\n<h2 data-parsoid='{\"dsr\":[8,40,2,2]}'> <span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[11,37,16,7]}'>C++</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[42,76,2,2]}'> <span dir=\"rtl\" data-parsoid='{\"stx\":\"html\",\"dsr\":[45,73,16,7]}'>זבנג!</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[78,186,2,2]}'> <span style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,183,33,7]}'>The attributes on these span tags must be deleted from the TOC</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[188,306,2,2]}'> <span style=\"font-style: italic\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[191,303,43,7]}'>All attributes on these span tags must be deleted from the TOC</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[308,432,2,2]}'> <span dir=\"ltr\" style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[311,429,43,7]}'>Attributes after dir on these span tags must be deleted from the TOC</span> </h2>");
add("wt2html", "Bug 32057: Title needed when expanding <h> nodes.", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"int:Bug32057\",\"function\":\"int\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_int missing in Parsoid.</p>");
add("wt2html", "Check noCommafy in formatNum", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[0,23,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:123456.78\",\"function\":\"formatnum\"},\"params\":{},\"i\":0}}]}'>123456.78</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[24,53,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:123456.78\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"NOSEP\"}},\"i\":0}}]}'>123456.78</span></p>");
add("wt2html", "Wrong option for formatNum (bug 56199)", "<p data-parsoid='{\"dsr\":[0,126,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[0,29,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:1,234.56\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"Random\"}},\"i\":0}}]}'>1,234.56</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[30,63,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:1,234.56\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"EVERYTHING\"}},\"i\":0}}]}'>1,234.56</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[64,126,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"formatnum:1234.56\",\"function\":\"formatnum\"},\"params\":{\"1\":{\"wt\":\"any argument that has the string &#39;NOSEP&#39;\"}},\"i\":0}}]}'>1234.56</span></p>");
add("wt2html", "Strip marker in grammar", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,35,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"grammar:elative\",\"function\":\"grammar\"},\"params\":{\"1\":{\"wt\":\"foo&lt;nowiki/>bar\"}},\"i\":0}}]}'>Parser function implementation for pf_grammar missing in Parsoid.</p>");
add("wt2html", "Gallery override link with WikiLink (bug 34852)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,78,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:foobar.jpg|caption|alt=galleryalt|link=InterWikiLink\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"caption\"},{\"ck\":\"alt\",\"ak\":\"alt=galleryalt\"},{\"ck\":\"link\",\"ak\":\"link=InterWikiLink\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./InterWikiLink\" data-parsoid='{\"a\":{\"href\":\"./InterWikiLink\"},\"sa\":{\"href\":\"link=InterWikiLink\"}}'><img alt=\"galleryalt\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"alt\":\"galleryalt\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"alt\":\"alt=galleryalt\",\"resource\":\"File:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">caption</figcaption></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,68,null,null]}'/></div>");
add("wt2html", "Gallery override link with absolute external link (bug 34852)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=http://www.example.org\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,87,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=http://www.example.org\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:foobar.jpg|caption|alt=galleryalt|link=http://www.example.org\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"caption\"},{\"ck\":\"alt\",\"ak\":\"alt=galleryalt\"},{\"ck\":\"link\",\"ak\":\"link=http://www.example.org\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"http://www.example.org\" data-parsoid=\"{}\"><img alt=\"galleryalt\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"alt\":\"galleryalt\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"alt\":\"alt=galleryalt\",\"resource\":\"File:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">caption</figcaption></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,77,null,null]}'/></div>");
add("wt2html", "Gallery override link with malicious javascript (bug 34852)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=\\\" onclick=\\\"alert(&#39;malicious javascript code!&#39;);\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,112,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:foobar.jpg|caption|alt=galleryalt|link=\\\" onclick=\\\"alert(&#39;malicious javascript code!&#39;);\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:foobar.jpg|caption|alt=galleryalt|link=\\\" onclick=\\\"alert(&#39;malicious javascript code!&#39;);\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"caption\",\"ak\":\"caption\"},{\"ck\":\"alt\",\"ak\":\"alt=galleryalt\"},{\"ck\":\"link\",\"ak\":\"link=\\\" onclick=\\\"alert(&#39;malicious javascript code!&#39;);\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./&quot;_onclick=&quot;alert('malicious_javascript_code!');\" data-parsoid='{\"a\":{\"href\":\"./\\\"_onclick=\\\"alert(&#39;malicious_javascript_code!&#39;);\"},\"sa\":{\"href\":\"link=\\\" onclick=\\\"alert(&#39;malicious javascript code!&#39;);\"}}'><img alt=\"galleryalt\" resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"alt\":\"galleryalt\",\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"alt\":\"alt=galleryalt\",\"resource\":\"File:foobar.jpg\"}}'/></a><figcaption data-parsoid=\"{}\">caption</figcaption></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,102,null,null]}'/></div>");
add("wt2html", "Gallery with invalid title as link (bug 43964)", "<div typeof=\"mw:Extension/nativeGallery\" data-parsoid='{\"src\":\"&lt;gallery>\\nFile:foobar.jpg|link=&lt;\\n&lt;/gallery>\",\"tagWidths\":[9,10],\"dsr\":[0,43,9,10]}' data-mw='{\"alternativeRendering\":\"&lt;gallery>\\nFile:foobar.jpg|link=&lt;\\n&lt;/gallery>\",\"name\":\"gallery\",\"attrs\":{},\"body\":{\"extsrc\":\"\\nFile:foobar.jpg|link=&lt;\\n\"}}'><meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\"}'/>\n<figure class=\"mw-default-size mw-halign-none\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"link\",\"ak\":\"link=&lt;\"},{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"none\",\"ak\":\"none\"}],\"hasFileNamespace\":true}' data-mw='{\"user\":\"n00b\"}'><a href=\"./%3C\" data-parsoid='{\"a\":{\"href\":\"./%3C\"},\"sa\":{\"href\":\"link=&lt;\"}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:foobar.jpg\"}}'/></a></figure>\n<meta typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"\",\"dsr\":[null,33,null,null]}'/></div>");
add("wt2html", "Language parser function", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,16,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#language:ar\",\"function\":\"#language\"},\"params\":{},\"i\":0}}]}'>ar</p>");
add("wt2html", "Special parser function", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[0,23,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:RandomPage\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#special missing in Parsoid.</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[24,45,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:BaDtItLe\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#special missing in Parsoid.</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[46,65,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#special:Foobar\",\"function\":\"#special\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_#special missing in Parsoid.</span></p>");
add("wt2html", "1. SOL-sensitive wikitext tokens as template-args", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><span about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[0,11,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"*a\"}},\"i\":0}}]}'>*a</span>\n<span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[12,23,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"#a\"}},\"i\":0}}]}'>#a</span>\n<span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[24,35,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\":a\"}},\"i\":0}}]}'>:a</span></p>");
add("wt2html", "Headings: 6a. Heading chars in SOL context (with trailing spaces)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,20,8,9]}'>=a=</span></p>\n\n<p data-parsoid='{\"dsr\":[22,42,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[22,42,8,9]}'>=a=</span></p> \n\n<p data-parsoid='{\"dsr\":[45,65,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[45,65,8,9]}'>=a=</span></p>\t\n\n<p data-parsoid='{\"dsr\":[68,88,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[68,88,8,9]}'>=a=</span></p> \t");
add("wt2html", "Headings: 6b. Heading chars in SOL context (with trailing newlines)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>=a=\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[24,47,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[24,47,8,9]}'>=a= \nb</span></p>\n\n<p data-parsoid='{\"dsr\":[49,72,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[49,72,8,9]}'>=a=\t\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[74,98,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[74,98,8,9]}'>=a=\t \nb</span></p>");
add("wt2html", "Headings: 6c. Heading chars in SOL context (leading newline break)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,22,8,9]}'>=b=</span></p>");
add("wt2html", "Headings: 6d. Heading chars in SOL context (with interspersed comments)", "<!--c0--><p data-parsoid='{\"dsr\":[9,29,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,29,8,9]}'>=a=</span></p>\n\n<!--c1--><p data-parsoid='{\"dsr\":[40,60,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[40,60,8,9]}'>=a=</span></p> <!--c2-->\t <!--c3-->");
add("wt2html", "Links 1. Quote marks in link text", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,35,6,2]}'>Foo<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,33,8,9]}'>''boo''</span></a></p>");
add("wt2html", "Links 2. WikiLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,384,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,16,6,2]}'>[Foobar]</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[17,49,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[23,47,8,9]}'>Foobar]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[50,70,6,2]}'>x [Foobar] x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[71,121,6,2]}'>x <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[79,117,8,9]}'>[http://google.com g]</span> x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[122,154,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[128,152,8,9]}'>[[Bar]]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[155,191,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[161,189,8,9]}'>x [[Bar]] x</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[192,221,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[198,219,8,9]}'>|Bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[222,252,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[228,250,8,9]}'>]]bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[253,283,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[259,281,8,9]}'>[[bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[284,315,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[290,313,8,9]}'>x [[ y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[316,347,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[322,345,8,9]}'>x ]] y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[348,384,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[354,382,8,9]}'>x ]] y [[ z</span></a></p>");
add("wt2html", "Links 3. WikiLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>[[Foo|[Foobar]]\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[16,31,6,2]}'>foo|bar</a></p>");
add("wt2html", "Links 4. ExtLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,90,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,44],\"dsr\":[0,45,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[19,44,8,9]}'>[google]</span></a>\n<a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":65,\"contentOffsets\":[65,89],\"dsr\":[46,90,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[65,89,8,9]}'>google]</span></a></p>\n\n<p data-parsoid='{\"dsr\":[92,128,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[92,128,8,9]}'>[http://google.com]</span></p>\n\n<p data-parsoid='{\"dsr\":[130,173,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[130,173,8,9]}'>[http://google.com google]</span></p>\n");
add("wt2html", "Links 5. ExtLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,26],\"dsr\":[0,27,19,1]}'>[google</a></p>");
add("wt2html", "Links 7b. Don't add spurious <nowiki/>s between text-nodes and url-links (bug 64300)", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com.,;:!?\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,24,0,0]}'>http://example.com.,;:!?</a></p>");
add("wt2html", "1. Leading whitespace in SOL context should be escaped", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>a</p>\n\n<p data-parsoid='{\"dsr\":[21,41,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[21,39,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[43,67,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[43,61,8,9]}'>\t</span>a(tab)</p>\n\n<p data-parsoid='{\"dsr\":[69,121,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[69,87,8,9]}'> </span>\ta\n<!--cmt-->\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[101,119,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[123,144,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[125,143,8,9]}'> </span>b</p>\n\n<p data-parsoid='{\"dsr\":[146,167,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[148,166,8,9]}'>\t</span>b</p>\n\n<p data-parsoid='{\"dsr\":[169,191,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[171,189,8,9]}'>\t</span> b</p>");
add("wt2html", "1. a tags", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'>&lt;a href=\"http://google.com\">google&lt;/a></p>");
add("wt2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"{{}}\",\"dsr\":[0,4,0,0]}'>{{}}</span></p>");
add("wt2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"src\":\"}}{{\",\"dsr\":[0,4,0,0]}'>}}{{</span></p>");
add("wt2html", "Empty table rows go away", "<table data-parsoid='{\"dsr\":[0,39,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,37,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[3,18,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[3,10,1,0]}'> Hello</td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[11,18,1,0]}'> there</td></tr>\n<tr class=\"foo\" data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[19,33,14,0]}'></tr>\n<tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[34,36,2,0]}'></tr>\n</tbody></table>");
add("wt2html", "RT-ed inter-element separators should be valid separators", "<table data-parsoid='{\"dsr\":[0,16,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[3,14,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"a\":{\" \":null,\"[\":null,\"foo]]\":null},\"sa\":{\" \":\"\",\"[\":\"\",\"foo]]\":\"\"},\"autoInsertedEnd\":true,\"dsr\":[3,13,10,0]}'></tr>\n</tbody></table>");


// Blacklist for wt2wt
add("wt2wt", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up)", "{|\n!''a''!!''b''\n|''a''||''b''\n|}");
add("wt2wt", "Isolated close tags should be treated as literal text (bug 52760)", "\n<s.foo>s\n");
add("wt2wt", "Comment semantics: unclosed comment at end", "<!--This comment will run out to the end of the document-->");
add("wt2wt", "<nowiki> inside <pre> (bug 13238)", "<pre>\n<nowiki>\n</pre>\n<pre>\n<nowiki></nowiki>\n</pre>\n<pre><nowiki>&lt;nowiki&gt;</nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("wt2wt", "<nowiki> and <pre> preference (first one wins)", "<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n\n<nowiki>\n<pre>\n&lt;nowiki&gt;\n</pre>\n</nowiki>\n</pre>\n");
add("wt2wt", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\n\n{{echo|a\n}}\n b\n");
add("wt2wt", "Templates: Handle comments in the target", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{echo|foo}}");
add("wt2wt", "4. Indent-Pre and extension tags", "<nowiki> </nowiki>a <gallery>\nFile:foobar.jpg\n</gallery>");
add("wt2wt", "Definition lists: self-closed tag", ";one<br />two : two-line fun");
add("wt2wt", "External links: No preceding word characters allowed (bug 65278)", "NOPE<nowiki/>http://example.com\nN0<nowiki/>http://example.com\nok:http://example.com\nok-http://example.com\n");
add("wt2wt", "BUG 289: \">\"-token in bracketed URL", "[http://www.example.com/ <hello> stuff]\n");
add("wt2wt", "BUG 289: literal \">\"-token in bracketed URL", "[http://www.example.com/ <b>html</b> stuff]\n");
add("wt2wt", "BUG 289: literal double quote in bracketed URL", "[http://www.example.com/ \"hello\" stuff]\n");
add("wt2wt", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081)", "[http://www.example.com test]\n");
add("wt2wt", "External links: wiki links within external link (Bug 3695)", "[http://example.com][[wikilink]]<span> embedded in ext link</span>\n");
add("wt2wt", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid", "''[http://example.com text''<nowiki/>'']''\n[http://example.com '''text''']'''<nowiki/>'''\n''Something [http://example.com in italic''<nowiki/>'']''\n''Something [http://example.com mixed''''', even bold''''']'''\n'''''Now [http://example.com both'''''<nowiki/>''''']'''''\n");
add("wt2wt", "External link containing double-single-quotes with no space separating the url from text in italics", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas'' (1901) en el sitio de ][[Museo Picasso (París)|Museo Picasso]]<span>.</span>\n");
add("wt2wt", "Unclosed and unmatched quotes", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n'''Bold text..'''\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\n'''Bold tag left open'''\n\n''Italic tag left open''\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\n'''This year'<nowiki/>'''s election ''should'' beat '''last year''''s.\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nPlain ''italic'''s plain\n");
add("wt2wt", "A table with captions with non-default spaced attributes and a table row", "{|\n|+ style=\"color: red;\" |caption2\n|+ style=\"color: red;\" | caption3\n|-\n| foo\n|}");
add("wt2wt", "Table td-cell syntax variations", "{|\n| foo bar | baz\n| foo bar foo || baz\n| style=\"color:red;\" | baz\n| style='color:red;' || baz\n|}");
add("wt2wt", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/- ", "{|\n|-\n| style=\"color:red;\" |+1\n| style=\"color:blue;\" |-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("wt2wt", "Table rowspan", "{| border=\"1\"\n| Cell 1, row 1\n| rowspan=\"2\" | Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("wt2wt", "Nested table", "{| border=\"1\"\n| &alpha;\n|\n{| bgcolor=\"#ABCDEF\" border=\"2\"\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("wt2wt", "Invalid attributes in table cell (bug 1830)", "{|\n| Cell: |broken\n|}");
add("wt2wt", "Table attributes with empty value", "{|\n| style=\"\" | hello\n|}");
add("wt2wt", "Build table with {{!}}", "{{{!}} class=\"wikitable\"\n! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\"{{!}} second data\n{{!}}}");
add("wt2wt", "Build table with pipe as data", "{| class=\"wikitable\"\n! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" |<nowiki> data with | </nowiki>|| style=\"color:red;\" | second data with |\n|-\n||<nowiki> data with | </nowiki>||| second data with |\n|}");
add("wt2wt", "Piped link with multiple pipe characters in link text", "[[Main Page|<nowiki>|The|Main|Page|</nowiki>]]\n");
add("wt2wt", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved", "[[Foo|  bar]]\n\n[[Foo|  ''bar'']]\n\n[http://wp.org foo]\n\n[http://wp.org ''foo'']\n");
add("wt2wt", "Handling html with a div self-closing tag", "<div title=\"\" />\n<div title=\"\" />\n<div title=\"\" />\n<div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("wt2wt", "Handling html with a br self-closing tag", "<br title=\"\" />\n<br title=\"\" />\n<br title=\"\" />\n<br title=\"bar\" />\n<br title=\"bar\" />\n<br title=\"bar/\">\n");
add("wt2wt", "Horizontal ruler (should it add that extra space?)", "<hr>\n<hr>\nfoo <hr> bar\n");
add("wt2wt", "Nested lists 3 (first element empty)", "\n**bar\n");
add("wt2wt", "Nested lists 6 (both elements empty)", "\n**\n");
add("wt2wt", "Test the li-hack\n(The PHP parser relies on Tidy for the hack)", "* foo\n* <li>li-hack</li>\n{{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments</li>\n\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("wt2wt", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up)", "<span>\n*a<span>\n*b");
add("wt2wt", "Template with invalid target containing tags", "<nowiki>{{</nowiki>a<b>b</b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b<nowiki>}}</nowiki>\n");
add("wt2wt", "Template with invalid target containing unclosed tag", "<nowiki>{{</nowiki>a<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b<nowiki>}}</nowiki>\n");
add("wt2wt", "Template with invalid target containing wikilink", "<nowiki>{{</nowiki>[[Main Page]]<nowiki>}}</nowiki>\n");
add("wt2wt", "Template with argument in separate line", "{{templateasargtest  |\n templ = simple }}");
add("wt2wt", "BUG 553: link with two variables in a piped link", "{|\n|[[{{{1}}}<nowiki>|</nowiki>{{{2}}}]]\n|}");
add("wt2wt", "Template with targets containing wikilinks", "<nowiki>{{</nowiki>[[foo]]<nowiki>}}</nowiki>\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]<nowiki>}}</nowiki>\n\n{{{{echo|[[foo}}]]}}\n");
add("wt2wt", "2. includeonly in html attr value", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>\n<span id=\"<noinclude>&quot;v1&quot;</noinclude><includeonly>&quot;v2&quot;</includeonly>\">bar</span>\n");
add("wt2wt", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR", "{{echo|}}\n{| width=\"100%\"\n|foo\n|}");
add("wt2wt", "Templates: HTML Tag: 2. Generation of HTML attr. value", "<div style=\"{{echo|'color:red;'}}\">foo</div>");
add("wt2wt", "Templates: HTML Tag: 3. Generation of HTML attr key and value", "<div {{echo|style}}=\"{{echo|'color:red;'}}\">foo</div>");
add("wt2wt", "Templates: HTML Tables: 5. Proper fostering of categories from inside", "[[Category:foo1]]<table><tr><td>foo</td></tr></table>\n<!--Two categories (Bug 50330)-->\n[[Category:bar1]][[Category:bar2]]<table><tr><td>foo</td></tr></table>");
add("wt2wt", "pre-save transform: mixed tag case", "<nowiki>'''not wiki'''</nowiki>\n");
add("wt2wt", "pre-save transform: Signature expansion", "*<nowiki> ~~~</nowiki>\n* <noinclude><nowiki>~~~</nowiki></noinclude>\n* <includeonly>~~~</includeonly>\n* <onlyinclude><nowiki>~~~</nowiki></onlyinclude>");
add("wt2wt", "Allow empty links in image captions (Bug 60753)", "[[File:Foobar.jpg|thumb|Caption [[Link1]]\n<nowiki>[[]]</nowiki>\n[[Link2]]\n]]");
add("wt2wt", "Image with multiple widths -- use last", "[[File:Foobar.jpg|300px|caption]]\n");
add("wt2wt", "Render invalid page names as plain text (bug 51090)", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|<nowiki>foo]bar</nowiki>}}]]\n[[{{echo|foo<bar}}]]\n");
add("wt2wt", "Handling of sections up to level 6 and beyond", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\n==== Level 4 Heading====\n===== Level 5 Heading=====\n====== Level 6 Heading======\n======<nowiki>= Level 7 Heading=</nowiki>======\n======<nowiki>== Level 8 Heading==</nowiki>======\n======<nowiki>=== Level 9 Heading===</nowiki>======\n======<nowiki>==== Level 10 Heading====</nowiki>======\n");
add("wt2wt", "div with single-quoted attribute", "<div id=\"rock\">HTML rocks</div>");
add("wt2wt", "div with unquoted attribute", "<div id=\"rock\">HTML rocks</div>");
add("wt2wt", "div with illegal double attributes", "<div id=\"b\">HTML rocks</div>");
add("wt2wt", "div with empty attribute value, space before equals", "<div class=\"\">HTML rocks</div>");
add("wt2wt", "div with multiple empty attribute values", "<div id=\"\" title=\"\">HTML rocks</div>");
add("wt2wt", "table with multiple empty attribute values", "{| title=\"\" id=\"\"\n| hi\n|}");
add("wt2wt", "HTML multiple attributes correction", "<p class=\"awesome\">Awesome!</p>");
add("wt2wt", "Table multiple attributes correction", "{|\n! class=\"awesome\" + | status\n|}");
add("wt2wt", "DIV IN UPPERCASE", "<DIV id=\"x\">HTML ROCKS</DIV>");
add("wt2wt", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "[[Media:Foobar.jpg|Safe Link]]<div style=\"display:none\">[[Media:Foobar.jpg|\" onmouseover=\"alert(document.cookie)\" onfoo=\"]]</div>\n");
add("wt2wt", "Empty attribute crash test single-quotes (bug 2067)", "<font color=\"\">foo</font>\n");
add("wt2wt", "Attribute test: equals, then nothing", "<font color=\"\">foo</font>\n");
add("wt2wt", "Attribute test: unquoted value", "<font color=\"x\">foo</font>\n");
add("wt2wt", "Attribute test: unquoted but illegal value (hash)", "<font color=\"#x\">foo</font>\n");
add("wt2wt", "Attribute test: no value", "<font color=\"\">foo</font>\n");
add("wt2wt", "Bug 2095: link with pipe and three closing brackets, version 2", "[[Main Page|<nowiki>[http://example.com/]</nowiki>]]\n");
add("wt2wt", "Opera -o-link CSS", "<div title=\"&#100;&#97;&#116;&#97;&#58;&#116;&#101;&#120;&#116;&#47;&#104;&#116;&#109;&#108;&#44;&#60;&#105;&#109;&#103;&#32;&#115;&#114;&#99;&#61;&#49;&#32;&#111;&#110;&#101;&#114;&#114;&#111;&#114;&#61;&#97;&#108;&#101;&#114;&#116;&#40;&#49;&#41;&#62;\" style=\"-o-link:attr(title);-o-link-source:current\">X</div>");
add("wt2wt", "Table attribute legitimate extension", "{|\n! style=\"<nowiki>color:blue</nowiki>\" + | status\n|}");
add("wt2wt", "Table attribute safety", "{|\n! style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\" + | status\n|}");
add("wt2wt", "Sanitizer: Closing of closed but not open tags", "");
add("wt2wt", "Sanitizer: Closing of closed but not open table tags", "Table not started");
add("wt2wt", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"\">\n\t<nowiki><meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\"></nowiki>\n</div>");
add("wt2wt", "Fuzz testing: Parser13", "{|  \n| http://a|\n|}");
add("wt2wt", "Fuzz testing: Parser14-table", "==a==\n{| style=\"__TOC__\"\n|}");
add("wt2wt", "Fuzz testing: Parser16", "{|\n!https://||||||\n|}");
add("wt2wt", "Fuzz testing: Parser21", "{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n|\n|}");
add("wt2wt", "Fuzz testing: Parser22", "http://===r:::https://b\n\n{|\n|}");
add("wt2wt", "Fuzz testing: Parser24", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n{|\n\n|\n|}");
add("wt2wt", "Fuzz testing: Parser25 (bug 6055)", "{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE'''\n");
add("wt2wt", "Inline wiki vs wiki block nesting", "'''Bold paragraph'''\n\nNew wiki paragraph\n");
add("wt2wt", "Mixing markup for italics and bold", "'<nowiki/>''bold'<nowiki/>'''''bold''bolditalics'''''\n");
add("wt2wt", "Gallery with wikitext inside caption", "<gallery>\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\nFile:foobar.jpg|This is a test template|alt=galleryalt\n</gallery>");
add("wt2wt", "ISBN code coverage", "ISBN 978-0-1234-56&#x20;789\n");
add("wt2wt", "RFC code coverage", "RFC 983&#x20;987\n");
add("wt2wt", "Image with page parameter", "[[File:LoremIpsum.djvu]]\n");
add("wt2wt", "Don't fall for the self-closing div", "<div>hello world</div>");
add("wt2wt", "Parsing of overlapping (improperly nested) inline html tags", "<span><s>x</span>\n");
add("wt2wt", "Don't break table handling if language converter markup is in the cell.", "{|\n|-\n| -{R |B}-\n|}");
add("wt2wt", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy", "******* Foo \n{{bullet}}");
add("wt2wt", "preload: check that it doesn't try to do tricks", "* <!-- Hello --> ''{{world}}'' <nowiki>{{</nowiki><includeonly>subst:</includeonly>How are you<nowiki>}}</nowiki>{{{{{|safesubst:}}} #if:1|2|3}}");
add("wt2wt", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links", "[http://www.example.org/ ideograms]\n");
add("wt2wt", "Ignore pipe between table row attributes", "{|\n| quux\n|- id=\"foo\" style=\"color: red\" |\n| bar\n|}");
add("wt2wt", "2. Bad treebuilder fixup of formatting elt is cleaned up", "'''foo'''[[File:Foobar.jpg|thumb|'''caption''']]'''bar'''\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("wt2wt", "Ref: 3. spaces in ref-names should be ignored", "A <ref name=\"x\">foo</ref>\nB <ref name=\"x\" />\nC <ref name=\"x\" />\n");
add("wt2wt", "Ref: 5. body should accept generic wikitext", "A <ref>This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("wt2wt", "Ref: 6. indent-pres should not be output in ref-body", "A <ref>foo\n bar\n baz\n</ref>\n\n<references />");
add("wt2wt", "Ref: 7. No p-wrapping in ref-body", "A <ref>foo\nbar\nbaz\nbooz\n</ref>\n\n<references />");
add("wt2wt", "Ref: 8. transclusion wikitext has lower precedence", "A <ref>foo {{echo|</ref> B C}}\n\n<references />");
add("wt2wt", "Ref: 9. unclosed comments should not leak out of ref-body", "A <ref>foo <!----></ref> B C\n<references />");
add("wt2wt", "Ref: 10. Unclosed HTML tags should not leak out of ref-body", "A <ref><b> foo </ref> B C\n\n<references />");
add("wt2wt", "Ref: 19. ref-tags with identical name encodings should get identical indexes", "1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp;amp; b\" />\n\n<references />");
add("wt2wt", "References: 5. ref tags in references should be processed while ignoring all other content", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\n</references>");
add("wt2wt", "Entities in ref name", "<ref name=\"test &amp;amp; me\">hi</ref>\n");
add("wt2wt", "HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("wt2wt", "Parsoid-only: HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("wt2wt", "Table with broken attribute value quoting", "{|\n| title=\"Hello world\" |Foo\n|}");
add("wt2wt", "Table with broken attribute value quoting on consecutive lines", "{|\n| title=\"Hello world\" |Foo\n| style=\"color:red\" |Bar\n|}");
add("wt2wt", "RT-ed inter-element separators should be valid separators", "{|\n|-   [ foo]]\n|}");
add("wt2wt", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out", "{|\n|<small>foo\n\nbar\n|}\n\n{|\n|<small>foo<small>\n|}");
add("wt2wt", "Empty TD followed by TD with tpl-generated attribute", "{|\n|-\n|\n| {{echo|style='color:red'}} |foo\n|}");
add("wt2wt", "Improperly nested inline or quotes tags with whitespace in between", "<span> <s>x</span> </s>\n''' ''x'''''<nowiki/>'' ''\n");
add("wt2wt", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost)", "<nowiki> || ||</nowiki>\n<table>\n<tr><td> a\n</table>");
add("wt2wt", "Table in fosterable position", "{{OpenTable}}\n<div>\n{|\n|}\n");


// Blacklist for html2html
add("html2html", "Extra newlines followed by heading", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n\n<p data-parsoid='{\"dsr\":[3,3,0,0]}'><br data-parsoid='{\"dsr\":[3,3,0,0]}'/></p>\n\n<h1 data-parsoid='{\"dsr\":[5,233,1,1]}'> <span class=\"mw-headline\" id=\"b\" data-parsoid='{\"stx\":\"html\",\"dsr\":[7,48,33,7]}'>b</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[48,231,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,122,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[179,224,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[234,278,0,0]}'>[/index.php?title=A&amp;action=edit&amp;redlink=1 a]</p>\n\n<p data-parsoid='{\"dsr\":[280,280,0,0]}'><br data-parsoid='{\"dsr\":[280,280,0,0]}'/></p>\n\n<h1 data-parsoid='{\"dsr\":[282,512,1,1]}'> <span class=\"mw-headline\" id=\"b_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[284,327,35,7]}'>b</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[327,510,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[356,401,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[458,503,37,7]}'>]</span></span> </h1>\n");
add("html2html", "Extra newlines between heading and content are swallowed", "<h1 data-parsoid='{\"dsr\":[0,228,1,1]}'> <span class=\"mw-headline\" id=\"b\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2,43,33,7]}'>b</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[43,226,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[72,117,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,219,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[229,273,0,0]}'>[/index.php?title=A&amp;action=edit&amp;redlink=1 a]</p>\n");
add("html2html", "Parsing an URL", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://fr.wikipedia.org/wiki/🍺\" title=\"fr:🍺\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"http://fr.wikipedia.org/wiki/🍺\"},\"sa\":{\"href\":\":fr:🍺\"},\"isIW\":true,\"dsr\":[0,42,9,2]}'>http://fr.wikipedia.org/wiki/🍺</a></p>\n");
add("html2html", "Italics and possessives (1)", "<p data-parsoid='{\"dsr\":[0,115,0,0]}'>obtained by <i data-parsoid='{\"dsr\":[12,91,2,2]}'>[/index.php?title=Lunar_Prospector&amp;action=edit&amp;redlink=1 Lunar Prospector]'</i>s gamma-ray spectrometer</p>\n");
add("html2html", "Italics and possessives (3)", "<p data-parsoid='{\"dsr\":[0,421,0,0]}'>The first monolingual dictionary written in a Romance language was <i data-parsoid='{\"dsr\":[67,93,2,2]}'>Sebastián Covarrubias'</i> <i data-parsoid='{\"dsr\":[94,139,2,2]}'>Tesoro de la lengua castellana o española</i>, published in 1611 in Madrid. In 1612 the first edition of the <i data-parsoid='{\"dsr\":[203,310,2,2]}'>Vocabolario dell'[/index.php?title=Accademia_della_Crusca&amp;action=edit&amp;redlink=1 Accademia della Crusca]</i>, for Italian, was published. In 1690 in Rotterdam was published, posthumously, the <i data-parsoid='{\"dsr\":[394,420,2,2]}'>Dictionnaire Universel</i>.</p>\n");
add("html2html", "Preformatted text", "<pre data-parsoid='{\"dsr\":[0,96,1,0]}'>This is some\nPreformatted text\nWith <i data-parsoid='{\"dsr\":[39,49,2,2]}'>italic</i>\nAnd <b data-parsoid='{\"dsr\":[55,65,3,3]}'>bold</b>\nAnd a <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[73,96,17,2]}'>link</a></pre>\n");
add("html2html", "<pre> with <nowiki> inside (compatibility with 1.6 and earlier)", "<pre data-parsoid='{\"dsr\":[0,35,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,35,8,9]}'>&lt;b>\n &lt;cite>\n &lt;em></span></pre>\n");
add("html2html", "Bug 52763: Preformatted in <blockquote>", "<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[0,77,12,13]}'>\n<p data-parsoid='{\"dsr\":[13,18,0,0]}'> Blah</p>\n\n<table data-parsoid='{\"dsr\":[20,63,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[24,61,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[24,59,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[24,59,1,0]}'>\n<pre data-parsoid='{\"dsr\":[26,59,1,0]}'>indented cell (no pre-wrapping!)</pre></td></tr>\n\n</tbody></table>\n</blockquote>\n");
add("html2html", "<pre> with attributes (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,24,1,0]}'>Bluescreen of WikiDeath</pre>\n");
add("html2html", "<pre> with width attribute (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,22,1,0]}'>Narrow screen goodies</pre>\n");
add("html2html", "<pre> with forbidden attribute (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,22,1,0]}'>Narrow screen goodies</pre>\n");
add("html2html", "<pre> with forbidden attribute values (bug 3202)", "<pre data-parsoid='{\"dsr\":[0,22,1,0]}'>Narrow screen goodies</pre>\n");
add("html2html", "<nowiki> inside <pre> (bug 13238)", "<pre data-parsoid='{\"dsr\":[0,15,1,0]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[1,5,null,null]}'>&lt;</span>nowiki<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[11,15,null,null]}'>></span></pre>\n\n <p data-parsoid='{\"dsr\":[18,18,0,0]}'><br data-parsoid='{\"dsr\":[18,18,0,0]}'/></p>\n\n<pre data-parsoid='{\"dsr\":[20,53,1,0]}'><span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[21,25,null,null]}'>&lt;</span>nowiki<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[31,35,null,null]}'>></span>Foo<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;lt;\",\"srcContent\":\"&lt;\",\"dsr\":[38,42,null,null]}'>&lt;</span>/nowiki<span typeof=\"mw:Entity\" data-parsoid='{\"src\":\"&amp;gt;\",\"srcContent\":\">\",\"dsr\":[49,53,null,null]}'>></span></pre>\n");
add("html2html", "Templates: Other wikitext in parameter names (bug 67657)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,20,0,0],\"pi\":[[{\"k\":\"&#39;&#39;1&#39;&#39;\",\"named\":true}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"&#39;&#39;1&#39;&#39;\":{\"wt\":\"foo\"}},\"i\":0}}]}'>foo</p>");
add("html2html", "3c. Indent-Pre and block tags (pre-content on separate line)", "\n<p data-parsoid='{\"dsr\":[1,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,19,8,9]}'> </span>foo</p>\n\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[24,42,5,6]}'>\n<pre data-parsoid='{\"dsr\":[30,34,1,0]}'>foo</pre>\n\n</div>\n<center data-parsoid='{\"stx\":\"html\",\"dsr\":[43,67,8,9]}'>\n<pre data-parsoid='{\"dsr\":[52,56,1,0]}'>foo</pre>\n\n</center>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[68,100,12,13]}'>\n<p data-parsoid='{\"dsr\":[81,85,0,0]}'> foo</p>\n\n</blockquote>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[101,133,12,13]}'>\n<p data-parsoid='{\"dsr\":[114,118,0,0]}'> foo</p>\n\n</blockquote>\n<table data-parsoid='{\"dsr\":[134,147,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[137,145,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[137,143,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[137,143,1,0]}'>\n<pre data-parsoid='{\"dsr\":[139,143,1,0]}'>foo</pre></td></tr>\n\n</tbody></table>\n<ul data-parsoid='{\"dsr\":[148,154,0,0]}'><li data-parsoid='{\"dsr\":[148,154,1,0]}'>  foo</li></ul>\n");
add("html2html", "4. Indent-Pre and extension tags", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>a</p>\n\n<ul data-parsoid='{\"dsr\":[3,30,0,0]}'><li data-parsoid='{\"dsr\":[3,30,1,0]}'><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[4,30,26,0]}'></div></li></ul>\n<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[31,181,41,6]}'>\n<div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,174,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[104,168,null,null]}'/></div>\n</div>\n<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[182,213,25,6]}'></div>\n\n");
add("html2html", "5a. White-space in indent-pre", "<pre data-parsoid='{\"dsr\":[0,13,1,0]}'>a<br data-parsoid='{\"stx\":\"html\",\"noClose\":true,\"dsr\":[2,8,4,null]}'/>\n\n\nb</pre>\n");
add("html2html", "HTML-pre: 3: other wikitext", "<pre data-parsoid='{\"dsr\":[0,71,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,71,8,9]}'>* foo\n # bar\n = no-h =\n '' no-italic ''\n [[ NoLink ]]</span></pre>\n");
add("html2html", "Definition list with wikilink containing colon", "<dl data-parsoid='{\"dsr\":[0,95,0,0]}'><dt data-parsoid='{\"dsr\":[0,24,1,0]}'> [/index.php?title=Help</dt><dd data-parsoid='{\"stx\":\"row\",\"dsr\":[24,60,1,0]}'>FAQ&amp;action=edit&amp;redlink=1 Help:FAQ]</dd>\n<dd data-parsoid='{\"dsr\":[61,95,1,0]}'> The least-read page on Wikipedia</dd></dl>\n");
add("html2html", "Definition lists: colon in HTML attribute", "<dl data-parsoid='{\"dsr\":[0,12,0,0]}'><dt data-parsoid='{\"dsr\":[0,12,1,0]}'> <b data-parsoid='{\"dsr\":[2,12,3,3]}'>bold</b></dt></dl>\n");
add("html2html", "Definition Lists: Nesting: Multi-level (Parsoid only)", "\n<dl data-parsoid='{\"dsr\":[1,116,0,0]}'><dt data-parsoid='{\"dsr\":[1,6,1,0]}'> t1 </dt>\n<dd data-parsoid='{\"dsr\":[7,17,1,0]}'> d1      </dd>\n<dt data-parsoid='{\"dsr\":[18,116,1,0]}'><dl data-parsoid='{\"dsr\":[19,116,0,0]}'><dt data-parsoid='{\"dsr\":[19,24,1,0]}'> t2 </dt>\n<dd data-parsoid='{\"dsr\":[25,62,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[28,48,8,9]}'>:d2</span>              </dd>\n<dt data-parsoid='{\"dsr\":[63,116,2,0]}'><dl data-parsoid='{\"dsr\":[65,116,0,0]}'><dt data-parsoid='{\"dsr\":[65,70,1,0]}'> t3 </dt>\n<dd data-parsoid='{\"dsr\":[71,116,1,0]}'> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[75,96,8,9]}'>::d3</span>                    </dd></dl></dt></dl></dt></dl>\n");
add("html2html", "Definition Lists: colons and tables 1", "<dl data-parsoid='{\"dsr\":[0,26,0,0]}'><dd data-parsoid='{\"dsr\":[0,12,1,0]}'> <table data-parsoid='{\"dsr\":[2,12,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[6,10,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[6,9,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[6,9,1,0]}'> x</td></tr>\n</tbody></table></dd>\n\n<dd data-parsoid='{\"dsr\":[14,26,1,0]}'> <table data-parsoid='{\"dsr\":[16,26,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[20,24,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[20,23,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[20,23,1,0]}'> y</td></tr>\n</tbody></table></dd></dl>\n");
add("html2html", "External links: Free with trailing punctuation", "<p data-parsoid='{\"dsr\":[0,475,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a>,\n<a rel=\"mw:ExtLink\" href=\"http://example.com;\" data-parsoid='{\"stx\":\"url\",\"dsr\":[20,39,0,0]}'>http://example.com;</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\\\" data-parsoid='{\"stx\":\"url\",\"dsr\":[40,59,0,0]}'>http://example.com\\</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[60,78,0,0]}'>http://example.com</a>.\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[80,98,0,0]}'>http://example.com</a>:\n<a rel=\"mw:ExtLink\" href=\"http://example.com!\" data-parsoid='{\"stx\":\"url\",\"dsr\":[100,119,0,0]}'>http://example.com!</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com?\" data-parsoid='{\"stx\":\"url\",\"dsr\":[120,139,0,0]}'>http://example.com?</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[140,158,0,0]}'>http://example.com</a>)\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_(brackets)\" data-parsoid='{\"stx\":\"url\",\"dsr\":[160,198,0,0]}'>http://example.com/url_with_(brackets)</a>\n(<a rel=\"mw:ExtLink\" href=\"http://example.com/url_without_brackets\" data-parsoid='{\"stx\":\"url\",\"dsr\":[200,239,0,0]}'>http://example.com/url_without_brackets</a>)\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity \" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity \"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;nbsp;\"},\"dsr\":[241,281,0,0]}'>http://example.com/url_with_entity </a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity \" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity \"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;nbsp;\"},\"dsr\":[282,322,0,0]}'>http://example.com/url_with_entity </a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity \" data-parsoid='{\"stx\":\"url\",\"a\":{\"href\":\"http://example.com/url_with_entity \"},\"sa\":{\"href\":\"http://example.com/url_with_entity&amp;nbsp;\"},\"dsr\":[323,363,0,0]}'>http://example.com/url_with_entity </a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity\" data-parsoid='{\"stx\":\"url\",\"dsr\":[364,398,0,0]}'>http://example.com/url_with_entity</a>&lt;\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity%3C\" data-parsoid='{\"stx\":\"url\",\"dsr\":[400,437,0,0]}'>http://example.com/url_with_entity%3C</a>\n<a rel=\"mw:ExtLink\" href=\"http://example.com/url_with_entity%3C\" data-parsoid='{\"stx\":\"url\",\"dsr\":[438,475,0,0]}'>http://example.com/url_with_entity%3C</a></p>\n");
add("html2html", "External links: No preceding word characters allowed (bug 65278)", "<p data-parsoid='{\"dsr\":[0,87,0,0]}'>NOPE<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[4,22,0,0]}'>http://example.com</a>\nN0<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[25,43,0,0]}'>http://example.com</a>\nok:<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[47,65,0,0]}'>http://example.com</a>\nok-<a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[69,87,0,0]}'>http://example.com</a></p>\n");
add("html2html", "External links: Clickable images", "<p data-parsoid='{\"dsr\":[0,78,0,0]}'>ja-style clickable images: <img src=\"http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png\" alt=\"Ncwikicol.png\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[27,78,null,null]}'/></p>\n");
add("html2html", "Indented table markup mixed with indented pre content (proposed in bug 6200)", " <table data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[1,58,2,0]}'>\n \n <tbody data-parsoid='{\"dsr\":[7,58,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[7,58,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[7,58,1,0]}'>\n<pre data-parsoid='{\"dsr\":[9,58,1,0]}'>Text that should be rendered preformatted \n\n|}</pre></td></tr></tbody></table>\n");
add("html2html", "Build table with wikilink", "<table class=\"wikitable\" data-parsoid='{\"dsr\":[0,216,20,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[22,214,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[22,47,0,0]}'><th data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[22,31,1,0]}'> header </th>\n<th data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[32,47,1,0]}'> second header</th></tr>\n\n<tr style=\"color:red;\" data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[49,148,21,0]}'>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[71,106,1,0]}'> data <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[78,105,17,2]}'>linktext</a> </td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[107,148,1,0]}'> second data <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[121,148,17,2]}'>linktext</a></td></tr>\n\n<tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[150,213,2,0]}'>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[153,160,1,0]}'> data </td>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[161,213,1,0]}'> second data <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[175,213,17,2]}'>link|text with pipe</a></td></tr>\n</tbody></table>\n");
add("html2html", "Plain link, capitalized", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>Main Page</a></p>\n");
add("html2html", "Plain link, uncapitalized", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>main Page</a></p>\n");
add("html2html", "Piped link", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,32,17,2]}'>The Main Page</a></p>\n");
add("html2html", "Piped link with comment in link text", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,32,17,2]}'>The Main Page</a></p>\n");
add("html2html", "Piped link with multiple pipe characters in link text", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,46,12,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[12,44,8,9]}'>|The|Main|Page|</span></a></p>\n");
add("html2html", "Broken link", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>[/index.php?title=Zigzagzogzagzig&amp;action=edit&amp;redlink=1 Zigzagzogzagzig]</p>\n");
add("html2html", "Broken link with fragment", "<p data-parsoid='{\"dsr\":[0,76,0,0]}'>[/index.php?title=Zigzagzogzagzig&amp;action=edit&amp;redlink=1 Zigzagzogzagzig#zug]</p>\n");
add("html2html", "Special page link with fragment", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:Version#anchor\" title=\"Wiki/Special:Version\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:Version#anchor\"},\"sa\":{\"href\":\"wiki/Special:Version#anchor\"},\"dsr\":[0,54,30,2]}'>Special:Version#anchor</a></p>\n");
add("html2html", "Nonexistent special page link with fragment", "<p data-parsoid='{\"dsr\":[0,97,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:ThisNameWillHopefullyNeverBeUsed\" title=\"Wiki/Special:ThisNameWillHopefullyNeverBeUsed\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:ThisNameWillHopefullyNeverBeUsed\"},\"sa\":{\"href\":\"wiki/Special:ThisNameWillHopefullyNeverBeUsed\"},\"dsr\":[0,97,48,2]}'>Special:ThisNameWillHopefullyNeverBeUsed#anchor</a></p>\n");
add("html2html", "Link with prefix", "<p data-parsoid='{\"dsr\":[0,162,0,0]}'>xxx<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[3,31,17,2]}'>main Page</a>, xxx<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[36,64,17,2]}'>Main Page</a>, Xxx<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[69,97,17,2]}'>main Page</a> XXX<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[101,129,17,2]}'>main Page</a>, XXX<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[134,162,17,2]}'>Main Page</a></p>\n");
add("html2html", "Link with suffix", "<p data-parsoid='{\"dsr\":[0,97,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,31,17,2]}'>Main Pagexxx</a>, <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[33,61,17,2]}'>Main Page</a>XXX, <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[66,94,17,2]}'>Main Page</a>!!!</p>\n");
add("html2html", "Bug 43661: Piped links with identical prefixes", "<p data-parsoid='{\"dsr\":[0,55,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Prefixed_article\" title=\"Wiki/Prefixed article\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Prefixed_article\"},\"sa\":{\"href\":\"wiki/Prefixed article\"},\"dsr\":[0,55,24,2]}'>prefixed articles with spaces</a></p>\n\n<p data-parsoid='{\"dsr\":[57,104,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Prefixed_article\" title=\"Wiki/Prefixed article\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Prefixed_article\"},\"sa\":{\"href\":\"wiki/Prefixed article\"},\"dsr\":[57,104,24,2]}'>prefixed articlesaoeu</a></p>\n\n<p data-parsoid='{\"dsr\":[106,139,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[106,139,17,2]}'>Main Page test</a></p>\n");
add("html2html", "Link with HTML entity in suffix / tail", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>Main Page</a>\", <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[31,60,17,3],\"tail\":\"a\"}'>Main Pagea</a></p>\n");
add("html2html", "Link with 4 brackets", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>[[<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[2,30,17,2]}'>Main Page</a>]]</p>\n");
add("html2html", "Piped link with extlink-like text", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,24,17,2]}'>[bar]</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[25,59,17,2]}'>This is a [bar]</a></p>\n");
add("html2html", "Link with multiple pipes", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,32,17,2]}'>The|Main|Page</a></p>\n");
add("html2html", "Link to namespaces", "<p data-parsoid='{\"dsr\":[0,156,0,0]}'>[/index.php?title=Talk:Parser_testing&amp;action=edit&amp;redlink=1 Talk:Parser testing], [/index.php?title=Meta:Disclaimers&amp;action=edit&amp;redlink=1 Meta:Disclaimers]</p>\n");
add("html2html", "Link with space in namespace", "<p data-parsoid='{\"dsr\":[0,76,0,0]}'>[/index.php?title=User_talk:Foo_bar&amp;action=edit&amp;redlink=1 User talk:Foo bar]</p>\n");
add("html2html", "Namespace takes precedence over interwiki link (bug 51680)", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/MemoryAlpha:AlphaTest\" title=\"Wiki/MemoryAlpha:AlphaTest\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/MemoryAlpha:AlphaTest\"},\"sa\":{\"href\":\"wiki/MemoryAlpha:AlphaTest\"},\"dsr\":[0,52,29,2]}'>MemoryAlpha:AlphaTest</a></p>\n");
add("html2html", "Piped link to namespace", "<p data-parsoid='{\"dsr\":[0,73,0,0]}'>[/index.php?title=Meta:Disclaimers&amp;action=edit&amp;redlink=1 The disclaimers]</p>\n");
add("html2html", "Link containing \"#<\" and \"#>\" % as a hex sequences- these are valid section anchors\nExample for such a section: == < ==", "<p data-parsoid='{\"dsr\":[0,36,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page#%3C\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page#%3C\"},\"sa\":{\"href\":\"Main Page#&lt;\"},\"dsr\":[0,18,14,2]}'>#&lt;</a><a rel=\"mw:WikiLink\" href=\"./Main_Page#%3E\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page#%3E\"},\"sa\":{\"href\":\"Main Page#>\"},\"dsr\":[18,36,14,2]}'>#></a></p>\n");
add("html2html", "Link containing double-single-quotes '' in text embedded in italics (bug 4598 sanity check)", "<p data-parsoid='{\"dsr\":[0,84,0,0]}'><i data-parsoid='{\"dsr\":[0,61,2,2]}'>Some [/index.php?title=Link&amp;action=edit&amp;redlink=1 pretty </i>italics<i data-parsoid='{\"dsr\":[68,84,2,2]}'> and stuff]!</i></p>\n");
add("html2html", "Plain link to page with question mark in title", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/A%3Fb\" title=\"Wiki/A?b\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/A%3Fb\"},\"sa\":{\"href\":\"wiki/A?b\"},\"dsr\":[0,16,11,2]}'>A?b</a></p>\n\n<p data-parsoid='{\"dsr\":[18,34,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/A%3Fb\" title=\"Wiki/A?b\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/A%3Fb\"},\"sa\":{\"href\":\"wiki/A?b\"},\"dsr\":[18,34,11,2]}'>Baz</a></p>\n");
add("html2html", "Self-link to section should not be bold", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page#section\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page#section\"},\"sa\":{\"href\":\"wiki/Main Page#section\"},\"dsr\":[0,44,25,2]}'>Main Page#section</a></p>\n");
add("html2html", "Link to numeric-equivalent title", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/00\" title=\"Wiki/00\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/00\"},\"sa\":{\"href\":\"wiki/00\"},\"dsr\":[0,14,10,2]}'>00</a></p>\n");
add("html2html", "<nowiki> inside a link", "<p data-parsoid='{\"dsr\":[0,84,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,30,8,9]}'>[[Main Page]]</span> <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[31,83,17,2]}'>the main page [it's not very good</a>]</p>\n");
add("html2html", "Non-breaking spaces in title", "<p data-parsoid='{\"dsr\":[0,34,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,34,17,2]}'>  Main   Page  </a></p>\n");
add("html2html", "Internal link with ca linktrail, surrounded by bold apostrophes (bug 27473 primary issue)", "<p data-parsoid='{\"dsr\":[0,34,0,0]}'><b data-parsoid='{\"dsr\":[0,34,3,3]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[3,31,17,2]}'>Main Page</a></b></p>\n");
add("html2html", "Internal link with ca linktrail, surrounded by italic apostrophes (bug 27473 primary issue)", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><i data-parsoid='{\"dsr\":[0,32,2,2]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[2,30,17,2]}'>Main Page</a></i></p>\n");
add("html2html", "Internal link with en linktrail: no apostrophes (bug 27473)", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'>[/index.php?title=Something&amp;action=edit&amp;redlink=1 Something]'nice</p>\n");
add("html2html", "Internal link with ca linktrail with apostrophes (bug 27473)", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'>[/index.php?title=Something&amp;action=edit&amp;redlink=1 Something'nice]</p>\n");
add("html2html", "Internal link with kaa linktrail with apostrophes (bug 27473)", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'>[/index.php?title=Something&amp;action=edit&amp;redlink=1 Something'nice]</p>\n");
add("html2html", "Internal link with is link prefix", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'>Aðrir <a rel=\"mw:WikiLink\" href=\"./Wiki/Söfnuður\" title=\"Wiki/Söfnuður\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Söfnuður\"},\"sa\":{\"href\":\"wiki/Söfnuður\"},\"dsr\":[6,42,16,2]}'>mótmælendasöfnuðir</a> og</p>\n");
add("html2html", "Internal link with is link trail and link prefix", "<p data-parsoid='{\"dsr\":[0,181,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Mótmælendatrú\" title=\"Wiki/Mótmælendatrú\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Mótmælendatrú\"},\"sa\":{\"href\":\"wiki/Mótmælendatrú\"},\"dsr\":[0,28,21,2]}'>xxxar</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/Mótmælendatrú\" title=\"Wiki/Mótmælendatrú\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Mótmælendatrú\"},\"sa\":{\"href\":\"wiki/Mótmælendatrú\"},\"dsr\":[29,67,21,2]}'>mótmælendatrúar</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/Söfnuður\" title=\"Wiki/Söfnuður\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Söfnuður\"},\"sa\":{\"href\":\"wiki/Söfnuður\"},\"dsr\":[68,104,16,2]}'>mótmælendasöfnuður</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/Söfnuður\" title=\"Wiki/Söfnuður\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Söfnuður\"},\"sa\":{\"href\":\"wiki/Söfnuður\"},\"dsr\":[105,141,16,2]}'>mótmælendasöfnuðir</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/Söfnuður\" title=\"Wiki/Söfnuður\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Söfnuður\"},\"sa\":{\"href\":\"wiki/Söfnuður\"},\"dsr\":[142,181,16,2]}'>mótmælendasöfnuðirxxx</a></p>\n");
add("html2html", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[0,18,11,2]}'>  bar</a></p>\n\n<p data-parsoid='{\"dsr\":[20,42,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[20,42,11,2]}'>  <i data-parsoid='{\"dsr\":[33,40,2,2]}'>bar</i></a></p>\n\n<p data-parsoid='{\"dsr\":[44,63,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://wp.org\" data-parsoid='{\"targetOff\":59,\"contentOffsets\":[59,62],\"dsr\":[44,63,15,1]}'>foo</a></p>\n\n<p data-parsoid='{\"dsr\":[65,88,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://wp.org\" data-parsoid='{\"targetOff\":80,\"contentOffsets\":[80,87],\"dsr\":[65,88,15,1]}'><i data-parsoid='{\"dsr\":[80,87,2,2]}'>foo</i></a></p>\n");
add("html2html", "Parsoid-specific test: Wikilinks with &nbsp; should RT properly", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'>[/index.php?title=WW_II&amp;action=edit&amp;redlink=1 WW II]</p>\n");
add("html2html", "<br> to <br />", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>1\n2\n3</p>\n");
add("html2html", "Incorrecly removing closing slashes from correctly formed XHTML", "\n");
add("html2html", "Failing to transform badly formed HTML into correct XHTML", "\n\n<p data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[2,2,0,0]}'><br data-parsoid='{\"dsr\":[2,2,0,0]}'/></p>\n");
add("html2html", "Handling html with a br self-closing tag", "\n\n<p data-parsoid='{\"dsr\":[2,2,0,0]}'><br data-parsoid='{\"dsr\":[2,2,0,0]}'/></p>\n\n\n<p data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[5,5,0,0]}'><br data-parsoid='{\"dsr\":[5,5,0,0]}'/></p>\n");
add("html2html", "List items are not parsed correctly following a <pre> block (bug 785)", "<ul data-parsoid='{\"dsr\":[0,2,0,0]}'><li data-parsoid='{\"dsr\":[0,2,1,0]}'> </li></ul>\n<pre data-parsoid='{\"dsr\":[3,7,1,0]}'>foo</pre>\n<ul data-parsoid='{\"dsr\":[8,10,0,0]}'><li data-parsoid='{\"dsr\":[8,10,1,0]}'> </li></ul>\n<pre data-parsoid='{\"dsr\":[11,15,1,0]}'>bar</pre>\n<ul data-parsoid='{\"dsr\":[16,21,0,0]}'><li data-parsoid='{\"dsr\":[16,21,1,0]}'> zar</li></ul>\n");
add("html2html", "List interrupted by empty line or heading", "<ul data-parsoid='{\"dsr\":[0,5,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> foo</li></ul>\n\n<ul data-parsoid='{\"dsr\":[7,13,0,0]}'><li data-parsoid='{\"dsr\":[7,13,1,0]}'><ul data-parsoid='{\"dsr\":[8,13,0,0]}'><li data-parsoid='{\"dsr\":[8,13,1,0]}'> bar</li></ul></li></ul>\n\n<h2 data-parsoid='{\"dsr\":[15,261,2,2]}'> <span class=\"mw-headline\" id=\"A_heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[18,75,41,7]}'>A heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,258,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[104,149,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[206,251,37,7]}'>]</span></span> </h2>\n<ul data-parsoid='{\"dsr\":[262,281,0,0]}'><li data-parsoid='{\"dsr\":[262,281,1,0]}'> Another list item</li></ul>\n");
add("html2html", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'><span data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[0,6,6,0]}'></span></p>\n\n<ul data-parsoid='{\"dsr\":[8,28,0,0]}'><li data-parsoid='{\"dsr\":[8,24,1,0]}'> a<span data-parsoid='{\"stx\":\"html\",\"dsr\":[11,24,6,7]}'></span></li>\n<li data-parsoid='{\"dsr\":[25,28,1,0]}'> b</li></ul>\n\n<p data-parsoid='{\"dsr\":[30,37,0,0]}'></p>");
add("html2html", "Case-sensitive magic words, when cased differently, should just be template transclusions", "<p data-parsoid='{\"dsr\":[0,331,0,0]}'>[/index.php?title=Template:CurrentMonth&amp;action=edit&amp;redlink=1 Template:CurrentMonth]\n[/index.php?title=Template:Currentday&amp;action=edit&amp;redlink=1 Template:Currentday]\n[/index.php?title=Template:CURreNTweEK&amp;action=edit&amp;redlink=1 Template:CURreNTweEK]\n[/index.php?title=Template:CurrentHour&amp;action=edit&amp;redlink=1 Template:CurrentHour]</p>\n");
add("html2html", "Magic links: internal link to RFC (bug 479)", "<p data-parsoid='{\"dsr\":[0,56,0,0]}'>[/index.php?title=RFC_123&amp;action=edit&amp;redlink=1 <a href=\"//tools.ietf.org/html/rfc123\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[48,55,0,0]}'>RFC 123</a>]</p>\n");
add("html2html", "Magic links: ISBN (bug 1937)", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/0306406152\" title=\"Wiki/Special:BookSources/0306406152\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/0306406152\"},\"sa\":{\"href\":\"wiki/Special:BookSources/0306406152\"},\"dsr\":[0,58,38,2]}'>ISBN 0-306-40615-2</a></p>\n");
add("html2html", "Magic links: ISBN (bug 65278)", "<p data-parsoid='{\"dsr\":[0,141,0,0]}'>This is <a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/9780316098113\" title=\"Wiki/Special:BookSources/9780316098113\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/9780316098113\"},\"sa\":{\"href\":\"wiki/Special:BookSources/9780316098113\"},\"dsr\":[8,73,41,2]}'>ISBN 978-0-316-09811-3</a> but this<a href=\"./Special:BookSources/9780316098113\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[82,104,0,0]}'>ISBN 978-0-316-09811-3</a> is not ISBN 978-0-316-09811-3linked.</p>\n");
add("html2html", "Nonexistent template", "<p data-parsoid='{\"dsr\":[0,108,0,0]}'>[/index.php?title=Template:Thistemplatedoesnotexist&amp;action=edit&amp;redlink=1 Template:Thistemplatedoesnotexist]</p>\n");
add("html2html", "Template with invalid target containing wikilink", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>{{<a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[2,15,2,2]}'>Main Page</a>}}</p>\n");
add("html2html", "Template unnamed parameter", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,32,17,2]}'>the main page</a></p>\n");
add("html2html", "Template with complex arguments", "<p data-parsoid='{\"dsr\":[0,84,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Template:Complextemplate\" title=\"Wiki/Template:Complextemplate\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Template:Complextemplate\"},\"sa\":{\"href\":\"wiki/Template:Complextemplate\"},\"dsr\":[0,38,32,2]}'>link</a> This is a test template with parameter (test)</p>\n");
add("html2html", "Template parameter as link source", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,23,17,2]}'>link</a></p>\n");
add("html2html", "Template as link source", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>Main Page</a></p>\n\n<p data-parsoid='{\"dsr\":[30,58,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[30,58,17,2]}'>Main Page</a></p>\n\n<p data-parsoid='{\"dsr\":[60,92,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[60,88,17,2]}'>Main Page</a>Page</p>\n");
add("html2html", "Template infinite loop", "<p data-parsoid='{\"dsr\":[0,89,0,0]}'><span class=\"error\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,89,20,7]}'>Template loop detected: <a rel=\"mw:WikiLink\" href=\"./Wiki/Template:Loop1\" title=\"Wiki/Template:Loop1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Template:Loop1\"},\"sa\":{\"href\":\"wiki/Template:Loop1\"},\"dsr\":[44,82,22,2]}'>Template:Loop1</a></span></p>\n");
add("html2html", "Template with targets containing wikilinks", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,19,8,9]}'>{{</span><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[19,35,11,2]}'>foo</a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[35,54,8,9]}'>}}</span></p>\n\n<p data-parsoid='{\"dsr\":[56,110,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[56,75,8,9]}'>{{</span><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[75,91,11,2]}'>foo</a><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[91,110,8,9]}'>}}</span></p>\n\n<p data-parsoid='{\"dsr\":[112,140,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[112,138,8,9]}'>{{[[foo}}</span>]]</p>\n");
add("html2html", "Self-closed noinclude, includeonly, onlyinclude tags", "\n");
add("html2html", "Bug 6563: Edit link generation for section shown by <includeonly>", "<h2 data-parsoid='{\"dsr\":[0,285,2,2]}'> <span class=\"mw-headline\" id=\"Includeonly_section\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,80,51,7]}'>Includeonly section</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[80,282,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[109,154,37,7]}'>[</span>[/index.php?title=Template:Includeonly_section&amp;action=edit&amp;section=T-1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[230,275,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[287,556,2,2]}'> <span class=\"mw-headline\" id=\"Section_T-1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[290,351,43,7]}'>Section T-1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[351,553,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[380,425,37,7]}'>[</span>[/index.php?title=Template:Includeonly_section&amp;action=edit&amp;section=T-2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[501,546,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 6563: Section extraction for section shown by <includeonly>", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,32,8,9]}'>==Section T-2==</span></p>");
add("html2html", "Bug 6563: Edit link generation for section suppressed by <includeonly>", "<h2 data-parsoid='{\"dsr\":[0,246,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,60,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[60,243,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[89,134,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[191,236,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 6563: Section extraction for section suppressed by <includeonly>", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,30,8,9]}'>==Section 1==</span></p>");
add("html2html", "Templates: Links: 1. Simple example", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[0,16,11,2]}'>bar</a></p>\n");
add("html2html", "Templates: Links: 2. Generation of link href", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[0,16,11,2]}'>bar</a></p>\n");
add("html2html", "Templates: Links: 3. Generation of part of a link href", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[0,16,11,2]}'>bar</a></p>\n\n<p data-parsoid='{\"dsr\":[18,72,0,0]}'>[/index.php?title=Foobar&amp;action=edit&amp;redlink=1 Foobar]</p>\n\n<p data-parsoid='{\"dsr\":[74,134,0,0]}'>[/index.php?title=Foobarbaz&amp;action=edit&amp;redlink=1 Foobarbaz]</p>\n\n<p data-parsoid='{\"dsr\":[136,187,0,0]}'>[/index.php?title=Foobar&amp;action=edit&amp;redlink=1 bar]</p>\n\n<p data-parsoid='{\"dsr\":[189,243,0,0]}'>[/index.php?title=Foobar&amp;action=edit&amp;redlink=1 Foobar]</p>\n\n<p data-parsoid='{\"dsr\":[245,296,0,0]}'>[/index.php?title=Foobar&amp;action=edit&amp;redlink=1 bar]</p>\n");
add("html2html", "Templates: Links: 4. Multiple templates generating link href", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'>[/index.php?title=Foobar&amp;action=edit&amp;redlink=1 Foobar]</p>\n");
add("html2html", "Templates: Links: 5. Generation of link text", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[0,16,11,2]}'>bar</a></p>\n");
add("html2html", "Templates: Links: 5. Nested templates (only outermost template should be marked)", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[0,16,11,2]}'>bar</a></p>\n");
add("html2html", "Templates: Lists: Multi-line list-items via templates", "<ul data-parsoid='{\"dsr\":[0,173,0,0]}'><li data-parsoid='{\"dsr\":[0,86,1,0]}'> a [/index.php?title=Template:Nonexistent&amp;action=edit&amp;redlink=1 Template:Nonexistent]</li>\n<li data-parsoid='{\"dsr\":[87,173,1,0]}'> b [/index.php?title=Template:Nonexistent&amp;action=edit&amp;redlink=1 Template:Nonexistent]</li></ul>\n");
add("html2html", "Templates: Ugly templates: 1. Navbox template parses badly leading to table misnesting\n(Parsoid-centric)", "<table about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,32,2,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"src\":\"{|\\n|{{echo|foo&lt;/table>}}\\n|bar\\n|}\"}' data-mw='{\"parts\":[\"{|\\n|\",{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo&lt;/table>\"}},\"i\":0}},\"\\n|bar\\n|}\"]}'>\n<tbody><tr><td>foo</td></tr></tbody></table><span about=\"#mwt1\">\n|bar</span><span about=\"#mwt1\">\n</span>");
add("html2html", "Templates: Ugly templates: 4. newline-only template parameter inconsistency", "\n");
add("html2html", "pre-save transform: subst:", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>This is a test template</p>");
add("html2html", "pre-save transform: normal template", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>{{test}}</span></p>");
add("html2html", "pre-save transform: nonexistent template", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,45,8,9]}'>{{thistemplatedoesnotexist}}</span></p>");
add("html2html", "pre-save transform: subst magic variables", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>MediaWiki</p>");
add("html2html", "pre-save transform: subst: templates with parameters", "<p data-parsoid='{\"dsr\":[0,55,0,0]}'>This is a test template with parameter \"something else\"</p>");
add("html2html", "pre-save transform: nowiki in subst (bug 1188)", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>&lt;nowiki>'''not wiki'''</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[39,48,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: comment in subst (bug 1936)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'>This template has <!-- a comment --> in it.</p>");
add("html2html", "pre-save transform: unclosed tag", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>&lt;nowiki>'''not wiki'''</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[39,48,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: mixed tag case", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>&lt;nowiki>'''not wiki'''</span><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[39,48,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: unclosed comment in <nowiki>", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'>wiki<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[4,37,8,9]}'>nowiki&lt;!--nowiki</span>wiki--><span typeof=\"mw:Placeholder\" data-parsoid='{\"src\":\"&lt;/nowiki>\",\"dsr\":[44,53,null,0]}'>&lt;/nowiki></span></p>");
add("html2html", "pre-save transform: <noinclude> in subst (bug 3298)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Foobar</p>");
add("html2html", "pre-save transform: <onlyinclude> in subst (bug 3298)", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>Foo</p>");
add("html2html", "bug 22297: safesubst: works during PST", "<p data-parsoid='{\"dsr\":[0,12,0,0]}'>FoobarFoobar</p>");
add("html2html", "pre-save transform: context links (\"pipe trick\")", "<p data-parsoid='{\"dsr\":[0,247,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,247,8,9]}'>[[Article (context)|Article]]\n[[Bar:Article|Article]]\n[[:Bar:Article|Article]]\n[[Bar:Article (context)|Article]]\n[[:Bar:Article (context)|Article]]\n[[Article]]\n[[Article (context)]]\n[[Bar:X (Y) Z|X (Y) Z]]\n[[:Bar:X (Y) Z|X (Y) Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with interwiki prefix", "<p data-parsoid='{\"dsr\":[0,154,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,154,8,9]}'>[[interwiki:Article|Article]]\n[[:interwiki:Article|Article]]\n[[interwiki:Bar:Article|Bar:Article]]\n[[:interwiki:Bar:Article|Bar:Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with parens in title", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,46,8,9]}'>[[Article (context)|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with comma in title", "<p data-parsoid='{\"dsr\":[0,137,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,137,8,9]}'>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace, Elsewhere|Otherplace]]\n[[Otherplace, Elsewhere, Anywhere|Otherplace]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with parens and comma", "<p data-parsoid='{\"dsr\":[0,98,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,98,8,9]}'>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace (place), Elsewhere|Otherplace]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with comma and parens", "<p data-parsoid='{\"dsr\":[0,102,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,102,8,9]}'>[[Yes, you. (context)|Yes, you.]]\n[[Me, Myself, and I (1937 song)|Me, Myself, and I]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,39,8,9]}'>[[Ns:Article|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace and parens", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,49,8,9]}'>[[Ns:Article (context)|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace and comma", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,58,8,9]}'>[[Ns:Article, Context, Whatever|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace, comma and parens", "<p data-parsoid='{\"dsr\":[0,49,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,49,8,9]}'>[[Ns:Article (context)|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with namespace, parens and comma", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,48,8,9]}'>[[Ns:Article, Context|Article]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and no space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,174,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,174,8,9]}'>[[Article（context）|Article]]\n[[Bar:Article（context）|Article]]\n[[:Bar:Article（context）|Article]]\n[[Article（context）]]\n[[Bar:X（Y）Z|X（Y）Z]]\n[[:Bar:X（Y）Z|X（Y）Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with full-width parens and space (Japanese and Chinese style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,186,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,186,8,9]}'>[[Article （context）|Article]]\n[[Bar:Article （context）|Article]]\n[[:Bar:Article （context）|Article]]\n[[Article （context）]]\n[[Bar:X （Y） Z|X （Y） Z]]\n[[:Bar:X （Y） Z|X （Y） Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with parens and no space (Korean style, bug 30149)", "<p data-parsoid='{\"dsr\":[0,174,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,174,8,9]}'>[[Article(context)|Article]]\n[[Bar:Article(context)|Article]]\n[[:Bar:Article(context)|Article]]\n[[Article(context)]]\n[[Bar:X(Y)Z|X(Y)Z]]\n[[:Bar:X(Y)Z|X(Y)Z]]</span></p>");
add("html2html", "pre-save transform: context links (\"pipe trick\") with commas (bug 21660)", "<p data-parsoid='{\"dsr\":[0,265,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,265,8,9]}'>[[Article (context), context|Article]]\n[[Article (context)，context|Article]]\n[[Bar:Article (context), context|Article]]\n[[Bar:Article (context)，context|Article]]\n[[:Bar:Article (context), context|Article]]\n[[:Bar:Article (context)，context|Article]]</span></p>");
add("html2html", "pre-save transform: trim trailing empty lines", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>Empty lines are trimmed</p>");
add("html2html", "pre-save transform: Signature expansion", "<p data-parsoid='{\"dsr\":[0,356,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,66,8,9]}'>* [[Special:Contributions/127.0.0.1|127.0.0.1]]\n*</span> <meta typeof=\"mw:Includes/NoInclude\" data-parsoid='{\"src\":\"&lt;noinclude>\",\"dsr\":[67,78,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[78,140,8,9]}'>[[Special:Contributions/127.0.0.1|127.0.0.1]]</span><meta typeof=\"mw:Includes/NoInclude/End\" data-parsoid='{\"src\":\"&lt;/noinclude>\",\"dsr\":[140,152,null,null]}'/>\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[153,171,8,9]}'>*</span> <meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>&lt;nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]&lt;/nowiki>&lt;/includeonly>\",\"dsr\":[172,261,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[261,261,null,null]}'/>\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[262,280,8,9]}'>*</span> <meta typeof=\"mw:Includes/OnlyInclude\" data-parsoid='{\"src\":\"&lt;onlyinclude>\",\"dsr\":[281,294,null,null]}'/><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[294,356,8,9]}'>[[Special:Contributions/127.0.0.1|127.0.0.1]]</span></p><meta typeof=\"mw:Includes/OnlyInclude/End\" data-parsoid='{\"src\":\"&lt;/onlyinclude>\",\"dsr\":[356,370,null,null]}'/>");
add("html2html", "message transform: magic variables", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>MediaWiki</p>");
add("html2html", "message transform: should not transform wiki markup", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>''test''</span></p>");
add("html2html", "message transform: <noinclude> in transcluded template (bug 4926)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Foobar</p>");
add("html2html", "message transform: <onlyinclude> in transcluded template (bug 4926)", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>Foo</p>");
add("html2html", "{{#special:}} page name, known", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'>Special:RecentChanges</p>");
add("html2html", "{{#special:}} page name with subpage, known", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'>Special:RecentChanges/param</p>");
add("html2html", "{{#special:}} page name, unknown", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'>Special:Foobar nonexistent</p>");
add("html2html", "{{#speciale:}} page name, known", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'>Special:RecentChanges</p>");
add("html2html", "{{#speciale:}} page name with subpage, known", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'>Special:RecentChanges/param</p>");
add("html2html", "{{#speciale:}} page name, unknown", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'>Special:Foobar_nonexistent</p>");
add("html2html", "Allow empty links in image captions (Bug 60753)", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"Caption [[Link1]]\\n&lt;nowiki>[[]]&lt;/nowiki>\\n[[Link2]]\\n\"}],\"dsr\":[0,76,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,74,null,null]}'>Caption <a rel=\"mw:WikiLink\" href=\"./Link1\" title=\"Link1\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Link1\"},\"sa\":{\"href\":\"Link1\"},\"dsr\":[32,41,2,2]}'>Link1</a>\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[42,63,8,9]}'>[[]]</span>\n<a rel=\"mw:WikiLink\" href=\"./Link2\" title=\"Link2\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Link2\"},\"sa\":{\"href\":\"Link2\"},\"dsr\":[64,73,2,2]}'>Link2</a>\n</figcaption></figure>");
add("html2html", "Image with multiple attributes from the same template", "<figure class=\"mw-default-size mw-halign-right\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"right\",\"ak\":\"right\"},{\"ck\":\"caption\",\"ak\":\"Caption text\"}],\"dsr\":[0,38,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,36,null,null]}'>Caption text</figcaption></figure>\n");
add("html2html", "Image with link tails", "<p data-parsoid='{\"dsr\":[0,29,0,0]}'>123<span class=\"mw-default-size\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[3,22,null,null]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{}}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></span>456\n123</p>\n<figure class=\"mw-default-size mw-halign-right\" typeof=\"mw:Image\" data-parsoid='{\"optList\":[{\"ck\":\"right\",\"ak\":\"right\"}],\"dsr\":[30,55,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[32,53,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/3/3a/Foobar.jpg\" height=\"220\" width=\"1941\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"220\",\"width\":\"1941\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></figure>\n<p data-parsoid='{\"dsr\":[56,63,0,0]}'>456\n123</p>\n<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"}],\"dsr\":[64,89,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[66,87,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a></figure>\n<p data-parsoid='{\"dsr\":[90,93,0,0]}'>456</p>\n");
add("html2html", "Image with link parameter, wgExternalLinkTarget", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'>&lt;a href=\"http://example.com/\" target=\"foobar\" rel=\"nofollow\"><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[61,102,null,null]}'/>&lt;/a></p>\n");
add("html2html", "Image with link parameter, wgNoFollowLinks set to false", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,41,null,null]}'/></p>\n");
add("html2html", "Image with link parameter, wgNoFollowDomainExceptions", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,41,null,null]}'/></p>\n");
add("html2html", "Image with link parameter, wgExternalLinkTarget, unnamed parameter", "<p data-parsoid='{\"dsr\":[0,120,0,0]}'>&lt;a href=\"http://example.com/\" title=\"Title\" target=\"foobar\" rel=\"nofollow\"><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[75,116,null,null]}'/>&lt;/a></p>\n");
add("html2html", "Link to image page- image page normally doesn't exists, hence edit link\nAdd test with existing image page\n#<p><a href=\"/wiki/File:Test\" title=\"Image:Test\">Image:test</a>", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'>[/index.php?title=File:Test&amp;action=edit&amp;redlink=1 Image:test]</p>\n");
add("html2html", "bug 18784  Link to non-existent image page with caption should use caption as link text", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'>[/index.php?title=File:Test&amp;action=edit&amp;redlink=1 caption]</p>\n");
add("html2html", "SVG thumbnails with invalid language code", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"lang\",\"ak\":\"lang=invalid.language.code\"}],\"dsr\":[0,52,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.svg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.svg\"},\"sa\":{},\"dsr\":[2,50,null,null]}'><img resource=\"./File:Foobar.svg\" src=\"//example.com/images/thumb/f/ff/Foobar.svg/220px-Foobar.svg\" lang=\"invalid.language.code\" height=\"165\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.svg\",\"lang\":\"invalid.language.code\",\"height\":\"165\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.svg\",\"lang\":\"lang=invalid.language.code\"}}'/></a></figure>\n");
add("html2html", "Image: caption containing a table", "<figure typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"200x200px\"},{\"ck\":\"bogus\",\"ak\":\"This is an example image thumbnail caption with a table\\n{\"},{\"ck\":\"bogus\",\"ak\":\"\\n\\n!Foo !Bar\\n\"},{\"ck\":\"bogus\",\"ak\":\"-\\n\"},{\"ck\":\"bogus\",\"ak\":\"Foo1 \\n\"},{\"ck\":\"bogus\",\"ak\":\"Bar1\"},{\"ck\":\"caption\",\"ak\":\"}\\nand some more text.\"}],\"dsr\":[0,143,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/200px-Foobar.jpg\" height=\"23\" width=\"200\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"23\",\"width\":\"200\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,141,null,null]}'>}\nand some more text.</figcaption></figure>\n");
add("html2html", "Subpage link", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Subpage_test/subpage\" title=\"Wiki/Subpage test/subpage\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Subpage_test/subpage\"},\"sa\":{\"href\":\"wiki/Subpage test/subpage\"},\"dsr\":[0,38,28,2]}'>/subpage</a></p>\n");
add("html2html", "Subpage noslash link", "<p data-parsoid='{\"dsr\":[0,37,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Subpage_test/subpage\" title=\"Wiki/Subpage test/subpage\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Subpage_test/subpage\"},\"sa\":{\"href\":\"wiki/Subpage test/subpage\"},\"dsr\":[0,37,28,2]}'>subpage</a></p>\n");
add("html2html", "Render invalid page names as plain text (bug 51090)", "<p data-parsoid='{\"dsr\":[0,141,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,141,8,9]}'>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</span></p>\n\n<p data-parsoid='{\"dsr\":[143,423,0,0]}'>[[<span about=\"#mwt34\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[145,162,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"./../foo\"}},\"i\":0}}]}'>./../foo</span>|bar]]\n[[<span about=\"#mwt35\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[171,185,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo/.\"}},\"i\":0}}]}'>foo/.</span>|bar]]\n[[<span about=\"#mwt36\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[194,209,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo/..\"}},\"i\":0}}]}'>foo/..</span>|bar]]\n[[<span about=\"#mwt37\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[218,237,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo~~~~bar\"}},\"i\":0}}]}'>foo~~~~bar</span>]]\n[[<span about=\"#mwt38\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[242,258,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo>bar\"}},\"i\":0}}]}'>foo>bar</span>]]\n[[<span about=\"#mwt39\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[263,282,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo././bar\"}},\"i\":0}}]}'>foo././bar</span>]]\n[[<span about=\"#mwt40\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[287,303,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo{bar\"}},\"i\":0}}]}'>foo{bar</span>]]\n[[<span about=\"#mwt41\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[308,324,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo}bar\"}},\"i\":0}}]}'>foo}bar</span>]]\n[[<span typeof=\"mw:Transclusion mw:Nowiki\" about=\"#mwt42\" data-parsoid='{\"dsr\":[329,362,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;nowiki>foo[bar&lt;/nowiki>\"}},\"i\":0}}]}'>foo[bar</span>]]\n[[<span typeof=\"mw:Transclusion mw:Nowiki\" about=\"#mwt43\" data-parsoid='{\"dsr\":[367,400,null,null],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;nowiki>foo]bar&lt;/nowiki>\"}},\"i\":0}}]}'>foo]bar</span>]]\n[[<span about=\"#mwt44\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[405,421,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"foo&lt;bar\"}},\"i\":0}}]}'>foo&lt;bar</span>]]</p>\n");
add("html2html", "Disabled subpages", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'>[/index.php?title=/subpage&amp;action=edit&amp;redlink=1 /subpage]</p>\n");
add("html2html", "BUG 561: {{/Subpage}}", "<p data-parsoid='{\"dsr\":[0,66,0,0]}'>[/index.php?title=Page/Subpage&amp;action=edit&amp;redlink=1 Page/Subpage]</p>\n");
add("html2html", "Link to category", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Category:MediaWiki_User's_Guide\" title=\"Wiki/Category:MediaWiki User's Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"wiki/Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,72,39,2]}'>Category:MediaWiki User's Guide</a></p>\n");
add("html2html", "Simple category", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Category:MediaWiki_User's_Guide\" title=\"Wiki/Category:MediaWiki User's Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"wiki/Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,63,39,2]}'>MediaWiki User's Guide</a></p>");
add("html2html", "Category with different sort key", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Category:MediaWiki_User's_Guide\" title=\"Wiki/Category:MediaWiki User's Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"wiki/Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,63,39,2]}'>MediaWiki User's Guide</a></p>");
add("html2html", "Category with identical sort key", "<p data-parsoid='{\"dsr\":[0,63,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Category:MediaWiki_User's_Guide\" title=\"Wiki/Category:MediaWiki User's Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Category:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"wiki/Category:MediaWiki User&#39;s Guide\"},\"dsr\":[0,63,39,2]}'>MediaWiki User's Guide</a></p>");
add("html2html", "Category with empty sort key", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,75,8,9]}'>[[Category:MediaWiki User's Guide|MediaWiki User's Guide]]</span></p>");
add("html2html", "Category with empty sort key and parentheses", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,43,8,9]}'>[[Category:Foo (bar)|Foo]]</span></p>");
add("html2html", "Category with link tail", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'>123<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[3,36,8,9]}'>[[Category:Foo]]</span>456</p>");
add("html2html", "Category with template", "<p data-parsoid='{\"dsr\":[0,42,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,42,8,9]}'>[[Category:{{echo|Foo}}]]</span></p>");
add("html2html", "Category with template in sort key", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,46,8,9]}'>[[Category:Foo|{{echo|Bar}}]]</span></p>");
add("html2html", "Category with template in sort key and title", "<p data-parsoid='{\"dsr\":[0,55,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,55,8,9]}'>[[Category:{{echo|Foo}}|{{echo|Bar}}]]</span></p>");
add("html2html", "Parsoid: Link prefix/suffixes aren't applied to category links", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'>x\n<link rel=\"mw:PageProp/Category\" href=\"./Flokkur:Foo\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Flokkur:Foo\"},\"sa\":{\"href\":\"Category:Foo\"},\"dsr\":[2,18,null,null]}'/>\ny</p>\n");
add("html2html", "Basic section headings", "<h2 data-parsoid='{\"dsr\":[0,248,2,2]}'> <span class=\"mw-headline\" id=\"Headline_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,62,42,7]}'>Headline 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,245,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[91,136,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[193,238,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[249,258,0,0]}'>Some text</p>\n\n<h2 data-parsoid='{\"dsr\":[260,508,2,2]}'> <span class=\"mw-headline\" id=\"Headline_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[263,322,42,7]}'>Headline 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[322,505,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[351,396,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[453,498,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[509,513,0,0]}'>More</p>\n\n<h3 data-parsoid='{\"dsr\":[515,777,3,3]}'> <span class=\"mw-headline\" id=\"Smaller_headline\" data-parsoid='{\"stx\":\"html\",\"dsr\":[519,590,48,7]}'>Smaller headline</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[590,773,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[619,664,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[721,766,37,7]}'>]</span></span> </h3>\n<p data-parsoid='{\"dsr\":[778,787,0,0]}'>Blah blah</p>\n");
add("html2html", "Section headings with TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,679,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,157,0,0]}'><li data-parsoid='{\"dsr\":[69,157,1,0]}'> [#Headline_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[84,116,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[117,156,22,7]}'>Headline 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[159,256,0,0]}'><li data-parsoid='{\"dsr\":[159,256,1,0]}'><ul data-parsoid='{\"dsr\":[160,256,0,0]}'><li data-parsoid='{\"dsr\":[160,256,1,0]}'> [#Subheadline_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[178,212,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[213,255,22,7]}'>Subheadline 1</span>]</li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[258,364,0,0]}'><li data-parsoid='{\"dsr\":[258,364,1,0]}'><ul data-parsoid='{\"dsr\":[259,364,0,0]}'><li data-parsoid='{\"dsr\":[259,364,1,0]}'><ul data-parsoid='{\"dsr\":[260,364,0,0]}'><li data-parsoid='{\"dsr\":[260,364,1,0]}'> [#Skipping_a_level <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[281,317,24,7]}'>1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[318,363,22,7]}'>Skipping a level</span>]</li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[366,566,0,0]}'><li data-parsoid='{\"dsr\":[366,477,1,0]}'><ul data-parsoid='{\"dsr\":[367,477,0,0]}'><li data-parsoid='{\"dsr\":[367,477,1,0]}'><ul data-parsoid='{\"dsr\":[368,477,0,0]}'><li data-parsoid='{\"dsr\":[368,477,1,0]}'><ul data-parsoid='{\"dsr\":[369,477,0,0]}'><li data-parsoid='{\"dsr\":[369,477,1,0]}'> [#Skipping_a_level_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[392,430,24,7]}'>1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[431,476,22,7]}'>Skipping a level</span>]</li></ul></li></ul></li></ul></li>\n<li data-parsoid='{\"dsr\":[478,566,1,0]}'> [#Headline_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[493,525,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[526,565,22,7]}'>Headline 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[568,671,0,0]}'><li data-parsoid='{\"dsr\":[568,671,1,0]}'><ul data-parsoid='{\"dsr\":[569,671,0,0]}'><li data-parsoid='{\"dsr\":[569,671,1,0]}'> [#Another_headline <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[590,624,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[625,670,22,7]}'>Another headline</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[681,929,2,2]}'> <span class=\"mw-headline\" id=\"Headline_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[684,743,42,7]}'>Headline 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[743,926,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[772,817,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[874,919,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[931,1187,3,3]}'> <span class=\"mw-headline\" id=\"Subheadline_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[935,1000,45,7]}'>Subheadline 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1000,1183,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1029,1074,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1131,1176,37,7]}'>]</span></span> </h3>\n\n<h5 data-parsoid='{\"dsr\":[1189,1455,5,5]}'> <span class=\"mw-headline\" id=\"Skipping_a_level\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1195,1266,48,7]}'>Skipping a level</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1266,1449,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1295,1340,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1397,1442,37,7]}'>]</span></span> </h5>\n\n<h6 data-parsoid='{\"dsr\":[1457,1727,6,6]}'> <span class=\"mw-headline\" id=\"Skipping_a_level_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1464,1537,50,7]}'>Skipping a level</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1537,1720,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1566,1611,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1668,1713,37,7]}'>]</span></span> </h6>\n\n<h2 data-parsoid='{\"dsr\":[1729,1977,2,2]}'> <span class=\"mw-headline\" id=\"Headline_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1732,1791,42,7]}'>Headline 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1791,1974,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1820,1865,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1922,1967,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1978,1987,0,0]}'>Some text</p>\n\n<h3 data-parsoid='{\"dsr\":[1989,2251,3,3]}'> <span class=\"mw-headline\" id=\"Another_headline\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1993,2064,48,7]}'>Another headline</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2064,2247,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2093,2138,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=6 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2195,2240,37,7]}'>]</span></span> </h3>\n");
add("html2html", "Handling of sections up to level 6 and beyond", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,1266,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,167,0,0]}'><li data-parsoid='{\"dsr\":[69,167,1,0]}'> [#Level_1_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[89,121,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[122,166,22,7]}'>Level 1 Heading</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[169,270,0,0]}'><li data-parsoid='{\"dsr\":[169,270,1,0]}'><ul data-parsoid='{\"dsr\":[170,270,0,0]}'><li data-parsoid='{\"dsr\":[170,270,1,0]}'> [#Level_2_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[190,224,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[225,269,22,7]}'>Level 2 Heading</span>]</li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[272,376,0,0]}'><li data-parsoid='{\"dsr\":[272,376,1,0]}'><ul data-parsoid='{\"dsr\":[273,376,0,0]}'><li data-parsoid='{\"dsr\":[273,376,1,0]}'><ul data-parsoid='{\"dsr\":[274,376,0,0]}'><li data-parsoid='{\"dsr\":[274,376,1,0]}'> [#Level_3_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[294,330,24,7]}'>1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[331,375,22,7]}'>Level 3 Heading</span>]</li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[378,485,0,0]}'><li data-parsoid='{\"dsr\":[378,485,1,0]}'><ul data-parsoid='{\"dsr\":[379,485,0,0]}'><li data-parsoid='{\"dsr\":[379,485,1,0]}'><ul data-parsoid='{\"dsr\":[380,485,0,0]}'><li data-parsoid='{\"dsr\":[380,485,1,0]}'><ul data-parsoid='{\"dsr\":[381,485,0,0]}'><li data-parsoid='{\"dsr\":[381,485,1,0]}'> [#Level_4_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[401,439,24,7]}'>1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[440,484,22,7]}'>Level 4 Heading</span>]</li></ul></li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[487,597,0,0]}'><li data-parsoid='{\"dsr\":[487,597,1,0]}'><ul data-parsoid='{\"dsr\":[488,597,0,0]}'><li data-parsoid='{\"dsr\":[488,597,1,0]}'><ul data-parsoid='{\"dsr\":[489,597,0,0]}'><li data-parsoid='{\"dsr\":[489,597,1,0]}'><ul data-parsoid='{\"dsr\":[490,597,0,0]}'><li data-parsoid='{\"dsr\":[490,597,1,0]}'><ul data-parsoid='{\"dsr\":[491,597,0,0]}'><li data-parsoid='{\"dsr\":[491,597,1,0]}'> [#Level_5_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[511,551,24,7]}'>1.1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[552,596,22,7]}'>Level 5 Heading</span>]</li></ul></li></ul></li></ul></li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[599,1258,0,0]}'><li data-parsoid='{\"dsr\":[599,1258,1,0]}'><ul data-parsoid='{\"dsr\":[600,1258,0,0]}'><li data-parsoid='{\"dsr\":[600,1258,1,0]}'><ul data-parsoid='{\"dsr\":[601,1258,0,0]}'><li data-parsoid='{\"dsr\":[601,1258,1,0]}'><ul data-parsoid='{\"dsr\":[602,1258,0,0]}'><li data-parsoid='{\"dsr\":[602,1258,1,0]}'><ul data-parsoid='{\"dsr\":[603,1258,0,0]}'><li data-parsoid='{\"dsr\":[603,1258,1,0]}'><ul data-parsoid='{\"dsr\":[604,1258,0,0]}'><li data-parsoid='{\"dsr\":[604,712,1,0]}'> [#Level_6_Heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[624,666,24,7]}'>1.1.1.1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[667,711,22,7]}'>Level 6 Heading</span>]</li>\n<li data-parsoid='{\"dsr\":[713,836,6,0]}'> [#.3D_Level_7_Heading.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[745,787,24,7]}'>1.1.1.1.1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[788,835,22,7]}'>= Level 7 Heading=</span>]</li>\n<li data-parsoid='{\"dsr\":[837,968,6,0]}'> [#.3D.3D_Level_8_Heading.3D.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[875,917,24,7]}'>1.1.1.1.1.3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[918,967,22,7]}'>== Level 8 Heading==</span>]</li>\n<li data-parsoid='{\"dsr\":[969,1108,6,0]}'> [#.3D.3D.3D_Level_9_Heading.3D.3D.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1013,1055,24,7]}'>1.1.1.1.1.4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1056,1107,22,7]}'>=== Level 9 Heading===</span>]</li>\n<li data-parsoid='{\"dsr\":[1109,1258,6,0]}'> [#.3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1160,1202,24,7]}'>1.1.1.1.1.5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1203,1257,22,7]}'>==== Level 10 Heading====</span>]</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul>\n\n</div>\n\n<h1 data-parsoid='{\"dsr\":[1268,1524,1,1]}'> <span class=\"mw-headline\" id=\"Level_1_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1270,1339,47,7]}'>Level 1 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1339,1522,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1368,1413,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1470,1515,37,7]}'>]</span></span> </h1>\n\n<h2 data-parsoid='{\"dsr\":[1526,1784,2,2]}'> <span class=\"mw-headline\" id=\"Level_2_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1529,1598,47,7]}'>Level 2 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1598,1781,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1627,1672,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1729,1774,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[1786,2046,3,3]}'> <span class=\"mw-headline\" id=\"Level_3_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1790,1859,47,7]}'>Level 3 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1859,2042,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1888,1933,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1990,2035,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[2048,2310,4,4]}'> <span class=\"mw-headline\" id=\"Level_4_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2053,2122,47,7]}'>Level 4 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2122,2305,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2151,2196,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2253,2298,37,7]}'>]</span></span> </h4>\n\n<h5 data-parsoid='{\"dsr\":[2312,2576,5,5]}'> <span class=\"mw-headline\" id=\"Level_5_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2318,2387,47,7]}'>Level 5 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2387,2570,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2416,2461,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2518,2563,37,7]}'>]</span></span> </h5>\n\n<h6 data-parsoid='{\"dsr\":[2578,2844,6,6]}'> <span class=\"mw-headline\" id=\"Level_6_Heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2585,2654,47,7]}'>Level 6 Heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2654,2837,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2683,2728,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=6 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2785,2830,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[2846,3122,6,6]}'> <span class=\"mw-headline\" id=\".3D_Level_7_Heading.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2853,2932,54,7]}'>= Level 7 Heading=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2932,3115,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2961,3006,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=7 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3063,3108,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[3124,3408,6,6]}'> <span class=\"mw-headline\" id=\".3D.3D_Level_8_Heading.3D.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3131,3218,60,7]}'>== Level 8 Heading==</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3218,3401,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3247,3292,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=8 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3349,3394,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[3410,3702,6,6]}'> <span class=\"mw-headline\" id=\".3D.3D.3D_Level_9_Heading.3D.3D.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3417,3512,66,7]}'>=== Level 9 Heading===</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3512,3695,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3541,3586,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=9 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3643,3688,37,7]}'>]</span></span> </h6>\n\n<h6 data-parsoid='{\"dsr\":[3704,4007,6,6]}'> <span class=\"mw-headline\" id=\".3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3711,3816,73,7]}'>==== Level 10 Heading====</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3816,4000,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3845,3890,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=10 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3948,3993,37,7]}'>]</span></span> </h6>\n");
add("html2html", "TOC regression (bug 9764)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,612,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,151,0,0]}'><li data-parsoid='{\"dsr\":[69,151,1,0]}'> [#title_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,150,22,7]}'>title 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[153,242,0,0]}'><li data-parsoid='{\"dsr\":[153,242,1,0]}'><ul data-parsoid='{\"dsr\":[154,242,0,0]}'><li data-parsoid='{\"dsr\":[154,242,1,0]}'> [#title_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,202,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,241,22,7]}'>title 1.1</span>]</li></ul></li></ul>\n\n<ul data-parsoid='{\"dsr\":[244,513,0,0]}'><li data-parsoid='{\"dsr\":[244,430,1,0]}'><ul data-parsoid='{\"dsr\":[245,430,0,0]}'><li data-parsoid='{\"dsr\":[245,340,1,0]}'><ul data-parsoid='{\"dsr\":[246,340,0,0]}'><li data-parsoid='{\"dsr\":[246,340,1,0]}'> [#title_1.1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[262,298,24,7]}'>1.1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[299,339,22,7]}'>title 1.1.1</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[341,430,2,0]}'> [#title_1.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[356,390,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[391,429,22,7]}'>title 1.2</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[431,513,1,0]}'> [#title_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[443,475,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[476,512,22,7]}'>title 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[515,604,0,0]}'><li data-parsoid='{\"dsr\":[515,604,1,0]}'><ul data-parsoid='{\"dsr\":[516,604,0,0]}'><li data-parsoid='{\"dsr\":[516,604,1,0]}'> [#title_2.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[530,564,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[565,603,22,7]}'>title 2.1</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[614,856,2,2]}'> <span class=\"mw-headline\" id=\"title_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[617,670,39,7]}'>title 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[670,853,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[699,744,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[801,846,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[858,1106,3,3]}'> <span class=\"mw-headline\" id=\"title_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[862,919,41,7]}'>title 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[919,1102,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[948,993,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1050,1095,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[1108,1362,4,4]}'> <span class=\"mw-headline\" id=\"title_1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1113,1174,43,7]}'>title 1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1174,1357,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1203,1248,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1305,1350,37,7]}'>]</span></span> </h4>\n\n<h3 data-parsoid='{\"dsr\":[1364,1612,3,3]}'> <span class=\"mw-headline\" id=\"title_1.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1368,1425,41,7]}'>title 1.2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1425,1608,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1454,1499,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1556,1601,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[1614,1856,2,2]}'> <span class=\"mw-headline\" id=\"title_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1617,1670,39,7]}'>title 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1670,1853,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1699,1744,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1801,1846,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[1858,2106,3,3]}'> <span class=\"mw-headline\" id=\"title_2.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1862,1919,41,7]}'>title 2.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1919,2102,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1948,1993,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=6 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2050,2095,37,7]}'>]</span></span> </h3>\n");
add("html2html", "TOC with wgMaxTocLevel=3 (bug 6204)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,514,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,151,0,0]}'><li data-parsoid='{\"dsr\":[69,151,1,0]}'> [#title_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,150,22,7]}'>title 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[153,415,0,0]}'><li data-parsoid='{\"dsr\":[153,332,1,0]}'><ul data-parsoid='{\"dsr\":[154,332,0,0]}'><li data-parsoid='{\"dsr\":[154,242,1,0]}'> [#title_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,202,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,241,22,7]}'>title 1.1</span>]</li>\n<li data-parsoid='{\"dsr\":[243,332,2,0]}'> [#title_1.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[258,292,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[293,331,22,7]}'>title 1.2</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[333,415,1,0]}'> [#title_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[345,377,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[378,414,22,7]}'>title 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[417,506,0,0]}'><li data-parsoid='{\"dsr\":[417,506,1,0]}'><ul data-parsoid='{\"dsr\":[418,506,0,0]}'><li data-parsoid='{\"dsr\":[418,506,1,0]}'> [#title_2.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[432,466,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[467,505,22,7]}'>title 2.1</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[516,758,2,2]}'> <span class=\"mw-headline\" id=\"title_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[519,572,39,7]}'>title 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[572,755,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[601,646,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[703,748,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[760,1008,3,3]}'> <span class=\"mw-headline\" id=\"title_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[764,821,41,7]}'>title 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[821,1004,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[850,895,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[952,997,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[1010,1264,4,4]}'> <span class=\"mw-headline\" id=\"title_1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1015,1076,43,7]}'>title 1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1076,1259,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1105,1150,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1207,1252,37,7]}'>]</span></span> </h4>\n\n<h3 data-parsoid='{\"dsr\":[1266,1514,3,3]}'> <span class=\"mw-headline\" id=\"title_1.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1270,1327,41,7]}'>title 1.2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1327,1510,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1356,1401,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1458,1503,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[1516,1758,2,2]}'> <span class=\"mw-headline\" id=\"title_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1519,1572,39,7]}'>title 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1572,1755,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1601,1646,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1703,1748,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[1760,2008,3,3]}'> <span class=\"mw-headline\" id=\"title_2.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1764,1821,41,7]}'>title 2.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1821,2004,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1850,1895,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=6 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1952,1997,37,7]}'>]</span></span> </h3>\n");
add("html2html", "TOC with wgMaxTocLevel=3 and two level four headings (bug 6204)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,345,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,155,0,0]}'><li data-parsoid='{\"dsr\":[69,155,1,0]}'> [#Section_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[83,115,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[116,154,22,7]}'>Section 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[157,337,0,0]}'><li data-parsoid='{\"dsr\":[157,250,1,0]}'><ul data-parsoid='{\"dsr\":[158,250,0,0]}'><li data-parsoid='{\"dsr\":[158,250,1,0]}'> [#Section_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,208,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[209,249,22,7]}'>Section 1.1</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[251,337,1,0]}'> [#Section_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[265,297,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[298,336,22,7]}'>Section 2</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[347,593,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[350,407,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[407,590,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[436,481,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[538,583,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[595,847,3,3]}'> <span class=\"mw-headline\" id=\"Section_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[599,660,43,7]}'>Section 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[660,843,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[689,734,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[791,836,37,7]}'>]</span></span> </h3>\n\n<h4 data-parsoid='{\"dsr\":[849,1107,4,4]}'> <span class=\"mw-headline\" id=\"Section_1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[854,919,45,7]}'>Section 1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[919,1102,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[948,993,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1050,1095,37,7]}'>]</span></span> </h4>\n\n<h4 data-parsoid='{\"dsr\":[1109,1371,4,4]}'> <span class=\"mw-headline\" id=\"Section_1.1.1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1114,1183,47,7]}'>Section 1.1.1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1183,1366,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1212,1257,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1314,1359,37,7]}'>]</span></span> </h4>\n\n<h2 data-parsoid='{\"dsr\":[1373,1619,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1376,1433,41,7]}'>Section 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1433,1616,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1462,1507,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1564,1609,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Resolving duplicate section names", "<h2 data-parsoid='{\"dsr\":[0,242,2,2]}'> <span class=\"mw-headline\" id=\"Foo_bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,56,39,7]}'>Foo bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[56,239,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[85,130,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[187,232,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[244,488,2,2]}'> <span class=\"mw-headline\" id=\"Foo_bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[247,302,41,7]}'>Foo bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[302,485,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[331,376,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[433,478,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Resolving duplicate section names with differing case (bug 10721)", "<h2 data-parsoid='{\"dsr\":[0,242,2,2]}'> <span class=\"mw-headline\" id=\"Foo_bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,56,39,7]}'>Foo bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[56,239,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[85,130,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[187,232,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[244,488,2,2]}'> <span class=\"mw-headline\" id=\"Foo_Bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[247,302,41,7]}'>Foo Bar</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[302,485,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[331,376,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[433,478,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Template with sections, __NOTOC__", "<h2 data-parsoid='{\"dsr\":[0,246,2,2]}'> <span class=\"mw-headline\" id=\"Section_0\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,60,41,7]}'>Section 0</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[60,243,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[89,134,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[191,236,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[248,504,3,3]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[252,309,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[309,500,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[338,383,37,7]}'>[</span>[/index.php?title=Template:Sections&amp;action=edit&amp;section=T-1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[448,493,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[506,760,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[509,566,41,7]}'>Section 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[566,757,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[595,640,37,7]}'>[</span>[/index.php?title=Template:Sections&amp;action=edit&amp;section=T-2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[705,750,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[762,1008,2,2]}'> <span class=\"mw-headline\" id=\"Section_4\" data-parsoid='{\"stx\":\"html\",\"dsr\":[765,822,41,7]}'>Section 4</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[822,1005,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[851,896,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[953,998,37,7]}'>]</span></span> </h2>\n");
add("html2html", "__NOEDITSECTION__ keyword", "<h2 data-parsoid='{\"dsr\":[0,63,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,60,41,7]}'>Section 1</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[65,128,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,125,41,7]}'>Section 2</span> </h2>\n");
add("html2html", "Link inside a section heading", "<h2 data-parsoid='{\"dsr\":[0,297,2,2]}'> <span class=\"mw-headline\" id=\"Section_with_a_link_in_it\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,111,57,7]}'>Section with a <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[75,98,17,2]}'>link</a> in it</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[111,294,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[140,185,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[242,287,37,7]}'>]</span></span> </h2>\n");
add("html2html", "TOC regression (bug 12077)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,333,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,151,0,0]}'><li data-parsoid='{\"dsr\":[69,151,1,0]}'> [#title_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,150,22,7]}'>title 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[153,325,0,0]}'><li data-parsoid='{\"dsr\":[153,242,1,0]}'><ul data-parsoid='{\"dsr\":[154,242,0,0]}'><li data-parsoid='{\"dsr\":[154,242,1,0]}'> [#title_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,202,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,241,22,7]}'>title 1.1</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[243,325,1,0]}'> [#title_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[255,287,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[288,324,22,7]}'>title 2</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[335,577,2,2]}'> <span class=\"mw-headline\" id=\"title_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[338,391,39,7]}'>title 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[391,574,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[420,465,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[522,567,37,7]}'>]</span></span> </h2>\n\n<h3 data-parsoid='{\"dsr\":[579,827,3,3]}'> <span class=\"mw-headline\" id=\"title_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[583,640,41,7]}'>title 1.1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[640,823,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[669,714,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[771,816,37,7]}'>]</span></span> </h3>\n\n<h2 data-parsoid='{\"dsr\":[829,1071,2,2]}'> <span class=\"mw-headline\" id=\"title_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[832,885,39,7]}'>title 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[885,1068,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[914,959,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1016,1061,37,7]}'>]</span></span> </h2>\n");
add("html2html", "BUG 1219 URL next to image (good)", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,18,0,0]}'>http://example.com</a> <img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[19,60,null,null]}'/></p>\n");
add("html2html", "Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)", "<h1 data-parsoid='{\"dsr\":[0,230,1,1]}'> <span class=\"mw-headline\" id=\".3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2,45,35,7]}'>=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[45,228,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[74,119,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,221,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[231,273,0,0]}'>The line above must have a trailing space!</p>\n\n<h1 data-parsoid='{\"dsr\":[275,507,1,1]}'> <span class=\"mw-headline\" id=\".3D_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[277,322,37,7]}'>=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[322,505,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[351,396,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[453,498,37,7]}'>]</span></span> </h1>\n<p data-parsoid='{\"dsr\":[508,538,0,0]}'>But just in case it doesn't...</p>\n");
add("html2html", "Header with special characters (bug 25462)", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>The tooltips shall not show entities to the user (ie. be double escaped)</p>\n\n<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[74,615,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[100,141,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[120,134,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[143,607,0,0]}'><li data-parsoid='{\"dsr\":[143,235,1,0]}'> [#text_.3E_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[161,193,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[194,234,22,7]}'>text > text</span>]</li>\n<li data-parsoid='{\"dsr\":[236,328,1,0]}'> [#text_.3C_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[254,286,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[287,327,22,7]}'>text &lt; text</span>]</li>\n<li data-parsoid='{\"dsr\":[329,421,1,0]}'> [#text_.26_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[347,379,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[380,420,22,7]}'>text &amp; text</span>]</li>\n<li data-parsoid='{\"dsr\":[422,514,1,0]}'> [#text_.27_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[440,472,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[473,513,22,7]}'>text ' text</span>]</li>\n<li data-parsoid='{\"dsr\":[515,607,1,0]}'> [#text_.22_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[533,565,24,7]}'>5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[566,606,22,7]}'>text \" text</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[617,869,2,2]}'> <span class=\"mw-headline\" id=\"text_.3E_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[620,683,45,7]}'>text > text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[683,866,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[712,757,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[814,859,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[870,879,0,0]}'>section 1</p>\n\n<h2 data-parsoid='{\"dsr\":[881,1133,2,2]}'> <span class=\"mw-headline\" id=\"text_.3C_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[884,947,45,7]}'>text &lt; text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[947,1130,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[976,1021,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1078,1123,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1134,1143,0,0]}'>section 2</p>\n\n<h2 data-parsoid='{\"dsr\":[1145,1397,2,2]}'> <span class=\"mw-headline\" id=\"text_.26_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1148,1211,45,7]}'>text &amp; text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1211,1394,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1240,1285,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1342,1387,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1398,1407,0,0]}'>section 3</p>\n\n<h2 data-parsoid='{\"dsr\":[1409,1661,2,2]}'> <span class=\"mw-headline\" id=\"text_.27_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1412,1475,45,7]}'>text ' text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1475,1658,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1504,1549,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1606,1651,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1662,1671,0,0]}'>section 4</p>\n\n<h2 data-parsoid='{\"dsr\":[1673,1925,2,2]}'> <span class=\"mw-headline\" id=\"text_.22_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1676,1739,45,7]}'>text \" text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1739,1922,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1768,1813,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1870,1915,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1926,1935,0,0]}'>section 5</p>\n");
add("html2html", "Header with space, plus and underscore as entity", "<p data-parsoid='{\"dsr\":[0,34,0,0]}'>Id should not contain + for spaces</p>\n\n<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[36,808,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,103,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[82,96,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[105,800,0,0]}'><li data-parsoid='{\"dsr\":[105,209,1,0]}'> [#Space_between_Text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[128,160,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[161,208,22,7]}'>Space between Text</span>]</li>\n<li data-parsoid='{\"dsr\":[210,328,1,0]}'> [#Space-Entity_between_Text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[240,272,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[273,327,22,7]}'>Space-Entity between Text</span>]</li>\n<li data-parsoid='{\"dsr\":[329,435,1,0]}'> [#Plus.2Bbetween.2BText <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[355,387,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[388,434,22,7]}'>Plus+between+Text</span>]</li>\n<li data-parsoid='{\"dsr\":[436,556,1,0]}'> [#Plus-Entity.2Bbetween.2BText <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[469,501,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[502,555,22,7]}'>Plus-Entity+between+Text</span>]</li>\n<li data-parsoid='{\"dsr\":[557,671,1,0]}'> [#Underscore_between_Text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[585,617,24,7]}'>5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[618,670,22,7]}'>Underscore_between_Text</span>]</li>\n<li data-parsoid='{\"dsr\":[672,800,1,0]}'> [#Underscore-Entity_between_Text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[707,739,24,7]}'>6</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[740,799,22,7]}'>Underscore-Entity_between_Text</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[810,1074,2,2]}'> <span class=\"mw-headline\" id=\"Space_between_Text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[813,888,50,7]}'>Space between Text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[888,1071,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[917,962,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1019,1064,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1075,1084,0,0]}'>section 1</p>\n\n<h2 data-parsoid='{\"dsr\":[1086,1364,2,2]}'> <span class=\"mw-headline\" id=\"Space-Entity_between_Text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1089,1178,57,7]}'>Space-Entity between Text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1178,1361,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1207,1252,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1309,1354,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1365,1374,0,0]}'>section 2</p>\n\n<h2 data-parsoid='{\"dsr\":[1376,1642,2,2]}'> <span class=\"mw-headline\" id=\"Plus.2Bbetween.2BText\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1379,1456,53,7]}'>Plus+between+Text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1456,1639,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1485,1530,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1587,1632,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1643,1652,0,0]}'>section 3</p>\n\n<h2 data-parsoid='{\"dsr\":[1654,1934,2,2]}'> <span class=\"mw-headline\" id=\"Plus-Entity.2Bbetween.2BText\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1657,1748,60,7]}'>Plus-Entity+between+Text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1748,1931,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1777,1822,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1879,1924,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[1935,1944,0,0]}'>section 4</p>\n\n<h2 data-parsoid='{\"dsr\":[1946,2220,2,2]}'> <span class=\"mw-headline\" id=\"Underscore_between_Text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1949,2034,55,7]}'>Underscore_between_Text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2034,2217,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2063,2108,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2165,2210,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[2221,2230,0,0]}'>section 5</p>\n\n<h2 data-parsoid='{\"dsr\":[2232,2520,2,2]}'> <span class=\"mw-headline\" id=\"Underscore-Entity_between_Text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2235,2334,62,7]}'>Underscore-Entity_between_Text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2334,2517,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2363,2408,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=6 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2465,2510,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[2521,2530,0,0]}'>section 6</p>\n\n<p data-parsoid='{\"dsr\":[2532,2731,0,0]}'>[#Space_between_Text #Space between Text]\n[#Space-Entity_between_Text #Space-Entity between Text]\n[#Plus.2Bbetween.2BText #Plus+between+Text]\n[#Plus-Entity.2Bbetween.2BText #Plus-Entity+between+Text]</p>\n<ol data-parsoid='{\"dsr\":[2732,2788,0,0]}'><li data-parsoid='{\"dsr\":[2732,2756,1,0]}'>Underscore_between_Text</li>\n<li data-parsoid='{\"dsr\":[2757,2788,1,0]}'>Underscore-Entity_between_Text</li></ol>\n");
add("html2html", "Headers with excess '=' characters\n(Are similar tests necessary beyond the 1st level?)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,444,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,436,0,0]}'><li data-parsoid='{\"dsr\":[69,147,1,0]}'> [#foo.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[80,112,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[113,146,22,7]}'>foo=</span>]</li>\n<li data-parsoid='{\"dsr\":[148,226,1,0]}'> [#.3Dfoo <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[159,191,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[192,225,22,7]}'>=foo</span>]</li>\n<li data-parsoid='{\"dsr\":[227,331,1,0]}'> [#italic_heading.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[249,281,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[282,330,22,7]}'><i data-parsoid='{\"dsr\":[304,314,2,2]}'>italic</i> heading=</span>]</li>\n<li data-parsoid='{\"dsr\":[332,436,1,0]}'> [#.3Ditalic_heading <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[354,386,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[387,435,22,7]}'>=<i data-parsoid='{\"dsr\":[410,420,2,2]}'>italic</i> heading</span>]</li></ul>\n\n</div>\n\n<h1 data-parsoid='{\"dsr\":[446,682,1,1]}'> <span class=\"mw-headline\" id=\"foo.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[448,497,38,7]}'>foo=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[497,680,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[526,571,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[628,673,37,7]}'>]</span></span> </h1>\n\n<h1 data-parsoid='{\"dsr\":[684,920,1,1]}'> <span class=\"mw-headline\" id=\".3Dfoo\" data-parsoid='{\"stx\":\"html\",\"dsr\":[686,735,38,7]}'>=foo</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[735,918,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[764,809,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[866,911,37,7]}'>]</span></span> </h1>\n\n<h1 data-parsoid='{\"dsr\":[922,1184,1,1]}'> <span class=\"mw-headline\" id=\"italic_heading.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[924,999,49,7]}'><i data-parsoid='{\"dsr\":[973,983,2,2]}'>italic</i> heading=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[999,1182,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1028,1073,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1130,1175,37,7]}'>]</span></span> </h1>\n\n<h1 data-parsoid='{\"dsr\":[1186,1448,1,1]}'> <span class=\"mw-headline\" id=\".3Ditalic_heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1188,1263,49,7]}'>=<i data-parsoid='{\"dsr\":[1238,1248,2,2]}'>italic</i> heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1263,1446,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1292,1337,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1394,1439,37,7]}'>]</span></span> </h1>\n");
add("html2html", "HTML headers vs TOC (bug 23393)\n(__NOEDITSECTION__ for clearer output, doesn't matter here)", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,616,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,153,0,0]}'><li data-parsoid='{\"dsr\":[69,153,1,0]}'> [#Header_1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[82,114,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[115,152,22,7]}'>Header 1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[155,423,0,0]}'><li data-parsoid='{\"dsr\":[155,338,1,0]}'><ul data-parsoid='{\"dsr\":[156,338,0,0]}'><li data-parsoid='{\"dsr\":[156,246,1,0]}'> [#Header_1.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[171,205,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[206,245,22,7]}'>Header 1.1</span>]</li>\n<li data-parsoid='{\"dsr\":[247,338,2,0]}'> [#Header_1.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[263,297,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[298,337,22,7]}'>Header 1.2</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[339,423,1,0]}'> [#Header_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[352,384,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[385,422,22,7]}'>Header 2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[425,608,0,0]}'><li data-parsoid='{\"dsr\":[425,608,1,0]}'><ul data-parsoid='{\"dsr\":[426,608,0,0]}'><li data-parsoid='{\"dsr\":[426,516,1,0]}'> [#Header_2.1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[441,475,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[476,515,22,7]}'>Header 2.1</span>]</li>\n<li data-parsoid='{\"dsr\":[517,608,2,0]}'> [#Header_2.2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[533,567,24,7]}'>2.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[568,607,22,7]}'>Header 2.2</span>]</li></ul></li></ul>\n\n</div>\n\n<h1 data-parsoid='{\"dsr\":[618,677,1,1]}'> <span class=\"mw-headline\" id=\"Header_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[620,675,40,7]}'>Header 1</span> </h1>\n\n<h2 data-parsoid='{\"dsr\":[679,744,2,2]}'> <span class=\"mw-headline\" id=\"Header_1.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[682,741,42,7]}'>Header 1.1</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[746,811,2,2]}'> <span class=\"mw-headline\" id=\"Header_1.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[749,808,42,7]}'>Header 1.2</span> </h2>\n\n<h1 data-parsoid='{\"dsr\":[813,872,1,1]}'> <span class=\"mw-headline\" id=\"Header_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[815,870,40,7]}'>Header 2</span> </h1>\n\n<h2 data-parsoid='{\"dsr\":[874,939,2,2]}'> <span class=\"mw-headline\" id=\"Header_2.1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[877,936,42,7]}'>Header 2.1</span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[941,1006,2,2]}'> <span class=\"mw-headline\" id=\"Header_2.2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[944,1003,42,7]}'>Header 2.2</span> </h2>\n");
add("html2html", "BUG 1219 URL next to image (broken)", "<p data-parsoid='{\"dsr\":[0,59,0,0]}'><img src=\"http://example.comhttp://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,59,null,null]}'/></p>\n");
add("html2html", "Media link", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com/images/3/3a/Foobar.jpg\" data-parsoid='{\"targetOff\":43,\"contentOffsets\":[43,59],\"dsr\":[0,60,43,1]}'>Media:Foobar.jpg</a></p>\n");
add("html2html", "Media link with text", "<p data-parsoid='{\"dsr\":[0,66,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com/images/3/3a/Foobar.jpg\" data-parsoid='{\"targetOff\":43,\"contentOffsets\":[43,65],\"dsr\":[0,66,43,1]}'>A neat file to look at</a></p>\n");
add("html2html", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "<p data-parsoid='{\"dsr\":[0,148,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com/images/3/3a/Foobar.jpg\" data-parsoid='{\"targetOff\":43,\"contentOffsets\":[43,147],\"dsr\":[0,148,43,1]}'>Safe Link<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[52,147,8,9]}'>&lt;div style=\"display:none\">\" onmouseover=\"alert(document.cookie)\" onfoo=\"&lt;/div></span></a></p>\n");
add("html2html", "Media link to nonexistent file (bug 1702)", "<p data-parsoid='{\"dsr\":[0,74,0,0]}'>[/index.php?title=Special:Upload&amp;wpDestFile=No_such.jpg Media:No such.jpg]</p>\n");
add("html2html", "Character reference normalization in link text (bug 1938)", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>this&amp;that</a></p>\n");
add("html2html", "(bug 19451) Links should refer to the normalized form.", "<p data-parsoid='{\"dsr\":[0,73,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/אַ\" title=\"Wiki/אַ\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/אַ\"},\"sa\":{\"href\":\"wiki/אַ\"},\"dsr\":[0,13,10,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/אַ\" title=\"Wiki/אַ\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/אַ\"},\"sa\":{\"href\":\"wiki/אַ\"},\"dsr\":[14,28,10,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/אַ\" title=\"Wiki/אַ\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/אַ\"},\"sa\":{\"href\":\"wiki/אַ\"},\"dsr\":[29,43,10,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/אַ\" title=\"Wiki/אַ\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/אַ\"},\"sa\":{\"href\":\"wiki/אַ\"},\"dsr\":[44,58,10,2]}'>אַ</a>\n<a rel=\"mw:WikiLink\" href=\"./Wiki/אַ\" title=\"Wiki/אַ\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/אַ\"},\"sa\":{\"href\":\"wiki/אַ\"},\"dsr\":[59,73,10,2]}'>אַ</a></p>\n");
add("html2html", "Bug 2095: link with pipe and three closing brackets, version 2", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Main_Page\" title=\"Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Main_Page\"},\"sa\":{\"href\":\"Main Page\"},\"dsr\":[0,52,12,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[12,50,8,9]}'>[http://example.com/]</span></a></p>\n");
add("html2html", "Bug 2304: HTML attribute safety (dangerous style template; 2309)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "Bug 2304: HTML attribute safety (unsafe parameter; 2309)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,49,34,6]}'>Magic div</div>\n");
add("html2html", "Bug 3244: HTML attribute safety (extension; unsafe)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "MSIE CSS safety test: spurious slash", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,44,34,6]}'>evil</div>\n");
add("html2html", "MSIE CSS safety test: hex code", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,44,34,6]}'>evil</div>\n");
add("html2html", "CSS safety test (all browsers): vertical tab (bug 55332 / CVE-2013-4567)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>A</p>\n");
add("html2html", "MSIE 6 CSS safety test: Fullwidth (bug 55332)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>A</p>\n<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[2,43,34,6]}'>B</div>\n");
add("html2html", "MSIE 6 CSS safety test: IPA extensions (bug 55332)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,41,34,6]}'>A</div>\n<p data-parsoid='{\"dsr\":[42,43,0,0]}'>B</p>\n");
add("html2html", "MSIE 6 CSS safety test: sup/sub script (bug 55332)", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,41,34,6]}'>A</div>\n<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[42,83,34,6]}'>B</div>\n<p data-parsoid='{\"dsr\":[84,85,0,0]}'>C</p>\n");
add("html2html", "Opera -o-link CSS", "<div title=\"data:text/html,&lt;img src=1 onerror=alert(1)>\" style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,93,86,6]}'>X</div>\n");
add("html2html", "MSIE 6 CSS safety test: Repetition markers (bug 55332)", "<p data-parsoid='{\"dsr\":[0,1,0,0]}'>A</p>\n\n<p data-parsoid='{\"dsr\":[3,4,0,0]}'>B</p>\n\n<p data-parsoid='{\"dsr\":[6,7,0,0]}'>C</p>\n\n<p data-parsoid='{\"dsr\":[9,10,0,0]}'>D</p>\n\n<p data-parsoid='{\"dsr\":[12,13,0,0]}'>E</p>\n\n<p data-parsoid='{\"dsr\":[15,16,0,0]}'>F</p>\n\n<p data-parsoid='{\"dsr\":[18,19,0,0]}'>G</p>\n");
add("html2html", "Table attribute safety", "<table data-parsoid='{\"dsr\":[0,46,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[4,44,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[4,43,0,0]}'><th style=\" \" data-parsoid='{\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"autoInsertedEnd\":true,\"dsr\":[4,43,32,0]}'> status</th></tr>\n</tbody></table>\n");
add("html2html", "CSS line continuation 1", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "CSS line continuation 2", "<div style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* insecure input */\"},\"dsr\":[0,40,34,6]}'></div>\n");
add("html2html", "Parser hook: nested tags", "<pre data-parsoid='{\"dsr\":[0,28,1,0]}'>'&lt;tag>'\narray (\n)\n&lt;/tag></pre>\n<p data-parsoid='{\"dsr\":[29,35,0,0]}'>&lt;/tag></p>\n");
add("html2html", "Parser hook: basic arguments", "<pre data-parsoid='{\"dsr\":[0,120,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,120,8,9]}'>''\n array (\n   'width' => '200',\n   'height' => '100',\n   'depth' => '50',\n   'square' => 'square',\n )</span></pre>\n");
add("html2html", "Parser hook: argument containing a forward slash (bug 5344)", "<pre data-parsoid='{\"dsr\":[0,61,1,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,61,8,9]}'>''\n array (\n   'filename' => '/tmp/bla',\n )</span></pre>\n");
add("html2html", "Parser hook: empty input using terminated empty elements (bug 2374)", "<pre data-parsoid='{\"dsr\":[0,36,1,0]}'>NULL\narray (\n  'foo' => 'bar',\n)</pre>\n<p data-parsoid='{\"dsr\":[37,41,0,0]}'>text</p>\n");
add("html2html", "Parser hook: static parser hook inside a comment", "\n");
add("html2html", "Sanitizer: Escaping of spaces, multibyte characters, colons & other stuff in id=\"\"", "<p data-parsoid='{\"dsr\":[0,53,0,0]}'><span id=\".C3.A6:_v\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,32,21,7]}'>byte</span>[#.C3.A6:_v backlink]</p>\n");
add("html2html", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"itemscope\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,253,27,6]}'>\n\t<p data-parsoid='{\"dsr\":[29,150,0,0]}'>&lt;meta itemprop=\"hello\" content=\"world\" />\n\t&lt;meta http-equiv=\"refresh\" content=\"5\">\n\t&lt;meta itemprop=\"hello\" content=\"5\" /></p>\n\n\t<p data-parsoid='{\"dsr\":[153,246,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.org\" data-parsoid='{\"targetOff\":172,\"contentOffsets\":[172,172],\"dsr\":[153,173,19,1]}'></a>\n\t&lt;link rel=\"stylesheet\" href=\"http://example.org\">\n\t<a rel=\"mw:ExtLink\" href=\"http://example.org\" data-parsoid='{\"targetOff\":245,\"contentOffsets\":[245,245],\"dsr\":[226,246,19,1]}'></a></p>\n</div>\n");
add("html2html", "HTML ordered list item with parameters oddity", "<ol data-parsoid='{\"dsr\":[0,5,0,0]}'><li data-parsoid='{\"dsr\":[0,5,1,0]}'> One</li></ol>\n");
add("html2html", "Fuzz testing: Parser14", "<h2 data-parsoid='{\"dsr\":[0,254,2,2]}'> <span class=\"mw-headline\" id=\"onmouseover.3D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,68,46,7]}'>onmouseover=</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,251,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[97,142,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[199,244,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[255,262,0,0]}'>http://</p>\n<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[263,435,26,6]}'>\n<div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[290,331,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[310,324,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[333,427,0,0]}'><li data-parsoid='{\"dsr\":[333,427,1,0]}'> [#onmouseover.3D <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[352,384,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[385,426,22,7]}'>onmouseover=</span>]</li></ul>\n\n</div>");
add("html2html", "Fuzz testing: Parser14-table", "<h2 data-parsoid='{\"dsr\":[0,230,2,2]}'> <span class=\"mw-headline\" id=\"a\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,44,33,7]}'>a</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[44,227,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,118,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[175,220,37,7]}'>]</span></span> </h2>\n<table style=\"__TOC__\" data-parsoid='{\"dsr\":[231,256,18,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[251,254,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[251,252,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[251,252,1,0]}'></td></tr>\n\n</tbody></table>\n");
add("html2html", "Fuzz testing: Parser24", "\n<p data-parsoid='{\"dsr\":[1,64,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1,21,8,9]}'>{{{</span>|\n<u class=\"|\" data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[23,64,13,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[36,56,8,9]}'>}}}</span>} >\n<br data-parsoid='{\"stx\":\"html\",\"noClose\":true,\"dsr\":[60,64,4,null]}'/></u></p>\n\n<p data-parsoid='{\"dsr\":[66,108,0,0]}'><u class=\"|\" data-parsoid='{\"stx\":\"html\",\"autoInsertedStart\":true,\"dsr\":[66,108,0,4]}'>MOVE YOUR MOUSE CURSOR OVER THIS TEXT\n</u></p>\n<table data-parsoid='{\"dsr\":[109,117,2,2]}'>\n<tbody data-parsoid='{\"dsr\":[112,115,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[112,113,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[112,113,1,0]}'></td></tr>\n\n</tbody></table>\n<p data-parsoid='{\"dsr\":[118,135,0,0]}'><u class=\"|\" data-parsoid='{\"stx\":\"html\",\"dsr\":[118,135,13,4]}'></u></p>");
add("html2html", "Fuzz testing: URL adjacent extension (no space, dirty; nowiki)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.comjunk\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,22,0,0]}'>http://example.comjunk</a></p>\n");
add("html2html", "Fuzz testing: encoded newline in generated HTML replacements (bug 6577)", " \n");
add("html2html", "Special page transclusion", "<table class=\"mw-prefixindex-list-table\" data-parsoid='{\"dsr\":[0,63,36,2]}'>\n<tbody data-parsoid='{\"dsr\":[37,61,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[37,60,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[37,60,1,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Xyzzyx\" title=\"Wiki/Xyzzyx\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Xyzzyx\"},\"sa\":{\"href\":\"wiki/Xyzzyx\"},\"dsr\":[38,60,14,2]}'>Xyzzyx</a></td></tr>\n</tbody></table>\n");
add("html2html", "Special page transclusion twice (bug 5021)", "<table class=\"mw-prefixindex-list-table\" data-parsoid='{\"dsr\":[0,63,36,2]}'>\n<tbody data-parsoid='{\"dsr\":[37,61,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[37,60,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[37,60,1,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Xyzzyx\" title=\"Wiki/Xyzzyx\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Xyzzyx\"},\"sa\":{\"href\":\"wiki/Xyzzyx\"},\"dsr\":[38,60,14,2]}'>Xyzzyx</a></td></tr>\n</tbody></table>\n<table class=\"mw-prefixindex-list-table\" data-parsoid='{\"dsr\":[64,127,36,2]}'>\n<tbody data-parsoid='{\"dsr\":[101,125,0,0]}'><tr data-parsoid='{\"autoInsertedEnd\":true,\"autoInsertedStart\":true,\"dsr\":[101,124,0,0]}'><td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[101,124,1,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Xyzzyx\" title=\"Wiki/Xyzzyx\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Xyzzyx\"},\"sa\":{\"href\":\"wiki/Xyzzyx\"},\"dsr\":[102,124,14,2]}'>Xyzzyx</a></td></tr>\n</tbody></table>\n");
add("html2html", "Transclusion of nonexistent MediaWiki message", "<p data-parsoid='{\"dsr\":[0,84,0,0]}'>[/index.php?title=MediaWiki:Mainpagexxx&amp;action=edit&amp;redlink=1 MediaWiki:Mainpagexxx]</p>\n");
add("html2html", "Section extraction test (section 0)", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>start</p>");
add("html2html", "Section extraction test (section 1)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,43,8,9]}'>==a==\n===aa===\n====aaa====</span></p>");
add("html2html", "Section extraction test (section 2)", "<p data-parsoid='{\"dsr\":[0,37,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,37,8,9]}'>===aa===\n====aaa====</span></p>");
add("html2html", "Section extraction test (section 3)", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,28,8,9]}'>====aaa====</span></p>");
add("html2html", "Section extraction test (section 4)", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,61,8,9]}'>==b==\n===ba===\n===bb===\n====bba====\n===bc===</span></p>");
add("html2html", "Section extraction test (section 5)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>===ba===</span></p>");
add("html2html", "Section extraction test (section 6)", "<p data-parsoid='{\"dsr\":[0,37,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,37,8,9]}'>===bb===\n====bba====</span></p>");
add("html2html", "Section extraction test (section 7)", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,28,8,9]}'>====bba====</span></p>");
add("html2html", "Section extraction test (section 8)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>===bc===</span></p>");
add("html2html", "Section extraction test (section 9)", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,31,8,9]}'>==c==\n===ca===</span></p>");
add("html2html", "Section extraction test (section 10)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>===ca===</span></p>");
add("html2html", "Section extraction test with bogus heading (section 1)", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,52,8,9]}'>==a==\n==bogus== not a legal section</span></p>");
add("html2html", "Section extraction test with bogus heading (section 2)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==b==</span></p>");
add("html2html", "Section extraction test with comment after heading (section 1)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==a==</span></p>");
add("html2html", "Section extraction test with comment after heading (section 2)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==b==</span></p> <!-- -->");
add("html2html", "Section extraction test with bogus <nowiki> heading (section 1)", "<p data-parsoid='{\"dsr\":[0,69,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,32,8,9]}'>==a==\n==bogus==</span> <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[33,69,8,9]}'>not a legal section</span></p>");
add("html2html", "Section extraction test with bogus <nowiki> heading (section 2)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>==b==</span></p>");
add("html2html", "Section extraction prefixed by comment (section 1)", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,25,8,9]}'>==sec2==</span></p>");
add("html2html", "Section extraction, mixed wiki and html (section 1)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,26,8,9]}'>==1==\none</span></p>");
add("html2html", "Section extraction, mixed wiki and html (section 2)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,26,8,9]}'>==2==\ntwo</span></p>");
add("html2html", "Section extraction, heading surrounded by <noinclude>", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,27,8,9]}'>==marked==</span></p>");
add("html2html", "Sectiion with all-equals", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'>=== <!--\n--> <!-- -->\nBut just in case it doesn't...</p>");
add("html2html", "Section replacement test (section 0)", "<p data-parsoid='{\"dsr\":[0,3,0,0]}'>xxx</p>\n\n<p data-parsoid='{\"dsr\":[5,108,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[5,108,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 1)", "<p data-parsoid='{\"dsr\":[0,9,0,0]}'>start\nxxx</p>\n\n<p data-parsoid='{\"dsr\":[11,87,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[11,87,8,9]}'>==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 2)", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,93,8,9]}'>==a==\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 3)", "<p data-parsoid='{\"dsr\":[0,102,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,102,8,9]}'>==a==\n===aa===\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 4)", "<p data-parsoid='{\"dsr\":[0,69,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,69,8,9]}'>==a==\n===aa===\n====aaa====\nxxx\n\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 5)", "<p data-parsoid='{\"dsr\":[0,105,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,105,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\nxxx\n\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 6)", "<p data-parsoid='{\"dsr\":[0,93,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,93,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\nxxx\n\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 7)", "<p data-parsoid='{\"dsr\":[0,102,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,102,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\nxxx\n\n===bc===\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 8)", "<p data-parsoid='{\"dsr\":[0,105,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,105,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\nxxx\n\n==c==\n===ca===</span></p>");
add("html2html", "Section replacement test (section 9)", "<p data-parsoid='{\"dsr\":[0,98,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,98,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\nxxx</span></p>");
add("html2html", "Section replacement test (section 10)", "<p data-parsoid='{\"dsr\":[0,104,0,0]}'>start\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[6,104,8,9]}'>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\nxxx</span></p>");
add("html2html", "Section replacement test with initial whitespace (bug 13728)", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>Preformatted initial line\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[44,70,8,9]}'>==a==\nxxx</span></p>");
add("html2html", "Section extraction, heading followed by pre with 20 spaces (bug 6398)", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,24,8,9]}'>==a==\n </span>                   a</p>");
add("html2html", "Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)", "<p data-parsoid='{\"dsr\":[0,43,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,24,8,9]}'>==a==\n </span>                  a</p>");
add("html2html", "Section extraction, <pre> around bogus header (bug 10309)", "<p data-parsoid='{\"dsr\":[0,40,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,40,8,9]}'>== Section Two ==\nstuff</span></p>");
add("html2html", "Section replacement, <pre> around bogus header (bug 10309)", "<h2 data-parsoid='{\"dsr\":[0,17,2,2]}'> Section One </h2>\n<pre data-parsoid='{\"dsr\":[18,26,1,0]}'>=======</pre>\n\n<p data-parsoid='{\"dsr\":[28,31,0,0]}'>xxx</p>");
add("html2html", "Special:Search page linking.", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:Search\" title=\"Wiki/Special:Search\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:Search\"},\"sa\":{\"href\":\"wiki/Special:Search\"},\"dsr\":[0,38,22,2]}'>Special:Search</a></p>\n");
add("html2html", "Say the magic word", "<ul data-parsoid='{\"dsr\":[0,312,0,0]}'><li data-parsoid='{\"dsr\":[0,13,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[14,27,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[28,41,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[42,55,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[56,69,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[70,83,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[84,97,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[98,111,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[112,125,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[126,139,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[140,158,1,0]}'> Talk:Parser test</li>\n<li data-parsoid='{\"dsr\":[159,177,1,0]}'> Talk:Parser_test</li>\n<li data-parsoid='{\"dsr\":[178,191,1,0]}'> Parser test</li>\n<li data-parsoid='{\"dsr\":[192,205,1,0]}'> Parser_test</li>\n<li data-parsoid='{\"dsr\":[206,208,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[209,211,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[212,215,1,0]}'> 0</li>\n<li data-parsoid='{\"dsr\":[216,222,1,0]}'> Talk</li>\n<li data-parsoid='{\"dsr\":[223,229,1,0]}'> Talk</li>\n<li data-parsoid='{\"dsr\":[230,232,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[233,235,1,0]}'> </li>\n<li data-parsoid='{\"dsr\":[236,312,1,0]}'> [/index.php?title=Template:Dynamic&amp;action=edit&amp;redlink=1 Template:Dynamic]</li></ul>\n");
add("html2html", "Gallery", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,139,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,92,42,6]}'>Image1.png</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[96,130,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[140,144,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[144,286,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,232,42,6]}'>Image2.gif</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[236,277,25,6]}'>\n<p data-parsoid='{\"dsr\":[262,266,0,0]}'>||||</p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[287,291,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[291,422,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[321,375,42,6]}'>Image3</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[379,413,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[423,427,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[427,574,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[457,511,42,6]}'>Image4</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[515,565,25,6]}'>\n<p data-parsoid='{\"dsr\":[541,554,0,0]}'>300px| centre</p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[575,579,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[579,731,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[609,667,42,6]}'>Image5.svg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[671,722,25,6]}'>\n<p data-parsoid='{\"dsr\":[697,711,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://///////\" data-parsoid='{\"stx\":\"url\",\"dsr\":[697,711,0,0]}'>http://///////</a></p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[732,736,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[736,869,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[766,822,42,6]}'>* image6</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[826,860,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery (with options)", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'>\t* Foo <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[7,35,17,2]}'>Main Page</a></p>\n<p data-parsoid='{\"dsr\":[36,40,0,0]}'>\t\t* </p><div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[40,189,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[70,132,41,6]}'>Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[136,180,25,6]}'>\n<p data-parsoid='{\"dsr\":[162,169,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[190,194,0,0]}'>\t\t* </p><div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[194,333,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[224,286,41,6]}'>Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[290,324,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[334,338,0,0]}'>\t\t* </p><div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[338,612,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[368,515,41,6]}'><div style=\"margin:31px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[409,509,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg\" alt=\"70px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[440,503,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[519,603,25,6]}'>\n<p data-parsoid='{\"dsr\":[545,592,0,0]}'>some <b data-parsoid='{\"dsr\":[550,563,3,3]}'>caption</b> <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[564,592,17,2]}'>Main Page</a></p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[613,617,0,0]}'>\t\t* </p><div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[617,841,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[647,794,41,6]}'><div style=\"margin:31px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[688,788,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg\" alt=\"70px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[719,782,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[798,832,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[842,846,0,0]}'>\t\t* </p><div style=\"width: 105px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[846,1087,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[876,1023,41,6]}'><div style=\"margin:31px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[917,1017,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg\" alt=\"70px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[948,1011,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1027,1078,25,6]}'>\n<p data-parsoid='{\"dsr\":[1053,1067,0,0]}'>Blabla|blabla.</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery with link that has fragment", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,229,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,220,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[230,234,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[234,459,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[264,412,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[305,406,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[336,400,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[416,450,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[460,464,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[464,699,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[494,642,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[535,636,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[566,630,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[646,690,25,6]}'>\n<p data-parsoid='{\"dsr\":[672,679,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery with wikitext inside caption", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,295,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,286,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,275,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/20px-Foobar.jpg\" alt=\"20px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[212,275,null,null]}'/></p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[296,300,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[300,551,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[330,478,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[371,472,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[402,466,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[482,542,25,6]}'>\n<p data-parsoid='{\"dsr\":[508,531,0,0]}'>This is a test template</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "gallery (with showfilename option)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,200,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,97,42,6]}'>Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[101,191,25,6]}'>\n<p data-parsoid='{\"dsr\":[127,180,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/File:Nonexistent.jpg\" title=\"Wiki/File:Nonexistent.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/File:Nonexistent.jpg\"},\"sa\":{\"href\":\"wiki/File:Nonexistent.jpg\"},\"dsr\":[127,172,28,2]}'>Nonexistent.jpg</a>\ncaption</p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[201,205,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[205,393,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[235,298,42,6]}'>Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[302,384,25,6]}'>\n<p data-parsoid='{\"dsr\":[328,373,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/File:Nonexistent.jpg\" title=\"Wiki/File:Nonexistent.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/File:Nonexistent.jpg\"},\"sa\":{\"href\":\"wiki/File:Nonexistent.jpg\"},\"dsr\":[328,373,28,2]}'>Nonexistent.jpg</a></p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[394,398,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[398,709,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[428,576,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[469,570,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[500,564,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[580,700,25,6]}'>\n<p data-parsoid='{\"dsr\":[606,689,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/File:Foobar.jpg\" title=\"Wiki/File:Foobar.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/File:Foobar.jpg\"},\"sa\":{\"href\":\"wiki/File:Foobar.jpg\"},\"dsr\":[606,641,23,2]}'>Foobar.jpg</a>\nsome <b data-parsoid='{\"dsr\":[647,660,3,3]}'>caption</b> <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[661,689,17,2]}'>Main Page</a></p>\n\n\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[710,714,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[714,977,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[744,892,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[785,886,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[816,880,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[896,968,25,6]}'>\n<p data-parsoid='{\"dsr\":[922,957,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/File:Foobar.jpg\" title=\"Wiki/File:Foobar.jpg\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/File:Foobar.jpg\"},\"sa\":{\"href\":\"wiki/File:Foobar.jpg\"},\"dsr\":[922,957,23,2]}'>Foobar.jpg</a></p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery (with namespace-less filenames)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,144,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,97,42,6]}'>Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[101,135,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[145,149,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[149,289,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[179,242,42,6]}'>Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[246,280,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[290,294,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[294,519,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[324,472,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[365,466,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[396,460,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[476,510,25,6]}'>\t\t\t</div>\n\t\t</div>\n<p data-parsoid='{\"dsr\":[520,524,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[524,749,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[554,702,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[595,696,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[626,690,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[706,740,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "__FORCETOC__ override", "\n");
add("html2html", "ISBN code coverage", "<p data-parsoid='{\"dsr\":[0,62,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/9780123456\" title=\"Wiki/Special:BookSources/9780123456\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/9780123456\"},\"sa\":{\"href\":\"wiki/Special:BookSources/9780123456\"},\"dsr\":[0,58,38,2]}'>ISBN 978-0-1234-56</a> 789</p>\n");
add("html2html", "Double ISBN", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'>ISBN <a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/1234567890\" title=\"Wiki/Special:BookSources/1234567890\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/1234567890\"},\"sa\":{\"href\":\"wiki/Special:BookSources/1234567890\"},\"dsr\":[5,60,38,2]}'>ISBN 1234567890</a></p>\n");
add("html2html", "ISBN with an X", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/346204561X\" title=\"Wiki/Special:BookSources/346204561X\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/346204561X\"},\"sa\":{\"href\":\"wiki/Special:BookSources/346204561X\"},\"dsr\":[0,58,38,2]}'>ISBN 3-462-04561-X</a></p>\n");
add("html2html", "Bug 22905: <abbr> followed by ISBN followed by </a>", "<p data-parsoid='{\"dsr\":[0,110,0,0]}'><abbr data-parsoid='{\"stx\":\"html\",\"dsr\":[0,17,6,7]}'>(fr)</abbr> <a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/2753300917\" title=\"Wiki/Special:BookSources/2753300917\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/2753300917\"},\"sa\":{\"href\":\"wiki/Special:BookSources/2753300917\"},\"dsr\":[18,73,38,2]}'>ISBN 2753300917</a> <a rel=\"mw:ExtLink\" href=\"http://www.example.com\" data-parsoid='{\"targetOff\":98,\"contentOffsets\":[98,109],\"dsr\":[74,110,24,1]}'>example.com</a></p>\n");
add("html2html", "Double RFC with a wiki link", "<p data-parsoid='{\"dsr\":[0,62,0,0]}'>RFC [/index.php?title=RFC_1234&amp;action=edit&amp;redlink=1 <a href=\"//tools.ietf.org/html/rfc1234\" rel=\"mw:ExtLink\" data-parsoid='{\"stx\":\"magiclink\",\"dsr\":[53,61,0,0]}'>RFC 1234</a>]</p>\n");
add("html2html", "Centre-aligned image", "<div class=\"center\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,96,20,6]}'><div class=\"floatnone\" data-parsoid='{\"stx\":\"html\",\"dsr\":[20,90,23,6]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[43,84,null,null]}'/></div></div>\n");
add("html2html", "None-aligned image", "<div class=\"floatnone\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,70,23,6]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[23,64,null,null]}'/></div>\n");
add("html2html", "Width + Height sized image (using px) (height is ignored)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Width-sized image (using px, no following whitespace)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Width-sized image (using px, with following whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "Width-sized image (using px, with preceding whitespace - test regression from r39467)", "<p data-parsoid='{\"dsr\":[0,64,0,0]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\" alt=\"640px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,64,null,null]}'/></p>\n");
add("html2html", "HTML with raw HTML ($wgRawHtml==true)", "<p data-parsoid='{\"dsr\":[0,26,0,0]}'>&lt;script>alert(1);&lt;/script></p>\n");
add("html2html", "Parents of subpages, one level up", "<p data-parsoid='{\"dsr\":[0,62,0,0]}'>[/index.php?title=Subpage_test/L1/L2&amp;action=edit&amp;redlink=1 L2]</p>\n");
add("html2html", "Parents of subpages, one level up, not named", "<p data-parsoid='{\"dsr\":[0,78,0,0]}'>[/index.php?title=Subpage_test/L1/L2&amp;action=edit&amp;redlink=1 Subpage test/L1/L2]</p>\n");
add("html2html", "Parents of subpages, two levels up", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'>[/index.php?title=Subpage_test/L1&amp;action=edit&amp;redlink=1 L1]2</p>\n\n<p data-parsoid='{\"dsr\":[62,122,0,0]}'>[/index.php?title=Subpage_test/L1&amp;action=edit&amp;redlink=1 L1l]</p>\n");
add("html2html", "Parents of subpages, two levels up, with lots of extra trailing slashes.", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>[/index.php?title=Subpage_test/L1&amp;action=edit&amp;redlink=1 Subpage test/L1]</p>\n");
add("html2html", "Definition list code coverage", "<dl data-parsoid='{\"dsr\":[0,71,0,0]}'><dt data-parsoid='{\"dsr\":[0,23,1,0]}'> title  <span data-parsoid='{\"stx\":\"html\",\"dsr\":[9,23,6,7]}'> </span></dt>\n<dd data-parsoid='{\"dsr\":[24,29,1,0]}'> def</dd>\n<dt data-parsoid='{\"dsr\":[30,51,1,0]}'> title<span data-parsoid='{\"stx\":\"html\",\"dsr\":[37,51,6,7]}'> </span></dt>\n<dd data-parsoid='{\"dsr\":[52,57,1,0]}'> def</dd>\n<dt data-parsoid='{\"dsr\":[58,65,1,0]}'> title</dt>\n<dd data-parsoid='{\"dsr\":[66,71,1,0]}'> def</dd></dl>");
add("html2html", "RAW magic word", "<p data-parsoid='{\"dsr\":[0,72,0,0]}'>[/index.php?title=Template:QUERTY&amp;action=edit&amp;redlink=1 Template:QUERTY]</p>\n");
add("html2html", "Inclusion of !userCanEdit() content", "<h2 data-parsoid='{\"dsr\":[0,245,2,2]}'> <span class=\"mw-headline\" id=\"header\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,54,38,7]}'>header</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[54,242,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[83,128,37,7]}'>[</span>[/index.php?title=MediaWiki:Fake&amp;action=edit&amp;section=T-1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[190,235,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Out-of-order TOC heading levels", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,518,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,139,0,0]}'><li data-parsoid='{\"dsr\":[69,139,1,0]}'> [#2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,107,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[108,138,22,7]}'>2</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[141,359,0,0]}'><li data-parsoid='{\"dsr\":[141,288,1,0]}'><ul data-parsoid='{\"dsr\":[142,288,0,0]}'><li data-parsoid='{\"dsr\":[142,214,1,0]}'> [#6 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[148,182,24,7]}'>1.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[183,213,22,7]}'>6</span>]</li>\n<li data-parsoid='{\"dsr\":[215,288,2,0]}'> [#3 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[222,256,24,7]}'>1.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[257,287,22,7]}'>3</span>]</li></ul></li>\n<li data-parsoid='{\"dsr\":[289,359,1,0]}'> [#1 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[295,327,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[328,358,22,7]}'>1</span>]</li></ul>\n\n<ul data-parsoid='{\"dsr\":[361,510,0,0]}'><li data-parsoid='{\"dsr\":[361,510,1,0]}'><ul data-parsoid='{\"dsr\":[362,510,0,0]}'><li data-parsoid='{\"dsr\":[362,434,1,0]}'> [#5 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[368,402,24,7]}'>2.1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[403,433,22,7]}'>5</span>]</li>\n<li data-parsoid='{\"dsr\":[435,510,2,0]}'> [#2_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[444,478,24,7]}'>2.2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[479,509,22,7]}'>2</span>]</li></ul></li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[520,750,2,2]}'> <span class=\"mw-headline\" id=\"2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[523,564,33,7]}'>2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[564,747,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[593,638,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[695,740,37,7]}'>]</span></span> </h2>\n\n<h6 data-parsoid='{\"dsr\":[752,990,6,6]}'> <span class=\"mw-headline\" id=\"6\" data-parsoid='{\"stx\":\"html\",\"dsr\":[759,800,33,7]}'>6</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[800,983,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[829,874,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[931,976,37,7]}'>]</span></span> </h6>\n\n<h3 data-parsoid='{\"dsr\":[992,1224,3,3]}'> <span class=\"mw-headline\" id=\"3\" data-parsoid='{\"stx\":\"html\",\"dsr\":[996,1037,33,7]}'>3</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1037,1220,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1066,1111,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1168,1213,37,7]}'>]</span></span> </h3>\n\n<h1 data-parsoid='{\"dsr\":[1226,1454,1,1]}'> <span class=\"mw-headline\" id=\"1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1228,1269,33,7]}'>1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1269,1452,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1298,1343,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1400,1445,37,7]}'>]</span></span> </h1>\n\n<h5 data-parsoid='{\"dsr\":[1456,1692,5,5]}'> <span class=\"mw-headline\" id=\"5\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1462,1503,33,7]}'>5</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1503,1686,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1532,1577,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1634,1679,37,7]}'>]</span></span> </h5>\n\n<h2 data-parsoid='{\"dsr\":[1694,1926,2,2]}'> <span class=\"mw-headline\" id=\"2_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1697,1740,35,7]}'>2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1740,1923,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1769,1814,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=6 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1871,1916,37,7]}'>]</span></span> </h2>\n");
add("html2html", "ISBN with space-delimited number", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/9290170328\" title=\"Wiki/Special:BookSources/9290170328\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/9290170328\"},\"sa\":{\"href\":\"wiki/Special:BookSources/9290170328\"},\"dsr\":[0,58,38,2]}'>ISBN 92 9017 032 8</a></p>\n");
add("html2html", "ISBN length", "<p data-parsoid='{\"dsr\":[0,14,0,0]}'>ISBN 123456789</p>\n\n<p data-parsoid='{\"dsr\":[16,71,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/1234567890\" title=\"Wiki/Special:BookSources/1234567890\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/1234567890\"},\"sa\":{\"href\":\"wiki/Special:BookSources/1234567890\"},\"dsr\":[16,71,38,2]}'>ISBN 1234567890</a></p>\n\n<p data-parsoid='{\"dsr\":[73,89,0,0]}'>ISBN 12345678901</p>\n");
add("html2html", "ISBN with trailing year (bug 8110)", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/1234567890\" title=\"Wiki/Special:BookSources/1234567890\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/1234567890\"},\"sa\":{\"href\":\"wiki/Special:BookSources/1234567890\"},\"dsr\":[0,58,38,2]}'>ISBN 1-234-56789-0</a> - 2006</p>\n\n<p data-parsoid='{\"dsr\":[67,132,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Special:BookSources/1234567890\" title=\"Wiki/Special:BookSources/1234567890\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Special:BookSources/1234567890\"},\"sa\":{\"href\":\"wiki/Special:BookSources/1234567890\"},\"dsr\":[67,125,38,2]}'>ISBN 1 234 56789 0</a> - 2006</p>\n");
add("html2html", "anchorencode encodes like the TOC generator: (bug 18431)", "<h3 data-parsoid='{\"dsr\":[0,85,3,3]}'> <span class=\"mw-headline\" id=\".2B:.3A.253A.26.26.5D.5D\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,81,56,7]}'>_ +:.3A%3A&amp;&amp;]]</span> </h3>\n<p data-parsoid='{\"dsr\":[86,110,0,0]}'>.2B:.3A.253A.26.26.5D.5D</p>\n");
add("html2html", "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title", "<p data-parsoid='{\"dsr\":[0,147,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Дуна\" title=\"Wiki/Дуна\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Дуна\"},\"sa\":{\"href\":\"wiki/Дуна\"},\"dsr\":[0,18,12,2]}'>Дуна</a> is not a self-link while <strong class=\"selflink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[44,82,25,9]}'>Duna</strong> and <strong class=\"selflink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[87,125,25,9]}'>Dуна</strong> are still self-links.</p>\n");
add("html2html", "Link to a section of a variant of this title shouldn't be parsed as self-link", "<p data-parsoid='{\"dsr\":[0,129,0,0]}'><strong class=\"selflink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,38,25,9]}'>Dуна</strong> is a self-link while <a rel=\"mw:WikiLink\" href=\"./Wiki/Дуна\" title=\"Wiki/Дуна\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Дуна\"},\"sa\":{\"href\":\"wiki/Дуна\"},\"dsr\":[60,82,12,2]}'>Dunа#Foo</a> and <a rel=\"mw:WikiLink\" href=\"./Wiki/Дуна\" title=\"Wiki/Дуна\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Дуна\"},\"sa\":{\"href\":\"wiki/Дуна\"},\"dsr\":[87,109,12,2]}'>Dуна#Foo</a> are not self-links.</p>\n");
add("html2html", "Link to pages in language variants", "<p data-parsoid='{\"dsr\":[0,56,0,0]}'>Main Page can be written as <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[28,56,17,2]}'>Маин Паге</a></p>\n");
add("html2html", "Multiple links to pages in language variants", "<p data-parsoid='{\"dsr\":[0,113,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>Main Page</a> can be written as <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[47,75,17,2]}'>Маин Паге</a> same as <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[84,112,17,2]}'>Маин Паге</a>.</p>\n");
add("html2html", "Simple category in language variants", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Категорија:MediaWiki_User's_Guide\" title=\"Wiki/Категорија:MediaWiki User's Guide\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Категорија:MediaWiki_User&#39;s_Guide\"},\"sa\":{\"href\":\"wiki/Категорија:MediaWiki User&#39;s Guide\"},\"dsr\":[0,65,41,2]}'>MediaWiki User's Guide</a></p>");
add("html2html", "Don't convert blue categorylinks to another variant (bug 33210)", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Category:分类\" title=\"Wiki/Category:分类\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Category:分类\"},\"sa\":{\"href\":\"wiki/Category:分类\"},\"dsr\":[0,23,19,2]}'>分类</a></p>");
add("html2html", "Prevent conversion of links with -{}- tags (language variants)", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>Main Page</a></p>\n");
add("html2html", "-{}- tags within headlines (within html for parserConvert())", "<h2 data-parsoid='{\"dsr\":[0,249,2,2]}'> <span class=\"mw-headline\" id=\"-.7BNaslov.7D-\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,62,46,7]}'>Naslov</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[62,246,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[91,136,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 уреди]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[194,239,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Adding explicit conversion rule for title (T flag)", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Taiwan</p>\n\n<p data-parsoid='{\"dsr\":[8,27,0,0]}'>Should be stripped!</p>\n");
add("html2html", "Testing that changing the language variant here in the tests actually works", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>China</p>\n\n<p data-parsoid='{\"dsr\":[7,26,0,0]}'>Should be stripped!</p>\n");
add("html2html", "Recursive conversion of alt and title attrs shouldn't clear converter state", "<p data-parsoid='{\"dsr\":[0,5,0,0]}'>China</p>\n\n<p data-parsoid='{\"dsr\":[7,59,0,0]}'>Should be stripped<span title=\"Exclamation\" data-parsoid='{\"stx\":\"html\",\"dsr\":[25,59,26,7]}'>!</span></p>\n");
add("html2html", "Bug 24072: more test on conversion rule for title", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Taiwan</p>\n\n<p data-parsoid='{\"dsr\":[8,80,0,0]}'>This should be stripped!\nThis won't take interferes with the title rule.</p>\n");
add("html2html", "Partly disable title conversion if variant == main language code", "<p data-parsoid='{\"dsr\":[0,2,0,0]}'>ZH</p>\n");
add("html2html", "Partly disable title conversion if variant == main language code, more", "<p data-parsoid='{\"dsr\":[0,2,0,0]}'>ZH</p>\n");
add("html2html", "Don't break link parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[0,28,17,2]}'>main page</a></p>\n");
add("html2html", "Don't break image parsing if language converter markup is in the caption.", "<p data-parsoid='{\"dsr\":[0,41,0,0]}'><img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[0,41,null,null]}'/></p>\n");
add("html2html", "Morwen/13: Unclosed link followed by heading", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>[[link</p>\n\n<h2 data-parsoid='{\"dsr\":[8,250,2,2]}'> <span class=\"mw-headline\" id=\"heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[11,64,39,7]}'>heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[64,247,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[93,138,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[195,240,37,7]}'>]</span></span> </h2>\n");
add("html2html", "HHP2.1: Heuristics for headings in preprocessor parenthetical structures", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,19,8,9]}'>{{</span>foo|</p>\n\n<h1 data-parsoid='{\"dsr\":[25,82,1,1]}'> <span class=\"mw-headline\" id=\"heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[27,80,39,7]}'>heading</span> </h1>\n");
add("html2html", "HHP2.2: Heuristics for headings in preprocessor parenthetical structures", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,19,8,9]}'>{{</span>foo|</p>\n\n<h2 data-parsoid='{\"dsr\":[25,267,2,2]}'> <span class=\"mw-headline\" id=\"heading\" data-parsoid='{\"stx\":\"html\",\"dsr\":[28,81,39,7]}'>heading</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,264,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[110,155,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[212,257,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Free external link invading image caption", "<div class=\"thumb tright\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,236,26,6]}'><div class=\"thumbinner\" style=\"width:182px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,230,45,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg\" alt=\"180px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[71,135,null,null]}'/>  <div class=\"thumbcaption\" data-parsoid='{\"stx\":\"html\",\"dsr\":[137,224,26,6]}'><div class=\"magnify\" data-parsoid='{\"stx\":\"html\",\"dsr\":[163,213,21,6]}'>[/wiki/File:Foobar.jpg]</div>hello</div></div></div>\n");
add("html2html", "Edit comment with link", "<p data-parsoid='{\"dsr\":[0,45,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[11,39,17,2]}'>Main Page</a> a lot</p>");
add("html2html", "Edit comment with link and link text", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[11,40,17,2]}'>best pages</a> a lot</p>");
add("html2html", "Edit comment with link and link text with suffix", "<p data-parsoid='{\"dsr\":[0,46,0,0]}'>I like the <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page\"},\"sa\":{\"href\":\"wiki/Main Page\"},\"dsr\":[11,40,17,2]}'>best pages</a> a lot</p>");
add("html2html", "Edit comment with section link (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,131,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page#External_links\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page#External_links\"},\"sa\":{\"href\":\"wiki/Main Page#External links\"},\"dsr\":[0,35,32,2]}'>→</a>‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[36,131,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[53,102,26,7]}'>External links: </span> removed bogus entries</span></p>");
add("html2html", "Edit comment with section link and text before it (non-local, eg in history list)", "<p data-parsoid='{\"dsr\":[0,148,0,0]}'>pre-comment text <a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page#External_links\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page#External_links\"},\"sa\":{\"href\":\"wiki/Main Page#External links\"},\"dsr\":[17,52,32,2]}'>→</a>‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[53,148,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[70,119,26,7]}'>External links: </span> removed bogus entries</span></p>");
add("html2html", "Edit comment with section link (local, eg in diff view)", "<p data-parsoid='{\"dsr\":[0,115,0,0]}'>[#External_links →]‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[20,115,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[37,86,26,7]}'>External links: </span> removed bogus entries</span></p>");
add("html2html", "Edit comment with subpage link (bug 14080)", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\"./Wiki/Subpage_test/subpage\" title=\"Wiki/Subpage test/subpage\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Subpage_test/subpage\"},\"sa\":{\"href\":\"wiki/Subpage test/subpage\"},\"dsr\":[11,49,28,2]}'>/subpage</a> here...</p>");
add("html2html", "Edit comment with subpage link and link text (bug 14080)", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'>Poked at a <a rel=\"mw:WikiLink\" href=\"./Wiki/Subpage_test/subpage\" title=\"Wiki/Subpage test/subpage\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Subpage_test/subpage\"},\"sa\":{\"href\":\"wiki/Subpage test/subpage\"},\"dsr\":[11,57,28,2]}'>neat little page</a> here...</p>");
add("html2html", "Edit comment with bogus subpage link in non-subpage NS (bug 14080)", "<p data-parsoid='{\"dsr\":[0,77,0,0]}'>Poked at a [/index.php?title=/subpage&amp;action=edit&amp;redlink=1 /subpage] here...</p>");
add("html2html", "Edit comment with bare anchor link (local, as on diff)", "<ol data-parsoid='{\"dsr\":[0,8,0,0]}'><li data-parsoid='{\"dsr\":[0,8,1,0]}'>section</li></ol>");
add("html2html", "Edit comment with bare anchor link (non-local, as on history)", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page#section\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page#section\"},\"sa\":{\"href\":\"wiki/Main Page#section\"},\"dsr\":[0,35,25,2]}'>#section</a></p>");
add("html2html", "Anchor starting with underscore", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>[#_ref One]</p>\n");
add("html2html", "Space normalisation on autocomment (bug 22784)", "<p data-parsoid='{\"dsr\":[0,106,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Main_Page#hello_world\" title=\"Wiki/Main Page\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Main_Page#hello_world\"},\"sa\":{\"href\":\"wiki/Main Page#hello world\"},\"dsr\":[0,32,29,2]}'>→</a>‎<span dir=\"auto\" data-parsoid='{\"stx\":\"html\",\"dsr\":[33,106,17,7]}'><span class=\"autocomment\" data-parsoid='{\"stx\":\"html\",\"dsr\":[50,99,26,7]}'>__hello__world__</span></span></p>");
add("html2html", "percent-encoding and + signs in comments (Bug 26410)", "<p data-parsoid='{\"dsr\":[0,128,0,0]}'>[/index.php?title=ABC3D%25_%2B%2B&amp;action=edit&amp;redlink=1 ABC3D% ++] [/index.php?title=ABC3D%25_%2B%2B&amp;action=edit&amp;redlink=1 +%20]</p>");
add("html2html", "Bad images - basic functionality", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><span class=\"mw-default-size\" typeof=\"mw:Error mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[0,16,null,null]}' data-mw='{\"errors\":[{\"key\":\"missing-image\",\"message\":\"This image does not exist.\"}]}'><a href=\"./File:Bad.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Bad.jpg\"},\"sa\":{}}'><img resource=\"./File:Bad.jpg\" src=\"./Special:FilePath/Bad.jpg\" height=\"220\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Bad.jpg\",\"height\":\"220\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Bad.jpg\"}}'/></a></span></p>\n");
add("html2html", "Bad images - bug 16039: text after bad image disappears", "<p data-parsoid='{\"dsr\":[0,32,0,0]}'>Foo bar\n<span class=\"mw-default-size\" typeof=\"mw:Error mw:Image\" data-parsoid='{\"optList\":[],\"dsr\":[8,24,null,null]}' data-mw='{\"errors\":[{\"key\":\"missing-image\",\"message\":\"This image does not exist.\"}]}'><a href=\"./File:Bad.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Bad.jpg\"},\"sa\":{}}'><img resource=\"./File:Bad.jpg\" src=\"./Special:FilePath/Bad.jpg\" height=\"220\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Bad.jpg\",\"height\":\"220\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Bad.jpg\"}}'/></a></span>\nBar foo</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) no displaytitle", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>Parser test</p>\n\n<p data-parsoid='{\"dsr\":[13,38,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,8,0,0]}'>whatever</p>\n\n<p data-parsoid='{\"dsr\":[10,35,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Screen</p>\n\n<p data-parsoid='{\"dsr\":[8,33,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>screen</p>\n\n<p data-parsoid='{\"dsr\":[8,33,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Screen</p>\n\n<p data-parsoid='{\"dsr\":[8,132,0,0]}'>this is not the the title\n[/index.php?title=Template:DISPLAYTITLE:screen&amp;action=edit&amp;redlink=1 Template:DISPLAYTITLE:screen]</p>\n");
add("html2html", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE", "<p data-parsoid='{\"dsr\":[0,6,0,0]}'>Screen</p>\n\n<p data-parsoid='{\"dsr\":[8,33,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><span style=\" \" data-parsoid='{\"stx\":\"html\",\"a\":{\"style\":\" \"},\"sa\":{\"style\":\"/* attempt to bypass $wgRestrictDisplayTitle */\"},\"dsr\":[0,70,62,7]}'>s</span>creen</p>\n\n<p data-parsoid='{\"dsr\":[77,102,0,0]}'>this is not the the title</p>\n");
add("html2html", "Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'><span style=\"color: red;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,34,26,7]}'>s</span>creen</p>\n\n<p data-parsoid='{\"dsr\":[41,66,0,0]}'>this is not the the title</p>\n");
add("html2html", "preload: check <noinclude> and <includeonly>", "<p data-parsoid='{\"dsr\":[0,17,0,0]}'>Hello kind world.</p>");
add("html2html", "preload: check <onlyinclude>", "<p data-parsoid='{\"dsr\":[0,11,0,0]}'>Hello world</p>");
add("html2html", "preload: can pass tags through if we want to", "<meta typeof=\"mw:Includes/IncludeOnly\" data-parsoid='{\"src\":\"&lt;includeonly>Hello world&lt;/includeonly>\",\"dsr\":[0,38,null,null]}'/><meta typeof=\"mw:Includes/IncludeOnly/End\" data-parsoid='{\"src\":\"\",\"dsr\":[38,38,null,null]}'/>");
add("html2html", "preload: check that it doesn't try to do tricks", "<p data-parsoid='{\"dsr\":[0,118,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'>*</span> <!-- Hello --><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[33,118,8,9]}'> ''{{world}}'' {{subst:How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}</span></p>");
add("html2html", "HTML5 data attributes", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><span data-foo=\"bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,31,21,7]}'>Baz</span></p>\n\n<p data-parsoid='{\"dsr\":[33,37,0,0]}'>Quuz</p>\n");
add("html2html", "Bug 31098 Template which includes system messages which includes the template", "<p data-parsoid='{\"dsr\":[0,195,0,0]}'><span class=\"error\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,97,20,7]}'>Template loop detected: <a rel=\"mw:WikiLink\" href=\"./Wiki/Template:Identical\" title=\"Wiki/Template:Identical\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Template:Identical\"},\"sa\":{\"href\":\"wiki/Template:Identical\"},\"dsr\":[44,90,26,2]}'>Template:Identical</a></span>\n<span class=\"error\" data-parsoid='{\"stx\":\"html\",\"dsr\":[98,195,20,7]}'>Template loop detected: <a rel=\"mw:WikiLink\" href=\"./Wiki/Template:Identical\" title=\"Wiki/Template:Identical\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Template:Identical\"},\"sa\":{\"href\":\"wiki/Template:Identical\"},\"dsr\":[142,188,26,2]}'>Template:Identical</a></span></p>\n");
add("html2html", "Bug31490 Turkish: ucfırst (with a dotless i)", "<p data-parsoid='{\"dsr\":[0,90,0,0]}'>[/index.php?title=%C5%9Eablon:Ucf%C4%B1rst:blah&amp;action=edit&amp;redlink=1 Şablon:Ucfırst:blah]</p>\n");
add("html2html", "Bug31490 ucfırst (with a dotless i) with English language", "<p data-parsoid='{\"dsr\":[0,89,0,0]}'>[/index.php?title=Template:Ucf%C4%B1rst:blah&amp;action=edit&amp;redlink=1 Template:Ucfırst:blah]</p>\n");
add("html2html", "Bug 26375: TOC with italics", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,175,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,167,0,0]}'><li data-parsoid='{\"dsr\":[69,167,1,0]}'> [#Lost_episodes <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[87,119,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[120,166,22,7]}'><i data-parsoid='{\"dsr\":[142,150,2,2]}'>Lost</i> episodes</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[177,433,2,2]}'> <span class=\"mw-headline\" id=\"Lost_episodes\" data-parsoid='{\"stx\":\"html\",\"dsr\":[180,249,45,7]}'><i data-parsoid='{\"dsr\":[225,233,2,2]}'>Lost</i> episodes</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[249,430,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[278,323,37,7]}'>[</span>[/index.php?title=Main_Page&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[378,423,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 26375: TOC with bold", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,213,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,205,0,0]}'><li data-parsoid='{\"dsr\":[69,205,1,0]}'> [#should_be_bold_then_normal_text <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[105,137,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[138,204,22,7]}'><b data-parsoid='{\"dsr\":[160,180,3,3]}'>should be bold</b> then normal text</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[215,509,2,2]}'> <span class=\"mw-headline\" id=\"should_be_bold_then_normal_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[218,325,63,7]}'><b data-parsoid='{\"dsr\":[281,301,3,3]}'>should be bold</b> then normal text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[325,506,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[354,399,37,7]}'>[</span>[/index.php?title=Main_Page&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[454,499,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 33845: Headings become cursive in TOC when they contain an image", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,155,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,147,0,0]}'><li data-parsoid='{\"dsr\":[69,147,1,0]}'> [#Image <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,111,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,146,22,7]}'>Image</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[157,435,2,2]}'> <span class=\"mw-headline\" id=\"Image\" data-parsoid='{\"stx\":\"html\",\"dsr\":[160,251,37,7]}'>Image <img src=\"http://example.com/images/3/3a/Foobar.jpg\" alt=\"Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[203,244,null,null]}'/></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[251,432,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[280,325,37,7]}'>[</span>[/index.php?title=Main_Page&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[380,425,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 33845 (2): Headings become bold in TOC when they contain a blockquote", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,156,26,6]}'>\n<div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[27,68,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[47,61,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[70,148,0,0]}'><li data-parsoid='{\"dsr\":[70,148,1,0]}'> [#Quote <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[80,112,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[113,147,22,7]}'>Quote</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[158,208,2,2]}'> <span class=\"mw-headline\" id=\"Quote\" data-parsoid='{\"stx\":\"html\",\"dsr\":[161,205,37,7]}'></span> </h2>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[209,285,12,13]}'>\n<p data-parsoid='{\"dsr\":[222,271,0,0]}'><span class=\"mw-headline\" id=\"Quote\" data-parsoid='{\"stx\":\"html\",\"dsr\":[222,271,37,7]}'>Quote</span></p>\n</blockquote>\n<p data-parsoid='{\"dsr\":[286,467,0,0]}'><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[286,467,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[315,360,37,7]}'>[</span>[/index.php?title=Main_Page&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[415,460,37,7]}'>]</span></span></p>\n");
add("html2html", "Unclosed tags in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,171,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,163,0,0]}'><li data-parsoid='{\"dsr\":[69,163,1,0]}'> [#Proof:_2_.3C_3 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[88,120,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[121,162,22,7]}'>Proof: 2 &lt; 3</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[173,425,2,2]}'> <span class=\"mw-headline\" id=\"Proof:_2_.3C_3\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,241,46,7]}'>Proof: 2 &lt; 3</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[241,422,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[270,315,37,7]}'>[</span>[/index.php?title=Main_Page&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[370,415,37,7]}'>]</span></span> </h2>\n<p data-parsoid='{\"dsr\":[426,481,0,0]}'><small data-parsoid='{\"stx\":\"html\",\"dsr\":[426,477,7,8]}'>Hanc marginis exiguitas non caperet.</small>\nQED</p>\n");
add("html2html", "Multiple tags in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,259,26,6]}'>\n<div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[27,68,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[47,61,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[70,251,0,0]}'><li data-parsoid='{\"dsr\":[70,162,1,0]}'> [#Foo_Bar <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[82,114,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[115,161,22,7]}'><i data-parsoid='{\"dsr\":[137,144,2,2]}'>Foo</i> <b data-parsoid='{\"dsr\":[145,154,3,3]}'>Bar</b></span>]</li>\n<li data-parsoid='{\"dsr\":[163,251,1,0]}'> [#Foo_Bar_2 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[177,209,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[210,250,22,7]}'><i data-parsoid='{\"dsr\":[232,239,2,2]}'>Foo</i> Bar</span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[261,513,2,2]}'> <span class=\"mw-headline\" id=\"Foo_Bar\" data-parsoid='{\"stx\":\"html\",\"dsr\":[264,327,39,7]}'><i data-parsoid='{\"dsr\":[303,310,2,2]}'>Foo</i> <b data-parsoid='{\"dsr\":[311,320,3,3]}'>Bar</b></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[327,510,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[356,401,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[458,503,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[515,576,2,2]}'> <span class=\"mw-headline\" id=\"Foo_Bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[518,573,41,7]}'><i data-parsoid='{\"dsr\":[559,566,2,2]}'>Foo</i></span> </h2>\n<blockquote data-parsoid='{\"stx\":\"html\",\"dsr\":[577,655,12,13]}'>\n<p data-parsoid='{\"dsr\":[590,641,0,0]}'><span class=\"mw-headline\" id=\"Foo_Bar_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[590,641,41,7]}'>Bar</span></p>\n</blockquote>\n<p data-parsoid='{\"dsr\":[656,839,0,0]}'><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[656,839,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[685,730,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[787,832,37,7]}'>]</span></span></p>\n");
add("html2html", "Tags with parameters in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,271,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,263,0,0]}'><li data-parsoid='{\"dsr\":[69,158,1,0]}'> [#Hello <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,111,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,157,22,7]}'><sup data-parsoid='{\"stx\":\"html\",\"dsr\":[134,150,5,6]}'>Hello</sup></span>]</li>\n<li data-parsoid='{\"dsr\":[159,263,1,0]}'> [#b.22.3EEvilbye <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[178,210,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[211,262,22,7]}'><sup data-parsoid='{\"stx\":\"html\",\"dsr\":[233,255,5,6]}'> b\">Evilbye</sup></span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[273,536,2,2]}'> <span class=\"mw-headline\" id=\"Hello\" data-parsoid='{\"stx\":\"html\",\"dsr\":[276,350,37,7]}'><sup class=\"in-h2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[313,343,19,6]}'>Hello</sup></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[350,533,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[379,424,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[481,526,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[538,802,2,2]}'> <span class=\"mw-headline\" id=\"b.22.3EEvilbye\" data-parsoid='{\"stx\":\"html\",\"dsr\":[541,616,46,7]}'><sup data-parsoid='{\"stx\":\"html\",\"dsr\":[587,609,5,6]}'> b\">Evilbye</sup></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[616,799,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[645,690,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[747,792,37,7]}'>]</span></span> </h2>\n");
add("html2html", "span tags with directionality in TOC", "<div id=\"toc\" class=\"toc\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,942,26,6]}'><div id=\"toctitle\" data-parsoid='{\"stx\":\"html\",\"dsr\":[26,67,19,6]}'>\n<h2 data-parsoid='{\"dsr\":[46,60,2,2]}'> Contents </h2>\n</div>\n\n<ul data-parsoid='{\"dsr\":[69,934,0,0]}'><li data-parsoid='{\"dsr\":[69,170,1,0]}'> [#C.2B.2B <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,113,24,7]}'>1</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,169,22,7]}'><span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[136,162,16,7]}'>C++</span></span>]</li>\n<li data-parsoid='{\"dsr\":[171,294,1,0]}'> [#.D7.96.D7.91.D7.A0.D7.92.21 <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[203,235,24,7]}'>2</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[236,293,22,7]}'><span dir=\"rtl\" data-parsoid='{\"stx\":\"html\",\"dsr\":[258,286,16,7]}'>זבנג!</span></span>]</li>\n<li data-parsoid='{\"dsr\":[295,500,1,0]}'> [#The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[362,394,24,7]}'>3</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[395,499,22,7]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[417,492,6,7]}'>The attributes on these span tags must be deleted from the TOC</span></span>]</li>\n<li data-parsoid='{\"dsr\":[501,706,1,0]}'> [#All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[568,600,24,7]}'>4</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[601,705,22,7]}'><span data-parsoid='{\"stx\":\"html\",\"dsr\":[623,698,6,7]}'>All attributes on these span tags must be deleted from the TOC</span></span>]</li>\n<li data-parsoid='{\"dsr\":[707,934,1,0]}'> [#Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\" data-parsoid='{\"stx\":\"html\",\"dsr\":[780,812,24,7]}'>5</span> <span class=\"toctext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[813,933,22,7]}'><span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[835,926,16,7]}'>Attributes after dir on these span tags must be deleted from the TOC</span></span>]</li></ul>\n\n</div>\n\n<h2 data-parsoid='{\"dsr\":[944,1205,2,2]}'> <span class=\"mw-headline\" id=\"C.2B.2B\" data-parsoid='{\"stx\":\"html\",\"dsr\":[947,1019,39,7]}'><span dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[986,1012,16,7]}'>C++</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1019,1202,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1048,1093,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1150,1195,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[1207,1490,2,2]}'> <span class=\"mw-headline\" id=\".D7.96.D7.91.D7.A0.D7.92.21\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1210,1304,59,7]}'><span dir=\"rtl\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1269,1297,16,7]}'>זבנג!</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1304,1487,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1333,1378,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1435,1480,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[1492,1884,2,2]}'> <span class=\"mw-headline\" id=\"The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1495,1698,94,7]}'><span style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1589,1691,33,7]}'>The attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1698,1881,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1727,1772,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1829,1874,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[1886,2288,2,2]}'> <span class=\"mw-headline\" id=\"All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1889,2102,94,7]}'><span style=\"font-style: italic\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1983,2095,43,7]}'>All attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2102,2285,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2131,2176,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2233,2278,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[2290,2704,2,2]}'> <span class=\"mw-headline\" id=\"Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2293,2518,100,7]}'><span dir=\"ltr\" style=\"font-style: italic\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2393,2511,43,7]}'>Attributes after dir on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2518,2701,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2547,2592,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[2649,2694,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Bug 32057: Title needed when expanding <h> nodes.", "<h2 data-parsoid='{\"dsr\":[0,252,2,2]}'> <span class=\"mw-headline\" id=\"Headline_text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,68,45,7]}'>Headline text</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,249,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[97,142,37,7]}'>[</span>[/index.php?title=Main_Page&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[197,242,37,7]}'>]</span></span> </h2>\n");
add("html2html", "nowiki inside link inside heading (bug 18295)", "<h2 data-parsoid='{\"dsr\":[0,247,2,2]}'> <span class=\"mw-headline\" id=\"xyz\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,61,35,7]}'><a rel=\"mw:WikiLink\" href=\"./Wiki/Foo\" title=\"Wiki/Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Wiki/Foo\"},\"sa\":{\"href\":\"wiki/Foo\"},\"dsr\":[38,54,11,2]}'>xyz</a></span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[61,244,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[90,135,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[192,237,37,7]}'>]</span></span> </h2>\n");
add("html2html", "new support for bdi element (bug 31817)", "<p data-parsoid='{\"dsr\":[0,122,0,0]}'>ולדימיר לנין (ברוסית: <bdi lang=\"ru\" data-parsoid='{\"stx\":\"html\",\"dsr\":[22,57,15,6]}'>Владимир Ленин</bdi>, 24 באפריל 1870–22 בינואר 1924) הוא מנהיג פוליטי קומוניסטי רוסי.</p>\n");
add("html2html", "Gallery override link with WikiLink (bug 34852)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,239,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,230,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,219,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery override link with absolute external link (bug 34852)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,239,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,230,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,219,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery override link with malicious javascript (bug 34852)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,239,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,230,25,6]}'>\n<p data-parsoid='{\"dsr\":[212,219,0,0]}'>caption</p>\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Gallery with invalid title as link (bug 43964)", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>\t\t* </p><div style=\"width: 155px\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,229,26,6]}'>\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[34,182,41,6]}'><div style=\"margin:68px auto;\" data-parsoid='{\"stx\":\"html\",\"dsr\":[75,176,31,6]}'><img src=\"http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg\" alt=\"120px-Foobar.jpg\" rel=\"mw:externalImage\" data-parsoid='{\"dsr\":[106,170,null,null]}'/></div></div>\n\t\t\t<div class=\"gallerytext\" data-parsoid='{\"stx\":\"html\",\"dsr\":[186,220,25,6]}'>\t\t\t</div>\n\t\t</div>\n");
add("html2html", "Disable TOC", "<p data-parsoid='{\"dsr\":[0,4,0,0]}'>Lead</p>\n\n<h2 data-parsoid='{\"dsr\":[6,252,2,2]}'> <span class=\"mw-headline\" id=\"Section_1\" data-parsoid='{\"stx\":\"html\",\"dsr\":[9,66,41,7]}'>Section 1</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[66,249,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[95,140,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=1 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[197,242,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[254,500,2,2]}'> <span class=\"mw-headline\" id=\"Section_2\" data-parsoid='{\"stx\":\"html\",\"dsr\":[257,314,41,7]}'>Section 2</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[314,497,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[343,388,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=2 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[445,490,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[502,748,2,2]}'> <span class=\"mw-headline\" id=\"Section_3\" data-parsoid='{\"stx\":\"html\",\"dsr\":[505,562,41,7]}'>Section 3</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[562,745,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[591,636,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=3 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[693,738,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[750,996,2,2]}'> <span class=\"mw-headline\" id=\"Section_4\" data-parsoid='{\"stx\":\"html\",\"dsr\":[753,810,41,7]}'>Section 4</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[810,993,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[839,884,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=4 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[941,986,37,7]}'>]</span></span> </h2>\n\n<h2 data-parsoid='{\"dsr\":[998,1244,2,2]}'> <span class=\"mw-headline\" id=\"Section_5\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1001,1058,41,7]}'>Section 5</span><span class=\"mw-editsection\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1058,1241,29,7]}'><span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1087,1132,37,7]}'>[</span>[/index.php?title=Parser_test&amp;action=edit&amp;section=5 edit]<span class=\"mw-editsection-bracket\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1189,1234,37,7]}'>]</span></span> </h2>\n");
add("html2html", "Ref: 5. body should accept generic wikitext", "<p data-parsoid='{\"dsr\":[0,81,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid=\"{&quot;src&quot;:&quot;&lt;ref>This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\\n&lt;/ref>&quot;,&quot;dsr&quot;:[2,81,5,6]}\" data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"This is a &lt;b data-parsoid=&#39;{\\\"dsr\\\":[17,38,3,3]}&#39;>&lt;a rel=\\\"mw:WikiLink\\\" href=\\\"./Bolded_link\\\" title=\\\"Bolded link\\\" data-parsoid=&#39;{\\\"stx\\\":\\\"simple\\\",\\\"a\\\":{\\\"href\\\":\\\"./Bolded_link\\\"},\\\"sa\\\":{\\\"href\\\":\\\"bolded link\\\"},\\\"dsr\\\":[20,35,2,2]}&#39;>bolded link&lt;/a>&lt;/b> and this is a &lt;span about=\\\"#mwt3\\\" typeof=\\\"mw:Transclusion\\\" data-parsoid=&#39;{\\\"pi\\\":[[{\\\"k\\\":\\\"1\\\",\\\"spc\\\":[\\\"\\\",\\\"\\\",\\\"\\\",\\\"\\\"]}]],\\\"dsr\\\":[53,74,null,null]}&#39; data-mw=&#39;{\\\"parts\\\":[{\\\"template\\\":{\\\"target\\\":{\\\"wt\\\":\\\"echo\\\",\\\"href\\\":\\\"./Template:Echo\\\"},\\\"params\\\":{\\\"1\\\":{\\\"wt\\\":\\\"transclusion\\\"}},\\\"i\\\":0}}]}&#39;>transclusion&lt;/span>\\n\"},\"attrs\":{}}'><a href=\"#cite_note-1\">[1]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt5\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[83,97,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-1\">↑</a></span> This is a <b><a rel=\"mw:WikiLink\" href=\"./Bolded_link\" title=\"Bolded link\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Bolded_link\"},\"sa\":{\"href\":\"bolded link\"},\"dsr\":[20,35,2,2]}'>bolded link</a></b> and this is a <span about=\"#mwt3\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]],\"dsr\":[53,74,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"transclusion\"}},\"i\":0}}]}'>transclusion</span>\n</li></ol>");
add("html2html", "Ref: 7. No p-wrapping in ref-body", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>foo\\nbar\\nbaz\\nbooz\\n&lt;/ref>\",\"dsr\":[2,30,5,6]}' data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"foo\\nbar\\nbaz\\nbooz\\n\"},\"attrs\":{}}'><a href=\"#cite_note-1\">[1]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[32,46,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-1\">↑</a></span> foo\nbar\nbaz\nbooz\n</li></ol>");
add("html2html", "Ref: 8. transclusion wikitext has lower precedence", "<p data-parsoid='{\"dsr\":[0,47,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>foo {{echo|&lt;/ref>\",\"dsr\":[2,24,5,6]}' data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"foo &lt;span typeof=\\\"mw:Nowiki\\\" data-parsoid=&#39;{\\\"src\\\":\\\"{{\\\",\\\"dsr\\\":[11,13,0,0]}&#39;>{{&lt;/span>echo|\"},\"attrs\":{}}'><a href=\"#cite_note-1\">[1]</a></span> B C<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[28,47,8,9]}'>}}</span></p>\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[48,62,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-1\">↑</a></span> foo <span typeof=\"mw:Nowiki\">{{</span>echo|</li></ol>");
add("html2html", "Ref: 10. Unclosed HTML tags should not leak out of ref-body", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>&lt;b> foo &lt;/ref>\",\"dsr\":[2,21,5,6]}' data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"&lt;b data-parsoid=&#39;{\\\"stx\\\":\\\"html\\\",\\\"autoInsertedEnd\\\":true,\\\"dsr\\\":[7,15,3,0]}&#39;> foo &lt;/b>\"},\"attrs\":{}}'><a href=\"#cite_note-1\">[1]</a></span> B C</p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[27,41,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-1\">↑</a></span> <b data-parsoid='{\"stx\":\"html\",\"autoInsertedEnd\":true,\"dsr\":[7,15,3,0]}'> foo </b></li></ol>");
add("html2html", "Ref: 19. ref-tags with identical name encodings should get identical indexes", "<p data-parsoid='{\"dsr\":[0,60,0,0]}'>1 <span about=\"#mwt3\" class=\"reference\" id=\"cite_ref-a_.26_b_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"a &amp; b\\\">foo&lt;/ref>\",\"dsr\":[2,29,18,6]}' data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"foo\"},\"attrs\":{\"name\":\"a &amp; b\"}}'><a href=\"#cite_note-a_.26_b-1\">[1]</a></span> 2 <span about=\"#mwt4\" class=\"reference\" id=\"cite_ref-a_.26amp.3B_b_2-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"a &amp;amp;amp; b\\\" />\",\"dsr\":[32,60,28,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a &amp;amp;amp; b\"}}'><a href=\"#cite_note-a_.26amp.3B_b-2\">[2]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"src\":\"&lt;references />\",\"dsr\":[62,76,2,2]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-a_.26_b-1\" id=\"cite_note-a_.26_b-1\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-a_.26_b_1-0\">↑</a></span> foo</li><li about=\"#cite_note-a_.26amp.3B_b-2\" id=\"cite_note-a_.26amp.3B_b-2\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-a_.26amp.3B_b_2-0\">↑</a></span> </li></ol>");
add("html2html", "References: 5. ref tags in references should be processed while ignoring all other content", "<p data-parsoid='{\"dsr\":[0,44,0,0]}'>A <span about=\"#mwt2\" class=\"reference\" id=\"cite_ref-a_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"a\\\" />\",\"dsr\":[2,18,16,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"}}'><a href=\"#cite_note-a-1\">[1]</a></span>\nB <span about=\"#mwt4\" class=\"reference\" id=\"cite_ref-b_2-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"b\\\">bar&lt;/ref>\",\"dsr\":[21,44,14,6]}' data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"bar\"},\"attrs\":{\"name\":\"b\"}}'><a href=\"#cite_note-b-2\">[2]</a></span></p>\n\n<ol class=\"references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"src\":\"&lt;references>\\n&lt;ref name=\\\"a\\\">foo&lt;/ref>\\n&lt;/references>\",\"dsr\":[46,96,2,2]}' data-mw='{\"name\":\"references\",\"body\":{\"extsrc\":\"&lt;ref name=\\\"a\\\">foo&lt;/ref>\",\"html\":\"\\n&lt;span about=\\\"#mwt8\\\" class=\\\"reference\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&#39;{\\\"src\\\":\\\"&amp;lt;ref name=\\\\\\\"a\\\\\\\">foo&amp;lt;/ref>\\\",\\\"dsr\\\":[59,82,14,6]}&#39; data-mw=&#39;{\\\"name\\\":\\\"ref\\\",\\\"body\\\":{\\\"html\\\":\\\"foo\\\"},\\\"attrs\\\":{\\\"name\\\":\\\"a\\\"}}&#39;>&lt;a href=\\\"#cite_note-a-1\\\">[1]&lt;/a>&lt;/span>\\n\"},\"attrs\":{}}'><li about=\"#cite_note-a-1\" id=\"cite_note-a-1\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-a_1-0\">↑</a></span> foo</li><li about=\"#cite_note-b-2\" id=\"cite_note-b-2\"><span rel=\"mw:referencedBy\"><a href=\"#cite_ref-b_2-0\">↑</a></span> bar</li></ol>");
add("html2html", "Entities in ref name", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'><span about=\"#mwt2\" class=\"reference\" id=\"cite_ref-test_.26amp.3B_me_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"test &amp;amp;amp; me\\\">hi&lt;/ref>\",\"dsr\":[0,38,30,6]}' data-mw='{\"name\":\"ref\",\"body\":{\"html\":\"hi\"},\"attrs\":{\"name\":\"test &amp;amp;amp; me\"}}'><a href=\"#cite_note-test_.26amp.3B_me-1\">[1]</a></span></p>\n");
add("html2html", "Empty LI and TR nodes should not be stripped from top-level content", "<ul data-parsoid='{\"dsr\":[0,9,0,0]}'><li data-parsoid='{\"dsr\":[0,3,1,0]}'> a</li>\n<li data-parsoid='{\"dsr\":[4,5,1,0]}'></li>\n<li data-parsoid='{\"dsr\":[6,9,1,0]}'> b</li></ul>\n\n<table data-parsoid='{\"dsr\":[11,26,2,2]}'>\n\n<tbody data-parsoid='{\"dsr\":[15,24,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[15,22,2,0]}'>\n<td data-parsoid='{\"autoInsertedEnd\":true,\"dsr\":[18,22,1,0]}'>foo</td></tr>\n\n</tbody></table>\n");
add("html2html", "Headings: 6a. Heading chars in SOL context (with trailing spaces)", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,20,8,9]}'>=a=</span></p>\n\n<p data-parsoid='{\"dsr\":[22,42,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[22,42,8,9]}'>=a=</span></p> \n\n<p data-parsoid='{\"dsr\":[45,65,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[45,65,8,9]}'>=a=</span></p>\t\n\n<p data-parsoid='{\"dsr\":[68,88,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[68,88,8,9]}'>=a=</span></p> \t\n");
add("html2html", "Headings: 6b. Heading chars in SOL context (with trailing newlines)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,22,8,9]}'>=a=\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[24,47,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[24,47,8,9]}'>=a= \nb</span></p>\n\n<p data-parsoid='{\"dsr\":[49,72,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[49,72,8,9]}'>=a=\t\nb</span></p>\n\n<p data-parsoid='{\"dsr\":[74,98,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[74,98,8,9]}'>=a=\t \nb</span></p>\n");
add("html2html", "Headings: 6c. Heading chars in SOL context (leading newline break)", "<p data-parsoid='{\"dsr\":[0,22,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[2,22,8,9]}'>=b=</span></p>\n");
add("html2html", "Headings: 6d. Heading chars in SOL context (with interspersed comments)", "<!--c0--><p data-parsoid='{\"dsr\":[9,29,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,29,8,9]}'>=a=</span></p>\n\n<!--c1--><p data-parsoid='{\"dsr\":[40,60,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[40,60,8,9]}'>=a=</span></p> <!--c2-->\t <!--c3-->\n");
add("html2html", "Links 1. Quote marks in link text", "<p data-parsoid='{\"dsr\":[0,35,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,35,6,2]}'>Foo<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[9,33,8,9]}'>''boo''</span></a></p>");
add("html2html", "Links 2. WikiLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,384,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[0,16,6,2]}'>[Foobar]</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[17,49,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[23,47,8,9]}'>Foobar]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[50,70,6,2]}'>x [Foobar] x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[71,121,6,2]}'>x <span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[79,117,8,9]}'>[http://google.com g]</span> x</a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[122,154,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[128,152,8,9]}'>[[Bar]]</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[155,191,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[161,189,8,9]}'>x [[Bar]] x</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[192,221,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[198,219,8,9]}'>|Bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[222,252,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[228,250,8,9]}'>]]bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[253,283,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[259,281,8,9]}'>[[bar</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[284,315,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[290,313,8,9]}'>x [[ y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[316,347,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[322,345,8,9]}'>x ]] y</span></a>\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[348,384,6,2]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[354,382,8,9]}'>x ]] y [[ z</span></a></p>");
add("html2html", "Links 3. WikiLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'>[[Foo|[Foobar]]\n<a rel=\"mw:WikiLink\" href=\"./Foo\" title=\"Foo\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Foo\"},\"sa\":{\"href\":\"Foo\"},\"dsr\":[16,31,6,2]}'>foo|bar</a></p>");
add("html2html", "Links 4. ExtLinks: Escapes needed", "<p data-parsoid='{\"dsr\":[0,90,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,44],\"dsr\":[0,45,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[19,44,8,9]}'>[google]</span></a>\n<a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":65,\"contentOffsets\":[65,89],\"dsr\":[46,90,19,1]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[65,89,8,9]}'>google]</span></a></p>\n\n<p data-parsoid='{\"dsr\":[92,128,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[92,128,8,9]}'>[http://google.com]</span></p>\n\n<p data-parsoid='{\"dsr\":[130,173,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[130,173,8,9]}'>[http://google.com google]</span></p>\n");
add("html2html", "Links 5. ExtLinks: No escapes needed", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://google.com\" data-parsoid='{\"targetOff\":19,\"contentOffsets\":[19,26],\"dsr\":[0,27,19,1]}'>[google</a></p>");
add("html2html", "Links 7b. Don't add spurious <nowiki/>s between text-nodes and url-links (bug 64300)", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'><a rel=\"mw:ExtLink\" href=\"http://example.com.,;:!?\" data-parsoid='{\"stx\":\"url\",\"dsr\":[0,24,0,0]}'>http://example.com.,;:!?</a></p>\n");
add("html2html", "1. Leading whitespace in SOL context should be escaped", "<p data-parsoid='{\"dsr\":[0,19,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,18,8,9]}'> </span>a</p>\n\n<p data-parsoid='{\"dsr\":[21,41,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[21,39,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[43,50,0,0]}'>\ta(tab)</p>\n\n<pre data-parsoid='{\"dsr\":[52,55,1,0]}'>\ta</pre>\n\n<!--cmt--><p data-parsoid='{\"dsr\":[67,87,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[67,85,8,9]}'> </span> a</p>\n\n<p data-parsoid='{\"dsr\":[89,110,0,0]}'>a\n<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[91,109,8,9]}'> </span>b</p>\n\n<p data-parsoid='{\"dsr\":[112,116,0,0]}'>a\n\tb</p>\n\n<p data-parsoid='{\"dsr\":[118,123,0,0]}'>a\n\t b</p>\n");
add("html2html", "1. a tags", "<p data-parsoid='{\"dsr\":[0,38,0,0]}'>&lt;a href=\"http://google.com\">google&lt;/a></p>");
add("html2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,21,8,9]}'>{{}}</span></p>");
add("html2html", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<p data-parsoid='{\"dsr\":[0,21,0,0]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[0,21,8,9]}'>}}{{</span></p>");
add("html2html", "Empty TR followed by a template-generated TR", "<table data-parsoid='{\"dsr\":[0,37,2,2]}'>\n\n<tbody about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[4,35,0,0],\"pi\":[[{\"k\":\"1\",\"spc\":[\"\",\"\",\"\",\"\"]}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"echo\",\"href\":\"./Template:Echo\"},\"params\":{\"1\":{\"wt\":\"&lt;tr>&lt;td>foo&lt;/td>&lt;/tr>\"}},\"i\":0}},\"\\n\"]}'><tr data-parsoid='{\"stx\":\"html\"}'><td data-parsoid='{\"stx\":\"html\"}'>foo</td></tr>\n</tbody></table>\n");
add("html2html", "Empty TR followed by mixed-ws-comment line should RT correctly", "<table data-parsoid='{\"dsr\":[0,37,2,2]}'>\n\n\n <!--c--><tbody data-parsoid='{\"dsr\":[14,35,0,0]}'><tr data-parsoid='{\"startTagSrc\":\"|-\",\"autoInsertedEnd\":true,\"dsr\":[14,26,2,0]}'>\n<!--c--> </tr><!--d-->\n</tbody></table>\n");
add("html2html", "Image: upright option (parsoid)", "<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"caption\"}],\"dsr\":[0,33,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[2,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,31,null,null]}'>caption</figcaption></figure>\n<figure class=\"mw-default-size\" typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"caption\",\"ak\":\"caption\"}],\"dsr\":[34,67,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[36,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/220px-Foobar.jpg\" height=\"25\" width=\"220\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"25\",\"width\":\"220\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,65,null,null]}'>caption</figcaption></figure>\n<figure typeof=\"mw:Image/Thumb\" data-parsoid='{\"optList\":[{\"ck\":\"thumbnail\",\"ak\":\"thumb\"},{\"ck\":\"width\",\"ak\":\"500x500px\"},{\"ck\":\"caption\",\"ak\":\"caption\"}],\"dsr\":[68,111,2,2]}' data-mw='{\"user\":\"n00b\"}'><a href=\"./File:Foobar.jpg\" data-parsoid='{\"a\":{\"href\":\"./File:Foobar.jpg\"},\"sa\":{},\"dsr\":[70,null,null,null]}'><img resource=\"./File:Foobar.jpg\" src=\"//example.com/images/thumb/3/3a/Foobar.jpg/500px-Foobar.jpg\" height=\"57\" width=\"500\" data-parsoid='{\"a\":{\"resource\":\"./File:Foobar.jpg\",\"height\":\"57\",\"width\":\"500\"},\"sa\":{\"resource\":\"File:Foobar.jpg\"}}'/></a><figcaption data-parsoid='{\"dsr\":[null,109,null,null]}'>caption</figcaption></figure>\n");
add("html2html", "Consecutive <pre>s should not get merged", "<pre data-parsoid='{\"dsr\":[0,2,1,0]}'>a</pre>\n\n<pre data-parsoid='{\"dsr\":[4,6,1,0]}'>b</pre>\n\n<pre data-parsoid='{\"dsr\":[8,10,1,0]}'>c</pre>\n\n<pre data-parsoid='{\"dsr\":[12,14,1,0]}'>d</pre>\n\n<pre data-parsoid='{\"dsr\":[16,19,1,0]}'>e</pre>\n\n\n <p data-parsoid='{\"dsr\":[23,23,0,0]}'><br data-parsoid='{\"dsr\":[23,23,0,0]}'/></p>\n<pre data-parsoid='{\"dsr\":[24,26,1,0]}'>f</pre>\n");


// Blacklist for html2wt
add("html2wt", "Paragraphs with newline spacing with comment lines in between", "----\na\nb\n\n----\na\nb\n\n----\na\nb\n\n----\na\n\nb\n\n----\na\n\nb\n\n----\na\n\n\nb\n\n----\na\n\n\nb\n\n----\n");
add("html2wt", "Paragraphs with newline spacing with non-empty white-space lines in between", "----\na\n\nb\n\n----\na\n\n \nb\n\n----\n");
add("html2wt", "Paragraphs with newline spacing with non-empty mixed comment and white-space lines in between", "----\na\nb\n\n----\na\nb\n\n----\na\n\nb\n\n----\na\n\n \nb\n\n----\n");
add("html2wt", "Extra newlines: More paragraphs with indented comment", "a\n\n\nb\n");
add("html2wt", "Extra newlines followed by heading", "a\n\n\n\n= <span class=\"mw-headline\" id=\"b\">b</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n[/index.php?title=A&action=edit&redlink=1 a]\n\n\n\n= <span class=\"mw-headline\" id=\"b_2\">b</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n");
add("html2wt", "Extra newlines between heading and content are swallowed", "= <span class=\"mw-headline\" id=\"b\">b</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n[/index.php?title=A&action=edit&redlink=1 a]\n");
add("html2wt", "Parsing an URL", "[[:fr:🍺|http://fr.wikipedia.org/wiki/🍺]]\n");
add("html2wt", "Italics and possessives (1)", "obtained by ''[/index.php?title=Lunar_Prospector&action=edit&redlink=1 Lunar Prospector]'''s gamma-ray spectrometer\n");
add("html2wt", "Italics and possessives (3)", "The first monolingual dictionary written in a Romance language was ''Sebastián Covarrubias''' ''Tesoro de la lengua castellana o española'', published in 1611 in Madrid. In 1612 the first edition of the ''Vocabolario dell'[/index.php?title=Accademia_della_Crusca&action=edit&redlink=1 Accademia della Crusca]'', for Italian, was published. In 1690 in Rotterdam was published, posthumously, the ''Dictionnaire Universel''.\n");
add("html2wt", "<wbr> is valid wikitext (bug 52468)", "<wbr />\n");
add("html2wt", "Isolated close tags should be treated as literal text (bug 52760)", "<nowiki></b></nowiki>\n\n<s.foo>s<nowiki></s></nowiki>\n");
add("html2wt", "Bare pipe character from a template (bug 52363)", "|\n");
add("html2wt", "<nowiki> unordered list", "<nowiki>*</nowiki> This is not an unordered list item.\n");
add("html2wt", "<nowiki> spacing", "Lorem ipsum dolor\nsed abit.\n<nowiki>  sed nullum.\n:</nowiki>and a colon\n");
add("html2wt", "nowiki 3", ": There is not nowiki.\n: There is nowiki.\n# There is not nowiki.\n# There is nowiki.\n* There is not nowiki.\n* There is nowiki.\n");
add("html2wt", "Entities inside <nowiki>", "<\n");
add("html2wt", "Comments and Indent-Pre", " asdf\n\n asdf\n\n asdf\n\nxyz\n\n asdf\n xyz\n");
add("html2wt", "Comment test 2a", "asdf\njkl\n");
add("html2wt", "Comment test 2b", "asdf\n\njkl\n");
add("html2wt", "Comment test 3", "asdf\njkl\n");
add("html2wt", "Comment test 4", "asdfjkl\n");
add("html2wt", "Comment spacing", "a\n\n  b \n\nc\n");
add("html2wt", "Comment whitespace", "");
add("html2wt", "Comment semantics and delimiters", "");
add("html2wt", "Comment semantics and delimiters, redux", "");
add("html2wt", "Comment semantics and delimiters: directors cut", "-->\n");
add("html2wt", "Comment semantics: nesting", "-->\n");
add("html2wt", "Comment semantics: unclosed comment at end", "");
add("html2wt", "Comment in template title", "FOO\n");
add("html2wt", "Comment on its own line post-expand", "a\n\nb\n");
add("html2wt", "Comment on its own line post-expand with non-significant whitespace", "a\n\nb\n");
add("html2wt", "Block tag on one line (<div>)", "a\n<div>foo</div>\nb\n");
add("html2wt", "Block tag on one line (<blockquote>)", "a\n<blockquote>\nfoo\n</blockquote>\nb\n");
add("html2wt", "Block tag on both lines (<div>)", "a\n<div>foo</div>\nb\n<div>foo</div>");
add("html2wt", "Block tag on both lines (<blockquote>)", "a\n<blockquote>\nfoo\n</blockquote>\nb\n<blockquote>\nfoo\n</blockquote>");
add("html2wt", "Multiple lines without block tags", "<div>foo</div>\na\n\nb c d e\n\nx\n<div>foo</div>\nz\n");
add("html2wt", "Preformatted text", " This is some\n Preformatted text\n With ''italic''\n And '''bold'''\n And a [[wiki/Main Page|link]]\n");
add("html2wt", "Tabs don't trigger preformatted text", "\tThis is not\n\t preformatted text.\n\n This is preformatted text.\n \tSo is this.\n");
add("html2wt", "<pre> with <nowiki> inside (compatibility with 1.6 and earlier)", " <nowiki><b>\n <cite>\n <em></nowiki>\n");
add("html2wt", "Regression with preformatted in <center>", "<center>\n Blah\n\n</center>\n");
add("html2wt", "Bug 52763: Preformatted in <blockquote>", "<blockquote>\n Blah\n\n{|\n\n|\n indented cell (no pre-wrapping!)\n\n|}\n</blockquote>\n");
add("html2wt", "Bug 51086: Double newlines in blockquotes should be turned into paragraphs", "<blockquote>\nFoo\n\nBar\n\n</blockquote>\n");
add("html2wt", "Bug 15491: <ins>/<del> in blockquote", "<blockquote>\nFoo <del>bar</del> <ins>baz</ins> quux\n\n</blockquote>\n");
add("html2wt", "Bug 15491: <ins>/<del> in blockquote (2)", "<blockquote>\nFoo\n<del>bar</del> <ins>baz</ins> quux</blockquote>");
add("html2wt", "<pre> with attributes (bug 3202)", " Bluescreen of WikiDeath\n");
add("html2wt", "<pre> with width attribute (bug 3202)", " Narrow screen goodies\n");
add("html2wt", "<pre> with forbidden attribute (bug 3202)", " Narrow screen goodies\n");
add("html2wt", "Entities inside <pre>", " <\n");
add("html2wt", "<pre> with forbidden attribute values (bug 3202)", " Narrow screen goodies\n");
add("html2wt", "<nowiki> inside <pre> (bug 13238)", " &lt;nowiki&gt;\n\n \n\n &lt;nowiki&gt;Foo&lt;/nowiki&gt;\n");
add("html2wt", "<nowiki> and <pre> preference (first one wins)", " &lt;nowiki&gt;\n\n&lt;/nowiki&gt;\n</pre>\n\n<nowiki><pre>\n<nowiki>\n</pre>\n\n</pre></nowiki>\n");
add("html2wt", "</pre> inside nowiki", "</pre>\n");
add("html2wt", "HTML pre followed by indent-pre", " foo\n\n bar\n");
add("html2wt", "Templates: Indent-Pre: 1a. Templates that break a line should suppress <pre>", "");
add("html2wt", "Templates: Indent-Pre: 1b. Templates that break a line should suppress <pre>", "foo\n");
add("html2wt", "Templates: Indent-Pre: 1c: Wrapping should be based on expanded content", " a\n\nb\n");
add("html2wt", "Templates: Indent-Pre: 1d: Wrapping should be based on expanded content", " a\n\nb\nc\n\n d\n\ne\n");
add("html2wt", "Templates: Indent-Pre: 1e. Wrapping should be based on expanded content", " foo\n\n foo bar\n\n foo\n bar\n\n foo\n\n foo\n\n bar\n");
add("html2wt", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content", " a\n\n\n\n a\n\n\n\n b\n\na\n\n b\n\na\n\n b\n");
add("html2wt", "Templates: Strip leading and trailing whitespace from named-param values", "a\n\nb\n\nc\n\n* d\n");
add("html2wt", "Templates: Don't strip whitespace from positional-param values", "a \n\nb \n\n c \n\n\n\n d\n\n\n\n e\n\n\n\n* f\n\n\n g\n");
add("html2wt", "Templates: Handle empty comment-and-ws-only lines correctly", "foo\nbar\n");
add("html2wt", "Templates: Handle comments in the target", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{echo|foo}}");
add("html2wt", "Templates: Handle comments in parameter names (bug 67657)", "{{echo|1\n<!-- should be ignored --> = foo}}\n\n{{echo|<!-- should be ignored -->\n1 = foo}}\n\n{{echo|1<!-- should be ignored --> = foo}}\n\n{{echo|<!-- should be ignored -->1 = foo}}");
add("html2wt", "Templates: Other wikitext in parameter names (bug 67657)", "{{echo|''1'' = foo}}");
add("html2wt", "1a. Indent-Pre and Comments", " a\n\nc\n");
add("html2wt", "1b. Indent-Pre and Comments", " a\n\nc\n");
add("html2wt", "1c. Indent-Pre and Comments", "  a\n\n  a\n");
add("html2wt", "1d. Indent-Pre and Comments\n(Pre-handler currently cannot distinguish between comment/ws order and normalizes them to [comment,ws] order)", " a\n\n b\n");
add("html2wt", "2a. Indent-Pre and tables", "{|\n\n!h1\n!h2\n\n|foo\n|bar\n|}\n");
add("html2wt", "2b. Indent-Pre and tables", "{|\n\n|foo\n|}\n");
add("html2wt", "2c. Indent-Pre and tables (bug 42252)", "{|\n|+ foo\n\n! bar\n|}\n");
add("html2wt", "3c. Indent-Pre and block tags (pre-content on separate line)", "\n<nowiki> </nowiki>foo\n\n<div>\n foo\n\n</div>\n<center>\n foo\n\n</center>\n<blockquote>\n foo\n\n</blockquote>\n<blockquote>\n foo\n\n</blockquote>\n{|\n|\n foo\n\n|}\n*  foo\n");
add("html2wt", "4. Indent-Pre and extension tags", "a\n\n*<div style=\"width: 155px\">\n<div class=\"thumb\" style=\"width: 150px;\">\n<div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div>\n</div>\n<div class=\"gallerytext\"></div>\n</div>\n");
add("html2wt", "Render paragraphs when indent-pre is suppressed in blocklevels", "<blockquote>\n foo\n\n bar\n\n</blockquote>\n");
add("html2wt", "4. Multiple spaces at start-of-line", "<nowiki>    </nowiki> foo \n    foo\n\n{|\n\n|foo\n|}\n");
add("html2wt", "5a. White-space in indent-pre", " a<br>\n \n \n b\n");
add("html2wt", "6. Pre-blocks should extend across lines with leading WS even when there is no wrappable content", " a\n \n b\n\n c\n \n\nd\n");
add("html2wt", "HTML-pre: 2: indented text", "  foo\n");
add("html2wt", "HTML-pre: 3: other wikitext", " <nowiki>* foo\n # bar\n = no-h =\n '' no-italic ''\n [[ NoLink ]]</nowiki>\n");
add("html2wt", "Simple definition", "; name \n: Definition\n");
add("html2wt", "Definition list with no space", "; name\n: Definition\n");
add("html2wt", "Definition list with URL link", "; http://example.com/ \n: definition\n");
add("html2wt", "Definition list with bracketed URL link", "; [http://www.example.com/ Example]\n: Something about it\n");
add("html2wt", "Definition list with wikilink containing colon", "; [/index.php?title=Help:FAQ&action=edit&redlink=1 Help:FAQ]\n: The least-read page on Wikipedia\n");
add("html2wt", "Definition list with news link containing colon", ";  news:alt.wikipedia.rox\n: This isn't even a real newsgroup!\n");
add("html2wt", "Definition lists: colon in external link text", "; [http://www.wikipedia2.org/ Wikipedia : The Next Generation]\n: OK, I made that up\n");
add("html2wt", "Definition lists: colon in HTML attribute", "; '''bold'''\n");
add("html2wt", "Definition lists: self-closed tag", "; one<br>two \n: two-line fun\n");
add("html2wt", "Bug 11748: Literal closing tags", "\n; test 1\n: test test test test test\n; test 2\n: test test test test test\n");
add("html2wt", "Definition and unordered list using wiki syntax nested in unordered list using html tags.", "\n*; term \n*: description\n** unordered\n");
add("html2wt", "\nDefinition list with empty definition and following paragraph", "; term\n:\nParagraph text\n");
add("html2wt", "Definition Lists: No nesting: Multiple dd's", "; x\n: a\n: b\n");
add("html2wt", "Definition Lists: Indentation: Regular", ": i1\n:: i2\n::: i3\n");
add("html2wt", "Definition Lists: Indentation: Missing 1st level", ":: i2\n::: i3\n");
add("html2wt", "Definition Lists: Indentation: Multi-level indent", "::: i3\n");
add("html2wt", "Definition Lists: Hacky use to indent tables", ":: {|\n\n|foo\n\n|bar\n|}\nthis text\nshould be left alone\n");
add("html2wt", "Definition Lists: Hacky use to indent tables, with comments (bug 63979)", "<!-- foo -->\n:: {|\n|foo\n|bar\n|}<!-- bar -->\nthis text\nshould be left alone\n");
add("html2wt", "Definition Lists: Hacky use to indent tables, with comment before table", ":: <!-- foo -->{|\n|foo\n|}\n");
add("html2wt", "Definition Lists: Hacky use to indent tables (WS-insensitive)", "\n: {|\n|a\n|} \n");
add("html2wt", "Table / list interaction: indented table with lists in table contents", ": {|\n\n| a\n* b\n\n|-\n| c\n* d\n|}\n");
add("html2wt", "Table / list interaction: lists nested in tables nested in indented lists", ": {|\n\n|\n: a\n: b\n\n|\n* c\n* d\n|}\n* e\n* f\n");
add("html2wt", "Definition Lists: Nesting: Multi-level (Parsoid only)", "\n; t1 \n: d1      \n;; t2 \n;: <nowiki>:d2</nowiki>              \n;;; t3 \n;;: <nowiki>::d3</nowiki>                    \n");
add("html2wt", "Definition Lists: Nesting: Test 2 (Parsoid only)", "\n; t1      \n:: d2      \n");
add("html2wt", "Definition Lists: Nesting: Test 3 (Parsoid only)", "      \n:; t1                                    \n:::: d2                                          \n");
add("html2wt", "Definition Lists: Nesting: Test 4", "::; t3\n::: d3\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 1", "\n:;* foo\n::* bar\n:; baz\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 4", "*; d1 \n*: d2\n*; d3 \n*: d4\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 5", "*: d1\n*:: d2\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 6", "#*: d1\n#*::: d3\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 9", "*; foo \n*: bar\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 10", "*#; foo \n*#: bar\n");
add("html2wt", "Definition Lists: Mixed Lists: Test 11", "\n*#*#;*;; foo :bar\n*#*#; boo :baz\n");
add("html2wt", "Definition Lists: Weird Ones: Test 1", "\n*#;*::;; foo : bar (who uses this?)\n");
add("html2wt", "Definition Lists: colons occurring in tags", "; a\n: b\n; '''a:b'''\n; ''a:b''\n; <span>a:b</span>\n; <div>a:b</div>\n; a\n: b\n; ''a:b''\n");
add("html2wt", "Definition Lists: colons and tables 1", ": {|\n\n| x\n|}\n\n: {|\n\n| y\n|}\n");
add("html2wt", "Definition Lists: colons and tables 2", ": {|\n\n| x\n|}\n: {|\n\n| y\n|}\n");
add("html2wt", "External links: Free with trailing punctuation", "http://example.com,\nhttp://example.com;\nhttp://example.com\\\nhttp://example.com.\nhttp://example.com:\nhttp://example.com!\nhttp://example.com?\nhttp://example.com)\nhttp://example.com/url_with_(brackets)\n(http://example.com/url_without_brackets)\nhttp://example.com/url_with_entity&nbsp;\nhttp://example.com/url_with_entity&nbsp;\nhttp://example.com/url_with_entity&nbsp;\nhttp://example.com/url_with_entity<\nhttp://example.com/url_with_entity%3C\nhttp://example.com/url_with_entity%3C\n");
add("html2wt", "External links: URL in text", "URL in text: http://example.com\n");
add("html2wt", "External links: Clickable images", "ja-style clickable images: http://meta.wikimedia.org/upload/f/f1/Ncwikicol.png\n");
add("html2wt", "External links: raw ampersand", "Old & use: http://x&y\n");
add("html2wt", "External links: encoded ampersand", "Old &#x26; use: http://x&y\n");
add("html2wt", "External links: encoded equals (bug 6102)", "http://example.com/?foo=bar\n");
add("html2wt", "External links: [raw ampersand]", "Old &#x26; use: [http://x&y]\n");
add("html2wt", "BUG 289: literal \">\"-token in URL-tail", "http://www.example.com/'''html'''\n");
add("html2wt", "BUG 289: \">\"-token in bracketed URL", "[http://www.example.com/ <hello> stuff]\n");
add("html2wt", "BUG 289: literal \">\"-token in bracketed URL", "[http://www.example.com/ '''html''' stuff]\n");
add("html2wt", "BUG 289: literal double quote in bracketed URL", "[http://www.example.com/ \"hello\" stuff]\n");
add("html2wt", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081)", "[http://www.example.com test]\n");
add("html2wt", "External links: wiki links within external link (Bug 3695)", "[http://example.com][[wikilink]]<span> embedded in ext link</span>\n");
add("html2wt", "Bracketed external links with template-generated invalid target", "[http:/example.com title]\n");
add("html2wt", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid", "[http://example.com ''text'']\n[http://example.com '''text''']\n''Something ''[http://example.com ''in italic'']\n''Something ''[http://example.com ''mixed''''', even bold''']\n'''''Now '''''[http://example.com '''''both''''']\n");
add("html2wt", "External link containing double-single-quotes in text embedded in italics (bug 4598 sanity check)", "''Some ''[http://example.com/ ''pretty ''italics'' and stuff'']''!''\n");
add("html2wt", "External link containing double-single-quotes with no space separating the url from text in italics", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas'' (1901) en el sitio de ][[Museo Picasso (París)|Museo Picasso]]<span>.</span>\n");
add("html2wt", "External link with comments in link text", "[http://www.google.com Google ]\n");
add("html2wt", "URL-encoding in URL functions (single parameter)", "/index.php?title=Some_page&amp=&\n");
add("html2wt", "URL-encoding in URL functions (multiple parameters)", "/index.php?title=Some_page&q=?&amp=&\n");
add("html2wt", "Non-extlinks in brackets", "[foo]\n[foo bar]\n[foo ''bar'']\n[fool's] errand\n[fool's errand]\n[foo]\n[foo bar]\n[foo ''bar'']\n[fool's] errand\n[fool's errand]\n[url=foo]\n[url=http://example.com]\n");
add("html2wt", "Unclosed and unmatched quotes", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n'''Bold text..'''\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\n'''Bold tag left open'''\n\n''Italic tag left open''\n\nNormal text.\n\n'''This year'<nowiki/>'''s election ''should'' beat '''last year''''s.\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nPlain ''italic'''s plain\n");
add("html2wt", "A table with caption with default-spaced attributes and a table row", "{|\n|+ style=\"color: red;\" | caption1\n\n| foo\n|}\n");
add("html2wt", "A table with captions with non-default spaced attributes and a table row", "{|\n|+ style=\"color: red;\" |caption2\n\n|+ style=\"color: red;\" | caption3\n\n| foo\n|}\n");
add("html2wt", "Table td-cell syntax variations", "{|\n\n| baz\n\n| foo bar foo \n| baz\n\n| style=\"color:red;\" | baz\n\n| style='color:red;' \n| baz\n|}\n");
add("html2wt", "Simple table", "{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\n");
add("html2wt", "Simple table but with multiple dashes for row wikitext", "{|\n\n| foo\n\n|-\n| bar\n|}\n");
add("html2wt", "Multiplication table", "{| border=\"1\" cellpadding=\"2\"\n|+Multiplication table\n\n! × \n! 1 \n! 2 \n! 3\n\n|-\n! 1\n\n| 1 \n| 2 \n| 3\n\n|-\n! 2\n\n| 2 \n| 4 \n| 6\n\n|-\n! 3\n\n| 3 \n| 6 \n| 9\n\n|-\n! 4\n\n| 4 \n| 8 \n| 12\n\n|-\n! 5\n\n| 5 \n| 10 \n| 15\n|}\n");
add("html2wt", "Accept \"||\" in table headings", "{|\n\n!h1 \n! h2\n|}\n");
add("html2wt", "Accept \"||\" in indented table headings", ": {|\n\n!h1 \n! h2\n|}\n");
add("html2wt", "Accept empty attributes in td/th cells (td/th cells starting with leading ||)", "{|\n\n! h1\n\n| a\n|}\n");
add("html2wt", "Accept \"| !\" at start of line in tables (ignore !-attribute)", "{|\n\n| bar\n|}\n");
add("html2wt", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/- ", "{|\n\n| style=\"color:red;\" |+1\n\n| style=\"color:blue;\" |-1\n\n|-\n| 1 \n| 2 \n| 3\n\n| 1 \n|<nowiki>+2 </nowiki>\n|<nowiki>-3</nowiki>\n\n|-\n| +1\n\n| -1\n|}\n");
add("html2wt", "Table rowspan", "{| border=\"1\"\n\n| Cell 1, row 1\n\n| rowspan=\"2\" | Cell 2, row 1 (and 2)\n\n| Cell 3, row 1\n\n|-\n| Cell 1, row 2\n\n| Cell 3, row 2\n|}\n");
add("html2wt", "Nested table", "{| border=\"1\"\n\n| α\n\n|\n{| bgcolor=\"#ABCDEF\" border=\"2\"\n\n|nested\n\n|-\n|table\n|}\n\n|the original table again\n|}\n");
add("html2wt", "Invalid attributes in table cell (bug 1830)", "{|\n\n|broken\n|}\n");
add("html2wt", "Indented table markup mixed with indented pre content (proposed in bug 6200)", " {|\n \n |\n Text that should be rendered preformatted \n \n |}\n");
add("html2wt", "Template-generated table cell attributes and cell content", "{|\n\n| style=\"color: red\" | Foo\n\n| style=\"color: red\" | Foo\n\n| style=\"color: red\" | Foo\n\n| align=\"center\" style=\"color: red\" | Foo\n\n| align=\"center\" style=\"color: red\" | Foo\n|}\n");
add("html2wt", "Template-generated table cell attributes and cell content (2)", "{|\n\n| align=\"center\" style=\"color: red\" | Foo \n| Bar \n| Baz\n|}\n");
add("html2wt", "Table with row followed by newlines and table heading", "{|\n\n! foo\n|}\n");
add("html2wt", "Table with empty line following the start tag", "{|\n\n| foo\n|}\n");
add("html2wt", "Table attributes with empty value", "{|\n\n| style=\"\" | hello\n|}\n");
add("html2wt", "Wikitext table with a lot of comments", "{|\n\n| foo\n\n|-\n|\n|}\n");
add("html2wt", "Wikitext table with double-line table cell", "{|\n\n|a\nb\n\n|}\n");
add("html2wt", "Table cell with a single comment", "{|\n\n|\n\n| a\n|}\n");
add("html2wt", "Build table with {{!}}", "{| class=\"wikitable\"\n\n! header\n\n! second header\n\n|- style=\"color:red;\"\n| data \n| style=\"color:red;\" | second data\n|}\n");
add("html2wt", "Build table with pipe as data", "{| class=\"wikitable\"\n\n! header\n\n! second header\n\n|- style=\"color:red;\"\n| data \n| style=\"color:red;\" | second data\n\n|-\n| style=\"color:red;\" |<nowiki> data with | </nowiki>\n| style=\"color:red;\" |<nowiki> second data with |</nowiki>\n\n|-\n|<nowiki> data with | </nowiki>\n|<nowiki> second data with |</nowiki>\n|}\n");
add("html2wt", "Build table with wikilink", "{| class=\"wikitable\"\n\n! header \n! second header\n\n|- style=\"color:red;\"\n| data [[wiki/Main Page|linktext]] \n| second data [[wiki/Main Page|linktext]]\n\n|-\n| data \n| second data [[wiki/Main Page|link|text with pipe]]\n|}\n");
add("html2wt", "Wikitext table with html-syntax row", "{|\n\n|foo\n|}\n");
add("html2wt", "Plain link, capitalized", "[[wiki/Main Page|Main Page]]\n");
add("html2wt", "Plain link, uncapitalized", "[[wiki/Main Page|main Page]]\n");
add("html2wt", "Piped link", "[[wiki/Main Page|The Main Page]]\n");
add("html2wt", "Piped link with comment in link text", "[[wiki/Main Page|The Main Page]]\n");
add("html2wt", "Piped link with multiple pipe characters in link text", "[[Main Page|<nowiki>|The|Main|Page|</nowiki>]]\n");
add("html2wt", "Broken link", "[/index.php?title=Zigzagzogzagzig&action=edit&redlink=1 Zigzagzogzagzig]\n");
add("html2wt", "Broken link with fragment", "[/index.php?title=Zigzagzogzagzig&action=edit&redlink=1 Zigzagzogzagzig#zug]\n");
add("html2wt", "Special page link with fragment", "[[wiki/Special:Version#anchor|Special:Version#anchor]]\n");
add("html2wt", "Nonexistent special page link with fragment", "[[wiki/Special:ThisNameWillHopefullyNeverBeUsed|Special:ThisNameWillHopefullyNeverBeUsed#anchor]]\n");
add("html2wt", "Link with prefix", "xxx[[wiki/Main Page|main Page]], xxx[[wiki/Main Page|Main Page]], Xxx[[wiki/Main Page|main Page]] XXX[[wiki/Main Page|main Page]], XXX[[wiki/Main Page|Main Page]]\n");
add("html2wt", "Link with suffix", "[[wiki/Main Page|Main Pagexxx]], [[wiki/Main Page|Main Page]]XXX, [[wiki/Main Page|Main Page]]!!!\n");
add("html2wt", "Bug 43661: Piped links with identical prefixes", "[[wiki/Prefixed article|prefixed articles with spaces]]\n\n[[wiki/Prefixed article|prefixed articlesaoeu]]\n\n[[wiki/Main Page|Main Page test]]\n");
add("html2wt", "Link with HTML entity in suffix / tail", "[[wiki/Main Page|Main Page]]\", [[wiki/Main Page|Main Page]]a\n");
add("html2wt", "Link with 4 brackets", "[[[[wiki/Main Page|Main Page]]]]\n");
add("html2wt", "Piped link with extlink-like text", "[[wiki/Main Page|[bar]]]\n[[wiki/Main Page|This is a [bar]]]\n");
add("html2wt", "Link with multiple pipes", "[[wiki/Main Page|The|Main|Page]]\n");
add("html2wt", "Link to namespaces", "[/index.php?title=Talk:Parser_testing&action=edit&redlink=1 Talk:Parser testing], [/index.php?title=Meta:Disclaimers&action=edit&redlink=1 Meta:Disclaimers]\n");
add("html2wt", "Link with space in namespace", "[/index.php?title=User_talk:Foo_bar&action=edit&redlink=1 User talk:Foo bar]\n");
add("html2wt", "Namespace takes precedence over interwiki link (bug 51680)", "[[wiki/MemoryAlpha:AlphaTest|MemoryAlpha:AlphaTest]]\n");
add("html2wt", "Piped link to namespace", "[/index.php?title=Meta:Disclaimers&action=edit&redlink=1 The disclaimers]\n");
add("html2wt", "Link containing \"#<\" and \"#>\" % as a hex sequences- these are valid section anchors\nExample for such a section: == < ==", "[[Main Page#<|#<]][[Main Page#>|#>]]\n");
add("html2wt", "Link containing double-single-quotes '' in text embedded in italics (bug 4598 sanity check)", "''Some [/index.php?title=Link&action=edit&redlink=1 pretty ''italics'' and stuff]!''\n");
add("html2wt", "Plain link to page with question mark in title", "[[wiki/A?b|A?b]]\n\n[[wiki/A?b|Baz]]\n");
add("html2wt", "BUG 337: Escaped self-links should be bold", "[[Bug462]] [[Bug462]]\n");
add("html2wt", "Self-link to section should not be bold", "[[wiki/Main Page#section|Main Page#section]]\n");
add("html2wt", "Self-link to numeric title", "<strong class=\"selflink\">0</strong>\n");
add("html2wt", "Link to numeric-equivalent title", "[[wiki/00|00]]\n");
add("html2wt", "<nowiki> inside a link", "<nowiki>[[Main Page]]</nowiki> [[wiki/Main Page|the main page [it's not very good]]]\n");
add("html2wt", "Non-breaking spaces in title", "[[wiki/Main Page|  Main   Page  ]]\n");
add("html2wt", "Internal link with ca linktrail, surrounded by bold apostrophes (bug 27473 primary issue)", "'''[[wiki/Main Page|Main Page]]'''\n");
add("html2wt", "Internal link with ca linktrail, surrounded by italic apostrophes (bug 27473 primary issue)", "''[[wiki/Main Page|Main Page]]''\n");
add("html2wt", "Internal link with en linktrail: no apostrophes (bug 27473)", "[/index.php?title=Something&action=edit&redlink=1 Something]'nice\n");
add("html2wt", "Internal link with ca linktrail with apostrophes (bug 27473)", "[/index.php?title=Something&action=edit&redlink=1 Something'nice]\n");
add("html2wt", "Internal link with kaa linktrail with apostrophes (bug 27473)", "[/index.php?title=Something&action=edit&redlink=1 Something'nice]\n");
add("html2wt", "Internal link with is link prefix", "Aðrir [[wiki/Söfnuður|mótmælendasöfnuðir]] og\n");
add("html2wt", "Internal link with is link trail and link prefix", "[[wiki/Mótmælendatrú|xxxar]]\n[[wiki/Mótmælendatrú|mótmælendatrúar]]\n[[wiki/Söfnuður|mótmælendasöfnuður]]\n[[wiki/Söfnuður|mótmælendasöfnuðir]]\n[[wiki/Söfnuður|mótmælendasöfnuðirxxx]]\n");
add("html2wt", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved", "[[wiki/Foo|  bar]]\n\n[[wiki/Foo|  ''bar'']]\n\n[http://wp.org foo]\n\n[http://wp.org ''foo'']\n");
add("html2wt", "Interwiki link encoding conversion (bug 1636)", "* [[wikipedia:ro:Olteniţa|Wikipedia:ro:Olteniţa]]\n* [[wikipedia:ro:Olteniţa|Wikipedia:ro:Olteniţa]]\n");
add("html2wt", "Interwiki link with fragment (bug 2130)", "[[meatball:SoftSecurity#foo|MeatBall:SoftSecurity#foo]]\n");
add("html2wt", "Parsoid-specific test: Wikilinks with &nbsp; should RT properly", "[/index.php?title=WW_II&action=edit&redlink=1 WW II]\n");
add("html2wt", "Redirect to image page (2)", "#REDIRECT [[File:Wiki.png]]");
add("html2wt", "Redirect to language", "#REDIRECT [[File:Wiki.png]]");
add("html2wt", "Redirect to interwiki", "#REDIRECT [[File:Wiki.png]]");
add("html2wt", "Non-English #REDIRECT", "#tilvísun [[Main Page]]");
add("html2wt", "<br> to <br />", "1\n2\n3\n");
add("html2wt", "Incorrecly removing closing slashes from correctly formed XHTML", "\n");
add("html2wt", "Failing to transform badly formed HTML into correct XHTML", "\n\n\n");
add("html2wt", "Handling html with a div self-closing tag", "<div title=\"\" />\n<div title=\"\" />\n<div title=\"\" />\n<div title=\"bar\" />\n<div title=\"bar\" />\n<div title=\"bar/\">");
add("html2wt", "Handling html with a br self-closing tag", "\n\n\n\n\n\n");
add("html2wt", "Horizontal ruler (should it add that extra space?)", "----\n----\nfoo\n----\nbar\n");
add("html2wt", "Horizontal ruler -- eats additional dashes on the same line", "----\n");
add("html2wt", "Horizontal ruler -- Supports content following dashes on same line", "----\nFoo\n");
add("html2wt", "Common list", "* Common list\n* item 2\n* item 3\n");
add("html2wt", "Numbered list", "# Numbered list\n# item 2\n# item 3\n");
add("html2wt", "Mixed list", "* Mixed list\n*# with numbers\n** and bullets\n*# and numbers\n* bullets again\n** bullet level 2\n*** bullet level 3\n***# Number on level 4\n** bullet level 2\n**# Number on level 3\n**# Number on level 3\n*# number level 2\n* Level 1\n*** Level 3\n#** Level 3, but ordered\n");
add("html2wt", "Nested lists 1", "* foo\n** bar\n");
add("html2wt", "Nested lists 2", "** foo\n* bar\n");
add("html2wt", "Nested lists 3 (first element empty)", "\n** bar\n");
add("html2wt", "Nested lists 4 (first element empty)", "**\n* bar\n");
add("html2wt", "Nested lists 6 (both elements empty)", "\n**\n");
add("html2wt", "1. Lists with start-of-line-transparent tokens before bullets: Comments", "* foo\n* bar\n* baz\n");
add("html2wt", "2. Lists with start-of-line-transparent tokens before bullets: Template close", "* foo bar\n* baz\n");
add("html2wt", "List items are not parsed correctly following a <pre> block (bug 785)", "* \n foo\n* \n bar\n* zar\n");
add("html2wt", "List items from template", "* item 1\n* item 2\n\n* item 0\n* item 1\n* item 2\n\n* item 0\n* notSOL\n* item 1\n* item 2\n");
add("html2wt", "List interrupted by empty line or heading", "* foo\n\n** bar\n\n== <span class=\"mw-headline\" id=\"A_heading\">A heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n* Another list item\n");
add("html2wt", "Multiple list tags generated by templates", "* a\n* b\n* c\n");
add("html2wt", "Single-comment whitespace lines dont break lists, and neither do multi-comment whitespace lines", "* a\n* b\n* c\n* d\n");
add("html2wt", "Replacing whitespace with tabs still doesn't break the list (gerrit 78327)", "* a\n* b\n* c\n* d\n");
add("html2wt", "Parsoid: Make sure nested lists are serialized on their own line even if HTML contains no newlines", "# foo\n## bar\n\n* foo\n** bar\n\n: foo\n:: bar\n");
add("html2wt", "Unbalanced closing block tags break a list\n(php parser relies on Tidy to fix up)", "<div>\n\n* a\n\n</div>\n<div>\n\n* b\n\n</div>");
add("html2wt", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up)", "<span>\n\n* a<span></span>\n* b\n\n</span>");
add("html2wt", "List embedded in a non-block tag\n(Ugly Parsoid output -- worth fixing; PHP parser relies on Tidy)", "<small>\n\n* foo\n\n</small>");
add("html2wt", "Magic Word: {{CURRENTDAY}}", "1\n");
add("html2wt", "Magic Word: {{CURRENTDAY2}}", "01\n");
add("html2wt", "Magic Word: {{CURRENTDAYNAME}}", "Thursday\n");
add("html2wt", "Magic Word: {{CURRENTDOW}}", "4\n");
add("html2wt", "Magic Word: {{CURRENTMONTH}}", "01\n");
add("html2wt", "Magic Word: {{CURRENTMONTH1}}", "1\n");
add("html2wt", "Magic Word: {{CURRENTMONTHABBREV}}", "Jan\n");
add("html2wt", "Magic Word: {{CURRENTMONTHNAME}}", "January\n");
add("html2wt", "Magic Word: {{CURRENTMONTHNAMEGEN}}", "January\n");
add("html2wt", "Magic Word: {{CURRENTTIME}}", "00:02\n");
add("html2wt", "Magic Word: {{CURRENTHOUR}}", "00\n");
add("html2wt", "Magic Word: {{CURRENTWEEK}} (@bug 4594)", "1\n");
add("html2wt", "Magic Word: {{CURRENTYEAR}}", "1970\n");
add("html2wt", "Magic Word: {{CURRENTTIMESTAMP}}", "19700101000203\n");
add("html2wt", "Magic Words LOCAL (UTC)", "* 01\n* 1\n* January\n* January\n* Jan\n* 1\n* 01\n* Thursday\n* 1970\n* 00:02\n* 00\n* 1\n* 4\n* 19700101000203\n");
add("html2wt", "Magic Word: {{FULLPAGENAME}}", "User:Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{FULLPAGENAMEE}}", "User:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{TALKSPACE}}", "User talk\n");
add("html2wt", "Magic Word: {{TALKSPACE}}, same namespace", "User talk\n");
add("html2wt", "Magic Word: {{TALKSPACE}}, main namespace", "Talk\n");
add("html2wt", "Magic Word: {{TALKSPACEE}}", "User_talk\n");
add("html2wt", "Magic Word: {{SUBJECTSPACE}}", "User\n");
add("html2wt", "Magic Word: {{SUBJECTSPACE}}, same namespace", "User\n");
add("html2wt", "Magic Word: {{SUBJECTSPACE}}, main namespace", "");
add("html2wt", "Magic Word: {{SUBJECTSPACEE}}", "User\n");
add("html2wt", "Magic Word: {{NAMESPACE}}", "User\n");
add("html2wt", "Magic Word: {{NAMESPACEE}}", "User\n");
add("html2wt", "Magic Word: {{NAMESPACENUMBER}}", "2\n");
add("html2wt", "Magic Word: {{SUBPAGENAME}}", "sub ö\n");
add("html2wt", "Magic Word: {{SUBPAGENAMEE}}", "sub_%C3%B6\n");
add("html2wt", "Magic Word: {{ROOTPAGENAME}}", "Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{ROOTPAGENAMEE}}", "%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{BASEPAGENAME}}", "Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{BASEPAGENAMEE}}", "%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{TALKPAGENAME}}", "User talk:Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{TALKPAGENAMEE}}", "User_talk:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{SUBJECTPAGENAME}}", "User:Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{SUBJECTPAGENAMEE}}", "User:%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{NUMBEROFFILES}}", "5\n");
add("html2wt", "Magic Word: {{PAGENAME}}", "Ævar Arnfjörð Bjarmason\n");
add("html2wt", "Magic Word: {{PAGENAME}} with metacharacters", "''<nowiki/>'foo & bar = baz'''\n");
add("html2wt", "Magic Word: {{PAGENAME}} with metacharacters (bug 26781)", "<nowiki>*RFC 1234 http://example.com/</nowiki>\n");
add("html2wt", "Magic Word: {{PAGENAMEE}}", "%C3%86var_Arnfj%C3%B6r%C3%B0_Bjarmason\n");
add("html2wt", "Magic Word: {{PAGENAMEE}} with metacharacters (bug 26781)", "<nowiki>*RFC_1234_http://example.com/</nowiki>\n");
add("html2wt", "Magic Word: {{REVISIONID}}", "1337\n");
add("html2wt", "Magic Word: {{SCRIPTPATH}}", "/\n");
add("html2wt", "Magic Word: {{STYLEPATH}}", "/skins\n");
add("html2wt", "Magic Word: {{SERVER}}", "http://example.org\n");
add("html2wt", "Magic Word: {{SERVERNAME}}", "example.org\n");
add("html2wt", "Magic Word: {{SITENAME}}", "MediaWiki\n");
add("html2wt", "Case-sensitive magic words, when cased differently, should just be template transclusions", "[/index.php?title=Template:CurrentMonth&action=edit&redlink=1 Template:CurrentMonth]\n[/index.php?title=Template:Currentday&action=edit&redlink=1 Template:Currentday]\n[/index.php?title=Template:CURreNTweEK&action=edit&redlink=1 Template:CURreNTweEK]\n[/index.php?title=Template:CurrentHour&action=edit&redlink=1 Template:CurrentHour]\n");
add("html2wt", "Case-insensitive magic words should still work with weird casing.", "example.org\naOEU\nAoeu\nhttp://example.org\n");
add("html2wt", "Namespace 1 {{ns:1}}", "Talk\n");
add("html2wt", "Namespace 1 {{ns:01}}", "Talk\n");
add("html2wt", "Namespace 0 {{ns:0}} (bug 4783)", "");
add("html2wt", "Namespace 0 {{ns:00}} (bug 4783)", "");
add("html2wt", "Namespace -1 {{ns:-1}}", "Special\n");
add("html2wt", "Namespace User {{ns:User}}", "User\n");
add("html2wt", "Namespace User talk {{ns:User_talk}}", "User talk\n");
add("html2wt", "Namespace User talk {{ns:uSeR tAlK}}", "User talk\n");
add("html2wt", "Namespace File {{ns:File}}", "File\n");
add("html2wt", "Namespace File {{ns:Image}}", "File\n");
add("html2wt", "Namespace (lang=de) Benutzer {{ns:User}}", "Benutzer\n");
add("html2wt", "Namespace (lang=de) Benutzer Diskussion {{ns:3}}", "Benutzer Diskussion\n");
add("html2wt", "Urlencode", "hi+world%3F%21\nhi_world%3F!\nhi%20world%3F%21\nhi+world%3F%21\n");
add("html2wt", "Magic links: internal link to RFC (bug 479)", "[/index.php?title=RFC_123&action=edit&redlink=1 RFC 123]\n");
add("html2wt", "Magic links: RFC (bug 65278)", "This is RFC 822<nowiki> but thisRFC 822 is not RFC 822linked.</nowiki>\n");
add("html2wt", "Magic links: ISBN (bug 1937)", "[[wiki/Special:BookSources/0306406152|ISBN 0-306-40615-2]]\n");
add("html2wt", "Magic links: ISBN (bug 65278)", "This is [[wiki/Special:BookSources/9780316098113|ISBN 978-0-316-09811-3]] but thisISBN 978-0-316-09811-3 is not ISBN 978-0-316-09811-3linked.\n");
add("html2wt", "Magic links: PMID (bug 65278)", "This is PMID 1234<nowiki> but thisPMID 1234 is not PMID 1234linked.</nowiki>\n");
add("html2wt", "Nonexistent template", "[/index.php?title=Template:Thistemplatedoesnotexist&action=edit&redlink=1 Template:Thistemplatedoesnotexist]\n");
add("html2wt", "Template with invalid target containing tags", "<nowiki>{{</nowiki>a'''b'''|foo|a=b|a = b<nowiki>}}</nowiki>\n");
add("html2wt", "Template with invalid target containing unclosed tag", "<nowiki>{{</nowiki>a'''|foo|a=b|a = b<nowiki>}}</nowiki>'''\n");
add("html2wt", "Simple template", "This is a test template\n");
add("html2wt", "Template with explicit namespace", "This is a test template\n");
add("html2wt", "Template parameter", "This is a test template with parameter foo\n");
add("html2wt", "Template unnamed parameter", "[[wiki/Main Page|the main page]]\n");
add("html2wt", "Template with template name as unnamed argument", "(test)\n");
add("html2wt", "Template with template name as argument", "(test)\n");
add("html2wt", "Template with template name as argument (2)", "(test)\n");
add("html2wt", "Template with default value", "(test)\n");
add("html2wt", "Template with default value (value set)", "'''templ'''\n");
add("html2wt", "Template redirect", "(test)\n");
add("html2wt", "Template with argument in separate line", "(test)\n");
add("html2wt", "Template with complex template as argument", "This is a test template with parameter (test)\n");
add("html2wt", "Template with thumb image (with link in description)", "{{paramtest|param = [[Image:noimage.png|thumb|[[no link|link]] [[no link|caption]]]]}}\n");
add("html2wt", "Template with complex arguments", "[[wiki/Template:Complextemplate|link]] This is a test template with parameter (test)\n");
add("html2wt", "BUG 553: link with two variables in a piped link", "{|\n\n|<nowiki>[[{{{1}}}|{{{2}}}]]</nowiki>\n|}\n");
add("html2wt", "Magic variable as template parameter", "This is a test template with parameter MediaWiki\n");
add("html2wt", "Template parameter as link source", "[[wiki/Main Page|link]]\n");
add("html2wt", "Template-generated attribute string (k='v')", "<span id=\"v1\">bar</span>\n");
add("html2wt", "Template passing argument to another template", "including another template, This is a test template with parameter 'hmm'\n");
add("html2wt", "Template as link source", "[[wiki/Main Page|Main Page]]\n\n[[wiki/Main Page|Main Page]]\n\n[[wiki/Main Page|Main Page]]Page\n");
add("html2wt", "Template infinite loop", "<span class=\"error\">Template loop detected: [[wiki/Template:Loop1|Template:Loop1]]</span>\n");
add("html2wt", "Template from main namespace", "blah blah\n");
add("html2wt", "BUG 529: Template with table, not included at beginning of line", "foo \n\n{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\n");
add("html2wt", "BUG 523: Template shouldn't eat newline (or add an extra one before table)", "foo\n\n{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\n");
add("html2wt", "BUG 41: Template parameters shown as broken links", "<nowiki>{{{parameter}}}</nowiki>\n");
add("html2wt", "Template with targets containing wikilinks", "<nowiki>{{</nowiki>[[wiki/Foo|foo]]<nowiki>}}</nowiki>\n\n<nowiki>{{</nowiki>[[wiki/Foo|foo]]<nowiki>}}</nowiki>\n\n<nowiki>{{[[foo}}</nowiki>]]\n");
add("html2wt", "msgnw keyword", "<nowiki>''None'' of '''this''' should be \n* interpreted\n but rather passed unmodified\n{{test}}\n<gallery>\nFile:Foobar.jpg\n</gallery></nowiki>\n");
add("html2wt", "int keyword", "You have lots of money (not!).\n");
add("html2wt", "<includeonly> and <noinclude> being included", "Foobar\n");
add("html2wt", "<onlyinclude> being included", "Foo\n");
add("html2wt", "<onlyinclude> and <includeonly> being included", "Foo\n");
add("html2wt", "<includeonly> and <noinclude> on a page", "Foozar\n");
add("html2wt", "Un-closed <noinclude>", "");
add("html2wt", "<onlyinclude> on a page", "Foobar\n");
add("html2wt", "Un-closed <onlyinclude>", "");
add("html2wt", "Self-closed noinclude, includeonly, onlyinclude tags", "\n");
add("html2wt", "Unbalanced includeonly and noinclude tags", "{|\n\n|a\n\n|b\n\n|c</includeonly>\n\n|d</includeonly></includeonly>\n|}\n");
add("html2wt", "Bug 6563: Edit link generation for section shown by <includeonly>", "== <span class=\"mw-headline\" id=\"Includeonly_section\">Includeonly section</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Template:Includeonly_section&action=edit&section=T-1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_T-1\">Section T-1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Template:Includeonly_section&action=edit&section=T-2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 6563: Section extraction for section shown by <includeonly>", "<nowiki>==Section T-2==</nowiki>");
add("html2wt", "Bug 6563: Edit link generation for section suppressed by <includeonly>", "== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 6563: Section extraction for section suppressed by <includeonly>", "<nowiki>==Section 1==</nowiki>");
add("html2wt", "Un-closed <includeonly>", "");
add("html2wt", "Includes and comments at SOL", "<!-- comment --><noinclude><!-- comment --></noinclude><!-- comment -->\n\n== hu ==\n\n<noinclude>\nsome\n</noinclude>\n* stuff\n* here\n\n<includeonly>can have stuff</includeonly>\n\n=== here ===\n");
add("html2wt", "0. includeonly around the entire attribute", "<span id=\"v2\">bar</span>\n");
add("html2wt", "1. includeonly in html attr key", "<span id=\"foo\">bar</span>\n");
add("html2wt", "2. includeonly in html attr value", "<span id=\"v1\">bar</span>\n<span id=\"v1\">bar</span>\n");
add("html2wt", "3. includeonly in part of an attr value", "<span style=\"color:red;\">bar</span>\n");
add("html2wt", "4. includeonly in table attributes", "{|\n\n|a\n\n|}\n");
add("html2wt", "Templates: Template Name/Arg clash: 1. Use of positional param", "foo\n");
add("html2wt", "Templates: Template Name/Arg clash: 2. Use of named param", "foo\n");
add("html2wt", "Templates: Template Name/Arg clash: 3. Use of named param with empty input", "quote\n");
add("html2wt", "Templates: 1. Simple use", "Foo\n");
add("html2wt", "Templates: 2. Inside a block tag", "<div>Foo</div>\n<blockquote>\nFoo\n</blockquote>");
add("html2wt", "Templates: P-wrapping: 1a. Templates on consecutive lines", "Foo\nbar\n");
add("html2wt", "Templates: P-wrapping: 1b. Templates on consecutive lines", "Foo\n\nbar\nbaz\n");
add("html2wt", "Templates: P-wrapping: 1c. Templates on consecutive lines", "Foo\n\nbar\n<div>baz</div>");
add("html2wt", "Templates: Inline Text: 1. Multiple template uses", "Foobarbaz\n");
add("html2wt", "Templates: Inline Text: 2. Back-to-back template uses", "Foobar\n");
add("html2wt", "Templates: Block Tags: 1. Multiple template uses", "<div>Foo</div><div>bar</div><div>baz</div>\n");
add("html2wt", "Templates: Block Tags: 2. Back-to-back template uses", "<div>Foo</div><div>bar</div>\n");
add("html2wt", "Templates: Links: 1. Simple example", "[[wiki/Foo|bar]]\n");
add("html2wt", "Templates: Links: 2. Generation of link href", "[[wiki/Foo|bar]]\n");
add("html2wt", "Templates: Links: 3. Generation of part of a link href", "[[wiki/Foo|bar]]\n\n[/index.php?title=Foobar&action=edit&redlink=1 Foobar]\n\n[/index.php?title=Foobarbaz&action=edit&redlink=1 Foobarbaz]\n\n[/index.php?title=Foobar&action=edit&redlink=1 bar]\n\n[/index.php?title=Foobar&action=edit&redlink=1 Foobar]\n\n[/index.php?title=Foobar&action=edit&redlink=1 bar]\n");
add("html2wt", "Templates: Links: 4. Multiple templates generating link href", "[/index.php?title=Foobar&action=edit&redlink=1 Foobar]\n");
add("html2wt", "Templates: Links: 5. Generation of link text", "[[wiki/Foo|bar]]\n");
add("html2wt", "Templates: Links: 5. Nested templates (only outermost template should be marked)", "[[wiki/Foo|bar]]\n");
add("html2wt", "Templates: HTML Tag: 1. Generation of HTML attr. key", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 2. Generation of HTML attr. value", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 3. Generation of HTML attr key and value", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 4. Generation of starting piece of HTML attr value", "<div title=\"This is a long title with just one piece templated\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 5. Generation of middle piece of HTML attr value", "<div title=\"This is a long title with just one piece templated\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 6. Generation of end piece of HTML attr value", "<div title=\"This is a long title with just one piece templated\">foo</div>\n");
add("html2wt", "Templates: HTML Tag: 7. Generation of partial attribute key string", "<div style=\"color:red;\">foo</div>\n");
add("html2wt", "Templates: HTML Tables: 1. Generating start of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 2a. Generating middle of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 2b. Generating middle of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 3. Generating end of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4a. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4b. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4c. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4d. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4e. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: HTML Tables: 4f. Generating a single tag of a HTML table", "{|\n|foo\n|}\n");
add("html2wt", "Templates: Wiki Tables: 1a. Fostering of entire template content", "a\n{|\n\n|\n\n|}\n");
add("html2wt", "Templates: Wiki Tables: 1b. Fostering of entire template content", "<div>\nfoo\n</div>\n{|\n\n|\n\n|}\n");
add("html2wt", "Templates: Wiki Tables: 2. Fostering of partial template content", "a\n<div>b</div>\n{|\n\n|\n\n|}\n");
add("html2wt", "Templates: Wiki Tables: 3. td-content via multiple templates", "{|\n\n|ab\n|}\n");
add("html2wt", "Templates: Wiki Tables: 4. Templated tags, no content", "{|\n|\n|}\n");
add("html2wt", "Templates: Wiki Tables: 5. Templated tags, regular td-tags", "{|\n\n|foo\n|}\n");
add("html2wt", "Templates: Wiki Tables: 6. Templated tags, templated td-tags", "{|\n\n|foo\n|}\n");
add("html2wt", "Templates: Lists: Multi-line list-items via templates", "* a [/index.php?title=Template:Nonexistent&action=edit&redlink=1 Template:Nonexistent]\n* b [/index.php?title=Template:Nonexistent&action=edit&redlink=1 Template:Nonexistent]\n");
add("html2wt", "Templates: Ugly nesting: 1. Quotes opened/closed across templates (echo)", "''ab''c''d''e\n");
add("html2wt", "Templates: Ugly nesting: 4. Divs opened/closed across templates", "a\n<div>bc</div>\nde\n");
add("html2wt", "Templates: Ugly templates: 3. newline-only template parameter", "foo \n");
add("html2wt", "Templates: Ugly templates: 4. newline-only template parameter inconsistency", "\n");
add("html2wt", "Parser Functions: 1. Simple example", "FOO\n");
add("html2wt", "Parser Functions: 2. Nested use (only outermost should be marked up)", "FOO\n");
add("html2wt", "pre-save transform: subst:", "This is a test template");
add("html2wt", "pre-save transform: normal template", "<nowiki>{{test}}</nowiki>");
add("html2wt", "pre-save transform: nonexistent template", "<nowiki>{{thistemplatedoesnotexist}}</nowiki>");
add("html2wt", "pre-save transform: subst magic variables", "MediaWiki");
add("html2wt", "pre-save transform: subst: templates with parameters", "This is a test template with parameter \"something else\"");
add("html2wt", "pre-save transform: nowiki in subst (bug 1188)", "<nowiki><nowiki>'''not wiki'''</nowiki></nowiki>");
add("html2wt", "pre-save transform: comment in subst (bug 1936)", "This template has <!-- a comment --> in it.");
add("html2wt", "pre-save transform: unclosed tag", "<nowiki><nowiki>'''not wiki'''</nowiki></nowiki>");
add("html2wt", "pre-save transform: mixed tag case", "<nowiki><nowiki>'''not wiki'''</nowiki></nowiki>");
add("html2wt", "pre-save transform: unclosed comment in <nowiki>", "wiki<nowiki>nowiki<!--nowiki</nowiki>wiki--></nowiki>");
add("html2wt", "(confirming safety of fix for subst bug 1936)", "@<span>Oh no</span>\n");
add("html2wt", "pre-save transform: <noinclude> in subst (bug 3298)", "Foobar");
add("html2wt", "pre-save transform: <onlyinclude> in subst (bug 3298)", "Foo");
add("html2wt", "bug 22297: safesubst: works during PST", "FoobarFoobar");
add("html2wt", "bug 22297: safesubst: works during normal parse", "Foobar\n");
add("html2wt", "subst: does not work during normal parse", "<nowiki>{{subst:Includes}}</nowiki>\n");
add("html2wt", "pre-save transform: context links (\"pipe trick\")", "<nowiki>[[Article (context)|Article]]\n[[Bar:Article|Article]]\n[[:Bar:Article|Article]]\n[[Bar:Article (context)|Article]]\n[[:Bar:Article (context)|Article]]\n[[Article]]\n[[Article (context)]]\n[[Bar:X (Y) Z|X (Y) Z]]\n[[:Bar:X (Y) Z|X (Y) Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with interwiki prefix", "<nowiki>[[interwiki:Article|Article]]\n[[:interwiki:Article|Article]]\n[[interwiki:Bar:Article|Bar:Article]]\n[[:interwiki:Bar:Article|Bar:Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with parens in title", "<nowiki>[[Article (context)|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with comma in title", "<nowiki>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace, Elsewhere|Otherplace]]\n[[Otherplace, Elsewhere, Anywhere|Otherplace]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with parens and comma", "<nowiki>[[Otherplace, Somewhere|Otherplace]]\n[[Otherplace (place), Elsewhere|Otherplace]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with comma and parens", "<nowiki>[[Yes, you. (context)|Yes, you.]]\n[[Me, Myself, and I (1937 song)|Me, Myself, and I]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace", "<nowiki>[[Ns:Article|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace and parens", "<nowiki>[[Ns:Article (context)|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace and comma", "<nowiki>[[Ns:Article, Context, Whatever|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace, comma and parens", "<nowiki>[[Ns:Article (context)|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with namespace, parens and comma", "<nowiki>[[Ns:Article, Context|Article]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with full-width parens and no space (Japanese and Chinese style, bug 30149)", "<nowiki>[[Article（context）|Article]]\n[[Bar:Article（context）|Article]]\n[[:Bar:Article（context）|Article]]\n[[Article（context）]]\n[[Bar:X（Y）Z|X（Y）Z]]\n[[:Bar:X（Y）Z|X（Y）Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with full-width parens and space (Japanese and Chinese style, bug 30149)", "<nowiki>[[Article （context）|Article]]\n[[Bar:Article （context）|Article]]\n[[:Bar:Article （context）|Article]]\n[[Article （context）]]\n[[Bar:X （Y） Z|X （Y） Z]]\n[[:Bar:X （Y） Z|X （Y） Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with parens and no space (Korean style, bug 30149)", "<nowiki>[[Article(context)|Article]]\n[[Bar:Article(context)|Article]]\n[[:Bar:Article(context)|Article]]\n[[Article(context)]]\n[[Bar:X(Y)Z|X(Y)Z]]\n[[:Bar:X(Y)Z|X(Y)Z]]</nowiki>");
add("html2wt", "pre-save transform: context links (\"pipe trick\") with commas (bug 21660)", "<nowiki>[[Article (context), context|Article]]\n[[Article (context)，context|Article]]\n[[Bar:Article (context), context|Article]]\n[[Bar:Article (context)，context|Article]]\n[[:Bar:Article (context), context|Article]]\n[[:Bar:Article (context)，context|Article]]</nowiki>");
add("html2wt", "pre-save transform: Signature expansion", "<nowiki>* [[Special:Contributions/127.0.0.1|127.0.0.1]]\n*</nowiki> <noinclude><nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]</nowiki></noinclude>\n<nowiki>*</nowiki> <includeonly><nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]</nowiki></includeonly>\n<nowiki>*</nowiki> <onlyinclude><nowiki>[[Special:Contributions/127.0.0.1|127.0.0.1]]</nowiki></onlyinclude>");
add("html2wt", "message transform: magic variables", "MediaWiki");
add("html2wt", "message transform: should not transform wiki markup", "<nowiki>''test''</nowiki>");
add("html2wt", "message transform: <noinclude> in transcluded template (bug 4926)", "Foobar");
add("html2wt", "message transform: <onlyinclude> in transcluded template (bug 4926)", "Foo");
add("html2wt", "{{#special:}} page name, known", "Special:RecentChanges");
add("html2wt", "{{#special:}} page name with subpage, known", "Special:RecentChanges/param");
add("html2wt", "{{#special:}} page name, unknown", "Special:Foobar nonexistent");
add("html2wt", "{{#speciale:}} page name, known", "Special:RecentChanges");
add("html2wt", "{{#speciale:}} page name with subpage, known", "Special:RecentChanges/param");
add("html2wt", "{{#speciale:}} page name, unknown", "Special:Foobar_nonexistent");
add("html2wt", "Allow empty links in image captions (Bug 60753)", "[[File:Foobar.jpg|thumb|Caption [[Link1]]\n<nowiki>[[]]</nowiki>\n[[Link2]]\n]]");
add("html2wt", "Image with multiple attributes from the same template", "[[File:Foobar.jpg|right|Caption text]]\n");
add("html2wt", "Image with link tails", "123[[File:Foobar.jpg]]456\n123\n[[File:Foobar.jpg|right]]\n456\n123\n[[File:Foobar.jpg|thumb]]\n456\n");
add("html2wt", "Image with multiple captions -- only last one is accepted", "[[File:Foobar.jpg|right|Caption3 - accepted]]\n");
add("html2wt", "Image with multiple widths -- use last", "[[File:Foobar.jpg|300x300px|caption]]\n");
add("html2wt", "Image with multiple alignments -- use first (bug 48664)", "[[File:Foobar.jpg|left|thumb|caption]]\n[[File:Foobar.jpg|middle|caption]]\n");
add("html2wt", "Image with width attribute at different positions", "[[File:Foobar.jpg|right|200x200px|Caption]]\n[[File:Foobar.jpg|right|200x200px|Caption]]\n[[File:Foobar.jpg|right|200x200px|Caption]]\n");
add("html2wt", "Image with link parameter, wiki target", "[[File:Foobar.jpg|link=Main_Page]]\n");
add("html2wt", "Image with link parameter, wgExternalLinkTarget", "<a href=\"http://example.com/\" target=\"foobar\" rel=\"nofollow\">http://example.com/images/3/3a/Foobar.jpg</a>\n");
add("html2wt", "Image with link parameter, wgNoFollowLinks set to false", "http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Image with link parameter, wgNoFollowDomainExceptions", "http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Image with link parameter, wgExternalLinkTarget, unnamed parameter", "<a href=\"http://example.com/\" title=\"Title\" target=\"foobar\" rel=\"nofollow\">http://example.com/images/3/3a/Foobar.jpg</a>\n");
add("html2wt", "Link to image page- image page normally doesn't exists, hence edit link\nAdd test with existing image page\n#<p><a href=\"/wiki/File:Test\" title=\"Image:Test\">Image:test</a>", "[/index.php?title=File:Test&action=edit&redlink=1 Image:test]\n");
add("html2wt", "bug 18784  Link to non-existent image page with caption should use caption as link text", "[/index.php?title=File:Test&action=edit&redlink=1 caption]\n");
add("html2wt", "Parsoid-specific image handling - simple image with size and middle alignment", "[[File:Foobar.jpg|middle|50x50px]]\n");
add("html2wt", "Parsoid-specific image handling - thumbnail with specific size, halign, valign, and caption", "[[File:Foobar.jpg|right|middle|thumb|50x50px|caption]]\n");
add("html2wt", "Parsoid-specific image handling - caption with a template in it", "[[File:Foobar.jpg|thumb|200x200px|This caption has a {{echo|transclusion}} in it.]]\n");
add("html2wt", "Subpage link", "[[wiki/Subpage test/subpage|/subpage]]\n");
add("html2wt", "Subpage noslash link", "[[wiki/Subpage test/subpage|subpage]]\n");
add("html2wt", "Render invalid page names as plain text (bug 51090)", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|<nowiki>foo]bar</nowiki>}}]]\n[[{{echo|foo<bar}}]]\n");
add("html2wt", "Disabled subpages", "[/index.php?title=/subpage&action=edit&redlink=1 /subpage]\n");
add("html2wt", "BUG 561: {{/Subpage}}", "[/index.php?title=Page/Subpage&action=edit&redlink=1 Page/Subpage]\n");
add("html2wt", "Link to category", "[[wiki/Category:MediaWiki User's Guide|Category:MediaWiki User's Guide]]\n");
add("html2wt", "Simple category", "[[wiki/Category:MediaWiki User's Guide|MediaWiki User's Guide]]");
add("html2wt", "PAGESINCATEGORY invalid title fatal (r33546 fix)", "0\n");
add("html2wt", "Category with different sort key", "[[wiki/Category:MediaWiki User's Guide|MediaWiki User's Guide]]");
add("html2wt", "Category with identical sort key", "[[wiki/Category:MediaWiki User's Guide|MediaWiki User's Guide]]");
add("html2wt", "Category with empty sort key", "<nowiki>[[Category:MediaWiki User's Guide|MediaWiki User's Guide]]</nowiki>");
add("html2wt", "Category with empty sort key and parentheses", "<nowiki>[[Category:Foo (bar)|Foo]]</nowiki>");
add("html2wt", "Category with link tail", "123<nowiki>[[Category:Foo]]</nowiki>456");
add("html2wt", "Category with template", "<nowiki>[[Category:{{echo|Foo}}]]</nowiki>");
add("html2wt", "Category with template in sort key", "<nowiki>[[Category:Foo|{{echo|Bar}}]]</nowiki>");
add("html2wt", "Category with template in sort key and title", "<nowiki>[[Category:{{echo|Foo}}|{{echo|Bar}}]]</nowiki>");
add("html2wt", "Category / paragraph interactions", "Foo Bar\n\nFoo\nBar\n\nFoo\nBar\n\nFoo Bar\n\nFoo\nBar\n");
add("html2wt", "Basic section headings", "== <span class=\"mw-headline\" id=\"Headline_1\">Headline 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nSome text\n\n== <span class=\"mw-headline\" id=\"Headline_2\">Headline 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nMore\n\n=== <span class=\"mw-headline\" id=\"Smaller_headline\">Smaller headline</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\nBlah blah\n");
add("html2wt", "Section headings with TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Headline_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Headline 1</span>]\n\n** [#Subheadline_1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Subheadline 1</span>]\n\n*** [#Skipping_a_level <span class=\"tocnumber\">1.1.1</span> <span class=\"toctext\">Skipping a level</span>]\n\n**** [#Skipping_a_level_2 <span class=\"tocnumber\">1.1.1.1</span> <span class=\"toctext\">Skipping a level</span>]\n* [#Headline_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">Headline 2</span>]\n\n** [#Another_headline <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Another headline</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Headline_1\">Headline 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Subheadline_1\">Subheadline 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n===== <span class=\"mw-headline\" id=\"Skipping_a_level\">Skipping a level</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> =====\n\n====== <span class=\"mw-headline\" id=\"Skipping_a_level_2\">Skipping a level</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n\n== <span class=\"mw-headline\" id=\"Headline_2\">Headline 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nSome text\n\n=== <span class=\"mw-headline\" id=\"Another_headline\">Another headline</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=6 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n");
add("html2wt", "Handling of sections up to level 6 and beyond", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Level_1_Heading <span class=\"tocnumber\">1</span> <span class=\"toctext\">Level 1 Heading</span>]\n\n** [#Level_2_Heading <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Level 2 Heading</span>]\n\n*** [#Level_3_Heading <span class=\"tocnumber\">1.1.1</span> <span class=\"toctext\">Level 3 Heading</span>]\n\n**** [#Level_4_Heading <span class=\"tocnumber\">1.1.1.1</span> <span class=\"toctext\">Level 4 Heading</span>]\n\n***** [#Level_5_Heading <span class=\"tocnumber\">1.1.1.1.1</span> <span class=\"toctext\">Level 5 Heading</span>]\n\n****** [#Level_6_Heading <span class=\"tocnumber\">1.1.1.1.1.1</span> <span class=\"toctext\">Level 6 Heading</span>]\n****** [#.3D_Level_7_Heading.3D <span class=\"tocnumber\">1.1.1.1.1.2</span> <span class=\"toctext\">= Level 7 Heading=</span>]\n****** [#.3D.3D_Level_8_Heading.3D.3D <span class=\"tocnumber\">1.1.1.1.1.3</span> <span class=\"toctext\">== Level 8 Heading==</span>]\n****** [#.3D.3D.3D_Level_9_Heading.3D.3D.3D <span class=\"tocnumber\">1.1.1.1.1.4</span> <span class=\"toctext\">=== Level 9 Heading===</span>]\n****** [#.3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D <span class=\"tocnumber\">1.1.1.1.1.5</span> <span class=\"toctext\">==== Level 10 Heading====</span>]\n\n</div>\n\n= <span class=\"mw-headline\" id=\"Level_1_Heading\">Level 1 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n\n== <span class=\"mw-headline\" id=\"Level_2_Heading\">Level 2 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Level_3_Heading\">Level 3 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"Level_4_Heading\">Level 4 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ====\n\n===== <span class=\"mw-headline\" id=\"Level_5_Heading\">Level 5 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> =====\n\n====== <span class=\"mw-headline\" id=\"Level_6_Heading\">Level 6 Heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=6 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D_Level_7_Heading.3D\">= Level 7 Heading=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=7 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D.3D_Level_8_Heading.3D.3D\">== Level 8 Heading==</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=8 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D.3D.3D_Level_9_Heading.3D.3D.3D\">=== Level 9 Heading===</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=9 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n\n====== <span class=\"mw-headline\" id=\".3D.3D.3D.3D_Level_10_Heading.3D.3D.3D.3D\">==== Level 10 Heading====</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=10 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n");
add("html2wt", "TOC regression (bug 9764)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#title_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">title 1</span>]\n\n** [#title_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">title 1.1</span>]\n\n*** [#title_1.1.1 <span class=\"tocnumber\">1.1.1</span> <span class=\"toctext\">title 1.1.1</span>]\n** [#title_1.2 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">title 1.2</span>]\n* [#title_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">title 2</span>]\n\n** [#title_2.1 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">title 2.1</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"title_1\">title 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_1.1\">title 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"title_1.1.1\">title 1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ====\n\n=== <span class=\"mw-headline\" id=\"title_1.2\">title 1.2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"title_2\">title 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_2.1\">title 2.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=6 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n");
add("html2wt", "TOC with wgMaxTocLevel=3 (bug 6204)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#title_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">title 1</span>]\n\n** [#title_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">title 1.1</span>]\n** [#title_1.2 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">title 1.2</span>]\n* [#title_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">title 2</span>]\n\n** [#title_2.1 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">title 2.1</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"title_1\">title 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_1.1\">title 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"title_1.1.1\">title 1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ====\n\n=== <span class=\"mw-headline\" id=\"title_1.2\">title 1.2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"title_2\">title 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_2.1\">title 2.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=6 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n");
add("html2wt", "TOC with wgMaxTocLevel=3 and two level four headings (bug 6204)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Section_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Section 1</span>]\n\n** [#Section_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Section 1.1</span>]\n* [#Section_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">Section 2</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Section_1.1\">Section 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n==== <span class=\"mw-headline\" id=\"Section_1.1.1\">Section 1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ====\n\n==== <span class=\"mw-headline\" id=\"Section_1.1.1.1\">Section 1.1.1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ====\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Resolving duplicate section names", "== <span class=\"mw-headline\" id=\"Foo_bar\">Foo bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Foo_bar_2\">Foo bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Resolving duplicate section names with differing case (bug 10721)", "== <span class=\"mw-headline\" id=\"Foo_bar\">Foo bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Foo_Bar_2\">Foo Bar</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Template with sections, __NOTOC__", "== <span class=\"mw-headline\" id=\"Section_0\">Section 0</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Template:Sections&action=edit&section=T-1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Template:Sections&action=edit&section=T-2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_4\">Section 4</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "__NOEDITSECTION__ keyword", "== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span> ==\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span> ==\n");
add("html2wt", "Link inside a section heading", "== <span class=\"mw-headline\" id=\"Section_with_a_link_in_it\">Section with a [[wiki/Main Page|link]] in it</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "TOC regression (bug 12077)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#title_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">title 1</span>]\n\n** [#title_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">title 1.1</span>]\n* [#title_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">title 2</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"title_1\">title 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n=== <span class=\"mw-headline\" id=\"title_1.1\">title 1.1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n== <span class=\"mw-headline\" id=\"title_2\">title 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "BUG 1219 URL next to image (good)", "http://example.com http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Short headings with trailing space should match behavior of Parser::doHeadings (bug 19910)", "= <span class=\"mw-headline\" id=\".3D\">=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\nThe line above must have a trailing space!\n\n= <span class=\"mw-headline\" id=\".3D_2\">=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\nBut just in case it doesn't...\n");
add("html2wt", "Header with special characters (bug 25462)", "The tooltips shall not show entities to the user (ie. be double escaped)\n\n<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#text_.3E_text <span class=\"tocnumber\">1</span> <span class=\"toctext\">text > text</span>]\n* [#text_.3C_text <span class=\"tocnumber\">2</span> <span class=\"toctext\">text < text</span>]\n* [#text_.26_text <span class=\"tocnumber\">3</span> <span class=\"toctext\">text & text</span>]\n* [#text_.27_text <span class=\"tocnumber\">4</span> <span class=\"toctext\">text ' text</span>]\n* [#text_.22_text <span class=\"tocnumber\">5</span> <span class=\"toctext\">text \" text</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"text_.3E_text\">text > text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 1\n\n== <span class=\"mw-headline\" id=\"text_.3C_text\">text < text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 2\n\n== <span class=\"mw-headline\" id=\"text_.26_text\">text & text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 3\n\n== <span class=\"mw-headline\" id=\"text_.27_text\">text ' text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 4\n\n== <span class=\"mw-headline\" id=\"text_.22_text\">text \" text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 5\n");
add("html2wt", "Header with space, plus and underscore as entity", "Id should not contain + for spaces\n\n<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Space_between_Text <span class=\"tocnumber\">1</span> <span class=\"toctext\">Space between Text</span>]\n* [#Space-Entity_between_Text <span class=\"tocnumber\">2</span> <span class=\"toctext\">Space-Entity between Text</span>]\n* [#Plus.2Bbetween.2BText <span class=\"tocnumber\">3</span> <span class=\"toctext\">Plus+between+Text</span>]\n* [#Plus-Entity.2Bbetween.2BText <span class=\"tocnumber\">4</span> <span class=\"toctext\">Plus-Entity+between+Text</span>]\n* [#Underscore_between_Text <span class=\"tocnumber\">5</span> <span class=\"toctext\">Underscore_between_Text</span>]\n* [#Underscore-Entity_between_Text <span class=\"tocnumber\">6</span> <span class=\"toctext\">Underscore-Entity_between_Text</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Space_between_Text\">Space between Text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 1\n\n== <span class=\"mw-headline\" id=\"Space-Entity_between_Text\">Space-Entity between Text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 2\n\n== <span class=\"mw-headline\" id=\"Plus.2Bbetween.2BText\">Plus+between+Text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 3\n\n== <span class=\"mw-headline\" id=\"Plus-Entity.2Bbetween.2BText\">Plus-Entity+between+Text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 4\n\n== <span class=\"mw-headline\" id=\"Underscore_between_Text\">Underscore_between_Text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 5\n\n== <span class=\"mw-headline\" id=\"Underscore-Entity_between_Text\">Underscore-Entity_between_Text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=6 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nsection 6\n\n[#Space_between_Text #Space between Text]\n[#Space-Entity_between_Text #Space-Entity between Text]\n[#Plus.2Bbetween.2BText #Plus+between+Text]\n[#Plus-Entity.2Bbetween.2BText #Plus-Entity+between+Text]\n#Underscore_between_Text\n#Underscore-Entity_between_Text\n");
add("html2wt", "Headers with excess '=' characters\n(Are similar tests necessary beyond the 1st level?)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#foo.3D <span class=\"tocnumber\">1</span> <span class=\"toctext\">foo=</span>]\n* [#.3Dfoo <span class=\"tocnumber\">2</span> <span class=\"toctext\">=foo</span>]\n* [#italic_heading.3D <span class=\"tocnumber\">3</span> <span class=\"toctext\">''italic'' heading=</span>]\n* [#.3Ditalic_heading <span class=\"tocnumber\">4</span> <span class=\"toctext\">=''italic'' heading</span>]\n\n</div>\n\n= <span class=\"mw-headline\" id=\"foo.3D\">foo=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n\n= <span class=\"mw-headline\" id=\".3Dfoo\">=foo</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n\n= <span class=\"mw-headline\" id=\"italic_heading.3D\">''italic'' heading=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n\n= <span class=\"mw-headline\" id=\".3Ditalic_heading\">=''italic'' heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n");
add("html2wt", "HTML headers vs TOC (bug 23393)\n(__NOEDITSECTION__ for clearer output, doesn't matter here)", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Header_1 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Header 1</span>]\n\n** [#Header_1.1 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">Header 1.1</span>]\n** [#Header_1.2 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">Header 1.2</span>]\n* [#Header_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">Header 2</span>]\n\n** [#Header_2.1 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Header 2.1</span>]\n** [#Header_2.2 <span class=\"tocnumber\">2.2</span> <span class=\"toctext\">Header 2.2</span>]\n\n</div>\n\n= <span class=\"mw-headline\" id=\"Header_1\">Header 1</span> =\n\n== <span class=\"mw-headline\" id=\"Header_1.1\">Header 1.1</span> ==\n\n== <span class=\"mw-headline\" id=\"Header_1.2\">Header 1.2</span> ==\n\n= <span class=\"mw-headline\" id=\"Header_2\">Header 2</span> =\n\n== <span class=\"mw-headline\" id=\"Header_2.1\">Header 2.1</span> ==\n\n== <span class=\"mw-headline\" id=\"Header_2.2\">Header 2.2</span> ==\n");
add("html2wt", "BUG 1219 URL next to image (broken)", "http://example.comhttp://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Namespaced link must have a title", "<nowiki>[[Project:]]</nowiki>\n");
add("html2wt", "Namespaced link must have a title (bad fragment version)", "<nowiki>[[Project:#fragment]]</nowiki>\n");
add("html2wt", "div with single-quoted attribute", "<div id=\"rock\">HTML rocks</div>\n");
add("html2wt", "div with unquoted attribute", "<div id=\"rock\">HTML rocks</div>\n");
add("html2wt", "div with illegal double attributes", "<div id=\"b\">HTML rocks</div>\n");
add("html2wt", "div with empty attribute value, space before equals", "<div class=\"\">HTML rocks</div>\n");
add("html2wt", "div with multiple empty attribute values", "<div id=\"\" title=\"\">HTML rocks</div>\n");
add("html2wt", "table with multiple empty attribute values", "{| title=\"\" id=\"\"\n| hi\n|}\n");
add("html2wt", "HTML multiple attributes correction", "Awesome!\n");
add("html2wt", "Table multiple attributes correction", "{|\n\n! class=\"awesome\" | status\n|}\n");
add("html2wt", "DIV IN UPPERCASE", "<div id=\"x\">HTML ROCKS</div>\n");
add("html2wt", "text with character entity: eacute", "I always thought é was a cute letter.\n");
add("html2wt", "Media link", "[http://example.com/images/3/3a/Foobar.jpg Media:Foobar.jpg]\n");
add("html2wt", "Media link with text", "[http://example.com/images/3/3a/Foobar.jpg A neat file to look at]\n");
add("html2wt", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div", "[http://example.com/images/3/3a/Foobar.jpg Safe Link<nowiki><div style=\"display:none\">\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div></nowiki>]\n");
add("html2wt", "Media link to nonexistent file (bug 1702)", "[/index.php?title=Special:Upload&wpDestFile=No_such.jpg Media:No such.jpg]\n");
add("html2wt", ":Image link to nonexistent file (bug 1850 - bad)", "[[:File:No such.jpg|Image:No such.jpg]]\n");
add("html2wt", "Character reference normalization in link text (bug 1938)", "[[wiki/Main Page|this&that]]\n");
add("html2wt", "(bug 19451) Links should refer to the normalized form.", "[[wiki/אַ|אַ]]\n[[wiki/אַ|אַ]]\n[[wiki/אַ|אַ]]\n[[wiki/אַ|אַ]]\n[[wiki/אַ|אַ]]\n");
add("html2wt", "Empty attribute crash test single-quotes (bug 2067)", "<font color=\"\">foo</font>\n");
add("html2wt", "Attribute test: equals, then nothing", "<font>foo</font>\n");
add("html2wt", "Attribute test: unquoted value", "<font color=\"x\">foo</font>\n");
add("html2wt", "Attribute test: unquoted but illegal value (hash)", "<font color=\"#x\">foo</font>\n");
add("html2wt", "Attribute test: no value", "<font color=\"color\">foo</font>\n");
add("html2wt", "Bug 2095: link with pipe and three closing brackets, version 2", "[[Main Page|<nowiki>[http://example.com/]</nowiki>]]\n");
add("html2wt", "Bug 2304: HTML attribute safety (safe template; regression bug 2309)", "<div title=\"This is a test template\"></div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (dangerous style template; 2309)", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (safe parameter; 2309)", "<div style=\"float: right; width: 200px\">Magic div</div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (unsafe parameter; 2309)", "<div style=\"/* insecure input */\">Magic div</div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (unsafe breakout parameter; 2309)", "<div style=\"float: right;\"><script>alert(document.cookie)</script>\">Magic div</div>\n");
add("html2wt", "Bug 2304: HTML attribute safety (unsafe breakout parameter 2; 2309)", "<div style=\"float: right;\"><script>alert(document.cookie)</script>\">Magic div</div>\n");
add("html2wt", "Bug 3244: HTML attribute safety (extension; safe)", "<div style=\"background:blue\"></div>\n");
add("html2wt", "Bug 3244: HTML attribute safety (extension; unsafe)", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "MSIE CSS safety test: spurious slash", "<div style=\"/* insecure input */\">evil</div>\n");
add("html2wt", "MSIE CSS safety test: hex code", "<div style=\"/* insecure input */\">evil</div>\n");
add("html2wt", "MSIE CSS safety test: comment in url", "<div style=\"background-image:u rl(javascript:alert('boo'))\">evil</div>\n");
add("html2wt", "MSIE CSS safety test: comment in expression", "<div style=\"background-image:expres sion(alert('boo4'))\">evil4</div>\n");
add("html2wt", "CSS safety test (all browsers): vertical tab (bug 55332 / CVE-2013-4567)", "A\n");
add("html2wt", "MSIE 6 CSS safety test: Fullwidth (bug 55332)", "A\n<div style=\"/* insecure input */\">B</div>\n");
add("html2wt", "MSIE 6 CSS safety test: IPA extensions (bug 55332)", "<div style=\"/* insecure input */\">A</div>\nB\n");
add("html2wt", "MSIE 6 CSS safety test: sup/sub script (bug 55332)", "<div style=\"/* insecure input */\">A</div>\n<div style=\"/* insecure input */\">B</div>\nC\n");
add("html2wt", "Opera -o-link CSS", "<div title=\"data:text/html,<img src=1 onerror=alert(1)>\" style=\"/* insecure input */\">X</div>\n");
add("html2wt", "MSIE 6 CSS safety test: Repetition markers (bug 55332)", "A\n\nB\n\nC\n\nD\n\nE\n\nF\n\nG\n");
add("html2wt", "Table attribute legitimate extension", "{|\n\n! style=\"color:blue\" | status\n|}\n");
add("html2wt", "Table attribute safety", "{|\n\n! style=\"/* insecure input */\" | status\n|}\n");
add("html2wt", "CSS line continuation 1", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "CSS line continuation 2", "<div style=\"/* insecure input */\"></div>\n");
add("html2wt", "Expansion of multi-line templates in attribute values (bug 6255)", "<div style=\"background: #00FF00\">-</div>\n");
add("html2wt", "Expansion of multi-line templates in attribute values (bug 6255 sanity check 2)", "<div style=\"background: \n#00FF00\">-</div>\n");
add("html2wt", "Parser hook: empty input", " <nowiki>''</nowiki>\n array (\n )\n");
add("html2wt", "Parser hook: empty input using terminated empty elements", " NULL\n array (\n )\n");
add("html2wt", "Parser hook: empty input using terminated empty elements (space before)", " NULL\n array (\n )\n");
add("html2wt", "Parser hook: basic input", " 'input'\n array (\n )\n");
add("html2wt", "Parser hook: case insensitive", " 'input'\n array (\n )\n");
add("html2wt", "Parser hook: case insensitive, redux", " 'input'\n array (\n )\n");
add("html2wt", "Parser hook: nested tags", " '<tag>'\n array (\n )\n </tag>\n</tag>\n");
add("html2wt", "Parser hook: basic arguments", " <nowiki>''\n array (\n   'width' => '200',\n   'height' => '100',\n   'depth' => '50',\n   'square' => 'square',\n )</nowiki>\n");
add("html2wt", "Parser hook: argument containing a forward slash (bug 5344)", " <nowiki>''\n array (\n   'filename' => '/tmp/bla',\n )</nowiki>\n");
add("html2wt", "Parser hook: empty input using terminated empty elements (bug 2374)", " NULL\n array (\n   'foo' => 'bar',\n )\ntext\n");
add("html2wt", "Parser hook: basic arguments using terminated empty elements (bug 2374)", " NULL\n array (\n   'width' => '200',\n   'height' => '100',\n   'depth' => '50',\n   'square' => 'square',\n )\n\nother stuff\n</tag>\n");
add("html2wt", "Parser hook: static parser hook not inside a comment", "hello, world\n");
add("html2wt", "Parser hook: static parser hook inside a comment", "\n");
add("html2wt", "Nested template calls", "(My parameter is: param)\n");
add("html2wt", "Sanitizer: Closing of open tags", "<s></s>\n{|\n|}\n");
add("html2wt", "Sanitizer: Closing of open but not closed tags", "<s>foo</s>\n");
add("html2wt", "Sanitizer: Closing of closed but not open tags", "<nowiki></s></nowiki>\n");
add("html2wt", "Sanitizer: Closing of closed but not open table tags", "Table not started<nowiki></td></tr></table></nowiki>\n");
add("html2wt", "Sanitizer: Escaping of spaces, multibyte characters, colons & other stuff in id=\"\"", "<span id=\".C3.A6:_v\">byte</span>[#.C3.A6:_v backlink]\n");
add("html2wt", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata", "<div itemscope=\"itemscope\">\n\t<meta itemprop=\"hello\" content=\"world\" />\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" content=\"5\" />\n\n\t[http://example.org]\n\t<link rel=\"stylesheet\" href=\"http://example.org\">\n\t[http://example.org]\n</div>\n");
add("html2wt", "Language converter: output gets cut off unexpectedly (bug 5757)", "this bit is safe: }-\n\nbut if we add a conversion instance: xxx\n\nthen we get cut off here: }-\n\nall additional text is vanished\n");
add("html2wt", "Self closed html pairs (bug 5487)", "<center><nowiki><font id=\"bug\" /></nowiki>Centered text</center>\n<div><nowiki><font id=\"bug2\" /></nowiki>In div text</div>\n");
add("html2wt", "Punctuation: nbsp before exclamation", "C'est grave !\n");
add("html2wt", "HTML nested bullet list, closed tags (bug 5497)", "* One\n* Two:\n** Sub-one\n** Sub-two\n");
add("html2wt", "HTML nested bullet list, open tags (bug 5497)", "* One\n* Two:\n** Sub-one\n** Sub-two\n");
add("html2wt", "HTML nested ordered list, closed tags (bug 5497)", "# One\n# Two:\n## Sub-one\n## Sub-two\n");
add("html2wt", "HTML nested ordered list, open tags (bug 5497)", "# One\n# Two:\n## Sub-one\n## Sub-two\n");
add("html2wt", "HTML ordered list item with parameters oddity", "# One\n");
add("html2wt", "Fuzz testing: Parser13", "{|\n\n|\n\n|}\n");
add("html2wt", "Fuzz testing: Parser14", "== <span class=\"mw-headline\" id=\"onmouseover.3D\">onmouseover=</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\nhttp://\n<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#onmouseover.3D <span class=\"tocnumber\">1</span> <span class=\"toctext\">onmouseover=</span>]\n\n</div>");
add("html2wt", "Fuzz testing: Parser14-table", "== <span class=\"mw-headline\" id=\"a\">a</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n{| style=\"__TOC__\"\n\n|\n\n|}\n");
add("html2wt", "Fuzz testing: Parser16", "{|\n\n!https://\n!\n!\n!\n\n|}\n");
add("html2wt", "Fuzz testing: Parser21", "{|\n\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n\n|\n\n|}\n");
add("html2wt", "Fuzz testing: Parser22", "http://===r:::https://b\n\n{|\n|\n|}\n");
add("html2wt", "Fuzz testing: Parser24", "\n<nowiki>{{{</nowiki>|\n<u class=\"|\"><nowiki>}}}</nowiki>} >\n<br>\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n</u>\n{|\n|\n\n|}\n<u class=\"|\"></u>");
add("html2wt", "Fuzz testing: Parser25 (bug 6055)", "<LI CLASS=blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE'''\n");
add("html2wt", "Fuzz testing: URL adjacent extension (with space, clean)", "http://example.com junk\n");
add("html2wt", "Fuzz testing: URL adjacent extension (no space, dirty; nowiki)", "http://example.comjunk\n");
add("html2wt", "Fuzz testing: URL adjacent extension (no space, dirty; pre)", "http://example.com\n junk\n");
add("html2wt", "Fuzz testing: encoded newline in generated HTML replacements (bug 6577)", " \n");
add("html2wt", "Parsing optional HTML elements (Bug 6171)", "{|\n  \n    | Some tabular data\n    | More tabular data ...\n    | And yet som tabular data\n  \n|}\n");
add("html2wt", "Correct handling of <td>, <tr> (Bug 6171)", "{|\n  \n    | Some tabular data\n    | More tabular data ...\n    | And yet som tabular data\n  \n|}\n");
add("html2wt", "Inline wiki vs wiki block nesting", "'''Bold paragraph'''\n\nNew wiki paragraph\n");
add("html2wt", "Inline HTML vs wiki block nesting", "'''Bold paragraph'''\n\nNew wiki paragraph\n");
add("html2wt", "Mixing markup for italics and bold", "'<nowiki/>''bold'<nowiki/>'''''bold''bolditalics'''''\n");
add("html2wt", "Special page transclusion", "{| class=\"mw-prefixindex-list-table\"\n|[[wiki/Xyzzyx|Xyzzyx]]\n|}\n");
add("html2wt", "Special page transclusion twice (bug 5021)", "{| class=\"mw-prefixindex-list-table\"\n|[[wiki/Xyzzyx|Xyzzyx]]\n|}\n{| class=\"mw-prefixindex-list-table\"\n|[[wiki/Xyzzyx|Xyzzyx]]\n|}\n");
add("html2wt", "Transclusion of default MediaWiki message", "Main Page\n");
add("html2wt", "Transclusion of nonexistent MediaWiki message", "[/index.php?title=MediaWiki:Mainpagexxx&action=edit&redlink=1 MediaWiki:Mainpagexxx]\n");
add("html2wt", "Transclusion of MediaWiki message with underscore", "History\n");
add("html2wt", "Transclusion of MediaWiki message with space", "History\n");
add("html2wt", "Section extraction test (section 0)", "start");
add("html2wt", "Section extraction test (section 1)", "<nowiki>==a==\n===aa===\n====aaa====</nowiki>");
add("html2wt", "Section extraction test (section 2)", "<nowiki>===aa===\n====aaa====</nowiki>");
add("html2wt", "Section extraction test (section 3)", "<nowiki>====aaa====</nowiki>");
add("html2wt", "Section extraction test (section 4)", "<nowiki>==b==\n===ba===\n===bb===\n====bba====\n===bc===</nowiki>");
add("html2wt", "Section extraction test (section 5)", "<nowiki>===ba===</nowiki>");
add("html2wt", "Section extraction test (section 6)", "<nowiki>===bb===\n====bba====</nowiki>");
add("html2wt", "Section extraction test (section 7)", "<nowiki>====bba====</nowiki>");
add("html2wt", "Section extraction test (section 8)", "<nowiki>===bc===</nowiki>");
add("html2wt", "Section extraction test (section 9)", "<nowiki>==c==\n===ca===</nowiki>");
add("html2wt", "Section extraction test (section 10)", "<nowiki>===ca===</nowiki>");
add("html2wt", "Section extraction test (nonexistent section 11)", "");
add("html2wt", "Section extraction test with bogus heading (section 1)", "<nowiki>==a==\n==bogus== not a legal section</nowiki>");
add("html2wt", "Section extraction test with bogus heading (section 2)", "<nowiki>==b==</nowiki>");
add("html2wt", "Section extraction test with comment after heading (section 1)", "<nowiki>==a==</nowiki>");
add("html2wt", "Section extraction test with comment after heading (section 2)", "<nowiki>==b==</nowiki> <!-- -->");
add("html2wt", "Section extraction test with bogus <nowiki> heading (section 1)", "<nowiki>==a==\n==bogus==</nowiki> <nowiki>not a legal section</nowiki>");
add("html2wt", "Section extraction test with bogus <nowiki> heading (section 2)", "<nowiki>==b==</nowiki>");
add("html2wt", "Section extraction prefixed by comment (section 1)", "<nowiki>==sec2==</nowiki>");
add("html2wt", "Section extraction prefixed by comment (section 2)", "");
add("html2wt", "Section extraction, mixed wiki and html (section 1)", "<nowiki>==1==\none</nowiki>");
add("html2wt", "Section extraction, mixed wiki and html (section 2)", "<nowiki>==2==\ntwo</nowiki>");
add("html2wt", "Section extraction, heading surrounded by <noinclude>", "<nowiki>==marked==</nowiki>");
add("html2wt", "Sectiion with all-equals", "=== <!--\n--> <!-- -->\nBut just in case it doesn't...");
add("html2wt", "Section replacement test (section 0)", "xxx\n\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 1)", "start\nxxx\n\n<nowiki>==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 2)", "start\n<nowiki>==a==\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 3)", "start\n<nowiki>==a==\n===aa===\nxxx\n\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 4)", "start\n<nowiki>==a==\n===aa===\n====aaa====\nxxx\n\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 5)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\nxxx\n\n===bb===\n====bba====\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 6)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\nxxx\n\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 7)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\nxxx\n\n===bc===\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 8)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\nxxx\n\n==c==\n===ca===</nowiki>");
add("html2wt", "Section replacement test (section 9)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\nxxx</nowiki>");
add("html2wt", "Section replacement test (section 10)", "start\n<nowiki>==a==\n===aa===\n====aaa====\n==b==\n===ba===\n===bb===\n====bba====\n===bc===\n==c==\nxxx</nowiki>");
add("html2wt", "Section replacement test with initial whitespace (bug 13728)", "<nowiki> </nowiki>Preformatted initial line\n<nowiki>==a==\nxxx</nowiki>");
add("html2wt", "Section extraction, heading followed by pre with 20 spaces (bug 6398)", "<nowiki>==a==\n </nowiki>                   a");
add("html2wt", "Section extraction, heading followed by pre with 19 spaces (bug 6398 sanity check)", "<nowiki>==a==\n </nowiki>                  a");
add("html2wt", "Section extraction, <pre> around bogus header (bug 10309)", "<nowiki>== Section Two ==\nstuff</nowiki>");
add("html2wt", "Section replacement, <pre> around bogus header (bug 10309)", "== Section One ==\n =======\n\nxxx");
add("html2wt", "Special:Search page linking.", "[[wiki/Special:Search|Special:Search]]\n");
add("html2wt", "Say the magic word", "* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Parser test\n* Parser_test\n* Talk:Parser test\n* Talk:Parser_test\n* Parser test\n* Parser_test\n* \n* \n* 0\n* Talk\n* Talk\n* \n* \n* [/index.php?title=Template:Dynamic&action=edit&redlink=1 Template:Dynamic]\n");
add("html2wt", "Gallery", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image1.png</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image2.gif</div>\n\t\t\t<div class=\"gallerytext\">\n||||\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image3</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image4</div>\n\t\t\t<div class=\"gallerytext\">\n300px| centre\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Image5.svg</div>\n\t\t\t<div class=\"gallerytext\">\nhttp://///////\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">* image6</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery (with options)", "\t* Foo [[wiki/Main Page|Main Page]]\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\">Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"height: 70px;\">Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\"><div style=\"margin:31px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nsome '''caption''' [[wiki/Main Page|Main Page]]\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\"><div style=\"margin:31px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 105px\">\n\t\t\t<div class=\"thumb\" style=\"width: 100px;\"><div style=\"margin:31px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/70px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nBlabla|blabla.\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery with link that has fragment", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery with wikitext inside caption", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nhttp://example.com/images/thumb/3/3a/Foobar.jpg/20px-Foobar.jpg\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\nThis is a test template\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "gallery (with showfilename option)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\">\n[[wiki/File:Nonexistent.jpg|Nonexistent.jpg]]\ncaption\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\">\n[[wiki/File:Nonexistent.jpg|Nonexistent.jpg]]\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\n[[wiki/File:Foobar.jpg|Foobar.jpg]]\nsome '''caption''' [[wiki/Main Page|Main Page]]\n\n\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\n[[wiki/File:Foobar.jpg|Foobar.jpg]]\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery (with namespace-less filenames)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"height: 150px;\">Nonexistent.jpg</div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "__FORCETOC__ override", "\n");
add("html2wt", "ISBN code coverage", "[[wiki/Special:BookSources/9780123456|ISBN 978-0-1234-56]] 789\n");
add("html2wt", "Double ISBN", "ISBN [[wiki/Special:BookSources/1234567890|ISBN 1234567890]]\n");
add("html2wt", "ISBN with an X", "[[wiki/Special:BookSources/346204561X|ISBN 3-462-04561-X]]\n");
add("html2wt", "Bug 22905: <abbr> followed by ISBN followed by </a>", "<abbr>(fr)</abbr> [[wiki/Special:BookSources/2753300917|ISBN 2753300917]] [http://www.example.com example.com]\n");
add("html2wt", "Double RFC with a wiki link", "RFC [/index.php?title=RFC_1234&action=edit&redlink=1 RFC 1234]\n");
add("html2wt", "RFC code coverage", "RFC 983 987\n");
add("html2wt", "Centre-aligned image", "<div class=\"center\"><div class=\"floatnone\">http://example.com/images/3/3a/Foobar.jpg</div></div>\n");
add("html2wt", "None-aligned image", "<div class=\"floatnone\">http://example.com/images/3/3a/Foobar.jpg</div>\n");
add("html2wt", "Width + Height sized image (using px) (height is ignored)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Width-sized image (using px, no following whitespace)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Width-sized image (using px, with following whitespace - test regression from r39467)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Width-sized image (using px, with preceding whitespace - test regression from r39467)", "http://example.com/images/thumb/3/3a/Foobar.jpg/640px-Foobar.jpg\n");
add("html2wt", "Image with page parameter", "[[File:LoremIpsum.djvu]]\n");
add("html2wt", "HTML with raw HTML ($wgRawHtml==true)", "<script>alert(1);</script>\n");
add("html2wt", "Parents of subpages, one level up", "[/index.php?title=Subpage_test/L1/L2&action=edit&redlink=1 L2]\n");
add("html2wt", "Parents of subpages, one level up, not named", "[/index.php?title=Subpage_test/L1/L2&action=edit&redlink=1 Subpage test/L1/L2]\n");
add("html2wt", "Parents of subpages, two levels up", "[/index.php?title=Subpage_test/L1&action=edit&redlink=1 L1]2\n\n[/index.php?title=Subpage_test/L1&action=edit&redlink=1 L1l]\n");
add("html2wt", "Parents of subpages, two levels up, without trailing slash or name.", "<nowiki>[[../..]]</nowiki>\n");
add("html2wt", "Parents of subpages, two levels up, with lots of extra trailing slashes.", "[/index.php?title=Subpage_test/L1&action=edit&redlink=1 Subpage test/L1]\n");
add("html2wt", "Transclusion of a sibling page (one level up)", "Sibling article\n");
add("html2wt", "Transclusion of a child page", "Sibling article\n");
add("html2wt", "Non-transclusion because of too many up levels", "<nowiki>{{../../../../More than parent}}</nowiki>\n");
add("html2wt", "Definition list code coverage", "; title  <span> </span>\n: def\n; title<span> </span>\n: def\n; title\n: def");
add("html2wt", "Don't fall for the self-closing div", "<div>hello world</div>\n");
add("html2wt", "MSGNW magic word", "<nowiki>[[:Template:Msg]]</nowiki>\n");
add("html2wt", "RAW magic word", "[/index.php?title=Template:QUERTY&action=edit&redlink=1 Template:QUERTY]\n");
add("html2wt", "Template caching", "This is a test template\nThis is a test template\n");
add("html2wt", "Inclusion of !userCanEdit() content", "== <span class=\"mw-headline\" id=\"header\">header</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=MediaWiki:Fake&action=edit&section=T-1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Out-of-order TOC heading levels", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#2 <span class=\"tocnumber\">1</span> <span class=\"toctext\">2</span>]\n\n** [#6 <span class=\"tocnumber\">1.1</span> <span class=\"toctext\">6</span>]\n** [#3 <span class=\"tocnumber\">1.2</span> <span class=\"toctext\">3</span>]\n* [#1 <span class=\"tocnumber\">2</span> <span class=\"toctext\">1</span>]\n\n** [#5 <span class=\"tocnumber\">2.1</span> <span class=\"toctext\">5</span>]\n** [#2_2 <span class=\"tocnumber\">2.2</span> <span class=\"toctext\">2</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"2\">2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n====== <span class=\"mw-headline\" id=\"6\">6</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ======\n\n=== <span class=\"mw-headline\" id=\"3\">3</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ===\n\n= <span class=\"mw-headline\" id=\"1\">1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> =\n\n===== <span class=\"mw-headline\" id=\"5\">5</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> =====\n\n== <span class=\"mw-headline\" id=\"2_2\">2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=6 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "ISBN with space-delimited number", "[[wiki/Special:BookSources/9290170328|ISBN 92 9017 032 8]]\n");
add("html2wt", "ISBN length", "ISBN 123456789\n\n[[wiki/Special:BookSources/1234567890|ISBN 1234567890]]\n\nISBN 12345678901\n");
add("html2wt", "ISBN with trailing year (bug 8110)", "[[wiki/Special:BookSources/1234567890|ISBN 1-234-56789-0]] - 2006\n\n[[wiki/Special:BookSources/1234567890|ISBN 1 234 56789 0]] - 2006\n");
add("html2wt", "anchorencode", "foo_bar.C2.A9.23.25n\n");
add("html2wt", "anchorencode trims spaces", "pretty_please\n");
add("html2wt", "anchorencode deals with links", "world_hi\n");
add("html2wt", "anchorencode deals with templates", "FOO\n");
add("html2wt", "anchorencode encodes like the TOC generator: (bug 18431)", "=== <span class=\"mw-headline\" id=\".2B:.3A.253A.26.26.5D.5D\">_ +:.3A%3A&&]]</span> ===\n.2B:.3A.253A.26.26.5D.5D\n");
add("html2wt", "Bug 6200: blockquotes and paragraph formatting", "<blockquote>\nfoo\n\n</blockquote>\nbar\n\n baz\n");
add("html2wt", "Bug 8293: Use of center tag ruins paragraph formatting", "<center>\nfoo\n\n</center>\nbar\n\n baz\n");
add("html2wt", "Parsing of overlapping (improperly nested) inline html tags", "<span><s>x</s></span>\n");
add("html2wt", "Self-link in language variants", "Both <strong class=\"selflink\">Dunav</strong> and <strong class=\"selflink\">Дунав</strong> are names for this river.\n");
add("html2wt", "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title", "[[wiki/Дуна|Дуна]] is not a self-link while <strong class=\"selflink\">Duna</strong> and <strong class=\"selflink\">Dуна</strong> are still self-links.\n");
add("html2wt", "Link to a section of a variant of this title shouldn't be parsed as self-link", "<strong class=\"selflink\">Dуна</strong> is a self-link while [[wiki/Дуна|Dunа#Foo]] and [[wiki/Дуна|Dуна#Foo]] are not self-links.\n");
add("html2wt", "Link to pages in language variants", "Main Page can be written as [[wiki/Main Page|Маин Паге]]\n");
add("html2wt", "Multiple links to pages in language variants", "[[wiki/Main Page|Main Page]] can be written as [[wiki/Main Page|Маин Паге]] same as [[wiki/Main Page|Маин Паге]].\n");
add("html2wt", "Simple template in language variants", "This is a test template\n");
add("html2wt", "Template with explicit namespace in language variants", "This is a test template\n");
add("html2wt", "Basic test for template parameter in language variants", "This is a test template with parameter foo\n");
add("html2wt", "Simple category in language variants", "[[wiki/Категорија:MediaWiki User's Guide|MediaWiki User's Guide]]");
add("html2wt", "Don't convert blue categorylinks to another variant (bug 33210)", "[[wiki/Category:分类|分类]]");
add("html2wt", "Stripping -{}- tags (language variants)", "Latin proverb: Ne nuntium necare\n");
add("html2wt", "Prevent conversion with -{}- tags (language variants)", "Латински: Ne nuntium necare\n");
add("html2wt", "Prevent conversion of text with -{}- tags (language variants)", "Латински: Ne nuntium necare\n");
add("html2wt", "Prevent conversion of links with -{}- tags (language variants)", "[[wiki/Main Page|Main Page]]\n");
add("html2wt", "-{}- tags within headlines (within html for parserConvert())", "== <span class=\"mw-headline\" id=\"-.7BNaslov.7D-\">Naslov</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 уреди]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Explicit definition of language variant alternatives", "Taiwan, not China\n");
add("html2wt", "Conversion around HTML tags", "\n<span title=\"ЛаCтин\">ски</span>\n");
add("html2wt", "Explicit session-wise language variant mapping (A flag and - flag)", "Taiwan is not China.\nBut Taiwan is Taiwan,\n(This should be stripped!)\nand China is China.\n");
add("html2wt", "Explicit session-wise language variant mapping (H flag for hide)", "(This should be stripped!)\nTaiwan is Taiwan.\n");
add("html2wt", "Adding explicit conversion rule for title (T flag)", "Taiwan\n\nShould be stripped!\n");
add("html2wt", "Testing that changing the language variant here in the tests actually works", "China\n\nShould be stripped!\n");
add("html2wt", "Recursive conversion of alt and title attrs shouldn't clear converter state", "China\n\nShould be stripped<span title=\"Exclamation\">!</span>\n");
add("html2wt", "Bug 24072: more test on conversion rule for title", "Taiwan\n\nThis should be stripped!\nThis won't take interferes with the title rule.\n");
add("html2wt", "Partly disable title conversion if variant == main language code", "ZH\n");
add("html2wt", "Partly disable title conversion if variant == main language code, more", "ZH\n");
add("html2wt", "Raw output of variant escape tags (R flag)", "Raw: zh:China;zh-tw:Taiwan\n");
add("html2wt", "Nested using of manual convert syntax", "Nested: Hello Hong Kong!\n");
add("html2wt", "Proper conversion of text in external links", "http://www.google.com\ngopher://www.google.com\nhttp://www.google.com\ngopher://www.google.com\n[https://www.google.com irc://www.google.com]\n[ftp://www.google.com www.гоогле.цом/фтп://дир]\n[//www.google.com www.гоогле.цом]\n");
add("html2wt", "Do not convert roman numbers to language variants", "Фридрих IV је цар.\n");
add("html2wt", "Don't convert raw rule \"-{R|=&gt;}-\" to \"=>\"", "=>\n");
add("html2wt", "Don't break link parsing if language converter markup is in the caption.", "[[wiki/Main Page|main page]]\n");
add("html2wt", "Don't break image parsing if language converter markup is in the caption.", "http://example.com/images/3/3a/Foobar.jpg\n");
add("html2wt", "Don't break list handling if language converter markup is in the item.", "; AAA\n");
add("html2wt", "Don't break table handling if language converter markup is in the cell.", "{|\n\n| B\n|}\n");
add("html2wt", "Bug 529: Uncovered bullet", "* Foo \n* Bar\n");
add("html2wt", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy", "******* Foo \n* Bar\n");
add("html2wt", "Bug 529: Uncovered table already at line-start", "x\n\n{|\n\n| 1 \n| 2\n\n|-\n| 3 \n| 4\n|}\ny\n");
add("html2wt", "Bug 529: Uncovered bullet in parser function result", "* Foo \n* bar\n");
add("html2wt", "Bug 5678: Double-parsed template argument", "<nowiki>{{{1}}}</nowiki>\n");
add("html2wt", "Bug 5678: Double-parsed template invocation", "<nowiki>{{paramtest | param = hello }}</nowiki>\n");
add("html2wt", "Case insensitivity of parser functions for non-ASCII characters (bug 8143)", "Ěščř\nĚščř\něščř\něščř\něščř\něščř\nĚŠČŘ\nĚŠČŘ\n");
add("html2wt", "Morwen/13: Unclosed link followed by heading", "[[link\n\n== <span class=\"mw-headline\" id=\"heading\">heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "HHP2.1: Heuristics for headings in preprocessor parenthetical structures", "<nowiki>{{</nowiki>foo|\n\n= <span class=\"mw-headline\" id=\"heading\">heading</span> =\n");
add("html2wt", "HHP2.2: Heuristics for headings in preprocessor parenthetical structures", "<nowiki>{{</nowiki>foo|\n\n== <span class=\"mw-headline\" id=\"heading\">heading</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Paragraphs inside divs (no extra line breaks)", "<div>Line one\nLine two</div>\n");
add("html2wt", "Paragraphs inside divs (extra line break on close)", "<div>Line one\nLine two\n\n</div>\n");
add("html2wt", "Paragraphs inside divs (extra line break on open and close)", "<div>\nLine one\n\nLine two\n\n</div>\n");
add("html2wt", "Nesting tags, paragraphs on lines which begin with <div>", "<div></div>\n<strong>A\nB</strong>\n");
add("html2wt", "Bug 6200: paragraphs inside blockquotes (no extra line breaks)", "<blockquote>\nLine one Line two\n</blockquote>");
add("html2wt", "Bug 6200: paragraphs inside blockquotes (extra line break on open)", "<blockquote>\nLine one\nLine two</blockquote>");
add("html2wt", "Bug 6200: paragraphs inside blockquotes (extra line break on close)", "<blockquote>\nLine one\n\nLine two\n</blockquote>");
add("html2wt", "Paragraphs inside blockquotes/divs (no extra line breaks)", "<blockquote><div>Line one\nLine two</div></blockquote>\n");
add("html2wt", "Paragraphs inside blockquotes/divs (extra line break on close)", "<blockquote><div>Line one\nLine two\n\n</div></blockquote>\n");
add("html2wt", "Paragraphs inside blockquotes/divs (extra line break on open and close)", "<blockquote><div>\nLine one\n\nLine two\n\n</div></blockquote>\n");
add("html2wt", "Free external link invading image caption", "<div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:182px;\">http://example.com/images/thumb/3/3a/Foobar.jpg/180px-Foobar.jpg  <div class=\"thumbcaption\"><div class=\"magnify\">[/wiki/File:Foobar.jpg]</div>hello</div></div></div>\n");
add("html2wt", "Multibyte character in padleft", "Æ-Hello\n");
add("html2wt", "Multibyte character in padright", "Hello-Æ\n");
add("html2wt", "formatdate parser function", "<span class=\"mw-formatted-date\" title=\"2009-03-24\">2009-03-24</span>\n");
add("html2wt", "formatdate parser function, with default format", "<span class=\"mw-formatted-date\" title=\"2009-03-24\">March 24, 2009</span>\n");
add("html2wt", "Spacing of numbers in formatted dates", "<span class=\"mw-formatted-date\" title=\"01-15\">January 15</span>\n");
add("html2wt", "formatdate parser function, with default format and on a page of which the content language is always English and different from the wiki content language", "<span class=\"mw-formatted-date\" title=\"2009-03-24\">24 March 2009</span>\n");
add("html2wt", "Edit comment with link", "I like the [[wiki/Main Page|Main Page]] a lot");
add("html2wt", "Edit comment with link and link text", "I like the [[wiki/Main Page|best pages]] a lot");
add("html2wt", "Edit comment with link and link text with suffix", "I like the [[wiki/Main Page|best pages]] a lot");
add("html2wt", "Edit comment with section link (non-local, eg in history list)", "[[wiki/Main Page#External links|→]]‎<span dir=\"auto\"><span class=\"autocomment\">External links: </span> removed bogus entries</span>");
add("html2wt", "Edit comment with section link and text before it (non-local, eg in history list)", "pre-comment text [[wiki/Main Page#External links|→]]‎<span dir=\"auto\"><span class=\"autocomment\">External links: </span> removed bogus entries</span>");
add("html2wt", "Edit comment with section link (local, eg in diff view)", "[#External_links →]‎<span dir=\"auto\"><span class=\"autocomment\">External links: </span> removed bogus entries</span>");
add("html2wt", "Edit comment with subpage link (bug 14080)", "Poked at a [[wiki/Subpage test/subpage|/subpage]] here...");
add("html2wt", "Edit comment with subpage link and link text (bug 14080)", "Poked at a [[wiki/Subpage test/subpage|neat little page]] here...");
add("html2wt", "Edit comment with bogus subpage link in non-subpage NS (bug 14080)", "Poked at a [/index.php?title=/subpage&action=edit&redlink=1 /subpage] here...");
add("html2wt", "Edit comment with bare anchor link (local, as on diff)", "#section");
add("html2wt", "Edit comment with bare anchor link (non-local, as on history)", "[[wiki/Main Page#section|#section]]");
add("html2wt", "Anchor starting with underscore", "[#_ref One]\n");
add("html2wt", "Space normalisation on autocomment (bug 22784)", "[[wiki/Main Page#hello world|→]]‎<span dir=\"auto\"><span class=\"autocomment\">__hello__world__</span></span>");
add("html2wt", "percent-encoding and + signs in comments (Bug 26410)", "[/index.php?title=ABC3D%25_%2B%2B&action=edit&redlink=1 ABC3D% ++] [/index.php?title=ABC3D%25_%2B%2B&action=edit&redlink=1 +%20]");
add("html2wt", "Verify that displaytitle works (bug #22501) no displaytitle", "Parser test\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=false", "whatever\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true mismatch", "Screen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) RestrictDisplayTitle=true matching", "screen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false", "Screen\n\nthis is not the the title\n[/index.php?title=Template:DISPLAYTITLE:screen&action=edit&redlink=1 Template:DISPLAYTITLE:screen]\n");
add("html2wt", "Verify that displaytitle works (bug #22501) AllowDisplayTitle=false no DISPLAYTITLE", "Screen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle handles inline CSS styles (bug 26547) - rejected value", "<span style=\"/* attempt to bypass $wgRestrictDisplayTitle */\">s</span>creen\n\nthis is not the the title\n");
add("html2wt", "Verify that displaytitle handles inline CSS styles (bug 26547) - accepted value", "<span style=\"color: red;\">s</span>creen\n\nthis is not the the title\n");
add("html2wt", "preload: check <noinclude> and <includeonly>", "Hello kind world.");
add("html2wt", "preload: check <onlyinclude>", "Hello world");
add("html2wt", "preload: can pass tags through if we want to", "<includeonly>Hello world</includeonly>");
add("html2wt", "preload: check that it doesn't try to do tricks", "<nowiki>*</nowiki> <!-- Hello --><nowiki> ''{{world}}'' {{subst:How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}</nowiki>");
add("html2wt", "HTML5 data attributes", "<span data-foo=\"bar\">Baz</span>\n\nQuuz\n");
add("html2wt", "percent-encoding and + signs in internal links (Bug 26410)", "[[User:+%]] [[Page+title%]] [[%+]] [[%+|%20]] [[%+ ]] [[%+r]] [[%]] [[+]] [[File:%25+abc9|link=File:%+abc9|[[bar]]]] [[3E]] [[3E+]]\n");
add("html2wt", "Special characters in embedded file links (bug 27679)", "[[File:Contains_&_ampersand.jpg]]\n[[File:Does_not_exist.jpg|Title with & ampersand]]\n");
add("html2wt", "Confirm that 'apos' named character reference doesn't make it to output (not legal in HTML 4)", "Text's been normalized?\n");
add("html2wt", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links", "[http://www.example.org/ ideograms]\n");
add("html2wt", "Bug 31098 Template which includes system messages which includes the template", "<span class=\"error\">Template loop detected: [[wiki/Template:Identical|Template:Identical]]</span>\n<span class=\"error\">Template loop detected: [[wiki/Template:Identical|Template:Identical]]</span>\n");
add("html2wt", "Bug31490 Turkish: ucfirst 'blah'", "Blah\n");
add("html2wt", "Bug31490 Turkish: ucfirst 'ix'", "İx\n");
add("html2wt", "Bug31490 Turkish: lcfirst 'BLAH'", "bLAH\n");
add("html2wt", "Bug31490 Turkish: ucfırst (with a dotless i)", "[/index.php?title=%C5%9Eablon:Ucf%C4%B1rst:blah&action=edit&redlink=1 Şablon:Ucfırst:blah]\n");
add("html2wt", "Bug31490 ucfırst (with a dotless i) with English language", "[/index.php?title=Template:Ucf%C4%B1rst:blah&action=edit&redlink=1 Template:Ucfırst:blah]\n");
add("html2wt", "Bug 26375: TOC with italics", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Lost_episodes <span class=\"tocnumber\">1</span> <span class=\"toctext\">''Lost'' episodes</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Lost_episodes\">''Lost'' episodes</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Main_Page&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 26375: TOC with bold", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#should_be_bold_then_normal_text <span class=\"tocnumber\">1</span> <span class=\"toctext\">'''should be bold''' then normal text</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"should_be_bold_then_normal_text\">'''should be bold''' then normal text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Main_Page&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 33845: Headings become cursive in TOC when they contain an image", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Image <span class=\"tocnumber\">1</span> <span class=\"toctext\">Image</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Image\">Image http://example.com/images/3/3a/Foobar.jpg</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Main_Page&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 33845 (2): Headings become bold in TOC when they contain a blockquote", "<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Quote <span class=\"tocnumber\">1</span> <span class=\"toctext\">Quote</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Quote\"></span> ==\n<blockquote>\n<span class=\"mw-headline\" id=\"Quote\">Quote</span>\n</blockquote>\n<span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Main_Page&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span>\n");
add("html2wt", "Unclosed tags in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Proof:_2_.3C_3 <span class=\"tocnumber\">1</span> <span class=\"toctext\">Proof: 2 < 3</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Proof:_2_.3C_3\">Proof: 2 < 3</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Main_Page&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n<small>Hanc marginis exiguitas non caperet.</small>\nQED\n");
add("html2wt", "Multiple tags in TOC", "<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Foo_Bar <span class=\"tocnumber\">1</span> <span class=\"toctext\">''Foo'' '''Bar'''</span>]\n* [#Foo_Bar_2 <span class=\"tocnumber\">2</span> <span class=\"toctext\">''Foo'' Bar</span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Foo_Bar\">''Foo'' '''Bar'''</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Foo_Bar_2\">''Foo''</span> ==\n<blockquote>\n<span class=\"mw-headline\" id=\"Foo_Bar_2\">Bar</span>\n</blockquote>\n<span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span>\n");
add("html2wt", "Tags with parameters in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#Hello <span class=\"tocnumber\">1</span> <span class=\"toctext\"><sup>Hello</sup></span>]\n* [#b.22.3EEvilbye <span class=\"tocnumber\">2</span> <span class=\"toctext\"><sup> b\">Evilbye</sup></span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"Hello\"><sup class=\"in-h2\">Hello</sup></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"b.22.3EEvilbye\"><sup> b\">Evilbye</sup></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "span tags with directionality in TOC", "<div id=\"toc\" class=\"toc\"><div id=\"toctitle\">\n== Contents ==\n</div>\n\n* [#C.2B.2B <span class=\"tocnumber\">1</span> <span class=\"toctext\"><span dir=\"ltr\">C++</span></span>]\n* [#.D7.96.D7.91.D7.A0.D7.92.21 <span class=\"tocnumber\">2</span> <span class=\"toctext\"><span dir=\"rtl\">זבנג!</span></span>]\n* [#The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\">3</span> <span class=\"toctext\"><span>The attributes on these span tags must be deleted from the TOC</span></span>]\n* [#All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\">4</span> <span class=\"toctext\"><span>All attributes on these span tags must be deleted from the TOC</span></span>]\n* [#Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC <span class=\"tocnumber\">5</span> <span class=\"toctext\"><span dir=\"ltr\">Attributes after dir on these span tags must be deleted from the TOC</span></span>]\n\n</div>\n\n== <span class=\"mw-headline\" id=\"C.2B.2B\"><span dir=\"ltr\">C++</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\".D7.96.D7.91.D7.A0.D7.92.21\"><span dir=\"rtl\">זבנג!</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"The_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\"><span style=\"font-style: italic\">The attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"All_attributes_on_these_span_tags_must_be_deleted_from_the_TOC\"><span style=\"font-style: italic\" dir=\"ltr\">All attributes on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Attributes_after_dir_on_these_span_tags_must_be_deleted_from_the_TOC\"><span dir=\"ltr\" style=\"font-style: italic\">Attributes after dir on these span tags must be deleted from the TOC</span></span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Bug 32057: Title needed when expanding <h> nodes.", "== <span class=\"mw-headline\" id=\"Headline_text\">Headline text</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Main_Page&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Strip marker in urlencode", "xy\nxy\nxy\n");
add("html2wt", "Strip marker in lc", "xy\n");
add("html2wt", "Strip marker in uc", "XY\n");
add("html2wt", "Strip marker in formatNum", "12\n12\n");
add("html2wt", "Check noCommafy in formatNum", "123 456,78\n123456.78\n");
add("html2wt", "Wrong option for formatNum (bug 56199)", "1,234.56\n1,234.56\n1,234.56\n");
add("html2wt", "Strip marker in grammar", "foobarista\n");
add("html2wt", "Strip marker in padleft", "xy\n");
add("html2wt", "Strip marker in padright", "xy\n");
add("html2wt", "Strip marker in anchorencode", "xy\n");
add("html2wt", "nowiki inside link inside heading (bug 18295)", "== <span class=\"mw-headline\" id=\"xyz\">[[wiki/Foo|xyz]]</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "new support for bdi element (bug 31817)", "ולדימיר לנין (ברוסית: <bdi lang=\"ru\">Владимир Ленин</bdi>, 24 באפריל 1870–22 בינואר 1924) הוא מנהיג פוליטי קומוניסטי רוסי.\n");
add("html2wt", "Ignore pipe between table row attributes", "{|\n\n| quux\n\n|- id=\"foo\" style=\"color: red\"\n| bar\n|}\n");
add("html2wt", "Gallery override link with WikiLink (bug 34852)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery override link with absolute external link (bug 34852)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery override link with malicious javascript (bug 34852)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\ncaption\n\n\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Gallery with invalid title as link (bug 43964)", "\t\t* <div style=\"width: 155px\">\n\t\t\t<div class=\"thumb\" style=\"width: 150px;\"><div style=\"margin:68px auto;\">http://example.com/images/thumb/3/3a/Foobar.jpg/120px-Foobar.jpg</div></div>\n\t\t\t<div class=\"gallerytext\">\t\t\t</div>\n\t\t</div>\n");
add("html2wt", "Language parser function", "العربية\n");
add("html2wt", "Padleft and padright as substr", "abc\nabc\n");
add("html2wt", "Special parser function", "Special:Random\nSpecial:Badtitle\nSpecial:Foobar\n");
add("html2wt", "Disable TOC", "Lead\n\n== <span class=\"mw-headline\" id=\"Section_1\">Section 1</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=1 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_2\">Section 2</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=2 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_3\">Section 3</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=3 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_4\">Section 4</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=4 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n\n== <span class=\"mw-headline\" id=\"Section_5\">Section 5</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span>[/index.php?title=Parser_test&action=edit&section=5 edit]<span class=\"mw-editsection-bracket\">]</span></span> ==\n");
add("html2wt", "Ref: 3. spaces in ref-names should be ignored", "A <ref name=\"x\">foo</ref>\nB <ref name=\"x\" />\nC <ref name=\"x\" />\n");
add("html2wt", "Ref: 5. body should accept generic wikitext", "A <ref>This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("html2wt", "Ref: 6. indent-pres should not be output in ref-body", "A <ref>foo\n bar\n baz\n</ref>\n\n<references />");
add("html2wt", "Ref: 7. No p-wrapping in ref-body", "A <ref>foo\nbar\nbaz\nbooz\n</ref>\n\n<references />");
add("html2wt", "Ref: 8. transclusion wikitext has lower precedence", "A <ref>foo {{echo|</ref> B C<nowiki>}}</nowiki>\n<references />");
add("html2wt", "Ref: 9. unclosed comments should not leak out of ref-body", "A <ref>foo <!----></ref> B C\n<references />");
add("html2wt", "Ref: 10. Unclosed HTML tags should not leak out of ref-body", "A <ref><b> foo </ref> B C\n\n<references />");
add("html2wt", "Ref: 19. ref-tags with identical name encodings should get identical indexes", "1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp;amp; b\" />\n\n<references />");
add("html2wt", "References: 5. ref tags in references should be processed while ignoring all other content", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\n</references>");
add("html2wt", "Entities in ref name", "<ref name=\"test &amp;amp; me\">hi</ref>\n");
add("html2wt", "Empty LI and TR nodes should not be stripped from top-level content", "* a\n*\n* b\n\n{|\n\n|-\n|foo\n\n|}\n");
add("html2wt", "Lists: 1. Nested inside html", "* <nowiki>*foo</nowiki>\n\n* <nowiki>#foo</nowiki>\n\n* <nowiki>:foo</nowiki>\n\n* <nowiki>;foo</nowiki>\n# <nowiki>*foo</nowiki>\n\n# <nowiki>#foo</nowiki>\n\n# <nowiki>:foo</nowiki>\n\n# <nowiki>;foo</nowiki>\n");
add("html2wt", "Lists: 2. Inside definition lists", "; <nowiki>;foo</nowiki>\n\n; <nowiki>:foo</nowiki>\n\n; <nowiki>:foo</nowiki>\n: bar\n\n: <nowiki>:foo</nowiki>\n");
add("html2wt", "Lists: 3. Only bullets at start of text should be escaped", "* <nowiki>*foo*bar</nowiki>\n\n* <nowiki>*foo</nowiki>''it''*bar\n");
add("html2wt", "Lists: 4. No escapes needed", "* foo*bar\n\n* ''foo''*bar\n\n* [[Foo]]: bar\n\n* [[Foo]]*bar\n");
add("html2wt", "HRs: 1. Single line", "----\n<nowiki>----</nowiki>\n----\n<nowiki>=foo=</nowiki>\n----\n<nowiki>*</nowiki>foo\n");
add("html2wt", "Links 13: Protect link-like plain text. (Parsoid bug T78425)", "this is not a link: http://example.com\n");
add("html2wt", "1. Leading whitespace in SOL context should be escaped", "<nowiki> </nowiki>a\n\n<nowiki> </nowiki> a\n\n\ta(tab)\n\n \ta\n\n<!--cmt--><nowiki> </nowiki> a\n\na\n<nowiki> </nowiki>b\n\na\n\tb\n\na\n\t b\n");
add("html2wt", "3. Leading whitespace in indent-pre suppressing contexts should not be escaped", "<blockquote>\n\n a\n <span>b</span>\n c\n</blockquote>");
add("html2wt", "HTML tag with 'unnecessary' entity encoding in attributes", "<span title=\"&\">foo</span>\n");
add("html2wt", "HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("html2wt", "Parsoid-only: HTML tag with broken attribute value quoting", "<span title=\"Hello world\">Foo</span>\n");
add("html2wt", "Table with broken attribute value quoting", "{|\n\n| title=\"Hello world\" |Foo\n|}\n");
add("html2wt", "Table with broken attribute value quoting on consecutive lines", "{|\n\n| title=\"Hello world\" |Foo\n| style=\"color: red\" |Bar\n|}\n");
add("html2wt", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<nowiki>{{}}</nowiki>");
add("html2wt", "Parsoid-only: Don't wrap broken template tags in <nowiki> on wt2wt (Bug 42353)", "<nowiki>}}{{</nowiki>");
add("html2wt", "Accept empty td cell attribute", "{|\n\n| align=\"center\" | foo \n|\n|}\n");
add("html2wt", "Non-empty attributes in th-cells", "{|\n\n! Foo \n! style=\"color: red\" | Bar\n|}\n");
add("html2wt", "Accept empty attributes in th-cells", "{|\n\n! foo \n! bar\n|}\n");
add("html2wt", "Empty table rows go away", "{|\n\n| Hello\n\n| there\n\n|}\n");
add("html2wt", "RT-ed inter-element separators should be valid separators", "{|\n\n|}\n");
add("html2wt", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out", "{|\n|<small>foo\n\nbar\n|}\n\n{|\n|<small>foo<small>\n|}\n");
add("html2wt", "Empty TD followed by TD with tpl-generated attribute", "{|\n\n|\n\n|foo\n|}\n");
add("html2wt", "Indented table with an empty td", "{|\n\n|\n\n|foo\n|}\n");
add("html2wt", "Empty TR followed by a template-generated TR", "{|\n\n{{echo|<tr><td>foo</td></tr>}}\n|}\n");
add("html2wt", "Empty TR followed by mixed-ws-comment line should RT correctly", "{|\n\n\n <!--c-->|-\n<!--c--> <!--d-->\n|}\n");
add("html2wt", "Improperly nested inline or quotes tags with whitespace in between", "<span> <s>x</s></span><s> </s>\n''' ''x'''''<nowiki/>'' ''\n");
add("html2wt", "New wiki links (content string variations)", "[[Foo_bar]]\n[[Foo bar]]\n[[MediaWiki:Badtitletext]]");
add("html2wt", "Image: upright option (parsoid)", "[[File:Foobar.jpg|thumb|caption]]\n[[File:Foobar.jpg|thumb|caption]]\n[[File:Foobar.jpg|thumb|500x500px|caption]]\n");


// Blacklist for selser
add("selser", "Extra newlines followed by heading [1,2,1,3,0,4,0,4,1,3,4]", "a\n\n40z1qdji2lfskyb9\n\n\n\n=b=\n9h4x5nzjh28rggb9\n\n[[a]]\n\nkup4bo01iztzkt9\n\n\n\nzlbbwe36wkrcnmi\n");
add("selser", "Parsing an URL [[[2]],2,0]", "[[:fr:🍺|blv27e9oigmpwrk9http://fr.wikipedia.org/wiki/🍺]]\n\n7vcz2sjoo733ow29\n<!-- EasterEgg we love beer, better be able be able to link to it -->");
add("selser", "Italics and possessives (2) [[2,3,0,0]]", "0zb8t8umky2pgb9'''''Flaming Pie'''Flaming Pie'''s liner notes");
add("selser", "Italics and bold: 5-quote opening sequence: (5,6) [[[2]]]", "''7mymhlqo5nhlg14i'''foo''''''");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [1]", "{| data-foobar=\"pl7el6nksli8uxr\"\n!''a!!''b\n|''a||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[4,[[4,0,2,[1],0],4]]]", "{|<!--44rbogtlx8hncdi-->\n!5oylcgfssnfav2t9!!''b\n!qcinqswgq2r9t3xr\n|''a''||''b<!--b7ncx26rmqiu23xr-->\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[[4],2,2,[1],3],3]]]", "{|\n!1dfhixwwz1pjh5mi\n!prh1yloryheel8fr!!''b\n!bnbtnusotswwb3xr\n|''a''\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[0,[3],0,1,0],0]]]", "{|\n!''a!!\n| data-foobar=\"1gt3i3g1jbeghkt9\" |''a||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[[2],2,0,3,4],3]]]", "{|\n!1wucy9fx99y3c8fr''a\n!n5303dc1uwkzw7b9!!''b\n!3q48ji1k3h74lsor\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [2]", "w4wro8m98b6jq0k9\n{|\n!''a!!''b\n|''a||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[4,2,3,0,2],0]]]", "{|\n!4hvneujbci0be29\n!dlmqv8ltd9lfpqfr!!''b\n|''a\n|1pz8cymf9xm9529||''b\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[[1,2,0,1,[[2]]],0]]]", "{|\n! data-foobar=\"t5yzsleh3tprpb9\" |''a\n!39y1a3cg7nyrdx6r!!''b\n| data-foobar=\"e4eryq6zjlaexw29\" |''a||''ud4ocn5ppv3rf6rb''\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[0,[1,4]]]", "{|\n!''a!!''b\n|''a||''b<!--kstn821po5cgcik9-->\n|}");
add("selser", "Parsoid only: Quote balancing context should be restricted to td/th cells on the same wikitext line\n(Requires tidy for PHP parser output to be fixed up) [[4,1]]", "{|<!--etpqkkwhhxhl4n29-->\n!''a!!''b\n|''a||''b\n|}");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) 5", "\n<s.foo>s</s>\n");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [0,2]", "\n042kzd02zerejyvi\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [4,0]", "yfesui45qvoswcdi\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [4,2]", "r2hqo7bkxona5rk9\n\npnoi1dw78cvrt3xr\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [3,2]", "i8usmsqui9kke29\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [2,0]", "zskmdh55uiuxflxr\n\n<s.foo>s</s>");
add("selser", "Isolated close tags should be treated as literal text (bug 52760) [3,0]", "<s.foo>s</s>");
add("selser", "Comment semantics: unclosed comment at end 5", "<!--This comment will run out to the end of the document-->");
add("selser", "Empty lines between lines with block tags [0,0,0,0,4,[4],0,4,2,4,2,0,0,3,3,0,0,[4]]", "<div></div>\n\n\n0jr2knw69qode7b9\n\nak4f0xoun9bv5cdi\n\n4us29365j9f9lik9\n\n3sh6psvknz3hm2t9\n\n8z2ywhrg9wl8fr\n\nz7s9at3qyq2xogvi\n\nb\n\n<div>b</div>\n<div>h2r4miiukcoez5mi</div>");
add("selser", "Empty lines between lines with block tags [0,4,2,2,0,4,0,[2],0,[4],3,0,0,0,0,2,3,0]", "<div></div>g72sdt9b9996bt9\n\nau765cdgwcsg7gb9\n\n\n\nqhrfek8hsgkz9f6r\n<div></div>rw83ofcbk55vzpvi\n\nvky2au8c7nmnp14ib\n<div>eu25mfmjxi0sh5mi</div>\n\n<div>b</div>d\n\nvxxu49npeng66r\n\n<div>e</div>");
add("selser", "<nowiki> inside <pre> (bug 13238) [4,2,2,0,0]", "ptjux9vq9zarlik9\n\ny7rebotz1jo1dcxr\nnb7mtl9jj0jm7vi<pre>\n<nowiki></nowiki>\n</pre>\n<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [3,0,3,3,2]", "\np32i6amoddb9y66r<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [0,3,3,0,2]", "<pre>\n<nowiki>\n</pre>\nf1s3by12sbw97ldi<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [[3],0,[0,3],3,[4,0,1,2]]", "<pre></pre>\n<pre>\n\n<nowiki></nowiki></pre><pre>8snncrntp84ims4iFoo<nowiki></nowiki>vdl3ymz68paurf6r</nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [4,0,0,0,2]", "lfad62yj247psyvi\n<pre>\n<nowiki></nowiki>\n</pre>\ns668bavo8x4rt3xr<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [0,0,[1,3],4,2]", "<pre>\n<nowiki>\n</pre>\n<pre>\n\n<nowiki></nowiki></pre>h5z9mczgkhzx5hfr\n\n4x2g6badu0udi<pre><nowiki><nowiki></nowiki>Foo<nowiki></nowiki></nowiki></pre>");
add("selser", "<nowiki> inside <pre> (bug 13238) [[3],0,[0,4],2,[3,0,0,2]]", "<pre></pre>\n<pre>\n\n<nowiki></nowiki>al0hy3rs2h11c3di</pre>h5p8fkiwu373c8fr\n<pre>Foo<nowiki></nowiki>zicqb9fw1mkotj4i</nowiki></pre>");
add("selser", "<nowiki> and <pre> preference (first one wins) [3,0,2,0,1,2]", "\nuuvq56wkejc3di\n\n</nowiki>\n</pre>\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n\n00flm86bxtzhyqfr\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [[4],0,3,0,0,0]", "<pre>\nhtov4vvjzewdygb9</pre>\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [3,4,3,0,2,0]", "u20jle5jk0hvkj4i\n\nn067pn35sxjsv2t9\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [[2],0,1,0,2,4]", "<pre>\n8ko393dqfxxvquxr<nowiki>\n</pre>\n</nowiki>\n</pre>\n\nmgac8wudaavy4x6r\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n\n1js1f9r56vl5wmi\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [4,0,2,0,[0,4],4]", "tdqftxhs7bsxlxr\n\nup3ot7cx78sq0k9\n\n</nowiki>\n</pre>\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>57nnl6navsmaq0k9\n\nops9m7gl3ee1att9\n");
add("selser", "<nowiki> and <pre> preference (first one wins) [0,0,[2,2],0,2,0]", "<pre>\n<nowiki>\n</pre>\nayl0rt9j2rvvlsor</nowiki>ku5wz6d4oixjemi\n</pre>\n\naoia6vijp7722o6r\n\n<nowiki>\n<pre>\n<nowiki>\n</pre>\n</nowiki>\n</pre>\n");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,4,0,0,0,0,0,3,0,0,0,4,0,0,[3]]", "{{echo| }}axyuf8omjvhxv42t9{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\nrnjrx8un9rvsra4i{{echo|a\n}} ");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,4,0,0,0,0,0,4,0,0,0,0,0,0,0]", "{{echo| }}am07scp5u1omq85mi{{echo|\n }}a\n\n{{echo|\n b}}\nsjwwihyngffxbt9{{echo|a\n }}b\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,4,0,0,0,0,0,0,[4]]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\nr44i0xvr0xzs38fr{{echo|a\n }}b\n\n{{echo|a\n}} niup05a8topyzaor");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,4,0,0,0,0,0,0,0,0,0,2,0,0,[3]]", "{{echo| }}azltw944t54abrzfr{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\npzz1c4eezymvlsor\n\n{{echo|a\n}} ");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,0,0,0,0,2,0,0,[3]]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\nlso7s6s9c8oajor\n\n{{echo|a\n}} ");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,3,0,0,0,4,0,0,0]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\nwe04a84hhxnzsemi{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,3,0,0,0,0,0,3,0,0,0,3,0,0,0]", "{{echo| }}a{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,0,0,0,2,0,0,0,0,0,0,1]", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\ng2842z4sedlmzpvi\n\n{{echo|a\n }}b\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,2,0,0,0,0,0,3,0,0,0,0,0,0,1]", "{{echo| }}akiw1kzcd7gddvx6r\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n{{echo|a\n }}b\n\n{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,0,0,0,0,0,0,0,4,0,0,0]", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\nbt5yrxqcb1d78pvi{{echo|a\n}} b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,4,0,0,0,0,0,0,0,0,0,[2]]", "{{echo| }}a\n\n{{echo|\n }}a\n4kifb531krdd9529{{echo|\n b}}\n\n{{echo|a\n }}b\n\n{{echo|a\n}} 7ujkiku3nn7mn29b");
add("selser", "Templates: Indent-Pre: 1f: Wrapping should be based on expanded content [0,0,0,0,0,0,0,0,0,0,0,0,0,0,[4]]", "{{echo| }}a\n\n{{echo|\n }}a\n\n{{echo|\n b}}\n\n{{echo|a\n }}b\n\n{{echo|a\n}} f2d99w4cya7zaor");
add("selser", "Templates: Handle comments in the target [0,0,0,3,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,3,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,2,0,0,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n9ncpho3wpuhoxbt9\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,3,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\nl9rw5g1g22hs38fr\n\n{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,0,0,2,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n9v9mkbqum3brcnmi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,0,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\neffd0wpcayca0pb9\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,2,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\nhwwntyagv9a1nhfr\n\n{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,0,0,2,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\n07oxlbecbt4q85mi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,2,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\ndt51r00wxqjmj9k9\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,3,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\nv8be2ljmu606n7b9\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,0,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n1w4nz3fu3tc8r529\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,2,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\ng3h399i2371wz5mi\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,0,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\nwaq51k3tb7wuerk9\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,2,0,2,0,3,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\nxc73m35mloy74x6r\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n6ur51wfou1munmi\n\n{{echo<!-- should be ignored -->|foo}}{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,2,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}\n\n67x59k75tpo561or\n\n{{echo<!-- should be ignored -->|foo}}\n\nwvrzv7ijo9k3ayvi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,4,0,4,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\npmnvitmjwlzhncdi\n\n{{echo<!-- should be ignored -->\n|foo}}\n\nwe3f5jnl8pczncdi\n\n{{echo<!-- should be ignored -->|foo}}\n\nziylnllihba3v7vi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,4,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\npk398lfm3w1rwwmi\n\n{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,3,0,3,0,0,0]", "{{echo\n<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->\n|foo}}{{echo<!-- should be ignored -->|foo}}\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "Templates: Handle comments in the target [0,0,0,0,0,4,0]", "{{echo\n<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->\n|foo}}\n\n{{echo<!-- should be ignored -->|foo}}\n\nhlr2vnanjhflayvi\n\n{{<!-- should be ignored -->echo|foo}}");
add("selser", "4. Indent-Pre and extension tags 5", "<nowiki> </nowiki>a <gallery>\nFile:foobar.jpg\n</gallery>");
add("selser", "5a. White-space in indent-pre [[0,0,4]]", " a<br />\n 7tmueg6dyhqia4i");
add("selser", "5a. White-space in indent-pre [1]", " a<br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[3,0,0]]", " <br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[3,2,0]]", " ghzkfux2q7pynwmi<br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[0,2,2]]", " avnpy3yvtyhh93sor<br />\n tryc19803p4lsor\n \n b");
add("selser", "5a. White-space in indent-pre [[0,0,2]]", " a<br />\n m7led9fbke8nnrk9\n \n b");
add("selser", "5a. White-space in indent-pre [[2,0,4]]", " d3ppdqvqzdxi529a<br />\n 82567nb6q9hbmx6r");
add("selser", "5a. White-space in indent-pre [[2,0,0]]", " 9blj98gpz0py14ia<br />\n \n \n b");
add("selser", "5a. White-space in indent-pre [[0,2,0]]", " am3m3vd8oxzu84cxr<br />\n \n \n b");
add("selser", "Definition lists: self-closed tag [2]", "x14l42v2vh392j4i\n;one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [1]", ";one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [[[4,2,4,0],[2]]]", ";hfmudey4je6u5wmi18aco6b1yahy3nmi<br/>199ekjza5e7phkt9 :b3ubf9dln2x7ds4i two-line fun");
add("selser", "Definition lists: self-closed tag [[[4,0,2,0],4]]", ";6gd5x9ujq93sor<br/>osyb2ye446q7iuditwo \n: gxhzecj78bzqia4i");
add("selser", "Definition lists: self-closed tag [[[2,2,0,3],[3]]]", ";uc5f3pstdod8ia4ione9cv4uwjoqoscerk9<br/>two:");
add("selser", "Definition lists: self-closed tag [[[0,0,0,[3]],0]]", ";one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [[[0,0,0,1],0]]", ";one<br/>two : two-line fun");
add("selser", "Definition lists: self-closed tag [[[3,0,0,1],2]]", ";<br/>two \n: ous26d8paeqrrudi: two-line fun");
add("selser", "Definition lists: self-closed tag [[2,3]]", ": cqu8ibre3a73z0k9\n;one<br/>two ");
add("selser", "Definition lists: self-closed tag [[[0,0,2,[4]],3]]", ";one<br/>5uc0qhljlo4aq0k9two ");
add("selser", "Definition lists: self-closed tag [[1,0]]", ";one<br/>two : two-line fun");
add("selser", "Definition Lists: Indentation: Missing 1st level [[[2]]]", ":ipc7lq41c2ua0pb9\n:i2\n:::i3");
add("selser", "Definition Lists: Indentation: Missing 1st level [[1]]", ":i2\n:::i3");
add("selser", "Definition Lists: Indentation: Missing 1st level [[[1]]]", ":i2\n:::i3");
add("selser", "Definition Lists: Indentation: Missing 1st level [[[[2]]]]", ":: 6mzc14cfh232fbt9\n:i2\n:::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[1]]", "::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[[1]]]]", ":i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[[2]]]]", ":: gvi8dh2tni6swcdi\n::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[1]]]", "::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[2]]]", ":hsmmdr82kzyc766r\n::i3");
add("selser", "Definition Lists: Indentation: Multi-level indent [[[[[2]]]]]", "::akd7ny1k2mrhpvi\n:i3");
add("selser", "Definition Lists: Hacky use to indent tables [[1],4,[2]]", ":{|\n|foo\n|bar\n|}\n5yb2io9xvv4pldi\n\nrmhaiuvnu5bz9f6rthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables [[[1]],0,[2]]", ":{|\n|foo\n|bar\n|}\n32agybb4zixm9529this text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables [[[[2]]],0,0]", ":: 8vyka9uv140wwmi\n:{|\n|foo\n|bar\n|}\nthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables [[1],3,0]", ":{|\n|foo\n|bar\n|}\nthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables, with comments (bug 63979) [0,0,2,2,4]", "<!-- foo -->\nfdln2n8jwta6pqfr\n::{|\n|foo\n|bar\n|}<!-- bar -->\ny7158cfk5escq5mi\n\ng4unkrlrlf03sor\n");
add("selser", "Definition Lists: Hacky use to indent tables, with comments (bug 63979) [2,2,2,4,2]", "vdckjjyh70ou5wmi\n\n<!-- foo -->5lh0sneax7vkuik9\n\nx4giy8cm27pq4cxr\n::{|\n|foo\n|bar\n|}<!-- bar -->\n336guoo8fk249529\n\nu2dght8belndygb9\n\nthis text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables, with comments (bug 63979) [3,0,[[[2]]],0,[2]]", "\n:: wpfjo8soowpqr529\n:{|\n|foo\n|bar\n|}<!-- bar -->\nl7uxnt9yt0h5xw29this text\nshould be left alone");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[1]]", ":<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[[2]]]", ":7cfvho5x3l3di\n:<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[[1]]]", ":<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Hacky use to indent tables, with comment before table [[[[2]]]]", ":: s8pfbp6j93vj9k9\n:<!-- foo -->{|\n|foo\n|}");
add("selser", "Definition Lists: Nesting: Multi-level (Parsoid only) [[[3,2],[3],0,1]]", ";9mvwgsrbe5gbvs4i :\n;t2 ::d2\n;;;t3 :::d3");
add("selser", "Definition Lists: Nesting: Multi-level (Parsoid only) [[2,2,0,1]]", ": 30qwj9nju0widx6r\n;t1 \n: 9n4rno4f9st9be29:d1\n;t2 ::d2\n;;;t3 :::d3");
add("selser", "Definition Lists: Nesting: Multi-level (Parsoid only) [[[4,1],[4],0,[2]]]", ";w3qyijm7oai9hpvi :mva9ar37ti3haor\n;0ia6286tbc6m9529\n;t2 ::d2\n;;;t3 :::d3");
add("selser", "Definition Lists: Nesting: Test 2 (Parsoid only) [[[4],0,[2]]]", ";oy19o5rbcmzpvi\n:b58j1xlitzsn61or\n:d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,4,3]]]]", ";t1\n:: zdqna9olh5ixusor\n");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[1]]", ";t1\n::::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[2]]]", ":ttexzhp9gaz1714i\n;t1\n::::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,0,1]]]]", ";t1\n::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,0,[1]]]]]", ";t1\n::d2");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[0,0,[3]]]]]", ";t1\n::");
add("selser", "Definition Lists: Nesting: Test 3 (Parsoid only) [[[[1,0,[[[1]]]]]]]", ":;t1\n:d2");
add("selser", "Definition Lists: Nesting: Test 4 [[[[2]]]]", ":: 2ffrjazvaniv0a4i\n:;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[1]]", ":;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[2]]]", ":8wu4am1ln89f6r\n:;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[[1]]]]", ";t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[1]]]", ":;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[[[2]]]]]", "::jlvy4ainkafywrk9\n;t3\n:::d3");
add("selser", "Definition Lists: Nesting: Test 4 [[[[[1]]]]]", ";t3\n:::d3");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[[1],0,1,3,3]]]]", "* foo\n* bar\n");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[[2],4,3,0,2]]]]", ":;9zs68u3vhj3ba9k9\n* foo\n:: h0cckr3trldkuik9\n:: eziqp1u1mxuyds4i\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[1]]", ";* foo\n::* bar\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[2]]]", ":jagnpnrmaolayvi\n;* foo\n::* bar\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[1]]]", ";* foo\n::* bar\n:; baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[0,0,0,4,[3]]]]]", ";* foo\n::* bar\n:: 3twbjzdjxl84cxr\n:;");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[[[2]],0,1,3,[2]]]]]", ":;* ufcn0yv2rdq2gldi\n* foo\n* bar\n:;zone6ej9s2x1or baz");
add("selser", "Definition Lists: Mixed Lists: Test 1 [[[[2,0,2,4,4]]]]", ":: jkptzuqtthd50zfr\n;* foo\n:: 4m5ewdtci6q1tt9\n::* bar\n:: rrc6a3k5842yy14i\n:: 3ecgk61qhgxpqfr\n");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[1]]", ": d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[2]]]", "*ghcxyofq2pujtt9\n: d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[[0,3,1]]]]", ": d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[[2,2,0]]]]", "*: lzoy3ctglqbbj4i\n: d1\n*: ptg8l09b57hnnrk9\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 2 [[[1]]]", ": d1\n*: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[1]]", "::: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[2]]]", "*aioo1mfyfeuvunmi\n::: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[1]]]", "::: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[[1]]]]]", ":: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[[2]]]]]", "*:tscp1yg1h03vj9k9\n:: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[1]]]]", ":: d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 3 [[[[[[1]]]]]]", ": d1\n*::: d2");
add("selser", "Definition Lists: Mixed Lists: Test 4 [[[2]]]", "*6mu8sv5g21s5g66r\n;d1 :d2\n*;d3 :d4");
add("selser", "Definition Lists: Mixed Lists: Test 4 [[1]]", ";d1 :d2\n*;d3 :d4");
add("selser", "Definition Lists: Mixed Lists: Test 4 [[[1]]]", ";d1 :d2\n*;d3 :d4");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[[1]]]", ":d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[1]]", ":d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[[[2]]]]", "*: gjoeoqdsebzz1tt9\n:d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 5 [[[2]]]", "*zmjdj3txx8figgb9\n:d1\n*:: d2");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[1]]]", "*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[1]]", "*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[2]]]", "#gy1zv9olxz0bpgb9\n*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[[1]]]]", ":d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 6 [[[[2]]]]", "#* 7874eth0w4okcsor\n*:d1\n#*::: d3");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[2]]]", ":768ls4wzt49529\n* d1\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[1]]", "* d1\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[2,2,0]]]]", ":* jl7l11bxkgpn9udi\n* d1\n:* 7cu8eq4coxublnmi\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[1]]]", "* d1\n:* d2");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[0,4,3]]]]", "* d1\n:* mve2eyx0y8bmx6r\n");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[0,2,4]]]]", "* d1\n:* s9flo7ozh9ztzkt9\n:* u0h78yb6xikq33di\n");
add("selser", "Definition Lists: Mixed Lists: Test 7 [[[[2,0,3]]]]", ":* lvom8bcinxy74x6r\n* d1\n");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[1]]", "* d1\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,2,1]]]", "* d18p71r17qkqehfr\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,4,[2]]]]", "* d1p00sd2ve34ohia4i\n:: waos5kb13d8qto6r\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,2,[[[[4]]]]]]]", "* d1zrb7mejr5l45z5mi\n::*ll71mwfvepn6zuxr");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[[3],2,[1]]]]", ":*2j7qe095hdm42t9\n* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[0,3,[2]]]]", "* d1\n:: 1lcvy03rlwmf5hfr\n::* d2");
add("selser", "Definition Lists: Mixed Lists: Test 8 [[[1,0,3]]]", "* d1\n");
add("selser", "Definition Lists: Mixed Lists: Test 9 [[1]]", ";foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 9 [[[[2,0]]]]", "*: keupt1egajq69a4i\n;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 9 [[[1]]]", ";foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[1]]", "#;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[[[[2,0]]]]]]", "*#: axsmplr1g6x39pb9\n;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[1]]]", "#;foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[[1]]]]", ";foo :bar");
add("selser", "Definition Lists: Mixed Lists: Test 10 [[[[[[2,[3]]]]]]]", "*#: jbg2gvphsydp9zfr\n;foo :");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[[[2]]]]]", "*#h1ete8g4k5f561or\n*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[1]]]", "#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[[2]]]]", "*# 8x9qpkn5qaor\n#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[1]]", "#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[2]]]", "*e226ryeea76tj4i\n#*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Mixed Lists: Test 11 [[[[[1]]]]]", "*#;*;;foo :bar\n*#*#;boo :baz");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[1]]]]", ";*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[1]]]", "#;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[1]]", "#;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[[2]]]]]", "*#zp1c712f0jzqto6r\n;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[2]]]", "*aaa153pk181fko6r\n#;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[[[2]]]]]]", "*#: m79ersaiyeqaor\n;*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[[[[2]]]]]]]", "*#;q93hogh7bi2ro1or\n*::;; foo : bar (who uses this?)");
add("selser", "Definition Lists: Weird Ones: Test 1 [[[[2]]]]", "*# mug1j4xbiskprpb9\n#;*::;; foo : bar (who uses this?)");
add("selser", "External links: No preceding word characters allowed (bug 65278) [2]", "mig7hyd77nfjemi\n\nNOPEhttp://example.com\nN0http://example.com\nok:http://example.com\nok-http://example.com");
add("selser", "BUG 289: \">\"-token in bracketed URL [2]", "ll0lxyd1rfgpsyvi\n\n[http://www.example.com/<hello> stuff]");
add("selser", "BUG 289: \">\"-token in bracketed URL [1]", "[http://www.example.com/<hello> stuff]");
add("selser", "BUG 289: \">\"-token in bracketed URL [[2]]", "kemi29jie4b1emi[http://www.example.com/<hello> stuff]");
add("selser", "BUG 289: literal \">\"-token in bracketed URL [1]", "[http://www.example.com/<b>html</b> stuff]");
add("selser", "BUG 289: literal \">\"-token in bracketed URL [2]", "yzdq7arbkyj2x1or\n\n[http://www.example.com/<b>html</b> stuff]");
add("selser", "BUG 289: literal \">\"-token in bracketed URL [[2]]", "qg5zzmwudapaxlxr[http://www.example.com/<b>html</b> stuff]");
add("selser", "BUG 289: literal double quote in bracketed URL [2]", "n54iktr2flygmn29\n\n[http://www.example.com/\"hello\" stuff]");
add("selser", "BUG 289: literal double quote in bracketed URL [[2]]", "pxlv6lwcjjug14i[http://www.example.com/\"hello\" stuff]");
add("selser", "BUG 289: literal double quote in bracketed URL [1]", "[http://www.example.com/\"hello\" stuff]");
add("selser", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081) [2]", "y24x21nq2i0ms4i\n\n[http://www.example.com  test]");
add("selser", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081) [1]", "[http://www.example.com  test]");
add("selser", "External links: multiple legal whitespace is fine, Magnus. Don't break it please. (bug 5081) [[2]]", "u4ly6ay2j8257b9[http://www.example.com  test]");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,0,2]]", "[http://example.com [[wikilink]] embedded in ext link]56lgcoywrk9\n");
add("selser", "External links: wiki links within external link (Bug 3695) [2]", "rfn3et25sei885mi\n\n[http://example.com [[wikilink]] embedded in ext link]");
add("selser", "External links: wiki links within external link (Bug 3695) [[1,0,[3]]]", "[http://example.com]<span></span>\n");
add("selser", "External links: wiki links within external link (Bug 3695) [1]", "[http://example.com [[wikilink]] embedded in ext link]\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,[2],4]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink|tfm4924utjjg7gb9wikilink]]4pudhm2cxjchm2t9");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,1,0]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink]]\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,[4],2]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink|7228zsz9jdbihpvi]]<nowiki/>wflnk0qix68hncdi\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,[3],4]]", "[http://example.com [[wikilink]] embedded in ext link][[wikilink|<nowiki/>]]5cq8i4zuavo647vi");
add("selser", "External links: wiki links within external link (Bug 3695) [[2,0,2]]", "293cbx0l3sg7gb9[http://example.com [[wikilink]] embedded in ext link]8w2h9t6x2k2o6r\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,2,4]]", "[http://example.com [[wikilink]] embedded in ext link]rc54l2ht7oh9qkt9<nowiki/>rdih6467tz6ko6r");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,0,4]]", "[http://example.com [[wikilink]] embedded in ext link]<nowiki/>sqtg3ksvvgta9k9");
add("selser", "External links: wiki links within external link (Bug 3695) [[2,3,[4]]]", "ajav6f9s210dx6r[http://example.com [[wikilink]] embedded in ext link]<span>l42uxett0a1nhfr</span>\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,2,0]]", "[http://example.com [[wikilink]] embedded in ext link]pj9l2glwx6sf9a4i\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[0,4,0]]", "[http://example.com [[wikilink]] embedded in ext link]2zzejaf2y9nc23xr\n");
add("selser", "External links: wiki links within external link (Bug 3695) [[3,2,0]]", "0uk611ztql8wu3di\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,0,[2],0,3,4,3,[0,[0,[1]],4],0,1]]", "\n[http://example.com 4n2162e1fd730udi'''text''']'''rgd08hyitua0pb9''Something [http://example.com mixed''''', even bold''''']l55strlralri19k9''\n'''''Now [http://example.com both'''''<nowiki/>''''']'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [1]", "''[http://example.com text'']\n[http://example.com '''text]'''\n''Something [http://example.com in italic'']\n''Something [http://example.com mixed''''', even bold]'''\n'''''Now [http://example.com both''''']");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [2]", "ypjgrwin4revcxr\n\n''[http://example.com text'']\n[http://example.com '''text]'''\n''Something [http://example.com in italic'']\n''Something [http://example.com mixed''''', even bold]'''\n'''''Now [http://example.com both''''']");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[[[0,1]],0,3,1,4,1,3,[0,[0,[[3]]],3],4,3]]", "''[http://example.com text''<nowiki/>'']''\n'''<nowiki/>'''7qwqa9229ey7gb9''Something [http://example.com in italic'']Something [http://example.com mixed'''''<nowiki/>''''']''counvgra3151xlxr\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,0,4,4,2,1,0,3,0,4]]", "fxsbmxalr8f9wwmi''[http://example.com text'']\ng1cxmyk709vygb9kr3b7p92rmg0t3xrc6f6w79eiwfjemi\n''Something [http://example.com in italic''<nowiki/>'']''\n\nxqwjvsy7ltvgqfr\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[4,0,0,0,0,4,4,4,0,[3]]]", "0zdw3pkk57hnnrk9\n[http://example.com '''text]'''\nizanpf6huff20529vfp1wv58jce1xlxry331mymvx0cc8fr\n'''<nowiki/>'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[1,3,2,2,0,1,4,[0,3,0],0,[4]]]", "''[http://example.com text'']''9ois0yoxiebfbt9[http://example.com '''text]saoppxketkic0udi'''\n''Something [http://example.com in italic'']''o0hyqnpaq38cwhfr''Something '<nowiki/>''\n'''hyq0ggqn4hzadcxr'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,0,3,3,4,[3,[4,0]],0,[0,1,3],0,[[3,[0,2]]]]]", "\nsjft3sgyl0i9t3xr''[http://example.com spz6gumbba84zpvi''<nowiki/>'']''\n''Something [http://example.com mixed''''', even bold]''\n'''''[http://example.com bothi78rcmgoegtoi529'''''<nowiki/>''''']'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[[3],0,[2],0,4,1,0,4,3,3]]", "''<nowiki/>''\n[http://example.com rgkc3a28h38cwhfr'''text]'''fuoqrsdna64dkj4i''Something [http://example.com in italic'']''\nmsb55932ah7rdx6r\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,0,3,1,0,2,4,3,3,[[0,[0,1]]]]]", "\n'''<nowiki/>'''\nz032w7z1kdo0f6r''Something [http://example.com in italic'']o88q9qaoc6ljif6r'''''Now [http://example.com both'''''<nowiki/>''''']'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,2,[2],1,0,[3,0],3,[3,[0,[[4]]],0],0,3]]", "o9nab4h230tnvcxr''[http://example.com text'']u5sfhyznivd3g14i\n[http://example.com isdro1map7qa1yvi'''text]'''<nowiki/>'''\n''[http://example.com in italic''][http://example.com mixed'''''o08ug21d18h3erk9''''']'''\n");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[[2],4,[[4]],0,4,[0,4],2,2,3,[4]]]", "''kndlu276kxz5b3xr[http://example.com text'']''66fz4jk56gtd42t9[http://example.com '''hbtqecdqt5oecdi''']'''sr9o6vidsk5u3di''Something 81gi1py5yann4s4i''i1h0s35lu287iudi\nr1c3unvdylanhfr''Something [http://example.com mixed''''', even bold]''''''cwiw4wazt6kfn7b9'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,0,3,0,3,2,0,[3,2,0],2,[3]]]", "rxaa2sxf4o8yqfr''[http://example.com text'']\n'''mtebxw1xl4x11yvi''Something [http://example.com in italic'']\n''vt2hxx23uta3v7vi[http://example.com mixed''''', even bold]'''fr3tlqbb4piizfr\n'''<nowiki/>'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[4,2,0,0,4,[2,[4,1]],0,1,2,1]]", "uypp3nxnupst6gvi5lixlomwktb4vx6r\n[http://example.com '''text]'''1euo2nqbj6mvx6r''s5ucqw1bludz33diSomething [http://example.com iqi27jd7nxoxyldi''<nowiki/>'']''\n''Something [http://example.com mixed''''', even bold]'''3rrma1jx3c70hpvi\n'''''Now [http://example.com both''''']'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[3,2,[4],0,0,1,2,3,4,[3]]]", "8co7ywkausb81tt9\n[http://example.com 85zbd3drbz8pk3xr]'''\n''Something [http://example.com in italic'']''kce2gq57vem9ggb9\ni16rg8p39nj6ecdi'''<nowiki/>'''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[0,3,[4],2,0,[0,[0,1]],0,[3,[3,4],3],2,[[0,4]]]]", "''[http://example.com text''][http://example.com utcl2r0fq8lac3di]3qd60yxh5otakyb9'''\n''Something [http://example.com in italic''<nowiki/>'']''\n''[http://example.com dc0yjx5wecvaq0k9]''gbmw7avnratf0f6r\n'''''Now ozt1j409a2d42t9'''''");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[2,4,0,4,0,1,2,1,0,2]]", "pv9ge46otv86w29''[http://example.com text'']t24xqdq7y0la0pb9[http://example.com '''text]10amjvk8ra1nhfr\n''Something [http://example.com in italic''<nowiki/>'']''l4tfdpdshpqilik9\n''Something [http://example.com mixed''''', even bold]'''\nziz3awxqv8lu9pb9'''''Now [http://example.com both''''']");
add("selser", "Bug 2702: Mismatched <i>, <b> and <a> tags are invalid [[0,0,4,4,0,[3,4],0,[4,[4,0],0],2,3]]", "''[http://example.com text'']\nxh33ebkbpr639pb9ikqa3l7jkhrdlsor\n''h327flpc5pbsxlxr''\n''3icsd821v6de7b9[http://example.com 2cukbor10uanhfr''''', even bold]'''3cf3j98c7sfnipb9\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[0,1,1]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].][[Museo Picasso (París)|Museo Picasso]]<span data-foobar=\"w3fg9p5998n3tyb9\">.</span>\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [2]", "pl3umz8dotsdobt9\n\n[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [1]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[2,0,[2]]]", "3owjotpl28qqto6r[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]<span>2hhu1hny1kvgqfr.</span>\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[[4],4],2,0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''epe48j1yfhcl3di''5qs8nipyh55ewmi]362rfc9jrfab57b9\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[2,[3],[3]]]", "76vwlxnsrpyqr529[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].][[Museo Picasso (París)|<nowiki/>]]<span></span>\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[0,0,4]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].]<nowiki/>gjnm2n9a52tn8kt9");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[4,0],0,2]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm m80ag44dkvxtj4i (1901) en el sitio de ]<nowiki/>iu8ii4xb76i529\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[3,3],[4],0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm][[Museo Picasso (París)|d9nzrdjvb4sd1jor]]\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[[2],0],2,0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''3wxnc8ynyul92j4iLa muerte de Casagemas'' (1901) en el sitio de ]tgyf4bef1x450zfr\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[0,[3],2]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm''La muerte de Casagemas'' (1901) en el sitio de [[Museo Picasso (París)|Museo Picasso]].][[Museo Picasso (París)|<nowiki/>]]5mwu7vqu5pv0wwmi\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[3,[3],2]]", "[[Museo Picasso (París)|<nowiki/>]]34gxy654qfmq85mi\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[1,3,0]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas'' (1901) en el sitio de ]\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[4,0,3]]", "s7cmk1ocalpd5cdi\n");
add("selser", "External link containing double-single-quotes with no space separating the url from text in italics [[[1,2],2,4]]", "[http://www.musee-picasso.fr/pages/page_id18528_u1l2.htm ''La muerte de Casagemas''wvn1dm0gv694fgvi (1901) en el sitio de ]bizwk64e6yfogvi3d9bhvaaeq8jv2t9");
add("selser", "Unclosed and unmatched quotes [[[0,0,4]],2,3,3,[1],0,4,0,1,2,[[2]],3,3,3,2,0,3,4,1,2,2]", "'''''Bold italic text '''with bold deactivated0bet2nehr3gl23xr''\n\nmveau9dj2krl766r\n\n'''Bold text..'''\n\ny75pk6fh55lba9k9\n\n'''Bold tag left open\n\nivecp7jd69h8semi\n\n''939vypv7nzalwhfrItalic tag left open''\n\n4jx8l4e2s9kymn29\n<!-- Unmatching number of opening, closing tags: -->\nftnac0njf7i1wcdi\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nwv6k36cpnikbuik9\n\nvtz1rewhs7i7ldi\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[1],0,[1],0,[3],0,[2,2],0,4,0,4,2,4,0,3,0,4,0,[[0,[4]],0,3],0,4]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\ny4h85lgdrtacerk9..spanning two paragraphs (should not work).3gnmqbeuuymbo6r'''\n\n3m9bvegcf03sor\n\nskw0gib981xde7b9\n\ndjjwoysazbvgqfr\n\nqcokvvv9z09kke29\n\nvmtyprts14m9rudi\n\n''Tom'''1qr9kmif90ox0f6r'''''<nowiki/>'''Susan'''\n\n5e2ez0in4um78pvi\n");
add("selser", "Unclosed and unmatched quotes [[[3,0,[3]]],0,[1],0,2,2,3,0,[4],4,[4],0,0,3,0,4,[2,3,3,4,3,0],0,4,2,[0,3,4]]", "''with bold deactivated'''<nowiki/>'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\nuimy0isfyrykfbt9\n\n'''Bold text..\n\nhl888wghmewxw29\n\n4yq4z49x86ywrk9\n\nomsddcwsglihehfr\n\nmumepxtpar0vbo6r\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->dska41gwjbwyu8fr\n\n508yy8ogfxd8ia4i'''This year''''0o13pli3vxojq0k9s.\n\n12et9k2znm5wb3xr\n\nl97w0g61j6rvbo6r\n\nPlain iahdy1xbdbjwz5mi");
add("selser", "Unclosed and unmatched quotes [4,0,3,0,2,0,0,2,4,0,[4],2,[4],2,4,0,[0,0,2,0,0,0],4,1,0,[0,2,0]]", "p51yt1t1l2rfi529\n\nrhoigk26dmkg9zfr\n\n'''Bold text..\n\n..spanning two paragraphs (should not work).'''\n\n0d622p6w2fenrk9\n\nurr17dfxaytd42t9\n\nt29ejiu69b0jatt9\n\nimupp3pckiq9f6r\n\n92qds57sy49ozuxr\n\nueel0927jmo8yqfr\n\nngdgm7xfofg8pvi\n\n'''This year'<nowiki/>'''s election cx7g7aolgz4a38fr''should'' beat '''last year''''s.\n\n5swpjnt4bod5nrk9\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nPlain bktidt0kwhr529''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[1],4,[2],3,3,3,1,2,2,0,2,0,2,3,4,2,[[2],3,3,0,[4],2],0,3,3,[0,4,0]]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\npvym8fwuqk1hh0k9\n\nqxfz5g7yx7ehr529'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\nimm43yv5xicw61or\n\nqf82msyi498me7b9\n\n'''Bold tag left open\n\nh20k7bi0nzdgf1or\n\n''Italic tag left open\n\n4bg7ac36siztzkt9\n\nNormal text.\n\nvo6dn3vgrv0a4i\n\newzcuf80f1l6usor\n\n'''tbfhcj88z2w97ldiThis year'''' beat '''m3gmfr9sp4cjif6r'''npe02pgi9a8rrudis.\n\nPlain lg1x7859rhdrt3xrs plain");
add("selser", "Unclosed and unmatched quotes [4,2,2,2,4,4,[0,1],0,1,2,2,0,3,0,0,0,[1,0,1,0,3,3],3,3,4,4]", "sxp631t0lu4pwrk9\n\nuiov8qw0vsegsyvi\n\ns5pdb3gqeq5pcik9\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n0im0vx321sv2t9\n\nw84opzg7rvpwrk9\n\na10san19w6a8aor\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\n'''Bold tag left open'''\n\nzmakc4arcm78pvi\n\nskau1bd5191qncdi\n\n''Italic tag left open\n\n\n<!-- Unmatching number of opening, closing tags: -->'''This year''''s election ''should'' beat \n\nfg0el0revo5el8fr\n\n29zcwcjdje0fi529\n");
add("selser", "Unclosed and unmatched quotes [[[0,4,[2]]],4,[[3,0,1]],0,3,2,0,0,[[3]],3,3,3,0,0,0,0,3,0,[3,[4],0],0,2]", "'''''Bold italic text '''frylpuwwxz9kvs4i'''si2oklqrxelmobt9 in between.'''''\n\n4b0fwpx8i4yousor\n\n'''with italic deactivated'' in between.'''''\n\n4y74tj37ci7fogvi\n\n..spanning two paragraphs (should not work).'''\n\n'''<nowiki/>'''\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\n'''955t9gdexkbdfgvi'''s.\n\n7vsge66w9ew2ke29\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[[4],0,0]],0,1,0,2,4,[0,1],0,2,4,4,2,0,0,0,0,[[3],3,0,0,[3],3],0,2,2,3]", "'''''g25w0ee1muat6gvi'''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n978osfsmlz9tfbt9\n\n'''Bold text..\n\n6va1z48gd8wipb9\n\n..spanning two paragraphs (should not work).'''<nowiki/>'''\n\npap02f80lg8yf1or\n\n'''Bold tag left open\n\nrc9woq2unjnhfr\n\nvwn5ww762sft7qfr\n\n4tvj8y1sqzg2e29\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\n'''<nowiki/>'''''should'' beat '''<nowiki/>'''\n\ngo0uih65ed841jor\n\n''Tom'''s car is bigger than ''Susan'''s.\n\ngxolomlzomtsatt9\n");
add("selser", "Unclosed and unmatched quotes [[1],2,3,3,0,0,2,0,[[2]],0,[3],0,3,3,0,0,1,0,[3,0,4],4,3]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\no48k8kitkr8dunmi\n\n'''Bold text..\n\njg529j0bl3c2qpvi\n\n..spanning two paragraphs (should not work).'''\n\n'''86igisuev2sjdcxrBold tag left open'''\n\n\n<!-- Unmatching number of opening, closing tags: -->'''This year'<nowiki/>'''s election ''should'' beat '''last year''''s.\n\nSusan'''9gtumj4ocnomvx6r\n\nprfakduhs9gousor\n");
add("selser", "Unclosed and unmatched quotes [2,0,[1],0,[2],0,[3,0],0,0,2,3,4,[2],2,0,3,[2,3,4,0,[4],0],0,3,3,[3,1,0]]", "z4argjbmeescq5mi\n\n'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n947x1e69qode7b9'''Bold text..\n\n'''\n\n'''Bold tag left open\n\n3ki8ayg0o64xi529\n\n79eq5ijnx56rbe29\n\ndxlh1ogra88jv2t9Normal text.\n\nxi7td8h5z9pv6lxr\n\n<!-- Unmatching number of opening, closing tags: -->23dgn6ecyq281tt9'''This year''''39sqeg7p7m0a4i beat '''oiu6lbk4gnrn3ik9'''s.\n\n''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[2],0,4,3,[2],3,3,4,[[2]],0,0,2,3,4,0,0,4,2,[[3,[4]],2,0],3,2]", "4yw4wxjunjtw3ik9'''''Bold italic text '''with bold deactivated''' in between.'''''\n\nis7cyalf54su4n29\n\nmpbxmb8jpqlg14i'''Bold text..'''\n\nalbr13x2jt273nmi\n\n'''6g5d8o738wave7b9Bold tag left open'''\n\n''Italic tag left open\n\nteulxe8k1ma0dx6r\n\nxou6as0vzir7ldi\n<!-- Unmatching number of opening, closing tags: -->\nujbw98y12pxecdi\n\nis2fqvz346byy14i\n\n'''''kzqmouenkvz8semi'''''9tj86gikh3j1c3di'''Susan'''s.\n\ni4wvgq117adobt9\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[0,4,[4]]],4,[[[3],0,0]],3,4,2,[0,3],0,2,4,1,3,0,3,0,2,[3,2,[4],0,2,0],0,3,0,2]", "'''''Bold italic text '''75o98j53ggyqr529'''dy2un1421co0qkt9'''''\n\nambk3df76pfrbe29\n\n'''''<nowiki/>''with italic deactivated'' in between.'''''\n\nmlan2o9gwrx2bj4i\n\n5ad1bsnc7xrvbo6r\n\n..spanning two paragraphs (should not work).\n\n7rqyhyinmtqvkj4i\n\n'''Bold tag left open\n\n6e1728i1rre019k9\n\n''Italic tag left open''\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->yrma779mh822csor\n\nzowg8vddfmxcg14is election ''bpl4hu1cvunmi'' beat mqxj0davy046xbt9'''last year''''s.\n\nsrp1nabhht7ta9k9\n\nPlain ''italic'''s plain");
add("selser", "Unclosed and unmatched quotes [[[1,0,1]],3,[4],2,2,0,0,2,0,0,3,2,0,2,0,0,[[2],0,[3],3,0,4],0,[1,0,0],0,4]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n44b370raypmk7qfr\n\ni211swg0nbpam7vi\n\nvavmabtdw75jyvi\n\n'''Bold text..\n\n..spanning two paragraphs (should not work).'''\n\n4p1evrnwbqd26gvi\n\n'''Bold tag left open\n\newqyg6brwjmrt3xr\n\nNormal text.\n\nah55m0efoatnjyvi\n\n<!-- Unmatching number of opening, closing tags: -->\n'''o7plzsqaknmte29This year'<nowiki/>'''s election ''<nowiki/>'''''last year'<nowiki/>'''2yo5fdbdlipy14i\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nllfjggl4suhgds4i\n");
add("selser", "Unclosed and unmatched quotes [[3],0,[1],0,3,2,1,4,4,4,4,3,[2],0,0,0,3,0,3,2,[4,3,3]]", "\n\n'''''Bold italic text ''with italic deactivated'' in between.'''''\n\nx1xcylcyh7gphkt9\n\n..spanning two paragraphs (should not work).'''\n\nnf1j27vv64unmi\n\n8gq7zshkmb49529\n\nequpikb2dtj1nhfr\n\n9qkbw2p05e6a8aor\n\nxmkojfga7ja1c3diNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->\nrmvdbh91k72xzuxr\n\n2mzfijueenq4zpvi");
add("selser", "Unclosed and unmatched quotes [3,0,[2],0,[[2]],3,[3,0],0,4,4,0,0,3,2,0,3,[[4],2,4,0,3,0],2,3,3,[3,3,0]]", "\nt6n1bkvx9wq7u8fr'''''Bold italic text ''with italic deactivated'' in between.'''''\n\n'''mdiwcalkyki6bt9Bold text..'''\n\n'''<nowiki/>'''\n\n1il337h4ozu84cxr\n\nowkwkmpgu45z5mi\n\n''Italic tag left open\n\n0jlauri2d7gjsjor\n\n<!-- Unmatching number of opening, closing tags: -->'''xapa2a5a6cdw8kt9'''lc002uv6d1dzpvis election fik23fdz9d89qkt9 beat s.\n\n8ykwjs7kuwg0hpvi\n\ns plain");
add("selser", "Unclosed and unmatched quotes [2,4,3,0,2,0,1,0,[3],0,[2],0,2,0,0,2,[2,2,4,0,1,0],2,4,3,4]", "re6gnnkhd1tnjyvi\n\n'''''Bold italic text '''with bold deactivated''' in between.'''''\n\nbdwnekfnkxei2j4i\n\nva244jbhttpdgqfr\n\n'''Bold text..\n\n..spanning two paragraphs (should not work).'''\n\nlrd6syi4ygugzaor''Italic tag left open\n\nknfaulivfgca0pb9\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->h8w8s0eci66tuik9\n\nu9daa8hfmgm5z5mi'''This year'<nowiki/>'''s4k3bfthkfq1tt9s election am5ar352e2ltbj4i beat '''last year''''s.\n\nrgsn8f7qx23p7gb9\n\nlhg77py8ot21emi\n\n7h6jcsa4wmzsq0k9\n");
add("selser", "Unclosed and unmatched quotes [[1],2,4,0,[4],0,[4,0],0,[[2]],3,2,0,2,0,0,2,[0,2,2,0,1,0],0,1,0,2]", "'''''Bold italic text '''with bold deactivated''' in between.'''''\n\n91y6zy5s4079zfr\n\nmkyoq2vkvt0jatt9\n\n8yeajt4jwaru23xr\n\nn2z6ghxy6lp7gb9'''<nowiki/>'''\n\n'''9c8lhwf3v6zgp66rBold tag left open'''\n\nootbfqoaxawi2j4i\n\n''Italic tag left open\n\nvv89fig83pst6gvi\n\nNormal text.\n\n<!-- Unmatching number of opening, closing tags: -->73vckpnoy6s3v7vi\n\n'''This year'<nowiki/>'''eedgwt17jt9be29s election gqta5jrflissjor''should'' beat '''last year''''s.\n\n''Tom'''s car is bigger than '''''<nowiki/>'''Susan'''s.\n\nz1mgwtgr2xjhh0k9\n\nPlain ''italic'''s plain");
add("selser", "A table with captions with non-default spaced attributes and a table row [[2,0,2,3,3,3]]", "{|<!--69d5z7pa8iio1or-->\n|+style=\"color: red;\"|caption2<!--1r97810ys18j8aor-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [2]", "ogl2d411a038r529\n{|\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\"| caption3\n|-\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[4,[3],2,0,3,[[3,4],4]]]", "{|<!--glpyv8ws43elv7vi-->\n|+ style=\"color: red;\" |<!--977mpdg7bdg6i529-->\n|+ style=\"color: red;\"| caption3\n|-\n|vnlowwkt14hadcxr<!--tw8w8jwmz4p1fw29-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,[2],0,0,0,[[0,2],0]]]", "{|\n|+ style=\"color: red;\" |rsk37teyuq22csorcaption2\n|+ style=\"color: red;\"| caption3\n|-\n|vefem1fh6g1ll3di\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [1]", "{| data-foobar=\"o9k0fan234k7qfr\"\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\"| caption3\n|-\n| foo\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,0,0,1,4,3]]", "{|\n|+style=\"color: red;\"|caption2\n|+ style=\"color: red;\" data-foobar=\"4n9ju8e6u4ayk3xr\" | caption3<!--8vitqxcwje89f6r-->\n|}");
add("selser", "A table with captions with non-default spaced attributes and a table row [[0,0,2,[3],3,[[0,4],0]]]", "{|\n|+style=\"color: red;\"|caption2<!--4865t93rr418aor-->\n|+ style=\"color: red;\" |\n|-\n|n2z1139bdvuc8fr\n|}");
add("selser", "Table td-cell syntax variations [2]", "sbzhcg70xtq8semi\n{|\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz\n|}");
add("selser", "Table td-cell syntax variations [[4,[1,4]]]", "{|<!--27awwjo3287iudi-->\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz<!--jkw3iop5lpcfpqfr-->\n|}");
add("selser", "Table td-cell syntax variations [1]", "{| data-foobar=\"ripzux1o66crf6r\"\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz\n|}");
add("selser", "Table td-cell syntax variations [[4,[[2,0,2,[3],4,0,3,[3],1],2]]]", "{|<!--mz3xyunmkehwu3di-->\n|w4c4887c9phnnrk9\n| foo bar foo | baz\n|l0hmwng5zji9hpvi\n| foo bar foo ||\n|si4mhwzz7p919k9\n| style='color:red;' | baz\n||| data-foobar=\"kxxz57fxsgbq33di\" | baz<!--ekzrdkkb8xopf1or-->\n|}");
add("selser", "Table td-cell syntax variations [[0,[[4,0,0,1,0,0,0,4,4],0]]]", "{|\n|juve1nh5fs4kuik9\n| foo bar foo || data-foobar=\"v00hdvjl3int57b9\" | baz\n| style='color:red;' | baz\n|6x3dng4d2qehfr\n|eow57cf1pgmn29\n|}");
add("selser", "Table td-cell syntax variations [[0,[1,4]]]", "{|\n| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz<!--tthr988c8d9ara4i-->\n|}");
add("selser", "Table td-cell syntax variations [[0,[[1,4,0,2,2,0,4,0,0],3]]]", "{|\n| data-foobar=\"yapr5vvoeskk2o6r\" foo bar | baz\n|n59kxzdkg0dg3nmi\n| foo bar foo \n|3uyod7tniwfjemi|| baz\n|mksz2gze2hjjor\n| style='color:red;' | baz\n|2n7mgtwagfzuxr\n| style='color:red;' || baz\n|}");
add("selser", "Table td-cell syntax variations [[0,2]]", "{|\n<!--uiyg1xnqf84u0udi-->| foo bar foo | baz\n| foo bar foo || baz\n| style='color:red;' | baz\n| style='color:red;' || baz\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [1]", "{| data-foobar=\"qni1jj96d8ia4i\"\n|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [2]", "pedhswzbj517zaor\n{|\n|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[0,1]]", "{|\n|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[0,2]]", "{|\n<!--xllkdkan97eyu8fr-->|-\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n| 1 || 2 || 3\n| 1 ||+2 ||-3\n|-\n| +1\n| -1\n|}");
add("selser", "Allow +/- in 2nd and later cells in a row, in 1st cell when td-attrs are present, or in 1st cell when there is a space between \"|\" and +/-  [[0,[[3,2,0,0],0,[2,0,1,[2],0,0,0,2],0,[0,[4],0,0],0]]]", "{|\n|-\n|0bez83pg3gom9529\n|style='color:red;'|+1\n|style='color:blue;'|-1\n|-\n|sxirzpn3nq257b9\n| 1 || data-foobar=\"27xcharybvs4i\" | 2 ||lz04cejtja714i 3\n| 1 ||+2 \n|h7c5rmx7i8b0529||-3\n|-\n|kfu05heouun89f6r\n| -1\n|}");
add("selser", "Table rowspan [[3,2]]", "{| border=\"1\"<!--dw212cp9esif6r-->\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[0,1]]", "{| border=\"1\"\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [2]", "xb37vwsdil6gk3xr\n{| border=1\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [1]", "{| border=\"1\" data-foobar=\"xgpmrwgiugpbvs4i\"\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[2,2]]", "{| border=\"1\"<!--c9eo96nqfmjthuxr-->\n<!--mdmpc8uzbgoxn7b9-->| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Table rowspan [[0,[[4,0,4,0,1],0,1,2]]]", "{| border=1\n|aspxhnaofiqf47vi\n|73fyijt65nuerk9\n| data-foobar=\"t7trqii8bukp4x6r\" | Cell 3, row 1\n|- data-foobar=\"1pkfpcn5xq6t7qfr\"\n| Cell 1, row 2\n| Cell 3, row 2<!--sebb2ix3zzzadcxr-->\n|}");
add("selser", "Table rowspan [[4,1]]", "{| border=\"1\"<!--df20a6ug11ao47vi-->\n| Cell 1, row 1\n|rowspan=2| Cell 2, row 1 (and 2)\n| Cell 3, row 1\n|-\n| Cell 1, row 2\n| Cell 3, row 2\n|}");
add("selser", "Nested table [[0,[1,4]]]", "{| border=1\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again<!--t5nreiu3qsxuhaor-->\n|}");
add("selser", "Nested table [[0,2]]", "{| border=\"1\"\n<!--262ep7u743gqr529-->| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [2]", "y38000xvz4vg3nmi\n{| border=1\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[4,1]]", "{| border=\"1\"<!--21kjc55zx2tbuik9-->\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [1]", "{| border=\"1\" data-foobar=\"z21mjbodw38lg14i\"\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[3,2]]", "{| border=\"1\"<!--55yjgfqukkv5cdi-->\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[0,[[[4,0],0,4,2,1],3]]]", "{| border=1\n|nnqydx4felt2zkt9&alpha;\n|krzzwsokfqen4s4i\n|crl4tbkmgl9xusor\n| data-foobar=\"hezkv4q5eb9ms4i\" |the original table again\n|}");
add("selser", "Nested table [[0,[[1,2,[3,4],0,4],2]]]", "{| border=1\n| data-foobar=\"rvxj3ybmjcl680k9\" | &alpha;\n|hk2lwgso9gvz33di\n|nqxaiu7b5cngsyvi\n|ymx715n666j62yb9<!--qegrhh8kob76i529-->\n|}");
add("selser", "Nested table [[0,[1,2]]]", "{| border=1\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again<!--4p9ui8hhwjy5vcxr-->\n|}");
add("selser", "Nested table [[0,1]]", "{| border=\"1\"\n| &alpha;\n|\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n|table\n|}\n|the original table again\n|}");
add("selser", "Nested table [[0,[[2,0,[4,[0,[0,0,[0,3],2]]],0,0],4]]]", "{| border=1\n|2cpkww5viwe45cdi\n| &alpha;\n|v3oai1u8e0j2a9k9\n{| bgcolor=#ABCDEF border=2\n|nested\n|-\n<!--2mk619dun1ocrf6r-->\n|}\n|the original table again<!--0kibvfd08qudte29-->\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [1]", "{| data-foobar=\"qjn3d6di3vcuwhfr\"\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[4,1]]", "{|<!--o94ty73s5301wcdi-->\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [2]", "ihzdqjdk01bp4x6r\n{|\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,2]]", "{|\n<!--0d7j9j0jsmj9k9-->|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,1]]", "{|\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,[2,0]]]", "j29v67hfrufmvx6r\n{|\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[3,[[2],0]]]", "{|\n|otq3btd8klf2yb9\n|Cell:|broken\n|}");
add("selser", "Invalid attributes in table cell (bug 1830) [[0,[1,3]]]", "{|\n|Cell:|broken\n|}");
add("selser", "Table attributes with empty value [2]", "ypqzbga8qxeqm2t9\n{|\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [1]", "{| data-foobar=\"s45owse4wvw5qaor\"\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[0,[1,3]]]", "{|\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[3,2]]", "{|<!--ynuvr3yn3awqm2t9-->\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[2,0]]", "{|<!--sk8j61brrtua0pb9-->\n| style=| hello\n|}");
add("selser", "Table attributes with empty value [[0,[1,2]]]", "{|\n| style=| hello<!--tehxphl52a2fyldi-->\n|}");
add("selser", "Build table with {{!}} [2]", "vlzvgbqpbh6qd7vi\n{{{!}} class=\"wikitable\"\n! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!}}}");
add("selser", "Build table with {{!}} [[0,[[[3],3,0],0,[0,3,0],2]]]", "{{{!}} class=\"wikitable\"\n!\n! second header\n{{!}}- style=\"color:red;\"\n{{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!<!--dcvky1fy9jf3l3di-->\n{{!}}}");
add("selser", "Build table with {{!}} [1]", "{{{!}} class=\"wikitable\" data-foobar=\"n7vob9kcmjp833di\"\n! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!}{{!}}}");
add("selser", "Build table with {{!}} [[0,2]]", "{{{!}} class=\"wikitable\"\n<!--gzqyxjo46o91kyb9-->! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!}{{!}}}");
add("selser", "Build table with {{!}} [[4,2]]", "{{{!}} class=\"wikitable\"<!--wa7mbefsy7nfjemi--><!--8sf0msj7spmbo6r-->\n! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!}{{!}}}");
add("selser", "Build table with {{!}} [[2,2]]", "{{{!}} class=\"wikitable\"<!--hbgluiuyj95asjor-->\n<!--xss2k4vz6txd2t9-->! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!}{{!}}}");
add("selser", "Build table with {{!}} [[4,1]]", "{{{!}} class=\"wikitable\"<!--q4x91ifb5ku766r-->\n! header\n! second header\n{{!}}- style=\"color:red;\"\n{{!}} data {{!}}{{!}} style=\"color:red;\" {{!}} second data\n{{!\n{{!}}}");
add("selser", "Build table with pipe as data [[4,2]]", "{| class=\"wikitable\"<!--edau2tsedygb9--><!--v3k9certcyx03sor-->\n! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|| data with | ||| second data with |\n|}");
add("selser", "Build table with pipe as data [[3,2]]", "{| class=\"wikitable\"<!--0g4x735w6hcl3di-->\n! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|| data with | ||| second data with |\n|}");
add("selser", "Build table with pipe as data [2]", "lmhnucjqwqctmx6r\n{| class=\"wikitable\"\n! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|| data with | ||| second data with |\n|}");
add("selser", "Build table with pipe as data [1]", "{| class=\"wikitable\" data-foobar=\"lalglq06kuf03sor\"\n! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|| data with | ||| second data with |\n|}");
add("selser", "Build table with pipe as data [[0,1]]", "{| class=\"wikitable\"\n! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|| data with | ||| second data with |\n|}");
add("selser", "Build table with pipe as data [[0,[[3,0,4],0,[3,2,4],0,0,3,[3,3,4],0]]]", "{| class=\"wikitable\"\n\n|89vo0bmcsbkv5cdi\n|- style=\"color:red;\"\n|zwnhagffqiqhyqfr\n| data \n|dju7n7jhc15rk9\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|lljma7s674vrhpvi\n|}");
add("selser", "Build table with pipe as data [[2,2]]", "{| class=\"wikitable\"<!--hw4dq390xgk3xr-->\n<!--uqj5x3w6iwndbo6r-->! header\n! second header\n|- style=\"color:red;\"\n| data || style=\"color:red;\" | second data\n|-\n| style=\"color:red;\" | data with | || style=\"color:red;\" | second data with |\n|-\n|| data with | ||| second data with |\n|}");
add("selser", "Piped link with multiple pipe characters in link text [1]", "[[Main Page||The|Main|Page|]]");
add("selser", "Piped link with multiple pipe characters in link text [2]", "i30rvug3leeqxgvi\n\n[[Main Page||The|Main|Page|]]");
add("selser", "Piped link with multiple pipe characters in link text [[2]]", "1of1ixy9fexqd7vi[[Main Page||The|Main|Page|]]");
add("selser", "Link with 4 brackets [[0,2,0]]", "[[wg3updy6cg14i[[Main Page]]]]");
add("selser", "2. Interaction of linktrail and template encapsulation [1]", "{{echo|Some [[Fool]]}}\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,2,[[4,2]],3,4,3,2]", "lvdwytxnetye3ik9\n\n[[Foo|luagnevfg92otj4ike5xfi2sk2zkt9''bar'']]\n\n3id2voxy1r3pu8fr\n\nd5k1quqvir1wcdi\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [0,3,1,0,1,0,1]", "[[Foo|  bar]]\n\n[[Foo|  ''bar'']]\n\n[http://wp.org   foo]\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [[[2]],0,[[2,3]],3,4,4,0]", "[[Foo|f4xtfb3f5g0hpvi  bar]]\n\n[[Foo|g3c5aopr8zdxi529  ]]\n\n3w868b74qvakbj4i\n\nztyz2eochwefjemi\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [[[3]],4,2,2,2,4,0]", "[[Foo|<nowiki/>]]\n\ncv4nfitz5tfvquxr\n\nw2en4007hwk4kj4i\n\n[[Foo|  ''bar'']]\n\na89qb05wvudnp14i\n\nzpzwr06qh1moyldi\n\n[http://wp.org   foo]\n\nx4uyz0y7d74g3nmi\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [2,4,[2],4,2,0,4]", "qcfwzucvnhqfflxr\n\n[[Foo|  bar]]\n\nbinaypqkdl5wmi\n\nueg3tzxm6450zfr[[Foo|  ''bar'']]\n\nr16ewpwvzmo647vi\n\n86vkeemswfxn7b9\n\n[http://wp.org   foo]\n\nfq54bhoylv4bcsor\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,0,1,3,0,0,[[[2]]]]", "\n[[Foo|  ''bar'']]\n\n[http://wp.org   foo]\n\n[http://wp.org ''jk3t94whyskmx6rfoo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [2,4,2,0,[2],2,4]", "jabto7czzra1nhfr\n\n[[Foo|  bar]]\n\nfcjfudo38wha1yvi\n\np3c3mch7ff1aif6r\n\n[[Foo|  ''bar'']]\n\nv6wwdcn2rljzia4i[http://wp.org   foo]\n\nsrnsnslktd3d6lxr\n\nblujz39afugl23xr\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,4,2,2,2,0,4]", "q9c5unenvqtihpvi\n\nk8q51d5k1t7w4s4i\n\n[[Foo|  ''bar'']]\n\nl31jajvwag36jemi\n\np43tgo0r9n23ayvi\n\n[http://wp.org   foo]\n\nwffmswrjps0pb9\n");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [0,2,1,3,[[4]],3,0]", "[[Foo|  bar]]\n\ncpt8orwf0l26s9k9\n\n[[Foo|  ''bar'']]\n\n[http://wp.org e15bwsd59u73c8fr]\n\n[http://wp.org   ''foo'']");
add("selser", "Parsoid-centric test: Whitespace in ext- and wiki-links should be preserved [3,4,4,2,2,4,0]", "o3awmbfvt9fnu3di\n\nj0e1avrz9scvunmi\n\npvsdo8qneqe8w7b9\n\nou4krycgek8uayvi\n\n[http://wp.org   foo]\n\nu9e32ytur700ms4i\n\n[http://wp.org   ''foo'']");
add("selser", "Interlanguage link variations [3,2,2,0,1,2,1,3,0]", "pzmy6p9svhen4s4i\n\nqzc7qhlkpbbuik9[[   es :Spanish]]\n[[ ZH :Chinese]]3ql21qt70gam7vi\n[[es:Foo_bar]]\n[[es:Foo bar]]");
add("selser", "Handling html with a div self-closing tag [0,0,4,0,1,0,1,0,3,4,3]", "<div title />\na2lmqbelulg6tj4i\n<div title=\"\" data-foobar=\"myfxsa4q14jf9a4i\" />\n<div title=\"bar\" data-foobar=\"16l4nxten48wipb9\" />\nfjaqot6n6yfogvi\n");
add("selser", "Handling html with a div self-closing tag [0,2,3,0,1,3,4,0,0,0,2]", "<div title />hsvg8qvys3q8h0k9\n\n<div title=\"\" data-foobar=\"pmcyv89r6fq7iudi\" />i3jrozlq6c4n29\n<div title=bar/>\n50f5viswvgoav2t9<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,2,0,2,0,0,1,2,4,3,1]", "<div title />hrkbg93g91mdkj4i\n<div title/>d24otck8en4s4i\n<div title/ >\n<div title=\"bar\" data-foobar=\"m3try3iqp9fi529\" />40lnev3wvt4t2o6r\n5cg171a8bz7aatt9<div title=\"bar/\" data-foobar=\"ht3kiuub2yv6lxr\">");
add("selser", "Handling html with a div self-closing tag [4,0,0,0,0,2,2,0,0,0,2]", "m2l4sqf9jovzehfr\n<div title/>\n<div title/ >wqgi12lyu5l8fr\n9qt8023po9smunmi<div title=bar />\n<div title=bar/>\n3komwccrkiysyvi<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,1,0,3,3,1,0,0,4,1]", "<div title />\n<div title=\"\" data-foobar=\"akdgg69qx6jvpldi\" />\n<div title=\"bar\" data-foobar=\"6n0svo7xzqudte29\" />\n<div title=bar/>4flrs91zux1dcxr<div title=\"bar/\" data-foobar=\"i2a2v7rh1bawcdi\">");
add("selser", "Handling html with a div self-closing tag [0,0,1,4,2,0,0,0,1,0,3]", "<div title />\n<div title=\"\" data-foobar=\"5h27qgatlrw9udi\" />bq5ubiyv65x3l3di\n\nf7wbxz7wtcblnmi<div title/ >\n<div title=bar />\n<div title=\"bar\" data-foobar=\"c0zta55kk1yk3xr\" />\n");
add("selser", "Handling html with a div self-closing tag [3,3,0,3,0,0,0,4,0,0,4]", "<div title/><div title/ >\n<div title=bar />nebjm3qen9l4bo6r<div title=bar/>\npp3d9ptaj68ncdi\n");
add("selser", "Handling html with a div self-closing tag [0,4,0,2,2,0,3,0,1,0,0]", "<div title />0cxt91hns1c3di<div title/>5fmhlouu0049rudi\nzfddnll4v5s1c3di<div title/ >\n\n<div title=\"bar\" data-foobar=\"voxs0rgm1hdgf1or\" />\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,2,4,0,3,2,0,0,4,0,0]", "<div title />eywpqn9mosd4e7b9\nrj74969g5jm26gvi\n\nyn204pmfqr3mzpvi\n<div title=bar />\n27sa4fad4vtmlsor\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,4,3,3,3,2,0,4,0,0]", "<div title />\n3a2ar4hcg8s0dx6r\n\nttluv421ma0dx6r<div title=bar />\n47mk0eu0s70evcxr\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,0,2,4,4,4,3,4,0,0]", "<div title />\n<div title/>3yg021t2l4841jor\nrtcytjxmokw0o1or\n\n66b89ill6r8jjor\n\nv3cnlc0zuissjor\n\n8i8ngbo80ngbvs4i\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,3,1,0,4,4,0,0,0,0,0]", "<div title /><div title=\"\" data-foobar=\"26b6vcigdn53ik9\" />\ncsd55mrpw7g8ehfr\n\nptl9msxol22ihpvi<div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,3,0,4,1,4,0,0,1,3,3]", "<div title /><div title/>0z1eukxmytaz6w29<div title=\"\" data-foobar=\"jzl0rmosd4e7b9\" />l4blqbnipmgnl8fr<div title=bar />\n<div title=\"bar\" data-foobar=\"hkios7mkkjra4i\" />");
add("selser", "Handling html with a div self-closing tag [2,4,0,0,0,0,1,4,0,2,0]", "y8e35sgnm62prpb9<div title />gdi8pd4889pv6lxr<div title/>\n<div title/ >\n<div title=\"bar\" data-foobar=\"yw0irzjxo48l4n29\" />r91jtf9r9lgfd2t9<div title=bar/>2vkbfb0puakmx6r\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,3,3,3,3,2,1,4,4,2,0]", "<div title />5vjj77i8fepwg66r\n<div title=\"bar\" data-foobar=\"lhriiksge1dobt9\" />l6hqmr0097knvcxr\n\nlt88ef091p833di\n\nvbqt2pdljfko6r\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [2,3,4,2,0,2,0,0,0,0,3]", "vqocw5cb4ax4unmi<div title />dvekdalavcygmn29\n\nl7myvzectyo2bj4i\n<div title/ >h8p91en5mk4vx6r\n<div title=bar />\n<div title=bar/>\n");
add("selser", "Handling html with a div self-closing tag [0,4,3,0,0,3,0,0,0,0,0]", "<div title />dmd8ofkx0b3dte29\n<div title/ ><div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [1,0,0,0,4,0,0,2,0,0,0]", "<div title=\"\" data-foobar=\"s9is41y68ko9lik9\" />\n<div title/>\n6ra1fmqrs0s5rk9\n<div title=bar />1csgf1pq50yq4cxr\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,4,0,0,0,0,0,0,0,0]", "<div title />\nhzdq9cp5d0zr529\n<div title/ >\n<div title=bar />\n<div title=bar/>\n<div title=bar/ >");
add("selser", "Handling html with a div self-closing tag [0,0,3,0,2,2,4,4,3,0,2]", "<div title />\n\n0ay5a9dpj8m2t9<div title/ >q5rd7rel0immfgvi\nei4ya9wclabdquxr\n\n10kcirb4x2u1h5mi\nnp5b3z79bl6jemi<div title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,2,2,0,0,3,0,4,0,0,0]]", "<br title />ca3n9qal18yw4s4i\nqj9uz1bwmfbw3ik9<br title/>\n<br title/ ><br title=bar />b6yshcv3dptx1or<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [2]", "zikmxl9l7vte29\n\n<br title />\n<br title/>\n<br title/ >\n<br title=bar />\n<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [1]", "<br title />\n<br title/>\n<br title/ >\n<br title=bar />\n<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,2,2,3,0,2,1,0,4,2,2]]", "<br title />dk9vt5nrbfublnmi\ncq1v4zaldnvfs9k9<br title/><br title/ >d3zvjq60vdt2o6r\n<br title=\"bar\" data-foobar=\"k0onegfucba9k9\" />\ni233ltumi0ctbj4i7r06nbekdqi4fgvi\nr6h30sbilgfd2t9<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,4,4,4,3,0,4,2,0,2,0]]", "<br title />2t1m81vrbufpqfrx94k8em4qntgldibqwxzp9tipjsjor\nbnjj097e97ldijilzhs8iuoj8xgvi\n<br title=bar/>qh4wp3iisjgx2yb9\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,0,2,4,0,2,3,2,0,4,0]]", "<br title />\n97qdfbkc1d8nz5mi<br title/>51ea25u22napp66r<br title/ >ao31pgxz80ti6bt9\niczt3hqwep5e9udi\n<br title=bar/>hyg2ncqmqe7gy14i<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[2,0,0,3,0,0,0,4,0,0,0]]", "0ubgji48lso1dcxr<br title />\n<br title/><br title/ >\n<br title=bar />bnkuwblgntf647vi<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[3,0,0,2,4,4,0,0,0,3,2]]", "\n<br title/>tak6jp65ijsmj9k9\n5dyugkaawpd86w29tsl2xmucx9k3ayvi<br title=bar />\n<br title=bar/>dqcr689mput2zkt9<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,4,1,4,1,0,0,0,0,3,0]]", "<br title />33x6padp4n7y14i<br title=\"\" data-foobar=\"s32ku8ygk5d0a4i\" />2r1tqohm9vxqolxr<br title=\"\" data-foobar=\"s21sk2l9fiuow29\" />\n<br title=bar />\n<br title=bar/><br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[2,2,0,2,0,0,0,0,0,0,1]]", "4mon4sx8d75vcxr<br title />cq9odu9ftnxhto6r\n<br title/>mllazr81dckxogvi\n<br title/ >\n<br title=bar />\n<br title=bar/>\n<br title=\"bar/\" data-foobar=\"azit67rektb4vx6r\">");
add("selser", "Handling html with a br self-closing tag [[0,0,0,4,2,4,1,0,3,0,0]]", "<br title />\n<br title/>xxxx2l29fkmrhpvihskx3wdt3p11nhfr<br title/ >7z6kganc7xrvbo6r<br title=\"bar\" data-foobar=\"oqi7lfhelkpujtt9\" />\n\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[1,0,4,0,0,4,0,2,0,0,0]]", "<br title=\"\" data-foobar=\"2imakz3vrgam7vi\" />\nky2cjkk76dc2fbt9\n<br title/ >xl4j77qpveso47vi<br title=bar />65xmmggrk28iwwmi\n<br title=bar/>\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,0,0,2,1,0,0,2,4,0,0]]", "<br title />\n<br title/>ijzdh4uerc8oajor\n<br title=\"\" data-foobar=\"i9otejvc98eka9k9\" />\n<br title=bar />puumi6qcjg3w61or\ntw74kiaxwe6a8aor\n<br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[0,0,0,4,0,0,2,0,3,0,4]]", "<br title />\n<br title/>5obz7gcvgrv0a4i<br title/ >\n1zf4ljohfm0lik9<br title=bar />\n\n766rcon9lcbzw7b9\n");
add("selser", "Handling html with a br self-closing tag [[0,3,0,2,0,4,0,2,0,3,3]]", "<br title /><br title/>irxhfbe46ofg8pvi\n<br title/ >jlxc4655va38fr<br title=bar />ok12d02ne9udi\n<br title=bar/>\n");
add("selser", "Handling html with a br self-closing tag [[1,3,0,0,4,0,2,0,0,3,0]]", "<br title=\"\" data-foobar=\"qk9iqlffataqncdi\" /><br title/>\nyut18a54lpu8fr\nv0kplvxcj8gds4i<br title=bar />\n<br title=bar/><br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[4,0,0,0,3,2,0,3,0,3,0]]", "78hnxpa0vt43g14i\n<br title/>\n3mhsjjj42k68byb9\n<br title=bar /><br title=bar/><br title=bar/ >");
add("selser", "Handling html with a br self-closing tag [[3,0,3,0,2,0,3,3,0,2,0]]", "\nap9gafnt44vaemi<br title/ >\n<br title=bar/>n091fz5rxf4unmi\n<br title=bar/ >");
add("selser", "Horizontal ruler (should it add that extra space?) [2,2,4,3,3,0,3]", "os2q7ta1r4sa714i<hr>cnbjk7147zld6lxr\nqy88lfowsy30udi<hr\n>");
add("selser", "Horizontal ruler (should it add that extra space?) [2,2,0,2,[3],0,[4]]", "mfej6cl2tvlpu8fr<hr>g7w5lx5r4xz85mi\n<hr >n8aj1jq5r9e5qaor\n<hr\n>4tlzqynij4lk57b9");
add("selser", "Horizontal ruler (should it add that extra space?) [0,4,3,4,2,0,2]", "<hr>efqnkd9nqlwel8fr\n\nxmvwrb0llpz7u8fr\n\njplm7w9i7t10dx6r\n\nfoo <hr\n>wmoqdkg19vtgwrk9\n\n<nowiki> </nowiki>bar");
add("selser", "Horizontal ruler (should it add that extra space?) [2,0,0,2,4,2,1]", "zxpf8ei52ttn8kt9<hr>\n<hr >f75t6r98vikn8kt9\n16a3ff1niy7m0a4i\n\nznvihrl0p4hiwwmi<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [1,0,0,0,2,0,4]", "<hr data-foobar=\"zbky74okstc5wmi\">\n<hr >\n1cdauyobybltbj4i\n\nfoo <hr\n>72ti2j1ve5pl23xr\n");
add("selser", "Horizontal ruler (should it add that extra space?) [2,3,0,0,[4],3,2]", "o5rwiutljxjsv2t9<hr><hr >\nd35ei25187b0ggb9\n\nl2gmcvf139bsatt9\n\n<nowiki> </nowiki>bar");
add("selser", "Horizontal ruler (should it add that extra space?) [3,3,1,0,0,0,0]", "<hr data-foobar=\"lf04si3r3323xr\">\nfoo <hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [4,0,0,3,2,3,[2]]", "x425cn04w3y833di\n<hr >w1vtj40el2x4j9k9\n\nfoo \n\n1k0l0e76yfbnjyvi bar");
add("selser", "Horizontal ruler (should it add that extra space?) [1,3,0,3,0,3,[3]]", "<hr data-foobar=\"l0b3o734w50o1or\"><hr >foo \n");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,0,0,[4],0,1]", "<hr>\n<hr >\n2bhtkpyrargj5rk9<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [3,4,4,2,3,0,0]", "o6enrwkz4kl9dx6r\n\nqc1zz05ztk9sh5mi\n\npt363zha88q9qkt9\n<hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,1,0,[3],0,3]", "<hr>\n<hr data-foobar=\"h3lfecmid64unmi\">\n<hr\n>");
add("selser", "Horizontal ruler (should it add that extra space?) [1,2,4,2,1,0,0]", "<hr data-foobar=\"n0w4kgj63z5jnhfr\">2tme0t8y5iwfjemi\no1nlliabwat9be29\n\n77m2ud715kfyldi\nfoo <hr\n> bar");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,0,4,0,3,0]", "<hr>\n<hr >3nksf5u6o17nwmi\n\nfoo \n\n<nowiki> </nowiki>bar\n");
add("selser", "Horizontal ruler (should it add that extra space?) [0,0,0,3,4,1,0]", "<hr>\n<hr >d13gtt9304e1m7vi<hr data-foobar=\"fbu9qf9y7h7aatt9\"> bar");
add("selser", "Mixed list [3,0,0]", "#** Level 3, but ordered");
add("selser", "Mixed list [[[2,2,0,0,0,[[4]]],3,4,4,3],0,[1]]", "*0rgjqgna0dqs38frMixed list\nsywz38l1bbsdobt9\n*# with numbers\n** and bullets\n*#hp6659esrmrevcxr\n* ophghpovfih5xw29\n* vd100tazmwpnwmi\n** Level 3, but ordered");
add("selser", "Mixed list [1,0,[1]]", "*Mixed list\n*# with numbers\n** and bullets\n*# and numbers\n*bullets again\n**bullet level 2\n***bullet level 3\n***#Number on level 4\n**bullet level 2\n**#Number on level 3\n**#Number on level 3\n*#number level 2\n*Level 1\n*** Level 3\n** Level 3, but ordered");
add("selser", "Nested lists 2 [[[2],2,0]]", "*7xz2f7b8pzld6lxr\n*foo\n* jbywv3eu6ctk2o6r\n*bar");
add("selser", "Nested lists 2 [[[[2]],0,[3]]]", "** 27spaaa6upu8fr\n*foo\n*");
add("selser", "Nested lists 2 [[1,0,0]]", "*foo\n*bar");
add("selser", "Nested lists 2 [[1,4,[3]]]", "*foo\n* ypy2c48uvfpf1or\n*");
add("selser", "Nested lists 2 [[1,2,[2]]]", "*foo\n* wj6jlmpbcoy74x6r\n*ktkliizqynl8frbar");
add("selser", "Nested lists 2 [[[2],0,2]]", "*1bq5212h7fzuxr\n*foo\n* 9stqmxp6g4zbmx6r\n*bar");
add("selser", "Nested lists 2 [[[1],0,0]]", "*foo\n*bar");
add("selser", "Nested lists 3 (first element empty) [2]", "wdyx85jiz95xko6r\n*\n**bar");
add("selser", "Nested lists 3 (first element empty) [1]", "*\n**bar");
add("selser", "Nested lists 3 (first element empty) [[2]]", "* ipaxm1uzpiv34n29\n*\n**bar");
add("selser", "Nested lists 4 (first element empty) [[1,2,0]]", "*\n* m38mywrsk4y22o6r\n*bar");
add("selser", "Nested lists 4 (first element empty) [[1,0,0]]", "*\n*bar");
add("selser", "Nested lists 4 (first element empty) [[1,3,4]]", "*\n* 24vpk4xqnt3s1yvi");
add("selser", "Nested lists 4 (first element empty) [[1,0,[3]]]", "*\n*");
add("selser", "Nested lists 5 (both elements empty) [[[[2]],4,4]]", "** ueeyl2x71d7ycik9\n*\n* fsp2um1ow5t57b9\n* 5vyklxoa6ttsxlxr");
add("selser", "Nested lists 5 (both elements empty) [[1,0,3]]", "*\n");
add("selser", "Nested lists 5 (both elements empty) [[1,0,0]]", "*\n*");
add("selser", "Nested lists 5 (both elements empty) [[[1],0,0]]", "*\n*");
add("selser", "Nested lists 5 (both elements empty) [[[2],0,4]]", "*zoa7f616cni885mi\n*\n* setbq3uoibai3sor");
add("selser", "Nested lists 6 (both elements empty) [1]", "*\n**");
add("selser", "Nested lists 6 (both elements empty) [2]", "xm8c79kac1y8pvi\n*\n**");
add("selser", "Nested lists 6 (both elements empty) [[2]]", "* tmc5x74vyp7m0a4i\n*\n**");
add("selser", "Nested lists 7 (skip initial nesting levels) [[1]]", "** foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[1]]]", "** foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[[[2]]]]]", "**9q6447gwwogh9f6r\n* foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[2]]]", "*tg28w4nd7g0kke29\n** foo");
add("selser", "Nested lists 7 (skip initial nesting levels) [[[[[1]]]]]", "* foo");
add("selser", "List interrupted by empty line or heading [[1],0,[1],2,3,0,0]", "* foo\n\n* bar\nxmkdz1mzo88e61or\n\n* Another list item");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[1,0,3,0,0,0,3,3],0,[2,1,2,0]]", "* foo\n\n* {{echo|<li>templated li-hack}}\n\n<ul><li>b1mow0yq0r6vquxr</li>\n<li data-foobar=\"t8no3rbr3z9tfbt9\"><li>3yjm1pbgbwbchaor</li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[2,2,[4],4,0,4,[4,2,0],2],4,2]", "* gd98m9cyrr3blnmi\n* foo\n* 9sdwdwxg808uxr\n* <li>qbp76uxnngpeqaor</li>* hq26140t3o50cnmi* {{echo|<li>templated li-hack}}* m7l70yv2k68byb9\n*0974cuf1fg808uxrhdzd51gs5jwqm2t9<!--foo--> \n* gwwpwp29uh8jv2t9<li> unsupported li-hack with preceding comments\niii1h3getutyb9\n\ntbukhy9uz62vgqfr<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[0,0,1,0,0,0,[2,0,0],[2]],0,1]", "* foo\n* <li data-foobar=\"cdxw3x6pvjyh9f6r\">li-hack</li>\n* {{echo|<li>templated li-hack}}\n*5bcaf8cgmskvgqfr <!--foo--> <li>epoqdn0m4t5ipb9 unsupported li-hack with preceding comments</li>\n\n<ul data-foobar=\"cwbnoi03jqsbrzfr\">\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[[4],0,4,0,0,0,[2,2,3],1],0,3]", "*eyhnibrdhnpwg66r\n* 9o3fshoa22fn7b9\n* {{echo|<li>templated li-hack}}\n*2vgj45s11a4w8kt9 te892w8kyutsm7vi<!--foo--><li data-foobar=\"ypksakx5wirg4x6r\"> unsupported li-hack with preceding comments</li>\n");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[[4],0,[3],4,0,0,[3,0,0],0],4,[0,1,0,2]]", "*5axx6zgskq4ims4i\n* <li></li>* 4ban7p2mwlxcrf6r* {{echo|<li>templated li-hack}}\n*<!--foo--> <li> unsupported li-hack with preceding comments\n261puergg1n0cnmi<ul>\n<li data-foobar=\"dacb5wtes3ndygb9\"><li>not a li-hack\n</li><li>nt3r99z0dkq8semi</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [2,3,4]", "tya6uw5ys8ctmx6r\n* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\nfpi1wwvfk98jjor\n");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[[2],0,[2],2,0,2,[0,0,4],2],0,[3,0,4,3]]", "*2bxu6mn3tv3x47vi foo\n* <li>93ijc5cyeg5h4cxrli-hack</li>* hcha5b8xr3wyiudi\n* {{echo|<li>templated li-hack}}* afxnfvmf5nuerk9\n* <!--foo-->jpnddx4v0u8ilik9\n* 7jxfx13m53tyb9<li> unsupported li-hack with preceding comments\n\n<ul><li><li>8h1c1cpueuerk9</li></ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[[3],2,2,0,0,3,4,[3]],0,[2,0,3,0]]", "*\n* 8o59b9o1ocl0izfr\n* jb35d111zrjatt9* <li>li-hack\n* {{echo|<li>templated li-hack}}* fnt4sb5am6mndn29<li></li>\n\n<ul><li>h40y8bq2prchxgvi</li>\n<li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[[2],0,4,4,0,0,4,4],3,4]", "*gg3bkbyiiw8f47vi foo\n* y5psfxmpoxn7b9\n* 7eg616kvxv4sfw29* {{echo|<li>templated li-hack}}\n* xjvkz4y7evzpvi\n* mig7jxbkxgmygb9\n9cgz4mzhdye6d2t9\n");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[4,0,1,2,0,0,[4,2,0],[3]],2,0]", "* ebs3k6p9u9xusor\n* <li data-foobar=\"c02i637r172jra4i\">li-hack</li>* j1gu6liwspjh5mi\n* {{echo|<li>templated li-hack}}\n*zafumgyse093haorady79u1k0jh8h0k9<!--foo--> <li></li>\ndxwlaudn4lw8w7b9\n\n<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[2,0,4,0,0,3,2,3],3,2]", "* a2sete5kqgmbo6r\n* foo\n* llnzbl3rhrnklnmi\n* {{echo|<li>templated li-hack}}* jhdcjklsub84obt9\n* <!--foo--> \ne5gkponwwotakyb9<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [1,3,1]", "* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments<ul data-foobar=\"89i373y5q74lsor\">\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[1,4,0,0,0,0,[0,0,3],4],2,2]", "* foo\n* n797ae7cl1y8pvi* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo-->\n* kd4plq2320wtrzfr\n428wbu0j7uhoxbt9\n\nwmhov9tugfd2t9<ul>\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[[2],0,1,4,0,0,4,1],2,3]", "*2t5t41fmhglm1jor foo\n* <li data-foobar=\"mgky12j3f5mf5hfr\">li-hack</li>* 9q8agmlfdt5ipb9* {{echo|<li>templated li-hack}}\n* 85jl8fhxtyfirudi<li data-foobar=\"jaxytijruwjkmx6r\"> unsupported li-hack with preceding comments</li>\nbjoohv9rzkwt57b9\n");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [[1,0,0,4,0,0,[2,0,4],[4]],2,3]", "* foo\n* <li>li-hack* wy513yd4ljlzbyb9* {{echo|<li>templated li-hack}}\n*lvt3i30i074aemi <!--foo-->32nj85lx2r0jxlxr<li>g6v157t0tkufpqfr</li>\np9gpb5s6zx91kyb9\n");
add("selser", "Test the li-hack\n(The PHP parser relies on Tidy for the hack) [1,0,1]", "* foo\n* <li>li-hack\n* {{echo|<li>templated li-hack}}\n* <!--foo--> <li> unsupported li-hack with preceding comments\n\n<ul data-foobar=\"444bel5zr0yvte29\">\n<li><li>not a li-hack\n</li>\n</ul>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [[4],0,[[4,4],3,2]]", "390h6pqo24y22o6r\n*o41tgyrxzloko6rkhwclpkbqgsqbyb9\n* x920d3kit2c323xr\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [[1],0,1]", "<span data-foobar=\"gmykdz3f6s2fyldi\">\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [2,4,2]", "p5zfzj30o8g833di\n\n<span>\n\nf07i3koy7pqtzkt9\n\nzkrsmqi20yynwmi\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [0,3,[[0,2],0,2]]", "<span>\n*a9ox9e692g6s3v7vi<span>\n* ksgt5bqr6cpaatt9\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [1,0,1]", "<span>\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [1,0,[1,0,2]]", "<span>\n*a<span>\n* er1s7ahfhat0rudi\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [2,0,[2,4,1]]", "imlwazpwj8pmygb9\n\n<span>\n* 92leny9kljpjh5mi\n*a</span><span>\n* 41bo973co1zfflxr\n*b");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [[3],2,2]", "\nas4hdzhzvomholxr\n\nledrlo4nfqci8uxr\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [[3],4,2]", "\n1fjxqzbnb7bhjjor\n\n4e4bjramiqc9pb9\n*a</span><span>\n*b</span>");
add("selser", "Unbalanced closing non-block tags don't break a list\n(php parser relies on Tidy to fix up) [[1],0,2]", "<span data-foobar=\"5ikcial165z8h0k9\">\n\nzsspri1tvvi8jjor\n*a</span><span>\n*b</span>");
add("selser", "Table with missing opening <tr> tag [[2,[[4,3],3]]]", "<table><!--x5lw2ikhl5cow29-->\n<td>v9n71rpyucvxi529</td></tr>\n</table>");
add("selser", "Table with missing opening <tr> tag [[2,[0,3]]]", "<table><!--okhghfhpithgp66r-->\n<td>foo</td>\n</tr>\n</table>");
add("selser", "Template with invalid target containing tags [2]", "ki3gc6j34165stt9\n\n{{a<b>b</b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing tags [[3,3,3,0,4,0,2,0,0]]", "{{echo|foo}}jauo06zjihi1kyb9{{echo|a}}9h10iqritlwvobt9={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[3,[4],2,0,0,0,3,0,0]]", "<b>5q0b9wq3qgu5l8fr</b>gs6mp3pt36vibe29|{{echo|foo}}|{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [1]", "<nowiki>{{</nowiki>a<b>b</b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[2,[2],4,0,2,0,0,0,0]]", "39bd8s5z5cw0cnmi<nowiki>{{</nowiki>a<b>7k1tfg6lot1brzfrb</b>lri8gc4zecmr6bt9{{echo|foo}}5m3n5xzvi6893sor|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[0,[2],2,0,0,0,3,0,0]]", "<nowiki>{{</nowiki>a<b>dny163izhm9xjemib</b>ogbwlk7h7di5p14i|{{echo|foo}}|{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[0,2,0,0,0,0,4,0,0]]", "<nowiki>{{</nowiki>a9doy5ksflltprpb9<b>b</b>|{{echo|foo}}|{{echo|a}}zsy6zc95znyfzuxr{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[2,0,0,0,4,0,0,0,0]]", "xu2vb4mmpkhgp66r<nowiki>{{</nowiki>a<b>b</b>|{{echo|foo}}78hbshfbw6pw4s4i{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[0,0,4,0,0,0,0,0,0]]", "<nowiki>{{</nowiki>a<b>b</b>lvadzdcjhmcs1yvi{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing tags [[4,1,0,0,4,0,3,0,0]]", "05laxsak396swcdi<b data-foobar=\"q4h81dcojfc4n29\">b</b>|{{echo|foo}}vr4d4w51gvnp14i{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [1]", "<nowiki>{{</nowiki>a<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing unclosed tag [[0,1]]", "<nowiki>{{</nowiki>a<b data-foobar=\"ah4i6emv4j6pqfr\">|{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [[4,2]]", "d7d6vni91sfez5mio7di35eq9ubd42t9<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing unclosed tag [[0,[4,0,0,0,3,0,0]]]", "<nowiki>{{</nowiki>a<b>n6rra5yl19i442t9{{echo|foo}}|{{echo|a}}{{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [[3,[4,0,0,0,0,0,0]]]", "<b>98je9r0hl43u9pb9{{echo|foo}}|{{echo|a}}={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [2]", "n9yqgp0xjbf647vi\n\n{{a<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing unclosed tag [[0,[3,0,0,0,2,0,0]]]", "<nowiki>{{</nowiki>a<b>{{echo|foo}}|{{echo|a}}w3curdi6jgrdx6r={{echo|b}}|a =b}}");
add("selser", "Template with invalid target containing unclosed tag [[2,2]]", "bbplai8we7j2x1or<nowiki>{{</nowiki>apfbr2blkhz146lxr<b>|{{echo|foo}}|{{echo|a}}={{echo|b}}|a = b}}");
add("selser", "Template with invalid target containing wikilink [2]", "zwc4e5r9fcz93sor\n\n{{[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [1]", "<nowiki>{{</nowiki>[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[3,0,0]]", "[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[2,0,0]]", "oqfrkey46zaaif6r<nowiki>{{</nowiki>[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[0,[2],0]]", "<nowiki>{{</nowiki>[[Main Page|g5dbrx85rnt57b9Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[4,2,0]]", "gb2u86grtumu0udigposn6eyae154s4i[[Main Page]]}}");
add("selser", "Template with invalid target containing wikilink [[3,[4],0]]", "[[Main Page|hah73egswvf2mx6r]]}}");
add("selser", "BUG 553: link with two variables in a piped link [1]", "{| data-foobar=\"sermfvbsbpujtt9\"\n|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[[[0,0,0,0,2]],2]]]", "{|\n|[[{{{1}}}|{{{2}}}67x19euoicw61or]]<!--jadn53w2sr79zfr-->\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[0,4]]]", "{|\n|[[{{{1}}}|{{{2}}}]]<!--5luam4tixnbl0udi-->\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,[2,0]]]", "ekt298jbktjoflxr\n{|\n|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "BUG 553: link with two variables in a piped link [2]", "riybxbthicfskyb9\n{|\n|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "BUG 553: link with two variables in a piped link [[0,2]]", "{|\n<!--z79xd4wgjxphw7b9-->|[[{{{1}}}|{{{2}}}]]\n|}");
add("selser", "Template with targets containing wikilinks [4,0,1,2,1]", "p8pza9iyg3yaxlxr\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]}}\n\ndf60zk0z1v8ia4i\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[2,1,0],0,[0,0,2],0,0]", "h2hv5x8klgom9529<nowiki>{{</nowiki>[[foo]]}}\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]<nowiki/>ncfzvzzr3mzpvi<nowiki>}}</nowiki>\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [0,3,2,0,2]", "{{[[foo]]}}\n\n8rx6djpk76ojq0k9\n\n{{[[{{echo|foo}}]]}}\n\n5oa9tnlujuivn29\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[4,0,4],0,1,2,4]", "340gvnbe2k7nl8fr[[foo]]<nowiki/>s33i9adwhcd9ggb9\n\n<nowiki>{{</nowiki>[[{{echo|foo}}]]}}\n\ny20i831f0qkt9\n\nbj9cw1q9ft6b6gvi\n");
add("selser", "Template with targets containing wikilinks [[0,[3],0],0,0,2,2]", "<nowiki>{{</nowiki>[[foo|<nowiki/>]]}}\n\n{{[[{{echo|foo}}]]}}\n\n1z50cb7dcf28olxr\n\n1ituto223xxenrk9\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[0,2,0],0,2,0,0]", "<nowiki>{{</nowiki>htu2qmdkzjkedn29[[foo]]}}\n\nfejf3xvsleopqfr\n\n{{[[{{echo|foo}}]]}}\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [1,4,0,2,0]", "<nowiki>{{</nowiki>[[foo]]}}\n\n1cd1vr2c1t9be29\n\n{{[[{{echo|foo}}]]}}\n\nkjsr70qifjx4unmi\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [[3,4,0],0,2,0,3]", "25jsxi33dblc8fr<nowiki>}}</nowiki>\n\nxo4f2m9ziaawnrk9\n\n{{[[{{echo|foo}}]]}}\n");
add("selser", "Template with targets containing wikilinks [2,0,[4,0,3],0,0]", "jwj1clvcmw5qaor\n\n{{[[foo]]}}\n\na6sabnbx8xueg66r[[{{echo|foo}}]]\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Template with targets containing wikilinks [2,3,2,0,0]", "jn3l3gn2shlac3di\n\n{{[[foo]]}}\n\neps1xdvsq62vgqfr\n\n{{[[{{echo|foo}}]]}}\n\n{{{{echo|[[foo}}]]}}");
add("selser", "Bug 6563: Section extraction for section shown by <includeonly> [3,0,2,2]", "\ndkza481pyak2zkt9\n\nvfmd114kki5m6lxr\n\n==Section T-2==");
add("selser", "Bug 6563: Section extraction for section suppressed by <includeonly> [3,0,2,3]", "\nuxbdtsn6wx7uv7vi\n");
add("selser", "2. includeonly in html attr value [[0,3,0]]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span><span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [[0,4,0]]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>3qendv6zaaif6r<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [2]", "u352zdrjeccsdcxr\n\n<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>\n<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [[0,2,0]]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>hkp7pfjmofde7b9\n<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "2. includeonly in html attr value [1]", "<span id=\"<noinclude>v1</noinclude><includeonly>v2</includeonly>\">bar</span>\n<span id=<noinclude>\"v1\"</noinclude><includeonly>\"v2\"</includeonly>>bar</span>");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,3]]", "{{echo|}}{| width=\"100%\"\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[0,2]]]", "{{echo|}}{| width = '100%'\n|foo<!--7w2da44bn7idaemi-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,1]", "{{echo|}}{| width=\"100%\" data-foobar=\"t98xv1gnmkhp8pvi\"\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[[2]],3]]]", "{{echo|}}{| width = '100%'\n|5l8xeq1crrafw29foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[4,[3,0]]]", "{{echo|}}{| width=\"100%\"<!--4w5gtskk09ou5wmi-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,2]", "{{echo|}}nbv262u96o3cjtt9\n{| width = '100%'\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,1]]", "{{echo|}}{| width=\"100%\"\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[3],0]]]", "{{echo|}}{| width = '100%'\n\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[1,4]]]", "{{echo|}}{| width = '100%'\n|foo<!--ls9rf79zvd8fflxr-->\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[3],3]]]", "{{echo|}}{| width = '100%'\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[2,0]]]", "{{echo|}}gqnq56unxcu9pb9\n{| width = '100%'\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[[3]],3]]]", "{{echo|}}{| width = '100%'\n|\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[3,[1,0]]]", "{{echo|}}{| width=\"100%\"\n|foo\n|}");
add("selser", "1. Table tag in SOL posn. should get reparsed correctly with valid TSR [0,[0,[[1],4]]]", "{{echo|}}{| width = '100%'\n| data-foobar=\"pnyys77mkaxrms4i\" |foo<!--kok37wstwgbvs4i-->\n|}");
add("selser", "Templates: P-wrapping: 1d. Template preceded by comment-only line [2,0,0]", "i0wqqfgpkyjsjor\n<!-- foo -->\n{{echo|Bar}}");
add("selser", "Templates: P-wrapping: 1d. Template preceded by comment-only line [2,3,0]", "5x3qqz5k5wl2qpvi\n\n<!-- foo -->{{echo|Bar}}");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,4,3,3,0,0,3,1]", "\n00y7omltvljfko6r\n<table data-foobar=\"jmfnmukwsfko6r\"><tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,[3],0,0,3,0,4,2]", "<table></table>\n<!--Two categories (Bug 50330)-->\naa9zlufnr5nlv7vi\n\nq2pyl7rcb4e4gqfr<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [4,1,3,2,2,2,0,2]", "ixen0t4bgr8xs9k9<table data-foobar=\"srvdo6x0y0bb7qfr\"><tr><td>foo</td></tr></table>uzdg6q9o13xcrf6r<!--Two categories (Bug 50330)-->4qtzlqvafwyaatt9\nxof76nvw8xmkj4i\nmjznl60h5moenrk9<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,4,2,4,2,1,0,1]", "\nfvxtgp3ng3c8fr\n\nndpvbu6qrq2awcdi\n\nxvl7qedcdte29\n\nut1kj4t41ud6lxr\n[[Category:bar1]]<table data-foobar=\"bl3hi9ypv5d34n29\">[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [3,[[3]],3,2,0,4,0,4]", "<table></table>ix0vd82hs81fko6r<!--Two categories (Bug 50330)-->\nk15lw873lct2zkt9\n3jhgi813c6av2t9\n");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [1,3,0,4,0,0,0,[[[[3]]]]]", "[[Category:foo1]]\n6jn116sfnaozjjor\n<table><tr><td></td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [3,2,3,2,2,0,0,[[[[2]]]]]", "isfe9nts88woecdi<table>[[Category:foo1]]<tr><td>foo</td></tr></table>qvw89yxvkoab57b9<!--Two categories (Bug 50330)-->u9lqrotjvqb0529\n<table><tr><td>gsvn66t5or5p14ifoo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [1,2,0,0,4,0,0,1]", "[[Category:foo1]]\n19pn73ihhorms4i<table>[[Category:foo1]]<tr><td>foo</td></tr></table>\n<!--Two categories (Bug 50330)-->uqp2nnbb6ueg66r<table data-foobar=\"dzahg5avpeyu8fr\">[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,1,4,0,0,0,1,[1]]", "<table data-foobar=\"0zy0k38eyyv0wwmi\">[[Category:foo1]]<tr><td>foo</td></tr></table>13pnkfecgawwb3xr<!--Two categories (Bug 50330)-->\n[[Category:bar2]]<table><tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [4,3,0,2,2,0,0,[2]]", "m9y118hycf6iggb9\n\nxvms1aht5ut0529\n\n<!--Two categories (Bug 50330)-->j909rng3dfopf1or\n<table><!--ndktasffvlcba9k9-->[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [2,3,4,2,3,0,0,0]", "pus64uq6ej4z33di\ng560va5z5cw0cnmi\n\nyykoaqbw7kbro1or<!--Two categories (Bug 50330)--><table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [4,1,0,2,0,0,3,2]", "jeue60f2n8eel8fr<table data-foobar=\"uib4z52061hmpldi\"><tr><td>foo</td></tr></table>\numehhf7e7cbfyldi<!--Two categories (Bug 50330)-->\n\n0v6iqx906hv3g14i<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,3,2,4,3,3,0,4]", "\nhdu8b5un73rw9udi\n\naxxk36cxrg0newmi\nl6db7w99encm1jor\n");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,2,4,4,4,4,2,0]", "\n3p6ds2cdy5geqaor<table>[[Category:foo1]]<tr><td>foo</td></tr></table>nf31cc8xo4leg66r\n\nirxbftzactprpb9\n\ndd21qg54ruw0cnmi\n\nv7gjnsdqspnqxgvi\n\nzg2izvkgtlu15rk9<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,3,2,0,2,4,0,2]", "\n5hat330odnmw8kt9\n\n<!--Two categories (Bug 50330)-->6ssl3a5gpeqaor\n\novgd20ux77722o6r\nkjuzhgsj82blz0k9<table>[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [2,3,2,2,0,0,0,[[4]]]", "pr6u7tvu4zccjtt9\nbzwx5yz7n0y0hpvi\n\nsqg8knvzd26gvi<!--Two categories (Bug 50330)-->\n\nigfmiz8r7rykfbt9<table></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,1,4,0,0,0,1,[2]]", "<table data-foobar=\"16hnpb0od17l23xr\">[[Category:foo1]]<tr><td>foo</td></tr></table>p0tte61pcmh7iudi<!--Two categories (Bug 50330)-->\n[[Category:bar2]]<table><!--8rm0h9nhoqkc5wmi-->[[Category:bar1]][[Category:bar2]]<tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,[2],0,2,2,0,0,[1]]", "<table><!--c0u2c9uer91cerk9-->[[Category:foo1]]<tr><td>foo</td></tr></table>\n8hyzimw3d00vbo6r\n\n<!--Two categories (Bug 50330)-->12c9zldofglj714i\n<table><tr><td>foo</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,[[3]],2,0,0,4,0,[[[4]]]]", "<table></table>frdce0reto2h85mi\n<!--Two categories (Bug 50330)-->\n3lz5b6rsfydjkyb9<table><tr><td>6xqvzsggdh392j4i</td></tr></table>");
add("selser", "Templates: HTML Tables: 5. Proper fostering of categories from inside [0,4,4,0,0,3,2,[3]]", "\n4izrbq79n79442t9\n\nnmwv8fylt48fflxr\n<!--Two categories (Bug 50330)-->\nzjdiwp9jubejc3di<table></table>");
add("selser", "pre-save transform: mixed tag case [2]", "rlq31ytw4um78pvi\n\n<NOwiki>'''not wiki'''</noWIKI>");
add("selser", "pre-save transform: mixed tag case [1]", "<NOwiki>'''not wiki'''</noWIKI>");
add("selser", "pre-save transform: mixed tag case [[2]]", "tkf7wn5an92lz0k9<NOwiki>'''not wiki'''</noWIKI>");
add("selser", "pre-save transform: Signature expansion [2]", "nhktqtqygncow29\n* ~~~\n* <noinclude>~~~</noinclude>\n* <includeonly>~~~</includeonly>\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[4,3,[3,3,0,4],4,4,0,2]]", "* m10zx9fp4jnstt9\n*<nowiki>~~~gmvcwt97dhzadcxr</nowiki>\n* ywa7bkfxtqs0dx6r\n* hli33ar0hb3p7gb9\n* e60vhz9g0s7wg66r\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [1]", "* ~~~\n* <noinclude>~~~</noinclude>\n* <includeonly>~~~</includeonly>\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[2,4,3,0,0,0,4]]", "* 32fknwefh04l5wmi\n* ~~~\n* azo82cwrwz478pvi\n* <includeonly>~~~</includeonly>\n* qs0xply9n5ng66r");
add("selser", "pre-save transform: Signature expansion [[2,0,[3,0,4,2],2,[4,0,0],0,3]]", "* hz1vd0iqjsepcik9\n* ~~~\n*<noinclude>0bktyo96eqyw4s4iw4otkymxoa40wwmi</noinclude>\n* gt7d0eqrg8axajor\n*1l3dqiqmo4ijxlxr<includeonly>~~~</includeonly>\n");
add("selser", "pre-save transform: Signature expansion [[3,0,2,3,3,0,[4,3,0,4]]]", "* itjoznribbkjra4i\n* <noinclude>~~~</noinclude>\n*<nowiki>5dhwnz8dwu434n29~~~qlz826yt4m4sfw29</nowiki>");
add("selser", "pre-save transform: Signature expansion [[[2],2,[0,0,4,4],4,[0,3,0],2,2]]", "*<nowiki>yk5lx11ir8u84cxr ~~~</nowiki>\n* qkk22lec4f8byb9\n* <noinclude>o7u03xu7j39v0a4inuzg1bvivq3680k9\n* qyf4g03bw2g4aemi\n* \n* i2lkm6kjld31sjor\n* jmnxq3vkjm4bcsor\n* <onlyinclude>~~~</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[0,4,[0,0,3,0],4,[2,0,2],3,[0,2,0,1]]]", "* ~~~\n* e8gh2f3hm17l23xr\n* <noinclude></noinclude>\n* roruz1ccua8j8aor\n*dzvry5w4yvz33di <includeonly>~~~</includeonly>2iob7q2qgz4zpvi\n* bdtv8j53yhp30udi<onlyinclude><nowiki>~~~</nowiki></onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[2,0,1,0,2,0,[4,4,3,0]]]", "* bqju9j481lg3z0k9\n* ~~~\n* <noinclude>~~~</noinclude>\n* jzrurxzih8semi\n* <includeonly>~~~</includeonly>\n*afwkn1acaje2ke291q2og25231cvunmi</onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[2,0,3,0,[2,0,0],0,[0,4,0,0]]]", "* l8ywvav463s7nwmi\n* ~~~\n*pb665fdgs7tlnmi <includeonly>~~~</includeonly>\n*<nowiki> p0na21wtn019k9~~~</nowiki></onlyinclude>");
add("selser", "pre-save transform: Signature expansion [[3,3,2,0,1,0,4]]", "* n4e6pky0yzdj9k9\n* <noinclude>~~~</noinclude>\n* <includeonly>~~~</includeonly>\n* ur7u96qiqwdpwrk9");
add("selser", "pre-save transform: Signature expansion [[0,3,3,0,[4,3,4],3,[3,4,0,1]]]", "* ~~~\n*yw1kct238p6kzkt909d84mjn1li8uxr\n*<nowiki>bs7omurjgiudi~~~</nowiki></onlyinclude>");
add("selser", "Image with multiple widths -- use last [2]", "tyg28ph5bf5el8fr\n\n[[File:Foobar.jpg|200px|300px|caption]]");
add("selser", "Image with multiple widths -- use last [1]", "[[File:Foobar.jpg|200px|300px|caption]]");
add("selser", "Image with width attribute at different positions [0,2,[0,1],3,0]", "[[File:Foobar.jpg|200px|right|Caption]]xmu7d955jxmndn29\n[[File:Foobar.jpg|right|200px|Caption]]\n[[File:Foobar.jpg|right|Caption|200px]]");
add("selser", "Image with 'frame' first. [0,4,[0,1],3,0]", "[[File:Foobar.jpg|frame|caption]]7sa4l88rpsowp14i[[File:Foobar.jpg|frame|frameless|caption]]\n[[File:Foobar.jpg|frame|thumb|caption]]");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,1]", "[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [2,2,[3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0]]", "pwgl4v8r9af6flxr\n\n[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\nhtc0s57znl9v0a4i\n\n{{echo|./../foo}}{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|<nowiki>foo[bar</nowiki>}}{{echo|<nowiki>foo]bar</nowiki>}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [0,3,2]", "[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\ngkfu6gduolqmpldi\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [[2],0,[4,0,2,0,0,0,2,0,0,0,0,0,0,0,4,0,0,0,0,0,4,0,3]]", "8sctlarbskfswcdi<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\nfxzu21euibpgb9{{echo|./../foo}}k3i4gi7d5yst6gvi|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}<nowiki>7zyih9glwodmquxr|bar]]\n[[</nowiki>{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}3e27dqprn1k2zkt9{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}xof8d4gk7hw7b9{{echo|foo<bar}}\n");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,4]", "[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\n5cifaj4uowyaatt9\n");
add("selser", "Render invalid page names as plain text (bug 51090) [[3],0,2]", "\n\nf5t0h4865mrysyvi\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,2]", "[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\nff48sg2pipqwu3di\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [[4],3,[0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,4,0,0,0,0,0,2]]", "a8exokpi7bricnmi\n\n[[{{echo|./../foo}}<nowiki>yjmnkmy2satt9|bar]]\n[[</nowiki>{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}<nowiki>naobmwo11fnipb9]]\n[[</nowiki>{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}rksixalimh392j4i{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}<nowiki>xmch4v09b9m2huxr]]</nowiki>");
add("selser", "Render invalid page names as plain text (bug 51090) [0,0,[2,0,3,0,3,0,0,0,0,0,0,0,4,0,2,0,3,0,0,0,0,0,0]]", "[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\nfyvix8boaud6lxr[[{{echo|./../foo}}{{echo|foo/.}}{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}1uu7nk0ev1q3erk9{{echo|foo{bar}}<nowiki>4xb2zu4vmlipy14i]]\n[[</nowiki>{{echo|foo}bar}}{{echo|<nowiki>foo[bar</nowiki>}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [1,0,1]", "<nowiki>[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]</nowiki>\n\n[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}|bar]]\n[[{{echo|foo/..}}|bar]]\n[[{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}]]\n[[{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [4,0,[4,0,0,0,2,0,2,0,0,0,4,0,4,0,2,0,2,0,4,0,0,0,0]]", "vv8tb99g6m20rudi\n\nthyzb5llxhx8byb9{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}<nowiki>170xfo9mazsyk3xr|bar]]\n[[</nowiki>{{echo|foo/..}}<nowiki>82a3urjl4mpfogvi|bar]]\n[[</nowiki>{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}9no7cugeonf561or{{echo|foo././bar}}5jj2topgnr3vj9k9{{echo|foo{bar}}<nowiki>m5uekj6dh5154s4i]]\n[[</nowiki>{{echo|foo}bar}}<nowiki>zsh2d3o595tawcdi]]\n[[</nowiki>{{echo|<nowiki>foo[bar</nowiki>}}6ogkffdf3qyta9k9{{echo|<nowiki>foo]bar</nowiki>}}]]\n[[{{echo|foo<bar}}]]");
add("selser", "Render invalid page names as plain text (bug 51090) [2,4,3]", "x280lbt0x9smunmi\n\n[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\n9zekc2ruir0h33di\n");
add("selser", "Render invalid page names as plain text (bug 51090) [2,0,3]", "uy7lbslcu8mvaemi\n\n[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n");
add("selser", "Render invalid page names as plain text (bug 51090) [2,0,[2,0,0,0,4,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,3,0,2]]", "ixtw0uq17iqtcsor\n\n[[./../foo|bar]]\n[[foo�|bar]]\n[[foo/.|bar]]\n[[foo/..|bar]]\n[[foo~~~bar]]\n[[foo>bar]]\n[[foo[bar]]\n[[.]]\n[[..]]\n[[foo././bar]]\n\ncjgyt6cnj124kj4i[[{{echo|./../foo}}|bar]]\n[[{{echo|foo/.}}4i3f1qev8b5u3di{{echo|foo/..}}t26yvjmagszl4n29{{echo|foo~~~~bar}}]]\n[[{{echo|foo>bar}}3vx6jfw5gbvs4i{{echo|foo././bar}}]]\n[[{{echo|foo{bar}}]]\n[[{{echo|foo}bar}}]]\n[[{{echo|foo[bar}}]]\n[[{{echo|foo]bar}}{{echo|foo<bar}}<nowiki>3vz7g6pd5lzhncdi]]</nowiki>");
add("selser", "Category / paragraph interactions [[0,3,2],0,2,4,[3,2,0],0,[2],3,0,[3],0,[3,3,4,1,4,2,3],0,3,4,0,4,3,0,0,2,0,0,0]", "Foo 83zrad4tpxxkcsor Bar\n\nysekf8brayr885mi\n\nFoo [[Category:Baz]]\nBar\n\nduknjpcnvnyzxgvi\n\nhroyapi5paqhncdi[[Category:Baz]]\nBar\n\nmsiv1cjc1q8e61orFoo\n[[Category:Baz]] \n\nljrvpzob03tedn29[[Category:Baz]]6bqrn9ug03npcik95jcarnywu55klnmi[[Category:Baz]]\n\nik3u2lqitfomkj4i[[Category:Baz]]\nn8wwykwa78f72e29\n\n[[Category:Baz]]\n9dl89xg0l57phkt9\n {{echo|[[Category:Baz]]}}\n[[Category:Baz]]");
add("selser", "Category / paragraph interactions [4,0,0,0,[4,1,0],3,3,0,0,0,2,[2,0,0,1,3,0,0],0,1,3,0,2,0,2,0,0,0,4,2]", "y2ksxygpidn7y14i\n\nFoo [[Category:Baz]]\nBar\n\ntqcbbea7bmiy66r[[Category:Baz]]\nBar\n[[Category:Baz]] Bar\nc42dqedyb3u6usor\n\ndjmvd61k80kymn29Foo\n[[Category:Baz]]\n [[Category:Baz]][[Category:Baz]]\nBar\n\n[[Category:Baz]]\n<nowiki> </nowiki>[[Category:Baz]]\nvyv3u18bgs4z33di\n[[Category:Baz]]\ne98vfkx1eqld6lxr\n\n[[Category:Baz]]\n {{echo|[[Category:Baz]]}}\nviznyhgcd9muz0k9\n\nd830mwe1qg1oflxr[[Category:Baz]]");
add("selser", "Category / paragraph interactions [[0,1,0],0,[2,0,4],4,[0,2,4],0,1,0,0,0,0,3,0,2,0,0,2,0,3,3,0,0,0,0]", "Foo [[Category:Baz]] Bar\n\n9o6ehd9bnpuba9k9Foo [[Category:Baz]]hykpnr0z0mdvx6r\n\nwfd3z9z3ux0nqaor\n\nFoo\nts1y9gdg8f0nqaor[[Category:Baz]]8kkz36bki8tihpvi\n\nFoo\n[[Category:Baz]] Bar\n\nnarm95sza9ssjor[[Category:Baz]]\n [[Category:Baz]]\nd3pv2h2yewcj714i\n[[Category:Baz]]\n {{echo|[[Category:Baz]]}}\n[[Category:Baz]]");
add("selser", "Category / paragraph interactions [1,0,1,0,1,0,1,0,0,0,2,[4,0,0,0,0,4,0],3,0,4,0,0,1,4,4,0,0,3,0]", "Foo [[Category:Baz]] Bar\n\nFoo [[Category:Baz]]\nBar\n\nFoo\n[[Category:Baz]]\nBar\n\nFoo\n[[Category:Baz]] Bar\nqyq2tw4tbcjfko6r\n\n8rsqjn6ahwoecdi[[Category:Baz]]\n [[Category:Baz]]\n7qub38k3od0od2t9\nBar\n\n[[Category:Baz]]\njml3cn3gxdt5ipb9[[Category:Baz]]\n[[Category:Baz]]\n7www48dkmtg74x6r\n\nfddlp7i37zwr8uxr\n {{echo|[[Category:Baz]]}}[[Category:Baz]]");
add("selser", "Section headings with TOC [3,4,0,0,3,2,[3],3,0,4,3,3,0]", "px8b3ng5n4lpu8fr\n\n=== Subheadline 1 ===\np64mngpetwfm9529\n\n======<nowiki/>======\n\n== Headline 2 ==\nzvfwz386e7xbhuxr\n\n===Another headline===");
add("selser", "Handling of sections up to level 6 and beyond [1,2,1,2,1,0,[3],2,2,4,[2],4,0,0,1,0,0,3,1]", "= Level 1 Heading=\n7e043zzvvtzf47vi\n\n== Level 2 Heading==\n0pp0pcwrmkakyb9\n\n=== Level 3 Heading===\n====<nowiki/>====\n253vnq49otg9zfr\nmncpvxste96vquxr\n\n===== Level 5 Heading=====\n91qmbb1e2vlpu8fr\n\n======ohqkkrlkoqi79zfr Level 6 Heading======\n6hv8gbhdqngn9udi\n\n======= Level 7 Heading=======\n======<nowiki>== Level 8 Heading==</nowiki>======\n========= Level 9 Heading=========\n======<nowiki>==== Level 10 Heading====</nowiki>======");
add("selser", "Handling of sections up to level 6 and beyond [1,0,1,0,0,3,2,3,0,0,4,0,[4],0,1,0,0,4,0]", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\n6fs6ykhv45nrk9\n\n==== Level 4 Heading====\n===== Level 5 Heading=====\njkvm1xjd1mw2vs4i\n\n======lrcthal0ujwnrk9======\n======<nowiki>== Level 8 Heading==</nowiki>======\n========= Level 9 Heading=========\n6uicqh73ey5bfbt9\n\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [1,0,1,4,3,2,3,4,0,0,0,0,0,0,[2],4,0,0,0]", "= Level 1 Heading=\n== Level 2 Heading==\n7fxsbs0ri50442t9\n\nvxty72ecymuw61or\njkw5wfqz4rj54s4i\n\n===== Level 5 Heading=====\n====== Level 6 Heading======\n======= Level 7 Heading=======\n======2ij10fqu45sqyqfr== Level 8 Heading========\nlglib2aveqj8aor\n\n========= Level 9 Heading=========\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [2,2,[4],3,[3],3,[2],3,0,2,3,0,[4],3,1,2,3,0,2]", "uujzhww35m4h1tt9\n\n= Level 1 Heading=\ng3pfm1sv4ewxw29\n\n==qqcvrts9jcyp66r==\n===<nowiki/>===\n====2d2xpp3585i885mi Level 4 Heading====\n===== Level 5 Heading=====\nb5xppeg19r0h33di\n\n======lmauxgcn4u2z9f6r======\n======<nowiki>== Level 8 Heading==</nowiki>======\ny5j5j02sc2nvcxr\n\nsmdwx127s9f9lik9\n\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [1,0,[4],0,4,0,0,0,0,2,0,0,0,3,2,3,3,0,3]", "= Level 1 Heading=\n==257whdvp60vk7qfr==\n8ctghzq3sqj2lnmi\n\n==== Level 4 Heading====\n===== Level 5 Heading=====\n0qnzy7sqr64oyldi\n\n====== Level 6 Heading======\n======= Level 7 Heading=======\n140t1u931jnbqpvi\n\n======== Level 8 Heading========\n");
add("selser", "Handling of sections up to level 6 and beyond [[3],0,4,4,[4],0,4,0,[2],2,1,0,0,2,2,2,[3],0,3]", "=<nowiki/>=\namb6kmkk4xvo0f6r\n\ntnpagw3ww154s4i\n\n===zafnpgazotl9dx6r===\ndmkvt9fm17xvfgvi\n\n=====d8qphiqtdlipy14i Level 5 Heading=====\n3fzlf6871b9h33di\n\n====== Level 6 Heading======\n======= Level 7 Heading=======\ns5uns2hl9cuqsemi\nsro32io5c3j714i\n\n======== Level 8 Heading========\nv1uy462lkbysc3di\n\n======<nowiki/>======\n");
add("selser", "Handling of sections up to level 6 and beyond [[4],4,2,0,0,3,2,4,[2],3,[3],0,[4],0,0,4,[2],4,3]", "=5xig4duxuijjdcxr=\nxi940ttg6owjc3di\n\nnsbmloj6iyynwmi\n\n== Level 2 Heading==\n=== Level 3 Heading===\ns2e0l8vojorpmn29\n\n==== Level 4 Heading====\ns4nunzajll9s5rk9\n\n=====xqq41rwqf1q69a4i Level 5 Heading=====\n======<nowiki/>======\n======ji3ewfid6kvb1emi======\n======== Level 8 Heading========\nba1ki76de2i96bt9\n\n======alx7j2n9e1mxi529=== Level 9 Heading=========\n6am7i00imcth85mi\n");
add("selser", "Handling of sections up to level 6 and beyond [4,0,[3],0,3,3,[2],2,4,0,4,4,3,4,0,0,2,2,2]", "juqe2j1drucsdcxr\n\n==<nowiki/>==\n====vdm88gzm0er35wmi Level 4 Heading====\n1koun0ht187u8fr\na6n0beetb5yd5cdi\n\n2ic6yzwgqfklc8fr\n\nkbum5p83he2hjjor\n\nuu16p407plo6flxr\n\n======== Level 8 Heading========\nd3nou2efkqog8pvi\n\n========= Level 9 Heading=========\navbve75qry919k9\n8opw9o1qr2xd2t9\n\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [1,3,1,0,0,0,4,0,0,3,[3],0,3,4,2,0,0,4,[4]]", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\nk7p2m2d9unaeb3xr\n\n===== Level 5 Heading=====\n======<nowiki/>======\nncttwl8dqx2mx6r\n\nz1b86umv7owxko6r\n\n======== Level 8 Heading========\n========= Level 9 Heading=========\n4p8d554k064oyldi\n\n======acgh0oiy5fiozuxr======");
add("selser", "Handling of sections up to level 6 and beyond [3,4,0,0,[3],0,2,2,0,3,1,0,2,2,[2],3,4,3,0]", "qwghp8a222tvs4i\n\n== Level 2 Heading==\n===<nowiki/>===\no6bh5pr15gvte29\n\n==== Level 4 Heading====\nucmug7jja4079zfr\n\n===== Level 5 Heading=====\n====== Level 6 Heading======\n0v8fi7n5klnmi\n\n======= Level 7 Heading=======\nqcilv966e8a4te29\n\n======65477y2p2aoiggb9== Level 8 Heading========\ng3i85dt8wfusor\n\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [0,0,4,0,1,2,[3],0,2,0,[4],3,[3],2,[4],0,2,2,[2]]", "= Level 1 Heading=\nb5aj5set52i96bt9\n\n=== Level 3 Heading===\nb9750g8tjnd5z5mi\n\n====<nowiki/>====\nomfmmn9e38lg14i\n\n===== Level 5 Heading=====\n======9td68c7cilunxw29======\n======<nowiki/>======\n8wi1wgmo7wah5mi\n\n======v3wyqid8bqnqm2t9======\nyqvikk10tjf6flxr\n\n========= Level 9 Heading=========\negw7u9tdpqw4gqfr\n\n======6xjs5xur737ynwmi==== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [3,0,3,0,4,4,2,0,1,4,0,3,[3],0,4,4,[4],0,2]", "\nocc9d3bm1n2hjjor\n\ni6vjyoypjo3i8uxr\n\nbygl3zmbmt3dte29\n\n==== Level 4 Heading====\n===== Level 5 Heading=====\nmztd25q7x1cnb3xr\n\n====== Level 6 Heading======\n======<nowiki/>======\nqysvicutlbit3xr\n\n213rie7m2n0qw7b9\n\n======d2kre63k85154s4i======\nx76zsbc53e42huxr\n\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [[2],0,3,0,[4],4,0,3,0,2,0,0,1,0,0,2,[4],3,0]", "=h5j8dqaqxhl4n29 Level 1 Heading=\n\n===gc0795sy30udi===\no9rlj7nwfai9hpvi\n\n==== Level 4 Heading====\n===== Level 5 Heading=====\n8mnm89glb1wf80k9\n\n====== Level 6 Heading======\n======<nowiki>= Level 7 Heading=</nowiki>======\n======== Level 8 Heading========\niy63mn21ahj5g66r\n\n======ojzn8txamb98jjor======\n========== Level 10 Heading==========");
add("selser", "Handling of sections up to level 6 and beyond [[3],0,2,0,[3],0,2,0,3,3,2,0,2,3,0,0,3,3,3]", "=<nowiki/>=\n77y86082ym3u9pb9\n\n== Level 2 Heading==\n===<nowiki/>===\njt55j8pgneak0529\n\n==== Level 4 Heading====\nq1182whvcflgnwmi\n\n====== Level 6 Heading======\nfz2hfc0laqbyb9\n\n======= Level 7 Heading=======\n======== Level 8 Heading========\n");
add("selser", "Handling of sections up to level 6 and beyond [0,0,1,3,1,3,4,2,[2],3,3,4,1,0,0,2,0,4,1]", "= Level 1 Heading=\n== Level 2 Heading==\n=== Level 3 Heading===\n9vzolj02qqepzaor\n\nb09ymjngm4730udi\n\n=====56wtakel8yyzaor Level 5 Heading=====\nyiggx30v5j4z33di\n\n======<nowiki>= Level 7 Heading=</nowiki>======\n======== Level 8 Heading========\n068cf3hs8nuvunmi\n\n========= Level 9 Heading=========\nqpbi9sagcpbq33di\n\n======<nowiki>==== Level 10 Heading====</nowiki>======");
add("selser", "Handling of sections up to level 6 and beyond [0,0,4,0,4,0,0,0,4,0,0,2,[3],4,0,0,[3],0,3]", "= Level 1 Heading=\nhu2xawss5ze61or\n\n7euacpk0x86ywrk9\n\n==== Level 4 Heading====\n66btsq84yh0vn29\n\n====== Level 6 Heading======\n4ctl6u9fv9lfpqfr\n\n======<nowiki/>======\n9vstzsttpthdunmi\n\n======== Level 8 Heading========\n======<nowiki/>======\n");
add("selser", "Header with special characters (bug 25462) [1,2,2,0,3,4,0,4,[2],3,0,0,1,0,[3],0,0,2,4,0,1]", "The tooltips shall not show entities to the user (ie. be double escaped)\n\n8z7x1wcux3v26gvi\n\ns1o423l9ajg7gb9\n\n== text > text ==\n2whgc18x6v3d6lxr\n\n== text < text ==\nt5l87q61pf0z4cxr\n\n92ysy522qy28d7visection 2\n\n== text & text ==\nsection 3\n\n==<nowiki/>==\nsection 4\n\nozk2j78opgajdcxr\n\nw7mpykjqlaowp14i\n\nsection 5");
add("selser", "Header with space, plus and underscore as entity [0,2,2,0,0,0,0,0,[4],0,4,4,1,0,[2,0,2,0,0],3,[3],2,4,4,1,0,3,0,3,4,[2,0,3,0,[3],0,2,0,[2],2,3]]", "Id should not contain + for spaces\n\n1s8n9ebujmoyldi\n\nx2dm134ehi2akyb9\n\n== Space between Text ==\nsection 1\n\n== Space-Entity&#32;between&#32;Text ==\nctsg93fg7nfjemi\n\nfii5im4snhyyzaor\n\ntr1uqz2py5koi529\n\nsection 3\n\n==mdub6jo1drcqh0k9 Plus-Entitycp7nt180xjxuhaorbetweenText ==\n\n93x8kyc14qpycik9\n\nmy6t4zb9wnq4zpvi\n\nfsqir1dx869a4i\n\nsection 5\n\ncnlyy146abofajor\n\nxv9ysrtv3ni885mi[[#Space between Text]]\n\n[[#Plus+between+Text|<nowiki/>]]\n8xc1shdmq3pfzuxr[[#Plus-Entity&#43;between&#43;Text]]\n[[#Underscore_between_Text|3v175tm601nstt9#Underscore_between_Text]]1y56jaqn4d6ajor\n");
add("selser", "Header with space, plus and underscore as entity [0,0,0,0,[4],4,4,0,[3],4,2,0,2,2,[0,0,0,0,4],3,[4],3,0,3,2,0,3,0,0,3,[3,0,0,0,[3],4,2,0,4,0,0]]", "Id should not contain + for spaces\n\n== Space between Text ==\n8xyfc0i8t2h2gldi\n\nzb4aaqq1s96q1tt9\n\n15bmoldrhl2i6bt9\n\ncfupe02lilhumcxr\n\n6a9prcw3fzcfecdi\n\n== Plus+between+Text ==\n2gbrll83w49m5cdi\n\nsection 3\n\nc17wpd542d1xxbt9\n\n== Plus-Entity&#43;between&#43;8yfotmkftysc3di==\ndrq2cqynku0rizfr\n\n== Underscore_between_Text ==\ngp6czug4zgfx0f6r\n\nsection 5\n\nsection 6\n\n[[#Space-Entity&#32;between&#32;Text]]\n[[#Plus+between+Text|<nowiki/>]]<nowiki/>agpzebxg8xvtpgb9fopm0ncoqgf7ds4i[[#Plus-Entity&#43;between&#43;Text]]\nh7rvv79vf6qadcxr\n[[#Underscore-Entity&#95;between&#95;Text]]");
add("selser", "Single-line or multiline-comments can follow headings [2,4,3,1,0,4,[2],3]", "u9j9ywtzcjbawcdi\n\n==foo==\ndrrd423rrk1vpldi\n\n==bar==\n<!--c1-->z66d0aderf9lik9\n\n==nxo7we9vvk70t3xrbaz==<!--\nc2\nc3-->");
add("selser", "div with single-quoted attribute [2]", "qu686umowmw8kt9<div id='rock'>HTML rocks</div>");
add("selser", "div with unquoted attribute [2]", "pmr3ap5nlf7833di<div id=rock>HTML rocks</div>");
add("selser", "div with illegal double attributes [2]", "ux9aplu6dksdobt9<div id=\"a\" id=\"b\">HTML rocks</div>");
add("selser", "div with empty attribute value, space before equals [2]", "atspk6wrqu2fbt9<div class =>HTML rocks</div>");
add("selser", "div with multiple empty attribute values [2]", "p93h8sy5ajaif6r<div id= title=>HTML rocks</div>");
add("selser", "table with multiple empty attribute values [[0,[3,0]]]", "{| title= id=\n\n|}");
add("selser", "table with multiple empty attribute values [2]", "wwxmra6xzz146lxr\n{| title= id=\n| hi\n|}");
add("selser", "table with multiple empty attribute values [[0,[1,2]]]", "{| title= id=\n| hi<!--brr78m9h7xyzm2t9-->\n|}");
add("selser", "table with multiple empty attribute values [[0,[[2],4]]]", "{| title= id=\n|5ypmucf58060f6r\n| hi<!--uc3sgd94ff9u23xr-->\n|}");
add("selser", "HTML multiple attributes correction [2]", "w1pqe1dx8ko9lik9<p class=\"error\" class=\"awesome\">Awesome!</p>");
add("selser", "Table multiple attributes correction [2]", "youym9yoyb8adcxr\n{|\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [1]", "{| data-foobar=\"z3k0ztwllao72e29\"\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[0,2]]", "{|\n<!--659x00mqf8b8olxr-->!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[0,[1,3]]]", "{|\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[4,1]]", "{|<!--hp0nnumivla6ecdi-->\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[3,2]]", "{|<!--42sj7fkd0anpzaor-->\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "Table multiple attributes correction [[0,[2,0]]]", "k6lgk37x5g0hpvi\n{|\n!+ class=\"error\" class=\"awesome\"| status\n|}");
add("selser", "DIV IN UPPERCASE [2]", "qcqx475zv4c2fbt9<DIV ID=\"x\">HTML ROCKS</DIV>");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div 5", "[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [2,[1],1]", "ql7zctd0dv1v2t9\n\n[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=\"display:none\">[[Media:Foobar.jpg|\" onmouseover=\"alert(document.cookie)\" onfoo=\"]]</div>\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [1,[1],0]", "[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=\"display:none\">[[Media:Foobar.jpg|\" onmouseover=\"alert(document.cookie)\" onfoo=\"]]</div>\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [2,[[4]],0]", "jg6jhgvdqmklz0k9\n\n[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=display:none>[[Media:Foobar.jpg|gtc1zvgs9tokzkt9]]</div>\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [2,4,0]", "pguukls32x4j9k9\n\n[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]\n\nawo8tk1vr71fw29\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [2,[1],2]", "jw59thhdhz3yp66r\n\n[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=\"display:none\">[[Media:Foobar.jpg|\" onmouseover=\"alert(document.cookie)\" onfoo=\"]]</div>bxx0c7axqqqto6r\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [1,[4],1]", "[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=\"display:none\">674u10fzvdrnewmi</div>\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [4,0,2]", "q9o9d8ew6qykqpvi<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>un5fgflj204cmcxr\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [0,[4],0]", "[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=\"display:none\">d6a1v0js6x14te29</div>\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [4,[[2]],4]", "ig9wmqo0ywcm1jor<div style=display:none>[[Media:Foobar.jpg|v4el0aeewhp06bt9\" onmouseover=\"alert(document.cookie)\" onfoo=\"]]</div>7x71i316j6yzm2t9\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [2,[3],4]", "ncro4kzyhekzw7b9\n\n[[Media:Foobar.jpg|Safe Link<div style=display:none>\" onmouseover=\"alert(document.cookie)\" onfoo=\"</div>]]<div style=\"display:none\"></div>ei0c4uma58iod2t9\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [4,[[4]],2]", "llkcjibk3p11nhfr<div style=display:none>[[Media:Foobar.jpg|yloj9mawp8f72e29]]</div>0n34sg9gakm7k3xr\n");
add("selser", "Media link with nasty text\nfixme: doBlockLevels won't wrap this in a paragraph because it contains a div [4,[[4]],0]", "qqa5m72qby4uc8fr<div style=display:none>[[Media:Foobar.jpg|wcsfmi5tu4bo6r]]</div>\n");
add("selser", "Empty attribute crash test single-quotes (bug 2067) [1]", "<font color=''>foo</font>");
add("selser", "Empty attribute crash test single-quotes (bug 2067) [2]", "5kxneyilny2gwrk9\n\n<font color=''>foo</font>");
add("selser", "Empty attribute crash test single-quotes (bug 2067) [[2]]", "3338p71nnksrwwmi<font color=''>foo</font>");
add("selser", "Attribute test: equals, then nothing [1]", "<font color=>foo</font>");
add("selser", "Attribute test: equals, then nothing [[2]]", "87im60tsjjrlik9<font color=>foo</font>");
add("selser", "Attribute test: equals, then nothing [2]", "gvgrthbhrdlsor\n\n<font color=>foo</font>");
add("selser", "Attribute test: unquoted value [2]", "vl44x5rpkeyzxgvi\n\n<font color=x>foo</font>");
add("selser", "Attribute test: unquoted value [1]", "<font color=x>foo</font>");
add("selser", "Attribute test: unquoted value [[2]]", "v4v69fplnyfa8aor<font color=x>foo</font>");
add("selser", "Attribute test: unquoted but illegal value (hash) [[2]]", "auncq77bb1olayvi<font color=#x>foo</font>");
add("selser", "Attribute test: unquoted but illegal value (hash) [1]", "<font color=#x>foo</font>");
add("selser", "Attribute test: unquoted but illegal value (hash) [2]", "fj79gsc42q82rzfr\n\n<font color=#x>foo</font>");
add("selser", "Attribute test: no value [1]", "<font color>foo</font>");
add("selser", "Attribute test: no value [2]", "rt4a2sjdnqzlrf6r\n\n<font color>foo</font>");
add("selser", "Attribute test: no value [[2]]", "gas3vh1q0an0cnmi<font color>foo</font>");
add("selser", "Bug 2095: link with pipe and three closing brackets, version 2 [1]", "[[Main Page|[http://example.com/]]]");
add("selser", "Bug 2095: link with pipe and three closing brackets, version 2 [2]", "mfl7xqc4xioa8aor\n\n[[Main Page|[http://example.com/]]]");
add("selser", "Bug 2095: link with pipe and three closing brackets, version 2 [[2]]", "h4wq9ivlle1xlxr[[Main Page|[http://example.com/]]]");
add("selser", "Opera -o-link CSS [2]", "s1oe4611wh035wmi<div\ntitle=\"&#100;&#97;&#116;&#97;&#58;&#116;&#101;&#120;&#116;&#47;&#104;&#116;&#109;&#108;&#44;&#60;&#105;&#109;&#103;&#32;&#115;&#114;&#99;&#61;&#49;&#32;&#111;&#110;&#101;&#114;&#114;&#111;&#114;&#61;&#97;&#108;&#101;&#114;&#116;&#40;&#49;&#41;&#62;\"\nstyle=\"-o-link:attr(title);-o-link-source:current\">X</div>");
add("selser", "Table attribute legitimate extension [[0,1]]", "{|\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute legitimate extension [[0,[1,4]]]", "{|\n!+ style=\"<nowiki>color:blue</nowiki>\"| status<!--96xa8rclnmblc8fr-->\n|}");
add("selser", "Table attribute legitimate extension [2]", "ttlfw8y9so9wwmi\n{|\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute legitimate extension [[3,2]]", "{|<!--aj1x9jx74cjif6r-->\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute legitimate extension [1]", "{| data-foobar=\"ub4bg317e10v0a4i\"\n!+ style=\"<nowiki>color:blue</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[4,1]]", "{|<!--12z3y8xniki96bt9-->\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[4,[0,2]]]", "{|<!--7gxbdcr5xko6r-->\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status<!--iq35z1foh53zncdi-->\n|}");
add("selser", "Table attribute safety [[3,2]]", "{|<!--1bcrn3xejw7e3ik9-->\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [1]", "{| data-foobar=\"na1gz9i5gxlgnwmi\"\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [2]", "zwfo2kxs5fa5g66r\n{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,2]]", "{|\n<!--8o73uov10ad1jor-->!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,[2,0]]]", "hopuq8owdrv8to6r\n{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,[0,3]]]", "{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status\n|}");
add("selser", "Table attribute safety [[0,[1,2]]]", "{|\n!+ style=\"<nowiki>border-width:expression(0+alert(document.cookie))</nowiki>\"| status<!--skyjeiq2kwr0be29-->\n|}");
add("selser", "Sanitizer: Closing of closed but not open tags 5", "");
add("selser", "Sanitizer: Closing of closed but not open table tags 5", "Table not started");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[2,0,2]]", "<div itemscope=\"\">1tq4nuxaexcu9pb9\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\nkcbq6pis8m2t9\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [2]", "rcydl379jopkqpvi<div itemscope>\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[0,0,4]]", "<div itemscope=\"\">\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\new3jgq2guzhncdi</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[0,[2],0]]", "<div itemscope>\n\tx3hbyea8xovtpgb9<nowiki><meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\"></nowiki>\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [1]", "<div itemscope=\"\" data-foobar=\"q8adwgvp6owjc3di\">\n\t<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[2,2,0]]", "<div itemscope=\"\">tphlnpjbn019k9\n\tzfr328x4l016pqfr\n<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[3,0,4]]", "<div itemscope=\"\">\n<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\naqpwsr7leatyy14i</div>");
add("selser", "Sanitizer: Validating that <meta> and <link> work, but only for Microdata [[0,2,0]]", "<div itemscope=\"\">\n\tq21hg5f5s2kxzuxr\n<meta itemprop=\"hello\" content=\"world\">\n\t<meta http-equiv=\"refresh\" content=\"5\">\n\t<meta itemprop=\"hello\" http-equiv=\"refresh\" content=\"5\">\n\t<link itemprop=\"hello\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" href=\"{{SERVER}}\">\n\t<link rel=\"stylesheet\" itemprop=\"hello\" href=\"{{SERVER}}\">\n</div>");
add("selser", "HTML bullet list, closed tags (bug 5497) [[0,0,4,[2],3]]", "<ul>\n<li>One</li><li>ab23ovep569io1or</li><li>02xr3ap2i2euq5miTwo</li>\n</ul>");
add("selser", "HTML nested bullet list, closed tags (bug 5497) [[3,3,4,[0,1,4],3]]", "<ul><li>wabcsvv43khb0529</li><li>Two:\n<ul data-foobar=\"eza5cfmfpbucv7vi\">\n<li>Sub-one</li>\n<li>Sub-two</li>\n</ul>veusxfr3k57b9</li>\n</ul>");
add("selser", "HTML nested bullet list, open tags (bug 5497) [[4,[3],2,[0,4],3]]", "<ul><li>x7e4pzqkzu2fbt9</li><li><li>zz9wcy7ovlipy14i</li>\n<li>Two:\nz6aoj185m56ogvi\n\n</ul>");
add("selser", "HTML nested ordered list, closed tags (bug 5497) [[2,1,4,[0,4,3],3]]", "<ol><li>xkvf7lec17wg66r</li>\n<li data-foobar=\"lsd14sl7dm927qfr\">One</li><li>czwfizqug7vz33di</li><li>Two:\nu30q3qpwbmswz5mi\n</li>\n</ol>");
add("selser", "Fuzz testing: Parser13 [2]", "whfwe630sy8pvi\n{| \n| http://a|");
add("selser", "Fuzz testing: Parser13 [[0,[[1]]]]", "{|  \n| data-foobar=\"bz304nhr12359udi\" | http://a||}");
add("selser", "Fuzz testing: Parser13 [1]", "{| data-foobar=\"k83lm0w7lheyiudi\"  \n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[2,2]]", "{|  <!--ot0k5hk2dibe29-->\n<!--ddndi7e9wtlkrzfr-->| http://a||}");
add("selser", "Fuzz testing: Parser13 [[4,2]]", "{|  <!--5r0vu1d4d02akyb9--><!--kgfqc1jnmjyh9f6r-->\n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[0,1]]", "{|  \n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[0,2]]", "{|  \n<!--aox6m05qx79icnmi-->| http://a||}");
add("selser", "Fuzz testing: Parser13 [[0,[1]]]", "{|  \n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[2,[[1]]]]", "{|  <!--k7dytmk4x4fpf1or-->\n| data-foobar=\"6eljtbwlg39dx6r\" | http://a||}");
add("selser", "Fuzz testing: Parser13 [[4,[1]]]", "{|  <!--bc5lt7d97qcwhfr-->\n| http://a||}");
add("selser", "Fuzz testing: Parser13 [[2,[[[4,2]]]]]", "{|  <!--fk6xcjz25vc84cxr-->\n|vg3mb5k49pvw8kt90uv1ti9ejcg6tj4i<nowiki/>http://a||}");
add("selser", "Fuzz testing: Parser14-table [1,0,0]", "==a==\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [4,4,0]", "u98ofogyawwb3xr\n\ntty3c40hu0gujtt9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [0,2,0]", "==a==\nu14a8f95rx8q6w29\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [4,0,0]", "afphpney2yj2x1or\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [1,0,2]", "==a==\n7kxiqxzt62tbuik9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [[3],0,0]", "==<nowiki/>==\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [3,0,0]", "\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [1,2,2]", "==a==\n52mwmg7whwnopqfr\njcno0pgai63zbyb9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [2,4,2]", "rcgqzcdc9d7k3xr\n\n==a==\nj4upxmk17deljtt9\n\nbb7usbd2xkdibe29\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [4,0,2]", "ev7gujtc4pdjkyb9\n0alush5m76re8kt9\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [[2],3,0]", "==dez3bpht0ds7cik9a==\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [2,4,0]", "vgfhscuh77t4kj4i\n\n==a==\n9gtez3md9rhk6gvi\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser14-table [0,4,0]", "==a==\n9gdll0uf79orbe29\n{| STYLE=__TOC__");
add("selser", "Fuzz testing: Parser16 [2]", "s2rd5a1yeoim5cdi\n{|\n!https://||||||");
add("selser", "Fuzz testing: Parser16 [[0,[[0,2,0,0]]]]", "{|\n!https://\n!3vnog20h7550o1or|||||||}");
add("selser", "Fuzz testing: Parser16 [[0,[[3,4,0,0]]]]", "{|\n!mn06fxy5uvbfn7b9|||||}");
add("selser", "Fuzz testing: Parser16 [[3,2]]", "{|<!--4qmpsasspil4bo6r-->\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[0,1]]", "{|\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[0,[[1,1,1,0]]]]", "{|\n! data-foobar=\"zu74dq5r4l5wmi\" |https://|| data-foobar=\"at9q2rxpkvivbo6r\" ||| data-foobar=\"knfvnx3swhppsyvi\" ||||}");
add("selser", "Fuzz testing: Parser16 [[0,[[0,2,4,2]]]]", "{|\n!https://\n!yojby2s147usdcxr||\n!v7e4oycgqkqehfr\n!k6xurl8iqpz257b9|||}");
add("selser", "Fuzz testing: Parser16 [1]", "{| data-foobar=\"rwdbutcm2hbprpb9\"\n!https://|||||||}");
add("selser", "Fuzz testing: Parser16 [[2,[1]]]", "{|<!--qd4b7r8tzb79cnmi-->\n!https://|||||||}");
add("selser", "Fuzz testing: Parser21 [[2,2]]", "{|<!--fqbthlkw80cf2yb9-->\n<!--5e3ophtbp1jg7gb9-->! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [1]", "{| data-foobar=\"kaeydswgfnxnipb9\"\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[3,[1]]]", "{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[0,[[[0,2,0],0,0]]]]", "{|\n! 6ro52eq6kkzf47vi<nowiki/>irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[2,[[3,0,0]]]]", "{|<!--91khydnxj2it3xr-->\n\n||}");
add("selser", "Fuzz testing: Parser21 [[0,[[[4,[4],0],0,0]]]]", "{|\n!1z6izy471osf9a4i<nowiki/>[irc://{{ftp://a 35m7cjzb2mrhpvi]\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [2]", "k8ttddjg2wxez5mi\n{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n|");
add("selser", "Fuzz testing: Parser21 [[0,[2]]]", "s2ilax302x6o5hfr\n{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n|");
add("selser", "Fuzz testing: Parser21 [[0,[[[2,1,2],4,1]]]]", "{|\n!7wl5fvufhdaq0k9 irc://{{ftp://a<nowiki/>bhnjk55ovtvuz0k9\" onmouseover=\"alert('hello world');\"\n!7wmp05ki8ophw7b9\n| data-foobar=\"1y26x0gu7tbotj4i\" ||}");
add("selser", "Fuzz testing: Parser21 [[3,[[2,0,0]]]]", "{|\n|bsnckhcoibai3sor\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser21 [[3,1]]", "{|\n! irc://{{ftp://a\" onmouseover=\"alert('hello world');\"\n||}");
add("selser", "Fuzz testing: Parser22 [[4],0,0]", "c1ceikq8lljqyqfr\n\n{|");
add("selser", "Fuzz testing: Parser22 [1,2,2]", "http://===r:::https://b\n\n7qw282utupi4quxr\n\nvrc74r6wmw8kt9\n{|");
add("selser", "Fuzz testing: Parser22 [1,3,0]", "http://===r:::https://b\n{|");
add("selser", "Fuzz testing: Parser22 [[1],0,0]", "http://===r:::https://b\n\n{|");
add("selser", "Fuzz testing: Parser22 [[[3]],0,0]", "[http://===r:::https://b]\n\n{|");
add("selser", "Fuzz testing: Parser22 [2,0,0]", "on5h3k2vm927qfr\n\nhttp://===r:::https://b\n\n{|");
add("selser", "Fuzz testing: Parser22 [3,2,2]", "lbrxp9m2enlv7vi\n\nmgpod3a4a9aa714i\n{|");
add("selser", "Fuzz testing: Parser22 [[4],0,2]", "1l587lsuf8aj1yvi\n\n4rx1j0v8ag7gb9\n{|");
add("selser", "Fuzz testing: Parser22 [[2],0,0]", "dif45ehb6ex0qkt9<nowiki/>http://===r:::https://b\n\n{|");
add("selser", "Fuzz testing: Parser22 [[1],4,2]", "http://===r:::https://b\n\nptlivvbl2mg3nmi\n\noxiqusjba1wqm2t9\n{|");
add("selser", "Fuzz testing: Parser22 [3,0,0]", "\n{|");
add("selser", "Fuzz testing: Parser22 [1,0,2]", "http://===r:::https://b\n\n3ql477um4peyu8fr\n{|");
add("selser", "Fuzz testing: Parser24 [[0,2,0],3,2]", "{{{g6r38jevgd37hkt9|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\n7yitay7jtsjdcxr\n{|\n{{{|\n<u CLASS=\n| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}} >\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n|");
add("selser", "Fuzz testing: Parser24 [[[4],3,0],0,[0,3]]", "<nowiki>aosym28xh3ibpgb9</nowiki><u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />{|\n\n|}");
add("selser", "Fuzz testing: Parser24 [[4,0,0],0,[4,[1]]]", "11sr1z4igrvpwrk9|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />{|<!--smnv2ch56iy919k9-->\n||}");
add("selser", "Fuzz testing: Parser24 [3,2,4]", "u39lbr4wb5ptlnmi\n\n\n\nng2zinxre265hfr\n");
add("selser", "Fuzz testing: Parser24 [[[3],0,0],2,3]", "<nowiki></nowiki>|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\naruqvd6sv8bvgqfr\n\n\n");
add("selser", "Fuzz testing: Parser24 [4,4,[2,1]]", "u2mgcfdhu9d7k3xr\n\nt2gfu2pam7vi\n{|<!--wl9sr7uggvjf9a4i-->\n\n||}");
add("selser", "Fuzz testing: Parser24 [[3,0,0],0,1]", "|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />{| data-foobar=\"gvuyg42a70y3c8fr\"\n\n||}");
add("selser", "Fuzz testing: Parser24 [2,4,[0,2]]", "zp55fn0uhjrio1or\n\n\n\nbywvnpoau9za1yvi\n{|\n\n<!--zezekrjhlor2uik9-->||}");
add("selser", "Fuzz testing: Parser24 [0,2,0]", "\n\n78ok5mnhx8icz0k9\n\n{|\n{{{|\n<u CLASS=\n| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}} >\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n|");
add("selser", "Fuzz testing: Parser24 [[1,0,0],0,3]", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n");
add("selser", "Fuzz testing: Parser24 [1,2,[0,[3]]]", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\n2ee2y1k6jblkrzfr\n\n{|\n\n|}");
add("selser", "Fuzz testing: Parser24 [[2,4,0],0,3]", "2h96h5bmgi2lz0k9{{{7nrcllfxlygmn29<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n");
add("selser", "Fuzz testing: Parser24 [[1,2,0],2,3]", "{{{6xvikssdmi4zehfr|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nwvwpzfhipqqfflxr\n\n\n");
add("selser", "Fuzz testing: Parser24 [[1,2,0],0,4]", "{{{sk3rl6utosgojemi|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\n\n\njzny1t7i47mygb9\n");
add("selser", "Fuzz testing: Parser24 [1,1,2]", "{{{|\n<u class=\"|\" {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}}>\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n\nwo1ljwyi3jlzbyb9\n{|\n{{{|\n<u CLASS=\n| {{{{SSSll!!!!!!!VVVV)]]][[Special:*xxxxxxx--><noinclude>}}}} >\n<br style=\"onmouseover='alert(document.cookie);' \" />\n\nMOVE YOUR MOUSE CURSOR OVER THIS TEXT\n|");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,2]", "{{{\n| \n<LI CLASS=||\n >\n}}}zstgbb6nw6nr8uxr\n\nblah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,1]", "{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[2,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}4rrl98ny5zgaxlxrblah\" onmouseover=\"alert('hello world');\" align=\"left\"8i02syp6jkbj4i'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[3,0]]", "{{{\n| \n<LI CLASS=||\n >\n}}}'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[0,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}blah\" onmouseover=\"alert('hello world');\" align=\"left\"1y1dswlzouu40a4i'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[3,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}4kaxzxt0lciejyvi'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[4,2]]", "{{{\n| \n<LI CLASS=||\n >\n}}}xfilnfj1id89qkt9ugf2zkqtlng3c8fr'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[4,0]]", "{{{\n| \n<LI CLASS=||\n >\n}}}l2alwbk8ifab57b9'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Fuzz testing: Parser25 (bug 6055) [0,[2,0]]", "{{{\n| \n<LI CLASS=||\n >\n}}}ltl4kyjnfvoq1tt9blah\" onmouseover=\"alert('hello world');\" align=\"left\"'''MOVE MOUSE CURSOR OVER HERE");
add("selser", "Inline wiki vs wiki block nesting [2,0,1]", "y31p21pdfplgcik9\n\n'''Bold paragraph\n\nNew wiki paragraph");
add("selser", "Inline wiki vs wiki block nesting [1,3,[3]]", "'''Bold paragraph\n");
add("selser", "Inline wiki vs wiki block nesting [0,0,4]", "'''Bold paragraph\n\n1vaanv1vlmtb7qfr\n");
add("selser", "Inline wiki vs wiki block nesting [0,3,[4]]", "'''Bold paragraph\n\n9vm0nhnt86mt2o6r");
add("selser", "Inline wiki vs wiki block nesting [[2],4,2]", "gak5ppv6gqc6usor'''Bold paragraph\n\ny928724y2vi5p14i\n\nlh30qxid5s1c3di\n\nNew wiki paragraph");
add("selser", "Inline wiki vs wiki block nesting [0,0,2]", "'''Bold paragraph\n\na0b7wmk2l10s5rk9\n\nNew wiki paragraph");
add("selser", "Mixing markup for italics and bold [1]", "'<nowiki/>''bold''''''bold''bolditalics'''''");
add("selser", "Mixing markup for italics and bold [2]", "sype68ertrsbgldi\n\n'''bold''''''bold''bolditalics'''''");
add("selser", "Mixing markup for italics and bold [[0,0,[4,[4]]]]", "'<nowiki/>''bold''''''ofte4w4zkeh77gb9''xbrpnwqlrllerk9'''''");
add("selser", "Mixing markup for italics and bold [[0,2,1]]", "'7hmry58pm8to6r''bold''''''bold''bolditalics'''''");
add("selser", "Section extraction, <pre> around bogus header (bug 10309) [[2],2,[3],3,0,0,2]", "==0mqyujy54j1qbyb9 Section One ==\nyzn329uexnp3z0k9\n<pre></pre>\n\n== Section Two ==\nppzttjn4r8gp66r\n\nstuff");
add("selser", "Handling of &#x0A; in URLs [[[2]]]", "*a1yhylbtfjgrdx6r\n* irc://&#x0A;a");
add("selser", "Handling of &#x0A; in URLs [[[[2]]]]", "** 0r68g30euvbfn7b9\n* irc://&#x0A;a");
add("selser", "Handling of &#x0A; in URLs [[[1]]]", "* irc://&#x0A;a");
add("selser", "Handling of &#x0A; in URLs [[1]]", "* irc://&#x0A;a");
add("selser", "Handling of %0A in URLs [[1]]", "* irc://%0Aa");
add("selser", "Handling of %0A in URLs [[[1]]]", "* irc://%0Aa");
add("selser", "Handling of %0A in URLs [[[2]]]", "*evt41yj7atoz85mi\n* irc://%0Aa");
add("selser", "Gallery with wikitext inside caption [2]", "y0vqwy9gw73f2yb9<gallery>\nFile:foobar.jpg|[[File:foobar.jpg|20px|desc|alt=inneralt]]|alt=galleryalt\nFile:foobar.jpg|{{Test|unamedParam|alt=param}}|alt=galleryalt\n</gallery>");
add("selser", "ISBN code coverage [2]", "v9jyhulo7jnka9k9\n\nISBN  978-0-1234-56&#x20;789");
add("selser", "ISBN code coverage [1]", "ISBN  978-0-1234-56&#x20;789");
add("selser", "ISBN code coverage [[0,0,3]]", "ISBN  978-0-1234-56&#x20;\n");
add("selser", "ISBN code coverage [[0,0,4]]", "ISBN  978-0-1234-56&#x20;zehty9qfs8umcxr");
add("selser", "ISBN code coverage [[2,0,4]]", "r17ittrbn6mbzkt9ISBN  978-0-1234-56&#x20;dpf8ccpk587aatt9");
add("selser", "ISBN code coverage [[2,0,0]]", "hak6gyichz2jfw29ISBN  978-0-1234-56&#x20;789");
add("selser", "RFC code coverage [2]", "zf4sabjzeusaif6r\n\nRFC   983&#x20;987");
add("selser", "RFC code coverage [[2,0,0]]", "3m8l2kyc9uanhfrRFC   983&#x20;987");
add("selser", "RFC code coverage [1]", "RFC   983&#x20;987");
add("selser", "RFC code coverage [[0,0,3]]", "RFC   983&#x20;\n");
add("selser", "RFC code coverage [[0,0,4]]", "RFC   983&#x20;ry0mhh5cy0fkzkt9");
add("selser", "RFC code coverage [[2,0,2]]", "8rmi32979htfn7b9RFC   983&#x20;4i0lf243q1j4te29987");
add("selser", "Image with page parameter [2]", "t1gktsrwi7iizfr\n\n[[File:LoremIpsum.djvu|page=2]]");
add("selser", "Image with page parameter [1]", "[[File:LoremIpsum.djvu|page=2]]");
add("selser", "dt/dd/dl test [[1]]", ";;;::");
add("selser", "dt/dd/dl test [[[1]]]", ";;;::");
add("selser", "dt/dd/dl test [[[[[1]]]]]", ";;::");
add("selser", "dt/dd/dl test [[[[[[2]]]]]]", ":;: l3tvh33w0r2lz0k9\n;;::");
add("selser", "dt/dd/dl test [[[[1]]]]", ";;::");
add("selser", "dt/dd/dl test [[[2]]]", ":t3wvyu6l6aoo5hfr\n;;;::");
add("selser", "Don't fall for the self-closing div [2]", "03k36yoyy20jatt9<div>hello world</div/>");
add("selser", "Parsing of overlapping (improperly nested) inline html tags [2]", "y9cin9njblr6n7b9\n\n<span><s>x</span></s>");
add("selser", "Don't break table handling if language converter markup is in the cell. [2]", "ixer2na9oirudi\n{|\n|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[4,2]]", "{|<!--g1hlzg5fl3hrrudi--><!--x4cqrou87inyu8fr-->\n|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [1]", "{| data-foobar=\"ihw5lexd32uzncdi\"\n|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[4,[[4,0],0]]]", "{|<!--nuhfaguqghc9pb9-->\n|-\n|9qyto9ifqjsxxbt9\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[0,2]]", "{|\n<!--11c9cgnqpuys0pb9-->|-\n| -{R|B}-\n|}");
add("selser", "Don't break table handling if language converter markup is in the cell. [[0,1]]", "{|\n|-\n| -{R|B}-\n|}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[3]]],0]]", "**{{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[1,0]]", "****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[2,0]]", "* wzen8urjy55qaor\n******* Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [1]", "******* Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[1]]]],0]]", "**** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[4]]],0]]", "**1cf14jtvh392j4i{{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [2]", "vc74xk9rv4qb0529\n******* Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[[[1]]]]]],0]]", "*** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[2],0]]", "*vkl4nqq6z9kvs4i\n****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[1],0]]", "****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[1]],0]]", "***** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[3]]]],0]]", "***{{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[2]],0]]", "** y0slrsmmchjxxbt9\n****** Foo {{bullet}}");
add("selser", "Bug 529: Uncovered bullet leaving empty list, normally removed by tidy [[[[[[[4]]]]],0]]", "***u5i7s9pdlw8w7b9{{bullet}}");
add("selser", "preload: check that it doesn't try to do tricks [[2]]", "* didei13ahu0afw29\n* <!-- Hello --> ''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [2]", "zkok5psclsnbqpvi\n* <!-- Hello --> ''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[4,0,0,1,4,0,3,4,0]]]", "*k6hkq40t99ysyvi<!-- Hello --> ''{{world}}''376wfwnsdhdxi529<includeonly>subst:</includeonly>49qrqx77b28iwwmi{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[2,0,0,4,0,4,0,3,0]]]", "*g54t5fk8giepnwmi <!-- Hello --> w66ayreu0vsra4i <nowiki>{{</nowiki>an4uep1sq6m3g14i{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,0,0,4,0,0,3,2,0]]]", "* <!-- Hello --> vejp9wbf8lx47vi <nowiki>{{</nowiki><includeonly>subst:</includeonly>sfulu9sikvs4iHow are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[4,3,2,0,0,4,0,4,0]]]", "*yo6p3q51vk95p14iil518g5qwctvgqfr ''{{world}}'' <nowiki>{{</nowiki>1mnziwrywsmoyldi4xv9w5emba4kuik9{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [1]", "* <!-- Hello --> ''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,0,4,0,0,0,0,0,0]]]", "* <!-- Hello -->u0xjgmx399all3di''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,0,0,2,0,1,0,2,0]]]", "* <!-- Hello --> n3v0l97htr7o80k9''{{world}}'' {{<includeonly>subst:</includeonly>9nppcb5ko6xenrk9How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[3,0,0,2,2,0,0,0,0]]]", "*<!-- Hello --> 67qjj5r4mrkke29''{{world}}''7xfyiutud3877gb9 <nowiki>{{</nowiki><includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,4,0,3,3,1,4,0,0]]]", "* 4kr28ty89a0xusor <includeonly>subst:</includeonly>u75y05y4e6s10pb9How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,4,0,2,0,2,4,0,0]]]", "* wqmpo0o441qt1emi 1g2tpa7dklslwhfr''{{world}}'' <nowiki>{{</nowiki>a56fhm13oi02uik9<includeonly>subst:</includeonly>t2zug3kbnz3hm2t9How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,2,2,0,3,3,3,0,0]]]", "* 7kybfjc13eo03sor<!-- Hello -->4iqqbqibzrxjemi ''{{world}}''How are you<nowiki>}}</nowiki>{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[0,4,0,3,4,0,2,4,0]]]", "* bbaih410grpb9 twqfn0vri135l8fr<includeonly>subst:</includeonly>u7u93iafefxn7b9cdztl2lzvspuv7vi{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[2,4,2,3,0,2,1,4,0]]]", "*3y24zstipddvx6r qyowjr330i9t3xrhff2tego6oiara4i  <nowiki>{{</nowiki>dl79askga48qto6r<includeonly>subst:</includeonly>6bo8cka47ms1nhfr{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "preload: check that it doesn't try to do tricks [[[4,0,3,1,0,0,0,0,0]]]", "*n536pnspuae89f6r<!-- Hello -->''{{world}}'' {{<includeonly>subst:</includeonly>How are you}}{{ {{{|safesubst:}}} #if:1|2|3}}");
add("selser", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links [2]", "l0v2g46g9ipgy14i\n\n[http://www.example.org/　ideograms]");
add("selser", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links [1]", "[http://www.example.org/　ideograms]");
add("selser", "Bug 19052 U+3000 IDEOGRAPHIC SPACE should terminate bracketed external links [[2]]", "ersk3465d2rtqpvi[http://www.example.org/　ideograms]");
add("selser", "Ignore pipe between table row attributes [1]", "{| data-foobar=\"ze7tc8bvfxls1yvi\"\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[0,1]]", "{|\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [2]", "j703hesqpiv34n29\n{|\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[2,2]]", "{|<!--gysjycu8q2maemi-->\n<!--rdn05ipccn7jsjor-->| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[4,2]]", "{|<!--zrj0ish0maolayvi--><!--1o8f2hvwotgzm2t9-->\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "Ignore pipe between table row attributes [[3,2]]", "{|<!--x3a9rrvp5j98uxr-->\n| quux\n|- id=foo | style='color: red'\n| bar\n|}");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [[[3]],[0,3],2,3,2]", "'''<nowiki/>'''[[File:Foobar.jpg|thumb]]gpuywo0dphmy4x6r\n\nbar'''\n\nv7rqnkkwp08gp66r<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [3,[0,3],2,0,0]", "[[File:Foobar.jpg|thumb]]mgvf4y6f1qj2lnmi\n\nbar'''\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [2,[0,[[4]]],1,4,4]", "nbm7dqil1qrm5cdi\n\n'''foo[[File:Foobar.jpg|thumb|'''e5p5chd4qz146lxr''']]bar'''\n\ni26h6on3jway8pvi\n\n73on9iauy9v5z5mi\n");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [[3],[0,[[3]]],[2],0,2]", "[[File:Foobar.jpg|thumb|'''<nowiki/>''']]gii0n1i5lylm1jorbar'''\n\nbsrfvgwb36iozuxr<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [1,[0,[[2]]],[[3]],0,0]", "'''foo[[File:Foobar.jpg|thumb|'''5j4eft7x8tr19k9caption''']]'''<nowiki/>'''\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [4,0,3,0,0]", "zunzpvcxzt5oecdi[[File:Foobar.jpg|thumb|caption]]\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [4,[0,[2]],0,4,0]", "y2iogodcz9gm0a4i[[File:Foobar.jpg|thumb|rnu2k32wjpmbo6r'''caption''']]bar'''\n\noajbawfj10chxgvi<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [[4],[0,1],2,3,0]", "eq34aibst8ykqpvi[[File:Foobar.jpg|thumb|'''caption''']]utd8leraqm3ivn29\n\nbar'''<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [0,[0,[4]],2,3,0]", "'''foo[[File:Foobar.jpg|thumb|8yxxa441j74on7b9]]0mjirqofaohqto6r\n\nbar'''<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [3,[0,2],1,0,0]", "[[File:Foobar.jpg|thumb|'''caption''']]bar'''\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [0,[0,[[4]]],0,2,0]", "'''foo[[File:Foobar.jpg|thumb|'''a7yqhlnuuc70hpvi''']]bar'''\n\neloa4ddm1l40a4i\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [[2],[0,[[2]]],[[4]],0,0]", "c3ni0z76g9sbgldi'''foo[[File:Foobar.jpg|thumb|'''2uhn3ww6jr307ldicaption''']]'''sa6ptugggq0ssjor'''\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [[3],0,[1],0,4]", "[[File:Foobar.jpg|thumb|caption]]'''bar'''\n\nily87fh4z6nipb9\n");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [4,[0,1],2,0,0]", "ns2t3vre6xjn61or[[File:Foobar.jpg|thumb|'''caption''']]ett722e3n2162yb9\n\nbar'''\n\n<small>[[Image:Foobar.jpg|right|300px]]</small>");
add("selser", "2. Bad treebuilder fixup of formatting elt is cleaned up [1,[0,[2]],[1],0,3]", "'''foo[[File:Foobar.jpg|thumb|3nwdrc96evrvygb9'''caption''']]'''bar'''\n");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,2,0,3,0]]", "A <ref name=\"x\">foo</ref>4e761xuztftlz0k9\nB <ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,2,0]]", "A <ref name=\"x\">foo</ref>3w7ovsl9a3fk1emi<ref name=\" x \" />0ge9uw9zjpk6s9k9\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,3,0,0,0]]", "A <ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,3,0,3,0]]", "9bipqi2pwdi2uik9<ref name=\"x\">foo</ref><ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [2]", "ygeccjbn41fez5mi\n\nA <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,4,0,0,0]]", "<ref name=\"x\">foo</ref>2mkm6z95yrx561or<ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [1]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,2,0,0,0]]", "bsstrf4asth5b3xr<ref name=\"x\">foo</ref>ykhvrcwh9cc8fr\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[2,0,0,0,0,0]]", "w0g5031j8wr8uxrA <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,3,0,0,0]]", "<ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,3,0]]", "A <ref name=\"x\">foo</ref>h81b8wtpyjznz5mi<ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,0,0,3,0]]", "9b0gpvrxsxetgldi<ref name=\"x\">foo</ref>\nB <ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,0,0]]", "A <ref name=\"x\">foo</ref>1i7un9k3kza4te29<ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,0,0,3,0]]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" /><ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,2,0,0,0]]", "<ref name=\"x\">foo</ref>old27zbnsf7uv7vi\nB <ref name=\" x \" />\nC <ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,3,0,4,0]]", "A <ref name=\"x\">foo</ref><ref name=\" x \" />waf2vtqqnxjyk3xr<ref name= x  />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,0,0,4,0]]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />gzf0q2rm80hehfr<ref name= x  />");
add("selser", "Ref: 5. body should accept generic wikitext [0,2,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\ndwm4quuvdsjg7gb9\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[2,0],0,0]", "64pys175oa90be29A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[2,0],4,0]", "4jyox5aerj05dn29A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\ne8ivhnmx87uy2e29<references />");
add("selser", "Ref: 5. body should accept generic wikitext [2,3,0]", "qoeqwnbmi3qjv2t9\n\nA <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref><references />");
add("selser", "Ref: 5. body should accept generic wikitext [1,0,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [1,2,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n6gjpondmwn67ds4i\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [0,3,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref><references />");
add("selser", "Ref: 5. body should accept generic wikitext [2,0,0]", "38rn8yqn23hdj9k9\n\nA <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[4,0],0,0]", "779fr59c6rey7gb9<ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[3,0],0,0]", "<ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("selser", "Ref: 5. body should accept generic wikitext [0,4,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\nwcpd1emtigtu766r<references />");
add("selser", "Ref: 5. body should accept generic wikitext [[3,0],3,0]", "<ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref><references />");
add("selser", "Ref: 5. body should accept generic wikitext [1,4,0]", "A <ref>\n This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\nopb6dbabhj0grpb9<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[3,0],2,0]", "<ref>\n foo\n bar\n baz\n</ref>\n\nc9yzes7c4y3hxgvi\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[3,0],0,0]", "<ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[4,0],0,0]", "d39shok49xw7y14i<ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[2,0],3,0]", "csno6hudm6kihpviA <ref>\n foo\n bar\n baz\n</ref><references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [1,0,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [1,4,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n2covjp6eq4ghw7b9<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [2,2,0]", "toqw7sfzxluwhfr\n\nA <ref>\n foo\n bar\n baz\n</ref>\n\naxhh0g58eel8fr\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [0,4,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n76w3qizpu7jpp66r<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[4,0],2,0]", "eq3p1jsy2j8257b9<ref>\n foo\n bar\n baz\n</ref>\n\ncf0j98xgr3f5stt9\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [0,3,0]", "A <ref>\n foo\n bar\n baz\n</ref><references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[2,0],2,0]", "34ay886hc1ve7b9A <ref>\n foo\n bar\n baz\n</ref>\n\n4vfupz59fgw7mn29\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [2,3,0]", "vbah6nejqryynwmi\n\nA <ref>\n foo\n bar\n baz\n</ref><references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [1,2,0]", "A <ref>\n foo\n bar\n baz\n</ref>\n\n2k397n91ucakmx6r\n\n<references />");
add("selser", "Ref: 6. indent-pres should not be output in ref-body [[2,0],0,0]", "auk5t95qxlohto6rA <ref>\n foo\n bar\n baz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [2,4,0]", "izih4ttja0mgqfr\n\nA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\neh3q28gvbmxwdn29<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [1,0,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [2,0,0]", "n1ye9use3rn0o1or\n\nA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[4,0],3,0]", "0begyf0zmdo39pb9<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref><references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [0,4,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\nm971mm3izn83q5mi<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [2,3,0]", "4i848j6u4m67p66r\n\nA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref><references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [1,4,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\ng3njijxqqqto6r<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [0,2,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n6r812mhuxe6ogvi\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[4,0],0,0]", "huu8lpo8ozn3tyb9<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[3,0],0,0]", "<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [1,3,0]", "A <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref><references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[2,0],4,0]", "34x1kftp6cg14iA <ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\ngoqdfok6qfvzehfr<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[4,0],4,0]", "tewmryhpf1bxogvi<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref>\n\n287sw295wn17zaor<references />");
add("selser", "Ref: 7. No p-wrapping in ref-body [[3,0],3,0]", "<ref>\nfoo\n\nbar\n\n\nbaz\n\n\n\nbooz\n</ref><references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[3,0,0,[2]],0,0]", "<ref> foo {{echo|</ref> B C<nowiki>cuv87u78i1kyb9}}</nowiki>\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,3,0]", "A <ref> foo {{echo|</ref> B C}}<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,1],0,0]", "A <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,2,1],3,0]", "A <ref> foo {{echo|</ref>5nkeu8bfbog06bt9 B C}}<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,[2]],4,0]", "A <ref> foo {{echo|</ref> B C<nowiki>4906wuz1hhjs8aor}}</nowiki>\n\nfc744f1ddc5zh0k9<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,2],2,0]", "A <ref> foo {{echo|</ref> B Cdhgm17wf65abgldi}}\n\nt5h5r7w3j9vn29\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,0,0],0,0]", "0xr2nac5pztwqaorA <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,4,0],2,0]", "8xs9gemyg9nc23xrA <ref> foo {{echo|</ref>klhu6j5nxparwwmi}}\n\nr2b4j4rnlba9k9\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,0,4],2,0]", "A <ref> foo {{echo|</ref> B Cvdm4ccld6aq3erk9\n\nk7nw1kt1jaotuik9\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,4,0]", "A <ref> foo {{echo|</ref> B C}}\n\n7na9u57xsprb2o6r<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [1,0,0]", "A <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[3,0,0,2],0,0]", "<ref> foo {{echo|</ref> B Cfhyq1oah4n9daemi}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,2,2],0,0]", "839ue3zrnclbx1or<ref> foo {{echo|</ref>5k7094p8ve4gqfr B Cslg3e0w3bb5ljtt9}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [2,0,0]", "ny3t8o4lcg39dx6r\n\nA <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,0,1],3,0]", "3zedmyrzf9don7b9A <ref> foo {{echo|</ref> B C}}<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,4,4],0,0]", "A <ref> foo {{echo|</ref>yv1uetyp3ynqxgvibep2v1t3tyugzaor\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,2,4],2,0]", "5967hka94mrkke29<ref> foo {{echo|</ref>4xuj8pifdagrdx6r B Cs0j38kel7db1emi\n\nzyoazm0bqyrv0a4i\n\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [2,3,0]", "lxg9r6yz398xs9k9\n\nA <ref> foo <!--</ref> B C<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,0],4,0]", "ecjktuor793eg66r<ref> foo <!--</ref> B C\n\n8lwxeybnzep9o1or<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,4],3,0]", "A <ref> foo <!--</ref>5f3nac1cbffde7b9<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],2,0]", "3sn4sc1vqm7snhfrA <ref> foo <!--</ref> B C\n\nj5o46pvlyk6s9k9\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [1,0,0]", "A <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],0,0]", "fxia64zp12d42t9A <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,4],2,0]", "aei2lcuxrhmbcsor<ref> foo <!--</ref>k5nyzytzaku1h5mi\n\nqu8eu2zt56s10pb9\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[3,0,4],0,0]", "<ref> foo <!--</ref>55o1bbjyxmvx6r\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [1,2,0]", "A <ref> foo <!--</ref> B C\n\nrlw7cay5yyom9529\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],4,0]", "ysaumnz4fngkfbt9A <ref> foo <!--</ref> B C\n\nucdijondgarwwmi<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,0],3,0]", "wmhvz6tz5y8vkj4i<ref> foo <!--</ref> B C<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [2,0,0]", "lzt3civaqy77rpb9\n\nA <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,2],0,0]", "A <ref> foo <!--</ref>55lkdsrn1f9zr529 B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[3,0,3],4,0]", "<ref> foo <!--</ref>\n\nxa1yt1f2tgnidx6r<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,4],2,0]", "A <ref> foo <!--</ref>wim2nyc23kxogvi\n\nrbgc74z9xnhzolxr\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [1,3,0]", "A <ref> <b> foo </ref> B C<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [1,2,0]", "A <ref> <b> foo </ref> B C\n\n8ti6tkep9xnoecdi\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [2,0,0]", "kzo8v6bg4gta9k9\n\nA <ref> <b> foo </ref> B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[3,0,2],0,0]", "<ref> <b> foo </ref>enf22pahtanstt9 B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [2,3,0]", "ma3w6h5kt4q85mi\n\nA <ref> <b> foo </ref> B C<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[2,0,0],0,0]", "b50jt91ydnobhuxrA <ref> <b> foo </ref> B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[4,0,2],0,0]", "56flbe81qh44e7b9<ref> <b> foo </ref>0eubdxha4ldqjjor B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[0,0,2],0,0]", "A <ref> <b> foo </ref>2v2ffbsrhae2ke29 B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[3,0,4],0,0]", "<ref> <b> foo </ref>7pj1lrw5fsnstt9\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[4,0,0],0,0]", "fud0zu1kw6d2t9<ref> <b> foo </ref> B C\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [0,3,0]", "A <ref> <b> foo </ref> B C<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[2,0,0],2,0]", "3i2udpyjqgehr529A <ref> <b> foo </ref> B C\n\n04ufs7jtgivsra4i\n\n<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [0,4,0]", "A <ref> <b> foo </ref> B C\n\nexksatqzwpgsc3di<references />");
add("selser", "Ref: 10. Unclosed HTML tags should not leak out of ref-body [[0,0,4],3,0]", "A <ref> <b> foo </ref>3ds74snl9wly2e29<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[2,0,4,0],0,0]", "0dpatm9gsbqk6gvi1 <ref name=\"a & b\">foo</ref>k0yidhh5u2b21emi<ref name=\"a &amp; b\" />\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [2,0,0]", "zmmmjlha7xim5cdi\n\n1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" />\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [1,0,0]", "1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" />\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[3,0,2,0],0,0]", "<ref name=\"a & b\">foo</ref>4xwpzmnvwlqy3nmi 2 <ref name=\"a &amp; b\" />\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[4,0,0,0],3,0]", "7i0zzbh4nhdm42t9<ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" /><references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[2,0,0,0],0,0]", "hjhp2d26mvqs38fr1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" />\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[4,0,4,0],3,0]", "zd9k828z9kiysyvi<ref name=\"a & b\">foo</ref>q33pirp3a9yhkt9<ref name=\"a &amp; b\" /><references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [1,4,0]", "1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" />\n\n8k7rhm4hx2a3v7vi<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[0,0,2,0],4,0]", "1 <ref name=\"a & b\">foo</ref>23hldhtd8azfflxr 2 <ref name=\"a &amp; b\" />\n\nemqs1xn2p292uik9<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [2,2,0]", "xggq2fn27fxq1tt9\n\n1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" />\n\na8895s490fnu3di\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[0,0,2,0],2,0]", "1 <ref name=\"a & b\">foo</ref>68etayk44yhqia4i 2 <ref name=\"a &amp; b\" />\n\njzslhat3ryrjm7vi\n\n<references />");
add("selser", "Ref: 19. ref-tags with identical name encodings should get identical indexes [[2,0,0,0],4,0]", "uon9m0ns960f6r1 <ref name=\"a & b\">foo</ref> 2 <ref name=\"a &amp; b\" />\n\njhjx2ypla5v4e7b9<references />");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [3,2,0]", "in8j4tbs99qz1tt9\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [4,3,0]", "meym79sw6mv7k3xr<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [4,2,0]", "pelj4uzr3bs2a9k9\n\nu67k5swfctk2o6r\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [0,4,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n9gvlpsnwcr7ctyb9<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,4,0],2,0]", "A <ref name=\"a\" />f2bltv6f7vkuik9<ref name=\"b\">bar</ref>\n\nqgma8vw3ztr19k9\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,4,0],0,0]", "A <ref name=\"a\" />8agyu1dos8bedn29<ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [1,0,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[4,0,2,0],3,0]", "agaxo99gru48to6r<ref name=\"a\" />eauxw4qefh9qkt9\nB <ref name=\"b\">bar</ref><references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [2,0,0]", "rqvtw2dhokc323xr\n\nA <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,4,0],3,0]", "A <ref name=\"a\" />au9ros1y1gs3jtt9<ref name=\"b\">bar</ref><references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,2,0],3,0]", "A <ref name=\"a\" />m4fi5czzigvz33di\nB <ref name=\"b\">bar</ref><references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[0,0,3,0],0,0]", "A <ref name=\"a\" /><ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [2,2,0]", "v24kh9xqwj24kj4i\n\nA <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n3cfszzxowmjf9a4i\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[2,0,0,0],0,0]", "3veeem4hy9j2a9k9A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [1,3,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref><references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [[4,0,0,0],3,0]", "0sq4bz7lihehfr<ref name=\"a\" />\nB <ref name=\"b\">bar</ref><references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [4,4,0]", "lfl5lazff7irizfr\n\nt2vlo1j32ipjsjor<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [3,4,0]", "nuwpe9pypyb3ayvi<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "References: 5. ref tags in references should be processed while ignoring all other content [0,2,0]", "A <ref name=\"a\" />\nB <ref name=\"b\">bar</ref>\n\nky16pugtafywrk9\n\n<references>\n<ref name=\"a\">foo</ref>\nThis should just get lost.\n</references>");
add("selser", "Entities in ref name [2]", "72oie2a08o69wwmi\n\n<ref name=\"test &amp; me\">hi</ref>");
add("selser", "Entities in ref name [1]", "<ref name=\"test &amp; me\">hi</ref>");
add("selser", "Headings: 5. Empty headings [[2],3,2,0,4,4,0,2,1,3,0]", "=hnjo2713bjvjwcdi<nowiki/>=\nx2d05yq3dapaxlxr\n\n==<nowiki/>==\n\nkaovt9si227ta9k9\n\nb2688fvzpaocrf6r\n\n====<nowiki/>====\nljshl952j0emte29\n\n=====<nowiki/>=====\n\n======<nowiki/>======");
add("selser", "Headings: 6a. Heading chars in SOL context (with trailing spaces) [4,0,1,0,4,4,[2],3]", "o4fu7yz6zedvlsor\n\n<nowiki>=a=</nowiki> \n\nfzi337zwgfmbzkt9\n\nrziif3qr3rspp66r\n\nzm9kz709iqpsnhfr<nowiki>=a=</nowiki> \t");
add("selser", "1a. Quotes inside <b> and <i> [[0,0,[[2]],0,[3],4,0,2,0,1,0,[[3]],3,[[3]],2,4,0,0,0,0,0,0,[3],0,3,2,1,4,[4],0,4,1,0,2,2,0,[3],3,4,[2,0],0,2,0,1,4,3,3,0,4]]", "''<nowiki/>'foo'''\n''<nowiki>1e9muev8ss5g66r''foo''</nowiki>''\n''<nowiki/>''4d5ycsl2y8kw3ik9''foo''aupv0np9y23dte29<nowiki/>'s\n'''<nowiki/>'foo''''\n'''<nowiki></nowiki><nowiki></nowiki>'''7v99l2g58uf8ncdi\nt25xhsjezsxuhaor\n'''foo'''<nowiki/>'s\n'''foo''\n''<nowiki/>''<nowiki/>4jfax21zqk273nmi''foo'''<nowiki/>4cjse042djk8olxr''uuxn7j5hunlsdcxr''<nowiki/>gxsdwksxmc5zh0k9'''foo'''\nebmq8hwo94yousor'''foo'''8vbmckzt1zg58kt9<nowiki/>'\n''''<nowiki/>'''uvlpop77khtihpvi''8bzt3z0trdwh4cxrfools'<span> errand</span>''\n4ni438wzhzsvpldi''<span>fool</span>'s errand''\n'<nowiki/>457s295v8krtqpvi\na|!*#-:;+-~[]{}b'itx2quuq6dqb0529\n");
add("selser", "HTML tag with broken attribute value quoting [1]", "<span title=\"Hello world>Foo</span>");
add("selser", "HTML tag with broken attribute value quoting [2]", "zlkpme7jgj76tj4i\n\n<span title=\"Hello world>Foo</span>");
add("selser", "HTML tag with broken attribute value quoting [[2]]", "19ydfukj49zoajor<span title=\"Hello world>Foo</span>");
add("selser", "Parsoid-only: HTML tag with broken attribute value quoting [1]", "<span title=\"Hello world>Foo</span>");
add("selser", "Parsoid-only: HTML tag with broken attribute value quoting [2]", "xn02lqvi91603sor\n\n<span title=\"Hello world>Foo</span>");
add("selser", "Parsoid-only: HTML tag with broken attribute value quoting [[2]]", "wqj1jgwdq3680k9<span title=\"Hello world>Foo</span>");
add("selser", "Table with broken attribute value quoting [2]", "mr20rqhubuwstt9\n{|\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,[2,0]]]", "ntjtaez0pi0h33di\n{|\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[4,1]]", "{|<!--aai5lsutuhht1emi-->\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,1]]", "{|\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [1]", "{| data-foobar=\"pa0vp357jvr0ms4i\"\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,[[2],0]]]", "{|\n|wf125xn56rhsq0k9\n| title=\"Hello world|Foo\n|}");
add("selser", "Table with broken attribute value quoting [[0,[[2],2]]]", "{|\n|cp6e2iwuotkjra4i\n| title=\"Hello world|Foo<!--ndtyo6dy2iou5wmi-->\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[3,2]]", "{|<!--e45oiux5ebmg3nmi-->\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [1]", "{| data-foobar=\"r285ew8on06yldi\"\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[0,[1,0]]]", "{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [2]", "g4iu5aji4bwqaor\n{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[0,1]]", "{|\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[4,[[[3],0,0],0]]]", "{|<!--xx6pmaat1ma0dx6r-->\n| title=\"Hello world\" |\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[4,[[1,0,0],0]]]", "{|<!--nejaqckt9hmbcsor-->\n| title=\"Hello world\" data-foobar=\"bumvfdcvrbhme7b9\" |Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[4,2]]", "{|<!--7wm4bxgh5f0w9udi--><!--xv1dekuqzsiw9udi-->\n| title=\"Hello world|Foo\n| style=\"color:red|Bar\n|}");
add("selser", "Table with broken attribute value quoting on consecutive lines [[0,[[2,0,3],3]]]", "{|\n|fk1rjyjbpej6ecdi\n| title=\"Hello world|Foo\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [1]", "{| data-foobar=\"pjc22ppvxsn3766r\"\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,2]]", "{|\n<!--jqwe4sxcvdqxs9k9-->|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[0,3]]]", "{|\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[0,4]]]", "{|\n|- [[foo]]<!--t2u9971ezmj6pqfr-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,1]]", "{|\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [2]", "zpuyqbdlibj1nhfr\n{|\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[4,[0,2]]]", "{|<!--72wprvcrqcsxajor-->\n|- [[foo]]<!--fo1qvsdgv3xtuik9-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[4,2]]", "{|<!--j8hwklray6ekx1or--><!--p7v1guykesl9pb9-->\n|- [[foo]]\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[0,[0,2]]]", "{|\n|- [[foo]]<!--qyiayk5wxhn9izfr-->\n|}");
add("selser", "RT-ed inter-element separators should be valid separators [[4,0]]", "{|<!--a467voa6hewdygb9-->\n|- [[foo]]\n|}");
add("selser", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out [2,4,2]", "oxcq39cyuk07wrk9\n{|\n|<small>foo\nbar\n|}\nbtnbac04guj46lxr\n\ni10ii39io6hqto6r\n{|\n|<small>foo<small>\n|}");
add("selser", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out [[0,[[1],4]],3,[0,[[[[4,0]]],0]]]", "{|\n| data-foobar=\"6esm1j2nehup7gb9\" |<small>foo\nbar<!--t9z6766d6n06yldi-->\n|}\n{|\n|<small>4j0561nruz19vn29<small>\n|}");
add("selser", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out [2,0,3]", "zx1dph1o9tpam7vi\n{|\n|<small>foo\nbar\n|}\n");
add("selser", "Trailing newlines in a deep dom-subtree that ends a wikitext line should be migrated out [2,0,[2,[2,0]]]", "i90l9omchljl9pb9\n{|\n|<small>foo\nbar\n|}\n\n14v0774pz99hpvi\n{|<!--aly77j0vv46de7b9-->\n|<small>foo<small>\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [1]", "{| data-foobar=\"jgkmcix8xedsra4i\"\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [2]", "r7gp18ucnccsdcxr\n{|\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,[[2,0,0,0],0]]]", "{|\n|-\n|1a4bk95i0u9885mi\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,[[0,4,0,0],3]]]", "{|\n|-\n|jnrkr7jn4o14te29\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,[1,4]]]", "{|\n|- data-foobar=\"0532xsqruk32fbt9\"\n|\n|{{echo|style='color:red'}}|foo<!--tn18t2s8bb6b6gvi-->\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,2]]", "{|\n<!--anfn90dygsvbcsor-->|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,2]]", "{|<!--3z7wqf2lpjdlhaor--><!--c7w2sjrg7jozjjor-->\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[0,1]]", "{|\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[3,[[0,2,0,0],0]]]", "{|\n|-\n|t1833l938cq2rzfr\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[3,[[4,0,0,0],4]]]", "{|\n|-\n|9vflhnc8lefgk3xr\n|\n|{{echo|style='color:red'}}|foo<!--w612epsbwkf8yqfr-->\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,[[0,0,4,0],0]]]", "{|<!--rjnlnc8a6rvbo6r-->\n|-\n|\n|gmtx9nekb777rpb9\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Empty TD followed by TD with tpl-generated attribute [[4,1]]", "{|<!--sedhsf2n5lhoxbt9-->\n|-\n|\n|{{echo|style='color:red'}}|foo\n|}");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[0,2],2,0,1,2]]", "<span> aq2vwpb6wpqr529<s>x</span>hse4dnwv1jor </s>\n''' ''x'''4i8mmhfpdj84zpvi ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [1]", "<span> <s>x</span> </s>\n''' ''x''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[0,1,2,[0,2],0]]", "<span> <s>x</span> </s>l1n5yssmn9q3q5mi\n''' 8n4q6nzuib68byb9''x''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,[4],4,0,3]]", "gxqrla3gf9vhd7vi</s>3komtxorsccmobt9''' ''x'''\n");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [2]", "w13s9iorezt49529\n\n<span> <s>x</span> </s>\n''' ''x''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[1,4,2,2,3]]", "<span data-foobar=\"geissfhlrgsexw29\"> <s>x</span>ekui1pysh7kz9f6rtz3yg13acmlhaor\n0dzjx04e0eyx2yb9''' ''x'''\n");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[2,[4]],3,0,[0,4],0]]", "<span>ai65b12c016pqfr <s>k8xyu6adyimjkyb9</span>\n''' 70t7ju15bjll3di''' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[3,1],4,3,2,1]]", "<span><s data-foobar=\"yujoodxazklf2yb9\">x</span>g5x4jefy4tmlsorj9qqbu42v12lnmi''' ''x'''<nowiki/>'' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[0,2],[3],0,3,0]]", "<span> fv4h62f72no8ncdi<s>x</span></s>\n ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,2,0,[3,2],4]]", "ulumx746u2vp9zfr </s>\n'''h2vjgubjh4wvcxr''x'''v1lll28j1b7c766r");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,0,4,3,0]]", " </s>x6kyvk2giu73c8fr ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[1,3,0,2,1]]", "<span data-foobar=\"y8ap084xozqnz5mi\"> <s>x</span>\no3kjpkzbf9od2t9''' ''x'''<nowiki/>'' ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[3,4,4,0,2]]", "zspuuqxabmtmlsorhu9yn80lmnm6lxr''' ''x'''f278nrkbehwu3di ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[0,3],[3],0,3,0]]", "<span> </span></s>\n ''");
add("selser", "Improperly nested inline or quotes tags with whitespace in between [[[2,1],[3],3,[0,3],0]]", "<span>i9p8te7ufdmquxr <s data-foobar=\"xoximjgruc95dn29\">x</span></s>''' ''' ''");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [0,4,[2,[[4],2]]]", "\n\neyvglbq1wiykfbt9<table><!--yjj7q4l8vy22o6r-->\n<tr><td>c2kzihajh6oxyldi</td><!--u6dd8p15d8guv7vi-->\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [1,3,[2,[[4],3]]]", "<nowiki> || ||</nowiki><table><!--07pdt8u7nxvcmcxr-->\n<tr><td>w6cuullrqw0wl8fr</td>\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [3,2,2]", "r7yvmnw0lwstt9\njvym2daxe28adcxr<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [3,2,1]", "mk36x4nnqo7p66r\n<table data-foobar=\"j76ebe3ig8u59udi\">\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [0,3,[2,2]]", "<table><!--20ybuhlylvnjc3di-->\n<!--ia2m4awxfye97ldi--><tr><td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [0,3,[4,4]]", "<table><!--7u0an54r0gdgqfr--><!--2brxlofgz5cj714i--></table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [2,3,3]", "swmghyjbym3u9pb9\n\n\n");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [0,4,4]", "\n\n6ouscimmanvobt9\n\nyr9z5asll86hto6r\n");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [[4],2,2]", "g0k0ox4y9rs8m2t9\n\nzfw5uw1rihn0zfr\nojh26njo5gq4cxr<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [2,0,[3,[[4],0]]]", "l6hjltfxsxy1fw29\n\n\n<table><tr><td>hfey4impislfecdi</td>\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [0,3,4]", "\n\n9k078dwzmb6e0zfr\n");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [[3],0,2]", "\n79u7w8mk0qyc766r<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [0,0,2]", "\n17g7ad7yjq1zia4i<table>\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [1,0,1]", "<nowiki> || ||</nowiki>\n<table data-foobar=\"734xmyt3rp5jyvi\">\n<tr> || ||\n<td> a\n</table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [2,0,[0,3]]", "z8xg0t8oxy8k6gvi\n\n\n<table></table>");
add("selser", "2. Ensure fostered text content is wrapped in element nodes (traps regressions around fostered marker on the element getting lost) [2,2,[2,[3,2]]]", "4p9b5ylwp6gpsyvi\n\n\n\n52u735k3ah96n7b9\n<table><!--u4n4phdgngffxbt9-->\n<!--ox538fcmtef2bj4i-->\n</table>");
add("selser", "Table in fosterable position 5", "{{OpenTable}}\n<div>\n{|\n|}\n");

// ### DO NOT REMOVE THIS LINE ### (end of automatically-generated section)


if (typeof module === 'object') {
	module.exports.testBlackList = testBlackList;
}
